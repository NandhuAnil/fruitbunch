(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function t(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(l){if(l.ep)return;l.ep=!0;const h=t(l);fetch(l.href,h)}})();function Tb(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var mp={exports:{}},yu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function g2(){if(pv)return yu;pv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,l,h){var f=null;if(h!==void 0&&(f=""+h),l.key!==void 0&&(f=""+l.key),"key"in l){h={};for(var _ in l)_!=="key"&&(h[_]=l[_])}else h=l;return l=h.ref,{$$typeof:i,type:s,key:f,ref:l!==void 0?l:null,props:h}}return yu.Fragment=e,yu.jsx=t,yu.jsxs=t,yu}var gv;function y2(){return gv||(gv=1,mp.exports=g2()),mp.exports}var d=y2(),pp={exports:{}},Xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function _2(){if(yv)return Xe;yv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),N=Symbol.iterator;function I(k){return k===null||typeof k!="object"?null:(k=N&&k[N]||k["@@iterator"],typeof k=="function"?k:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,K={};function H(k,ae,_e){this.props=k,this.context=ae,this.refs=K,this.updater=_e||Z}H.prototype.isReactComponent={},H.prototype.setState=function(k,ae){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ae,"setState")},H.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function oe(){}oe.prototype=H.prototype;function le(k,ae,_e){this.props=k,this.context=ae,this.refs=K,this.updater=_e||Z}var ce=le.prototype=new oe;ce.constructor=le,U(ce,H.prototype),ce.isPureReactComponent=!0;var Ae=Array.isArray,xe={H:null,A:null,T:null,S:null,V:null},Ve=Object.prototype.hasOwnProperty;function F(k,ae,_e,ve,Ee,Ce){return _e=Ce.ref,{$$typeof:i,type:k,key:ae,ref:_e!==void 0?_e:null,props:Ce}}function O(k,ae){return F(k.type,ae,void 0,void 0,void 0,k.props)}function D(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function P(k){var ae={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(_e){return ae[_e]})}var M=/\/+/g;function q(k,ae){return typeof k=="object"&&k!==null&&k.key!=null?P(""+k.key):ae.toString(36)}function V(){}function He(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(V,V):(k.status="pending",k.then(function(ae){k.status==="pending"&&(k.status="fulfilled",k.value=ae)},function(ae){k.status==="pending"&&(k.status="rejected",k.reason=ae)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Oe(k,ae,_e,ve,Ee){var Ce=typeof k;(Ce==="undefined"||Ce==="boolean")&&(k=null);var we=!1;if(k===null)we=!0;else switch(Ce){case"bigint":case"string":case"number":we=!0;break;case"object":switch(k.$$typeof){case i:case e:we=!0;break;case E:return we=k._init,Oe(we(k._payload),ae,_e,ve,Ee)}}if(we)return Ee=Ee(k),we=ve===""?"."+q(k,0):ve,Ae(Ee)?(_e="",we!=null&&(_e=we.replace(M,"$&/")+"/"),Oe(Ee,ae,_e,"",function(si){return si})):Ee!=null&&(D(Ee)&&(Ee=O(Ee,_e+(Ee.key==null||k&&k.key===Ee.key?"":(""+Ee.key).replace(M,"$&/")+"/")+we)),ae.push(Ee)),1;we=0;var St=ve===""?".":ve+":";if(Ae(k))for(var it=0;it<k.length;it++)ve=k[it],Ce=St+q(ve,it),we+=Oe(ve,ae,_e,Ce,Ee);else if(it=I(k),typeof it=="function")for(k=it.call(k),it=0;!(ve=k.next()).done;)ve=ve.value,Ce=St+q(ve,it++),we+=Oe(ve,ae,_e,Ce,Ee);else if(Ce==="object"){if(typeof k.then=="function")return Oe(He(k),ae,_e,ve,Ee);throw ae=String(k),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return we}function Y(k,ae,_e){if(k==null)return k;var ve=[],Ee=0;return Oe(k,ve,"","",function(Ce){return ae.call(_e,Ce,Ee++)}),ve}function me(k){if(k._status===-1){var ae=k._result;ae=ae(),ae.then(function(_e){(k._status===0||k._status===-1)&&(k._status=1,k._result=_e)},function(_e){(k._status===0||k._status===-1)&&(k._status=2,k._result=_e)}),k._status===-1&&(k._status=0,k._result=ae)}if(k._status===1)return k._result.default;throw k._result}var he=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function ke(){}return Xe.Children={map:Y,forEach:function(k,ae,_e){Y(k,function(){ae.apply(this,arguments)},_e)},count:function(k){var ae=0;return Y(k,function(){ae++}),ae},toArray:function(k){return Y(k,function(ae){return ae})||[]},only:function(k){if(!D(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Xe.Component=H,Xe.Fragment=t,Xe.Profiler=l,Xe.PureComponent=le,Xe.StrictMode=s,Xe.Suspense=v,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=xe,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(k){return xe.H.useMemoCache(k)}},Xe.cache=function(k){return function(){return k.apply(null,arguments)}},Xe.cloneElement=function(k,ae,_e){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ve=U({},k.props),Ee=k.key,Ce=void 0;if(ae!=null)for(we in ae.ref!==void 0&&(Ce=void 0),ae.key!==void 0&&(Ee=""+ae.key),ae)!Ve.call(ae,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ae.ref===void 0||(ve[we]=ae[we]);var we=arguments.length-2;if(we===1)ve.children=_e;else if(1<we){for(var St=Array(we),it=0;it<we;it++)St[it]=arguments[it+2];ve.children=St}return F(k.type,Ee,void 0,void 0,Ce,ve)},Xe.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:h,_context:k},k},Xe.createElement=function(k,ae,_e){var ve,Ee={},Ce=null;if(ae!=null)for(ve in ae.key!==void 0&&(Ce=""+ae.key),ae)Ve.call(ae,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(Ee[ve]=ae[ve]);var we=arguments.length-2;if(we===1)Ee.children=_e;else if(1<we){for(var St=Array(we),it=0;it<we;it++)St[it]=arguments[it+2];Ee.children=St}if(k&&k.defaultProps)for(ve in we=k.defaultProps,we)Ee[ve]===void 0&&(Ee[ve]=we[ve]);return F(k,Ce,void 0,void 0,null,Ee)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(k){return{$$typeof:_,render:k}},Xe.isValidElement=D,Xe.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:me}},Xe.memo=function(k,ae){return{$$typeof:b,type:k,compare:ae===void 0?null:ae}},Xe.startTransition=function(k){var ae=xe.T,_e={};xe.T=_e;try{var ve=k(),Ee=xe.S;Ee!==null&&Ee(_e,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(ke,he)}catch(Ce){he(Ce)}finally{xe.T=ae}},Xe.unstable_useCacheRefresh=function(){return xe.H.useCacheRefresh()},Xe.use=function(k){return xe.H.use(k)},Xe.useActionState=function(k,ae,_e){return xe.H.useActionState(k,ae,_e)},Xe.useCallback=function(k,ae){return xe.H.useCallback(k,ae)},Xe.useContext=function(k){return xe.H.useContext(k)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(k,ae){return xe.H.useDeferredValue(k,ae)},Xe.useEffect=function(k,ae,_e){var ve=xe.H;if(typeof _e=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ve.useEffect(k,ae)},Xe.useId=function(){return xe.H.useId()},Xe.useImperativeHandle=function(k,ae,_e){return xe.H.useImperativeHandle(k,ae,_e)},Xe.useInsertionEffect=function(k,ae){return xe.H.useInsertionEffect(k,ae)},Xe.useLayoutEffect=function(k,ae){return xe.H.useLayoutEffect(k,ae)},Xe.useMemo=function(k,ae){return xe.H.useMemo(k,ae)},Xe.useOptimistic=function(k,ae){return xe.H.useOptimistic(k,ae)},Xe.useReducer=function(k,ae,_e){return xe.H.useReducer(k,ae,_e)},Xe.useRef=function(k){return xe.H.useRef(k)},Xe.useState=function(k){return xe.H.useState(k)},Xe.useSyncExternalStore=function(k,ae,_e){return xe.H.useSyncExternalStore(k,ae,_e)},Xe.useTransition=function(){return xe.H.useTransition()},Xe.version="19.1.1",Xe}var _v;function xg(){return _v||(_v=1,pp.exports=_2()),pp.exports}var G=xg();const Mp=Tb(G);var gp={exports:{}},_u={},yp={exports:{}},_p={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function v2(){return vv||(vv=1,(function(i){function e(Y,me){var he=Y.length;Y.push(me);e:for(;0<he;){var ke=he-1>>>1,k=Y[ke];if(0<l(k,me))Y[ke]=me,Y[he]=k,he=ke;else break e}}function t(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var me=Y[0],he=Y.pop();if(he!==me){Y[0]=he;e:for(var ke=0,k=Y.length,ae=k>>>1;ke<ae;){var _e=2*(ke+1)-1,ve=Y[_e],Ee=_e+1,Ce=Y[Ee];if(0>l(ve,he))Ee<k&&0>l(Ce,ve)?(Y[ke]=Ce,Y[Ee]=he,ke=Ee):(Y[ke]=ve,Y[_e]=he,ke=_e);else if(Ee<k&&0>l(Ce,he))Y[ke]=Ce,Y[Ee]=he,ke=Ee;else break e}}return me}function l(Y,me){var he=Y.sortIndex-me.sortIndex;return he!==0?he:Y.id-me.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;i.unstable_now=function(){return h.now()}}else{var f=Date,_=f.now();i.unstable_now=function(){return f.now()-_}}var v=[],b=[],E=1,N=null,I=3,Z=!1,U=!1,K=!1,H=!1,oe=typeof setTimeout=="function"?setTimeout:null,le=typeof clearTimeout=="function"?clearTimeout:null,ce=typeof setImmediate<"u"?setImmediate:null;function Ae(Y){for(var me=t(b);me!==null;){if(me.callback===null)s(b);else if(me.startTime<=Y)s(b),me.sortIndex=me.expirationTime,e(v,me);else break;me=t(b)}}function xe(Y){if(K=!1,Ae(Y),!U)if(t(v)!==null)U=!0,Ve||(Ve=!0,q());else{var me=t(b);me!==null&&Oe(xe,me.startTime-Y)}}var Ve=!1,F=-1,O=5,D=-1;function P(){return H?!0:!(i.unstable_now()-D<O)}function M(){if(H=!1,Ve){var Y=i.unstable_now();D=Y;var me=!0;try{e:{U=!1,K&&(K=!1,le(F),F=-1),Z=!0;var he=I;try{t:{for(Ae(Y),N=t(v);N!==null&&!(N.expirationTime>Y&&P());){var ke=N.callback;if(typeof ke=="function"){N.callback=null,I=N.priorityLevel;var k=ke(N.expirationTime<=Y);if(Y=i.unstable_now(),typeof k=="function"){N.callback=k,Ae(Y),me=!0;break t}N===t(v)&&s(v),Ae(Y)}else s(v);N=t(v)}if(N!==null)me=!0;else{var ae=t(b);ae!==null&&Oe(xe,ae.startTime-Y),me=!1}}break e}finally{N=null,I=he,Z=!1}me=void 0}}finally{me?q():Ve=!1}}}var q;if(typeof ce=="function")q=function(){ce(M)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,He=V.port2;V.port1.onmessage=M,q=function(){He.postMessage(null)}}else q=function(){oe(M,0)};function Oe(Y,me){F=oe(function(){Y(i.unstable_now())},me)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return I},i.unstable_next=function(Y){switch(I){case 1:case 2:case 3:var me=3;break;default:me=I}var he=I;I=me;try{return Y()}finally{I=he}},i.unstable_requestPaint=function(){H=!0},i.unstable_runWithPriority=function(Y,me){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var he=I;I=Y;try{return me()}finally{I=he}},i.unstable_scheduleCallback=function(Y,me,he){var ke=i.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?ke+he:ke):he=ke,Y){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=he+k,Y={id:E++,callback:me,priorityLevel:Y,startTime:he,expirationTime:k,sortIndex:-1},he>ke?(Y.sortIndex=he,e(b,Y),t(v)===null&&Y===t(b)&&(K?(le(F),F=-1):K=!0,Oe(xe,he-ke))):(Y.sortIndex=k,e(v,Y),U||Z||(U=!0,Ve||(Ve=!0,q()))),Y},i.unstable_shouldYield=P,i.unstable_wrapCallback=function(Y){var me=I;return function(){var he=I;I=me;try{return Y.apply(this,arguments)}finally{I=he}}}})(_p)),_p}var xv;function x2(){return xv||(xv=1,yp.exports=v2()),yp.exports}var vp={exports:{}},Mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function b2(){if(bv)return Mn;bv=1;var i=xg();function e(v){var b="https://react.dev/errors/"+v;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)b+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+v+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(v,b,E){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:N==null?null:""+N,children:v,containerInfo:b,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(v,b){if(v==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return Mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Mn.createPortal=function(v,b){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(e(299));return h(v,b,null,E)},Mn.flushSync=function(v){var b=f.T,E=s.p;try{if(f.T=null,s.p=2,v)return v()}finally{f.T=b,s.p=E,s.d.f()}},Mn.preconnect=function(v,b){typeof v=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,s.d.C(v,b))},Mn.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Mn.preinit=function(v,b){if(typeof v=="string"&&b&&typeof b.as=="string"){var E=b.as,N=_(E,b.crossOrigin),I=typeof b.integrity=="string"?b.integrity:void 0,Z=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;E==="style"?s.d.S(v,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:N,integrity:I,fetchPriority:Z}):E==="script"&&s.d.X(v,{crossOrigin:N,integrity:I,fetchPriority:Z,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},Mn.preinitModule=function(v,b){if(typeof v=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var E=_(b.as,b.crossOrigin);s.d.M(v,{crossOrigin:E,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&s.d.M(v)},Mn.preload=function(v,b){if(typeof v=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var E=b.as,N=_(E,b.crossOrigin);s.d.L(v,E,{crossOrigin:N,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},Mn.preloadModule=function(v,b){if(typeof v=="string")if(b){var E=_(b.as,b.crossOrigin);s.d.m(v,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:E,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else s.d.m(v)},Mn.requestFormReset=function(v){s.d.r(v)},Mn.unstable_batchedUpdates=function(v,b){return v(b)},Mn.useFormState=function(v,b,E){return f.H.useFormState(v,b,E)},Mn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Mn.version="19.1.1",Mn}var wv;function Sb(){if(wv)return vp.exports;wv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),vp.exports=b2(),vp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function w2(){if(Ev)return _u;Ev=1;var i=x2(),e=xg(),t=Sb();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function h(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function f(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function _(n){if(h(n)!==n)throw Error(s(188))}function v(n){var r=n.alternate;if(!r){if(r=h(n),r===null)throw Error(s(188));return r!==n?null:n}for(var o=n,u=r;;){var g=o.return;if(g===null)break;var y=g.alternate;if(y===null){if(u=g.return,u!==null){o=u;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===o)return _(g),n;if(y===u)return _(g),r;y=y.sibling}throw Error(s(188))}if(o.return!==u.return)o=g,u=y;else{for(var A=!1,R=g.child;R;){if(R===o){A=!0,o=g,u=y;break}if(R===u){A=!0,u=g,o=y;break}R=R.sibling}if(!A){for(R=y.child;R;){if(R===o){A=!0,o=y,u=g;break}if(R===u){A=!0,u=y,o=g;break}R=R.sibling}if(!A)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?n:r}function b(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=b(n),r!==null)return r;n=n.sibling}return null}var E=Object.assign,N=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),oe=Symbol.for("react.provider"),le=Symbol.for("react.consumer"),ce=Symbol.for("react.context"),Ae=Symbol.for("react.forward_ref"),xe=Symbol.for("react.suspense"),Ve=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function q(n){return n===null||typeof n!="object"?null:(n=M&&n[M]||n["@@iterator"],typeof n=="function"?n:null)}var V=Symbol.for("react.client.reference");function He(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===V?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case U:return"Fragment";case H:return"Profiler";case K:return"StrictMode";case xe:return"Suspense";case Ve:return"SuspenseList";case D:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case Z:return"Portal";case ce:return(n.displayName||"Context")+".Provider";case le:return(n._context.displayName||"Context")+".Consumer";case Ae:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case F:return r=n.displayName||null,r!==null?r:He(n.type)||"Memo";case O:r=n._payload,n=n._init;try{return He(n(r))}catch{}}return null}var Oe=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},ke=[],k=-1;function ae(n){return{current:n}}function _e(n){0>k||(n.current=ke[k],ke[k]=null,k--)}function ve(n,r){k++,ke[k]=n.current,n.current=r}var Ee=ae(null),Ce=ae(null),we=ae(null),St=ae(null);function it(n,r){switch(ve(we,r),ve(Ce,n),ve(Ee,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?H0(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=H0(r),n=q0(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}_e(Ee),ve(Ee,n)}function si(){_e(Ee),_e(Ce),_e(we)}function hs(n){n.memoizedState!==null&&ve(St,n);var r=Ee.current,o=q0(r,n.type);r!==o&&(ve(Ce,n),ve(Ee,o))}function Dr(n){Ce.current===n&&(_e(Ee),_e(Ce)),St.current===n&&(_e(St),du._currentValue=he)}var Fi=Object.prototype.hasOwnProperty,cr=i.unstable_scheduleCallback,ta=i.unstable_cancelCallback,sl=i.unstable_shouldYield,na=i.unstable_requestPaint,fn=i.unstable_now,ds=i.unstable_getCurrentPriorityLevel,Wt=i.unstable_ImmediatePriority,Kt=i.unstable_UserBlockingPriority,wi=i.unstable_NormalPriority,al=i.unstable_LowPriority,ia=i.unstable_IdlePriority,Rc=i.log,fs=i.unstable_setDisableYieldValue,Hi=null,sn=null;function qn(n){if(typeof Rc=="function"&&fs(n),sn&&typeof sn.setStrictMode=="function")try{sn.setStrictMode(Hi,n)}catch{}}var An=Math.clz32?Math.clz32:ll,ol=Math.log,fo=Math.LN2;function ll(n){return n>>>=0,n===0?32:31-(ol(n)/fo|0)|0}var Ei=256,qi=4194304;function ai(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function oi(n,r,o){var u=n.pendingLanes;if(u===0)return 0;var g=0,y=n.suspendedLanes,A=n.pingedLanes;n=n.warmLanes;var R=u&134217727;return R!==0?(u=R&~y,u!==0?g=ai(u):(A&=R,A!==0?g=ai(A):o||(o=R&~n,o!==0&&(g=ai(o))))):(R=u&~y,R!==0?g=ai(R):A!==0?g=ai(A):o||(o=u&~n,o!==0&&(g=ai(o)))),g===0?0:r!==0&&r!==g&&(r&y)===0&&(y=g&-g,o=r&-r,y>=o||y===32&&(o&4194048)!==0)?r:g}function li(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function ra(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mo(){var n=Ei;return Ei<<=1,(Ei&4194048)===0&&(Ei=256),n}function ur(){var n=qi;return qi<<=1,(qi&62914560)===0&&(qi=4194304),n}function ms(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function Lt(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function cl(n,r,o,u,g,y){var A=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var R=n.entanglements,B=n.expirationTimes,ee=n.hiddenUpdates;for(o=A&~o;0<o;){var ue=31-An(o),pe=1<<ue;R[ue]=0,B[ue]=-1;var te=ee[ue];if(te!==null)for(ee[ue]=null,ue=0;ue<te.length;ue++){var ie=te[ue];ie!==null&&(ie.lane&=-536870913)}o&=~pe}u!==0&&Mr(n,u,0),y!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=y&~(A&~r))}function Mr(n,r,o){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-An(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|o&4194090}function Vr(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var u=31-An(o),g=1<<u;g&r|n[u]&r&&(n[u]|=r),o&=~g}}function po(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function go(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function hr(){var n=me.p;return n!==0?n:(n=window.event,n===void 0?32:cv(n.type))}function yo(n,r){var o=me.p;try{return me.p=n,r()}finally{me.p=o}}var Gi=Math.random().toString(36).slice(2),Vt="__reactFiber$"+Gi,an="__reactProps$"+Gi,dr="__reactContainer$"+Gi,mn="__reactEvents$"+Gi,je="__reactListeners$"+Gi,ul="__reactHandles$"+Gi,ci="__reactResources$"+Gi,fr="__reactMarker$"+Gi;function ps(n){delete n[Vt],delete n[an],delete n[mn],delete n[je],delete n[ul]}function ui(n){var r=n[Vt];if(r)return r;for(var o=n.parentNode;o;){if(r=o[dr]||o[Vt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(n=K0(n);n!==null;){if(o=n[Vt])return o;n=K0(n)}return r}n=o,o=n.parentNode}return null}function Ti(n){if(n=n[Vt]||n[dr]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function Gn(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function mr(n){var r=n[ci];return r||(r=n[ci]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ut(n){n[fr]=!0}var hl=new Set,gs={};function Zi(n,r){Si(n,r),Si(n+"Capture",r)}function Si(n,r){for(gs[n]=r,n=0;n<r.length;n++)hl.add(r[n])}var ys=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zn={},sa={};function Ic(n){return Fi.call(sa,n)?!0:Fi.call(Zn,n)?!1:ys.test(n)?sa[n]=!0:(Zn[n]=!0,!1)}function _s(n,r,o){if(Ic(r))if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+o)}}function vs(n,r,o){if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+o)}}function hi(n,r,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(r,o,""+u)}}var pr,Wi;function Ki(n){if(pr===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);pr=r&&r[1]||"",Wi=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pr+n+Wi}var xs=!1;function Yi(n,r){if(!n||xs)return"";xs=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(ie){var te=ie}Reflect.construct(n,[],pe)}else{try{pe.call()}catch(ie){te=ie}n.call(pe.prototype)}}else{try{throw Error()}catch(ie){te=ie}(pe=n())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(ie){if(ie&&te&&typeof ie.stack=="string")return[ie.stack,te.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),A=y[0],R=y[1];if(A&&R){var B=A.split(`
`),ee=R.split(`
`);for(g=u=0;u<B.length&&!B[u].includes("DetermineComponentFrameRoot");)u++;for(;g<ee.length&&!ee[g].includes("DetermineComponentFrameRoot");)g++;if(u===B.length||g===ee.length)for(u=B.length-1,g=ee.length-1;1<=u&&0<=g&&B[u]!==ee[g];)g--;for(;1<=u&&0<=g;u--,g--)if(B[u]!==ee[g]){if(u!==1||g!==1)do if(u--,g--,0>g||B[u]!==ee[g]){var ue=`
`+B[u].replace(" at new "," at ");return n.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",n.displayName)),ue}while(1<=u&&0<=g);break}}}finally{xs=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Ki(o):""}function at(n){switch(n.tag){case 26:case 27:case 5:return Ki(n.type);case 16:return Ki("Lazy");case 13:return Ki("Suspense");case 19:return Ki("SuspenseList");case 0:case 15:return Yi(n.type,!1);case 11:return Yi(n.type.render,!1);case 1:return Yi(n.type,!0);case 31:return Ki("Activity");default:return""}}function ut(n){try{var r="";do r+=at(n),n=n.return;while(n);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function bt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Wn(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function di(n){var r=Wn(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),u=""+n[r];if(!n.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var g=o.get,y=o.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return g.call(this)},set:function(A){u=""+A,y.call(this,A)}}),Object.defineProperty(n,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(A){u=""+A},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function $i(n){n._valueTracker||(n._valueTracker=di(n))}function Ne(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return n&&(u=Wn(n)?n.checked?"true":"false":n.value),n=u,n!==o?(r.setValue(n),!0):!1}function yt(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var gr=/[\n"\\]/g;function zt(n){return n.replace(gr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function pn(n,r,o,u,g,y,A,R){n.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.type=A:n.removeAttribute("type"),r!=null?A==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+bt(r)):n.value!==""+bt(r)&&(n.value=""+bt(r)):A!=="submit"&&A!=="reset"||n.removeAttribute("value"),r!=null?Ur(n,A,bt(r)):o!=null?Ur(n,A,bt(o)):u!=null&&n.removeAttribute("value"),g==null&&y!=null&&(n.defaultChecked=!!y),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?n.name=""+bt(R):n.removeAttribute("name")}function _o(n,r,o,u,g,y,A,R){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),r!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||r!=null))return;o=o!=null?""+bt(o):"",r=r!=null?""+bt(r):o,R||r===n.value||(n.value=r),n.defaultValue=r}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=R?n.checked:!!u,n.defaultChecked=!!u,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(n.name=A)}function Ur(n,r,o){r==="number"&&yt(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Ln(n,r,o,u){if(n=n.options,r){r={};for(var g=0;g<o.length;g++)r["$"+o[g]]=!0;for(o=0;o<n.length;o++)g=r.hasOwnProperty("$"+n[o].value),n[o].selected!==g&&(n[o].selected=g),g&&u&&(n[o].defaultSelected=!0)}else{for(o=""+bt(o),r=null,g=0;g<n.length;g++){if(n[g].value===o){n[g].selected=!0,u&&(n[g].defaultSelected=!0);return}r!==null||n[g].disabled||(r=n[g])}r!==null&&(r.selected=!0)}}function jt(n,r,o){if(r!=null&&(r=""+bt(r),r!==n.value&&(n.value=r),o==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=o!=null?""+bt(o):""}function Qi(n,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(Oe(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=bt(r),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u)}function gn(n,r){if(r){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=r;return}}n.textContent=r}var Kn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bs(n,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,o):typeof o!="number"||o===0||Kn.has(r)?r==="float"?n.cssFloat=o:n[r]=(""+o).trim():n[r]=o+"px"}function yr(n,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var g in r)u=r[g],r.hasOwnProperty(g)&&o[g]!==u&&bs(n,g,u)}else for(var y in r)r.hasOwnProperty(y)&&bs(n,y,r[y])}function zr(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aa=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ws=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yn(n){return ws.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Es=null;function Br(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var _r=null,on=null;function dl(n){var r=Ti(n);if(r&&(n=r.stateNode)){var o=n[an]||null;e:switch(n=r.stateNode,r.type){case"input":if(pn(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+zt(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==n&&u.form===n.form){var g=u[an]||null;if(!g)throw Error(s(90));pn(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===n.form&&Ne(u)}break e;case"textarea":jt(n,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Ln(n,!!o.multiple,r,!1)}}}var ze=!1;function yn(n,r,o){if(ze)return n(r,o);ze=!0;try{var u=n(r);return u}finally{if(ze=!1,(_r!==null||on!==null)&&(Kh(),_r&&(r=_r,n=on,on=_r=null,dl(r),n)))for(r=0;r<n.length;r++)dl(n[r])}}function ht(n,r){var o=n.stateNode;if(o===null)return null;var u=o[an]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ai=!1;if(_n)try{var Xi={};Object.defineProperty(Xi,"passive",{get:function(){Ai=!0}}),window.addEventListener("test",Xi,Xi),window.removeEventListener("test",Xi,Xi)}catch{Ai=!1}var On=null,dt=null,Fr=null;function Hr(){if(Fr)return Fr;var n,r=dt,o=r.length,u,g="value"in On?On.value:On.textContent,y=g.length;for(n=0;n<o&&r[n]===g[n];n++);var A=o-n;for(u=1;u<=A&&r[o-u]===g[y-u];u++);return Fr=g.slice(n,1<u?1-u:void 0)}function Pt(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function $n(){return!0}function oa(){return!1}function qt(n){function r(o,u,g,y,A){this._reactName=o,this._targetInst=g,this.type=u,this.nativeEvent=y,this.target=A,this.currentTarget=null;for(var R in n)n.hasOwnProperty(R)&&(o=n[R],this[R]=o?o(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?$n:oa,this.isPropagationStopped=oa,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=$n)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=$n)},persist:function(){},isPersistent:$n}),r}var vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qr=qt(vn),vr=E({},vn,{view:0,detail:0}),Ts=qt(vr),Ss,$e,Ji,ln=E({},vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:As,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ji&&(Ji&&n.type==="mousemove"?(Ss=n.screenX-Ji.screenX,$e=n.screenY-Ji.screenY):$e=Ss=0,Ji=n),Ss)},movementY:function(n){return"movementY"in n?n.movementY:$e}}),Ni=qt(ln),fl=E({},ln,{dataTransfer:0}),ml=qt(fl),xr=E({},vr,{relatedTarget:0}),la=qt(xr),vo=E({},vn,{animationName:0,elapsedTime:0,pseudoElement:0}),xo=qt(vo),bo=E({},vn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ca=qt(bo),ua=E({},vn,{data:0}),kn=qt(ua),pl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},er={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ci={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wo(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Ci[n])?!!r[n]:!1}function As(){return wo}var ha=E({},vr,{key:function(n){if(n.key){var r=pl[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Pt(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?er[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:As,charCode:function(n){return n.type==="keypress"?Pt(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Pt(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),da=qt(ha),xn=E({},ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fa=qt(xn),gl=E({},vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:As}),Gr=qt(gl),m=E({},vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=qt(m),S=E({},ln,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),j=qt(S),X=E({},vn,{newState:0,oldState:0}),ne=qt(X),be=[9,13,27,32],Be=_n&&"CompositionEvent"in window,tt=null;_n&&"documentMode"in document&&(tt=document.documentMode);var pt=_n&&"TextEvent"in window&&!tt,Ot=_n&&(!Be||tt&&8<tt&&11>=tt),Qn=" ",fi=!1;function Xn(n,r){switch(n){case"keyup":return be.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ri(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ii=!1;function ma(n,r){switch(n){case"compositionend":return Ri(r);case"keypress":return r.which!==32?null:(fi=!0,Qn);case"textInput":return n=r.data,n===Qn&&fi?null:n;default:return null}}function Mf(n,r){if(Ii)return n==="compositionend"||!Be&&Xn(n,r)?(n=Hr(),Fr=dt=On=null,Ii=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ot&&r.locale!=="ko"?null:r.data;default:return null}}var ji={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ns(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!ji[n.type]:r==="textarea"}function dh(n,r,o,u){_r?on?on.push(u):on=[u]:_r=u,r=ed(r,"onChange"),0<r.length&&(o=new qr("onChange","change",null,o,u),n.push({event:o,listeners:r}))}var Jn=null,Eo=null;function pa(n){V0(n,0)}function yl(n){var r=Gn(n);if(Ne(r))return n}function ga(n,r){if(n==="change")return r}var jc=!1;if(_n){var ya;if(_n){var Pc="oninput"in document;if(!Pc){var br=document.createElement("div");br.setAttribute("oninput","return;"),Pc=typeof br.oninput=="function"}ya=Pc}else ya=!1;jc=ya&&(!document.documentMode||9<document.documentMode)}function To(){Jn&&(Jn.detachEvent("onpropertychange",fh),Eo=Jn=null)}function fh(n){if(n.propertyName==="value"&&yl(Eo)){var r=[];dh(r,Eo,n,Br(n)),yn(pa,r)}}function Lc(n,r,o){n==="focusin"?(To(),Jn=r,Eo=o,Jn.attachEvent("onpropertychange",fh)):n==="focusout"&&To()}function Vf(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return yl(Eo)}function wr(n,r){if(n==="click")return yl(r)}function Uf(n,r){if(n==="input"||n==="change")return yl(r)}function _a(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var ei=typeof Object.is=="function"?Object.is:_a;function ti(n,r){if(ei(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var g=o[u];if(!Fi.call(r,g)||!ei(n[g],r[g]))return!1}return!0}function So(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Oc(n,r){var o=So(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=r&&u>=r)return{node:o,offset:r-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=So(o)}}function _l(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?_l(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Ao(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=yt(n.document);r instanceof n.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)n=r.contentWindow;else break;r=yt(n.document)}return r}function No(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var vl=_n&&"documentMode"in document&&11>=document.documentMode,Pi=null,va=null,Cs=null,xl=!1;function mh(n,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;xl||Pi==null||Pi!==yt(u)||(u=Pi,"selectionStart"in u&&No(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Cs&&ti(Cs,u)||(Cs=u,u=ed(va,"onSelect"),0<u.length&&(r=new qr("onSelect","select",null,r,o),n.push({event:r,listeners:u}),r.target=Pi)))}function tr(n,r){var o={};return o[n.toLowerCase()]=r.toLowerCase(),o["Webkit"+n]="webkit"+r,o["Moz"+n]="moz"+r,o}var xa={animationend:tr("Animation","AnimationEnd"),animationiteration:tr("Animation","AnimationIteration"),animationstart:tr("Animation","AnimationStart"),transitionrun:tr("Transition","TransitionRun"),transitionstart:tr("Transition","TransitionStart"),transitioncancel:tr("Transition","TransitionCancel"),transitionend:tr("Transition","TransitionEnd")},bl={},ph={};_n&&(ph=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Zr(n){if(bl[n])return bl[n];if(!xa[n])return n;var r=xa[n],o;for(o in r)if(r.hasOwnProperty(o)&&o in ph)return bl[n]=r[o];return n}var gh=Zr("animationend"),Li=Zr("animationiteration"),Co=Zr("animationstart"),zf=Zr("transitionrun"),wl=Zr("transitionstart"),Bf=Zr("transitioncancel"),kc=Zr("transitionend"),yh=new Map,Rs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rs.push("scrollEnd");function Oi(n,r){yh.set(n,r),Zi(r,[n])}var Is=new WeakMap;function ni(n,r){if(typeof n=="object"&&n!==null){var o=Is.get(n);return o!==void 0?o:(r={value:n,source:r,stack:ut(r)},Is.set(n,r),r)}return{value:n,source:r,stack:ut(r)}}var ii=[],ba=0,ki=0;function Ro(){for(var n=ba,r=ki=ba=0;r<n;){var o=ii[r];ii[r++]=null;var u=ii[r];ii[r++]=null;var g=ii[r];ii[r++]=null;var y=ii[r];if(ii[r++]=null,u!==null&&g!==null){var A=u.pending;A===null?g.next=g:(g.next=A.next,A.next=g),u.pending=g}y!==0&&jo(o,g,y)}}function Io(n,r,o,u){ii[ba++]=n,ii[ba++]=r,ii[ba++]=o,ii[ba++]=u,ki|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function js(n,r,o,u){return Io(n,r,o,u),Wr(n)}function wa(n,r){return Io(n,null,null,r),Wr(n)}function jo(n,r,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var g=!1,y=n.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(g=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,g&&r!==null&&(g=31-An(o),n=y.hiddenUpdates,u=n[g],u===null?n[g]=[r]:u.push(r),r.lane=o|536870912),y):null}function Wr(n){if(50<ru)throw ru=0,Vm=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Ps={};function _h(n,r,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ri(n,r,o,u){return new _h(n,r,o,u)}function El(n){return n=n.prototype,!(!n||!n.isReactComponent)}function nr(n,r){var o=n.alternate;return o===null?(o=ri(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Dc(n,r){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,r=o.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Po(n,r,o,u,g,y){var A=0;if(u=n,typeof n=="function")El(n)&&(A=1);else if(typeof n=="string")A=i2(n,o,Ee.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case D:return n=ri(31,o,r,g),n.elementType=D,n.lanes=y,n;case U:return Kr(o.children,g,y,r);case K:A=8,g|=24;break;case H:return n=ri(12,o,r,g|2),n.elementType=H,n.lanes=y,n;case xe:return n=ri(13,o,r,g),n.elementType=xe,n.lanes=y,n;case Ve:return n=ri(19,o,r,g),n.elementType=Ve,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case oe:case ce:A=10;break e;case le:A=9;break e;case Ae:A=11;break e;case F:A=14;break e;case O:A=16,u=null;break e}A=29,o=Error(s(130,n===null?"null":typeof n,"")),u=null}return r=ri(A,o,r,g),r.elementType=n,r.type=u,r.lanes=y,r}function Kr(n,r,o,u){return n=ri(7,n,u,r),n.lanes=o,n}function Mc(n,r,o){return n=ri(6,n,null,r),n.lanes=o,n}function Tl(n,r,o){return r=ri(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Ls=[],Ea=0,a=null,c=0,p=[],x=0,T=null,C=1,z="";function Q(n,r){Ls[Ea++]=c,Ls[Ea++]=a,a=n,c=r}function re(n,r,o){p[x++]=C,p[x++]=z,p[x++]=T,T=n;var u=C;n=z;var g=32-An(u)-1;u&=~(1<<g),o+=1;var y=32-An(r)+g;if(30<y){var A=g-g%5;y=(u&(1<<A)-1).toString(32),u>>=A,g-=A,C=1<<32-An(r)+g|o<<g|u,z=y+n}else C=1<<y|o<<g|u,z=n}function ye(n){n.return!==null&&(Q(n,1),re(n,1,0))}function Te(n){for(;n===a;)a=Ls[--Ea],Ls[Ea]=null,c=Ls[--Ea],Ls[Ea]=null;for(;n===T;)T=p[--x],p[x]=null,z=p[--x],p[x]=null,C=p[--x],p[x]=null}var Ie=null,Le=null,We=!1,Nt=null,Bt=!1,bn=Error(s(519));function mi(n){var r=Error(s(418,""));throw Sa(ni(r,n)),bn}function vh(n){var r=n.stateNode,o=n.type,u=n.memoizedProps;switch(r[Vt]=n,r[an]=u,o){case"dialog":st("cancel",r),st("close",r);break;case"iframe":case"object":case"embed":st("load",r);break;case"video":case"audio":for(o=0;o<au.length;o++)st(au[o],r);break;case"source":st("error",r);break;case"img":case"image":case"link":st("error",r),st("load",r);break;case"details":st("toggle",r);break;case"input":st("invalid",r),_o(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),$i(r);break;case"select":st("invalid",r);break;case"textarea":st("invalid",r),Qi(r,u.value,u.defaultValue,u.children),$i(r)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||F0(r.textContent,o)?(u.popover!=null&&(st("beforetoggle",r),st("toggle",r)),u.onScroll!=null&&st("scroll",r),u.onScrollEnd!=null&&st("scrollend",r),u.onClick!=null&&(r.onclick=td),r=!0):r=!1,r||mi(n)}function xh(n){for(Ie=n.return;Ie;)switch(Ie.tag){case 5:case 13:Bt=!1;return;case 27:case 3:Bt=!0;return;default:Ie=Ie.return}}function Lo(n){if(n!==Ie)return!1;if(!We)return xh(n),We=!0,!1;var r=n.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||ep(n.type,n.memoizedProps)),o=!o),o&&Le&&mi(n),xh(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(r===0){Le=Ar(n.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;n=n.nextSibling}Le=null}}else r===27?(r=Le,za(n.type)?(n=rp,rp=null,Le=n):Le=r):Le=Ie?Ar(n.stateNode.nextSibling):null;return!0}function Ta(){Le=Ie=null,We=!1}function bh(){var n=Nt;return n!==null&&(yi===null?yi=n:yi.push.apply(yi,n),Nt=null),n}function Sa(n){Nt===null?Nt=[n]:Nt.push(n)}var kt=ae(null),ir=null,Er=null;function Yr(n,r,o){ve(kt,r._currentValue),r._currentValue=o}function Tr(n){n._currentValue=kt.current,_e(kt)}function Oo(n,r,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===o)break;n=n.return}}function Sl(n,r,o,u){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var y=g.dependencies;if(y!==null){var A=g.child;y=y.firstContext;e:for(;y!==null;){var R=y;y=g;for(var B=0;B<r.length;B++)if(R.context===r[B]){y.lanes|=o,R=y.alternate,R!==null&&(R.lanes|=o),Oo(y.return,o,n),u||(A=null);break e}y=R.next}}else if(g.tag===18){if(A=g.return,A===null)throw Error(s(341));A.lanes|=o,y=A.alternate,y!==null&&(y.lanes|=o),Oo(A,o,n),A=null}else A=g.child;if(A!==null)A.return=g;else for(A=g;A!==null;){if(A===n){A=null;break}if(g=A.sibling,g!==null){g.return=A.return,A=g;break}A=A.return}g=A}}function ko(n,r,o,u){n=null;for(var g=r,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var A=g.alternate;if(A===null)throw Error(s(387));if(A=A.memoizedProps,A!==null){var R=g.type;ei(g.pendingProps.value,A.value)||(n!==null?n.push(R):n=[R])}}else if(g===St.current){if(A=g.alternate,A===null)throw Error(s(387));A.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(du):n=[du])}g=g.return}n!==null&&Sl(r,n,o,u),r.flags|=262144}function wh(n){for(n=n.firstContext;n!==null;){if(!ei(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Do(n){ir=n,Er=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Dn(n){return Cy(ir,n)}function Eh(n,r){return ir===null&&Do(n),Cy(n,r)}function Cy(n,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Er===null){if(n===null)throw Error(s(308));Er=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Er=Er.next=r;return o}var nT=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(o){return o()})}},iT=i.unstable_scheduleCallback,rT=i.unstable_NormalPriority,cn={$$typeof:ce,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ff(){return{controller:new nT,data:new Map,refCount:0}}function Vc(n){n.refCount--,n.refCount===0&&iT(rT,function(){n.controller.abort()})}var Uc=null,Hf=0,Al=0,Nl=null;function sT(n,r){if(Uc===null){var o=Uc=[];Hf=0,Al=Gm(),Nl={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Hf++,r.then(Ry,Ry),r}function Ry(){if(--Hf===0&&Uc!==null){Nl!==null&&(Nl.status="fulfilled");var n=Uc;Uc=null,Al=0,Nl=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function aT(n,r){var o=[],u={status:"pending",value:null,reason:null,then:function(g){o.push(g)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var g=0;g<o.length;g++)(0,o[g])(r)},function(g){for(u.status="rejected",u.reason=g,g=0;g<o.length;g++)(0,o[g])(void 0)}),u}var Iy=Y.S;Y.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&sT(n,r),Iy!==null&&Iy(n,r)};var Mo=ae(null);function qf(){var n=Mo.current;return n!==null?n:Ct.pooledCache}function Th(n,r){r===null?ve(Mo,Mo.current):ve(Mo,r.pool)}function jy(){var n=qf();return n===null?null:{parent:cn._currentValue,pool:n}}var zc=Error(s(460)),Py=Error(s(474)),Sh=Error(s(542)),Gf={then:function(){}};function Ly(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Ah(){}function Oy(n,r,o){switch(o=n[o],o===void 0?n.push(r):o!==r&&(r.then(Ah,Ah),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Dy(n),n;default:if(typeof r.status=="string")r.then(Ah,Ah);else{if(n=Ct,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=u}},function(u){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Dy(n),n}throw Bc=r,zc}}var Bc=null;function ky(){if(Bc===null)throw Error(s(459));var n=Bc;return Bc=null,n}function Dy(n){if(n===zc||n===Sh)throw Error(s(483))}var Aa=!1;function Zf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wf(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Na(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ca(n,r,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(vt&2)!==0){var g=u.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),u.pending=r,r=Wr(n),jo(n,null,o),r}return Io(n,u,r,o),Wr(n)}function Fc(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=n.pendingLanes,o|=u,r.lanes=o,Vr(n,o)}}function Kf(n,r){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var g=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var A={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?g=y=A:y=y.next=A,o=o.next}while(o!==null);y===null?g=y=r:y=y.next=r}else g=y=r;o={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}var Yf=!1;function Hc(){if(Yf){var n=Nl;if(n!==null)throw n}}function qc(n,r,o,u){Yf=!1;var g=n.updateQueue;Aa=!1;var y=g.firstBaseUpdate,A=g.lastBaseUpdate,R=g.shared.pending;if(R!==null){g.shared.pending=null;var B=R,ee=B.next;B.next=null,A===null?y=ee:A.next=ee,A=B;var ue=n.alternate;ue!==null&&(ue=ue.updateQueue,R=ue.lastBaseUpdate,R!==A&&(R===null?ue.firstBaseUpdate=ee:R.next=ee,ue.lastBaseUpdate=B))}if(y!==null){var pe=g.baseState;A=0,ue=ee=B=null,R=y;do{var te=R.lane&-536870913,ie=te!==R.lane;if(ie?(ft&te)===te:(u&te)===te){te!==0&&te===Al&&(Yf=!0),ue!==null&&(ue=ue.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Ze=n,Ue=R;te=r;var Tt=o;switch(Ue.tag){case 1:if(Ze=Ue.payload,typeof Ze=="function"){pe=Ze.call(Tt,pe,te);break e}pe=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=Ue.payload,te=typeof Ze=="function"?Ze.call(Tt,pe,te):Ze,te==null)break e;pe=E({},pe,te);break e;case 2:Aa=!0}}te=R.callback,te!==null&&(n.flags|=64,ie&&(n.flags|=8192),ie=g.callbacks,ie===null?g.callbacks=[te]:ie.push(te))}else ie={lane:te,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ue===null?(ee=ue=ie,B=pe):ue=ue.next=ie,A|=te;if(R=R.next,R===null){if(R=g.shared.pending,R===null)break;ie=R,R=ie.next,ie.next=null,g.lastBaseUpdate=ie,g.shared.pending=null}}while(!0);ue===null&&(B=pe),g.baseState=B,g.firstBaseUpdate=ee,g.lastBaseUpdate=ue,y===null&&(g.shared.lanes=0),Da|=A,n.lanes=A,n.memoizedState=pe}}function My(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function Vy(n,r){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)My(o[n],r)}var Cl=ae(null),Nh=ae(0);function Uy(n,r){n=zs,ve(Nh,n),ve(Cl,r),zs=n|r.baseLanes}function $f(){ve(Nh,zs),ve(Cl,Cl.current)}function Qf(){zs=Nh.current,_e(Cl),_e(Nh)}var Ra=0,Je=null,wt=null,Jt=null,Ch=!1,Rl=!1,Vo=!1,Rh=0,Gc=0,Il=null,oT=0;function Yt(){throw Error(s(321))}function Xf(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!ei(n[o],r[o]))return!1;return!0}function Jf(n,r,o,u,g,y){return Ra=y,Je=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=n===null||n.memoizedState===null?w_:E_,Vo=!1,y=o(u,g),Vo=!1,Rl&&(y=By(r,o,u,g)),zy(n),y}function zy(n){Y.H=kh;var r=wt!==null&&wt.next!==null;if(Ra=0,Jt=wt=Je=null,Ch=!1,Gc=0,Il=null,r)throw Error(s(300));n===null||wn||(n=n.dependencies,n!==null&&wh(n)&&(wn=!0))}function By(n,r,o,u){Je=n;var g=0;do{if(Rl&&(Il=null),Gc=0,Rl=!1,25<=g)throw Error(s(301));if(g+=1,Jt=wt=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}Y.H=mT,y=r(o,u)}while(Rl);return y}function lT(){var n=Y.H,r=n.useState()[0];return r=typeof r.then=="function"?Zc(r):r,n=n.useState()[0],(wt!==null?wt.memoizedState:null)!==n&&(Je.flags|=1024),r}function em(){var n=Rh!==0;return Rh=0,n}function tm(n,r,o){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~o}function nm(n){if(Ch){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Ch=!1}Ra=0,Jt=wt=Je=null,Rl=!1,Gc=Rh=0,Il=null}function pi(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Je.memoizedState=Jt=n:Jt=Jt.next=n,Jt}function en(){if(wt===null){var n=Je.alternate;n=n!==null?n.memoizedState:null}else n=wt.next;var r=Jt===null?Je.memoizedState:Jt.next;if(r!==null)Jt=r,wt=n;else{if(n===null)throw Je.alternate===null?Error(s(467)):Error(s(310));wt=n,n={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Jt===null?Je.memoizedState=Jt=n:Jt=Jt.next=n}return Jt}function im(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zc(n){var r=Gc;return Gc+=1,Il===null&&(Il=[]),n=Oy(Il,n,r),r=Je,(Jt===null?r.memoizedState:Jt.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?w_:E_),n}function Ih(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Zc(n);if(n.$$typeof===ce)return Dn(n)}throw Error(s(438,String(n)))}function rm(n){var r=null,o=Je.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Je.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=im(),Je.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(n),u=0;u<n;u++)o[u]=P;return r.index++,o}function Os(n,r){return typeof r=="function"?r(n):r}function jh(n){var r=en();return sm(r,wt,n)}function sm(n,r,o){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var g=n.baseQueue,y=u.pending;if(y!==null){if(g!==null){var A=g.next;g.next=y.next,y.next=A}r.baseQueue=g=y,u.pending=null}if(y=n.baseState,g===null)n.memoizedState=y;else{r=g.next;var R=A=null,B=null,ee=r,ue=!1;do{var pe=ee.lane&-536870913;if(pe!==ee.lane?(ft&pe)===pe:(Ra&pe)===pe){var te=ee.revertLane;if(te===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),pe===Al&&(ue=!0);else if((Ra&te)===te){ee=ee.next,te===Al&&(ue=!0);continue}else pe={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},B===null?(R=B=pe,A=y):B=B.next=pe,Je.lanes|=te,Da|=te;pe=ee.action,Vo&&o(y,pe),y=ee.hasEagerState?ee.eagerState:o(y,pe)}else te={lane:pe,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},B===null?(R=B=te,A=y):B=B.next=te,Je.lanes|=pe,Da|=pe;ee=ee.next}while(ee!==null&&ee!==r);if(B===null?A=y:B.next=R,!ei(y,n.memoizedState)&&(wn=!0,ue&&(o=Nl,o!==null)))throw o;n.memoizedState=y,n.baseState=A,n.baseQueue=B,u.lastRenderedState=y}return g===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function am(n){var r=en(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=n;var u=o.dispatch,g=o.pending,y=r.memoizedState;if(g!==null){o.pending=null;var A=g=g.next;do y=n(y,A.action),A=A.next;while(A!==g);ei(y,r.memoizedState)||(wn=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),o.lastRenderedState=y}return[y,u]}function Fy(n,r,o){var u=Je,g=en(),y=We;if(y){if(o===void 0)throw Error(s(407));o=o()}else o=r();var A=!ei((wt||g).memoizedState,o);A&&(g.memoizedState=o,wn=!0),g=g.queue;var R=Gy.bind(null,u,g,n);if(Wc(2048,8,R,[n]),g.getSnapshot!==r||A||Jt!==null&&Jt.memoizedState.tag&1){if(u.flags|=2048,jl(9,Ph(),qy.bind(null,u,g,o,r),null),Ct===null)throw Error(s(349));y||(Ra&124)!==0||Hy(u,r,o)}return o}function Hy(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=Je.updateQueue,r===null?(r=im(),Je.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function qy(n,r,o,u){r.value=o,r.getSnapshot=u,Zy(r)&&Wy(n)}function Gy(n,r,o){return o(function(){Zy(r)&&Wy(n)})}function Zy(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!ei(n,o)}catch{return!0}}function Wy(n){var r=wa(n,2);r!==null&&zi(r,n,2)}function om(n){var r=pi();if(typeof n=="function"){var o=n;if(n=o(),Vo){qn(!0);try{o()}finally{qn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:n},r}function Ky(n,r,o,u){return n.baseState=o,sm(n,wt,typeof u=="function"?u:Os)}function cT(n,r,o,u,g){if(Oh(n))throw Error(s(485));if(n=r.action,n!==null){var y={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){y.listeners.push(A)}};Y.T!==null?o(!0):y.isTransition=!1,u(y),o=r.pending,o===null?(y.next=r.pending=y,Yy(r,y)):(y.next=o.next,r.pending=o.next=y)}}function Yy(n,r){var o=r.action,u=r.payload,g=n.state;if(r.isTransition){var y=Y.T,A={};Y.T=A;try{var R=o(g,u),B=Y.S;B!==null&&B(A,R),$y(n,r,R)}catch(ee){lm(n,r,ee)}finally{Y.T=y}}else try{y=o(g,u),$y(n,r,y)}catch(ee){lm(n,r,ee)}}function $y(n,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Qy(n,r,u)},function(u){return lm(n,r,u)}):Qy(n,r,o)}function Qy(n,r,o){r.status="fulfilled",r.value=o,Xy(r),n.state=o,r=n.pending,r!==null&&(o=r.next,o===r?n.pending=null:(o=o.next,r.next=o,Yy(n,o)))}function lm(n,r,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,Xy(r),r=r.next;while(r!==u)}n.action=null}function Xy(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Jy(n,r){return r}function e_(n,r){if(We){var o=Ct.formState;if(o!==null){e:{var u=Je;if(We){if(Le){t:{for(var g=Le,y=Bt;g.nodeType!==8;){if(!y){g=null;break t}if(g=Ar(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){Le=Ar(g.nextSibling),u=g.data==="F!";break e}}mi(u)}u=!1}u&&(r=o[0])}}return o=pi(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jy,lastRenderedState:r},o.queue=u,o=v_.bind(null,Je,u),u.dispatch=o,u=om(!1),y=fm.bind(null,Je,!1,u.queue),u=pi(),g={state:r,dispatch:null,action:n,pending:null},u.queue=g,o=cT.bind(null,Je,g,y,o),g.dispatch=o,u.memoizedState=n,[r,o,!1]}function t_(n){var r=en();return n_(r,wt,n)}function n_(n,r,o){if(r=sm(n,r,Jy)[0],n=jh(Os)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Zc(r)}catch(A){throw A===zc?Sh:A}else u=r;r=en();var g=r.queue,y=g.dispatch;return o!==r.memoizedState&&(Je.flags|=2048,jl(9,Ph(),uT.bind(null,g,o),null)),[u,y,n]}function uT(n,r){n.action=r}function i_(n){var r=en(),o=wt;if(o!==null)return n_(r,o,n);en(),r=r.memoizedState,o=en();var u=o.queue.dispatch;return o.memoizedState=n,[r,u,!1]}function jl(n,r,o,u){return n={tag:n,create:o,deps:u,inst:r,next:null},r=Je.updateQueue,r===null&&(r=im(),Je.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,r.lastEffect=n),n}function Ph(){return{destroy:void 0,resource:void 0}}function r_(){return en().memoizedState}function Lh(n,r,o,u){var g=pi();u=u===void 0?null:u,Je.flags|=n,g.memoizedState=jl(1|r,Ph(),o,u)}function Wc(n,r,o,u){var g=en();u=u===void 0?null:u;var y=g.memoizedState.inst;wt!==null&&u!==null&&Xf(u,wt.memoizedState.deps)?g.memoizedState=jl(r,y,o,u):(Je.flags|=n,g.memoizedState=jl(1|r,y,o,u))}function s_(n,r){Lh(8390656,8,n,r)}function a_(n,r){Wc(2048,8,n,r)}function o_(n,r){return Wc(4,2,n,r)}function l_(n,r){return Wc(4,4,n,r)}function c_(n,r){if(typeof r=="function"){n=n();var o=r(n);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function u_(n,r,o){o=o!=null?o.concat([n]):null,Wc(4,4,c_.bind(null,r,n),o)}function cm(){}function h_(n,r){var o=en();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Xf(r,u[1])?u[0]:(o.memoizedState=[n,r],n)}function d_(n,r){var o=en();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Xf(r,u[1]))return u[0];if(u=n(),Vo){qn(!0);try{n()}finally{qn(!1)}}return o.memoizedState=[u,r],u}function um(n,r,o){return o===void 0||(Ra&1073741824)!==0?n.memoizedState=r:(n.memoizedState=o,n=p0(),Je.lanes|=n,Da|=n,o)}function f_(n,r,o,u){return ei(o,r)?o:Cl.current!==null?(n=um(n,o,u),ei(n,r)||(wn=!0),n):(Ra&42)===0?(wn=!0,n.memoizedState=o):(n=p0(),Je.lanes|=n,Da|=n,r)}function m_(n,r,o,u,g){var y=me.p;me.p=y!==0&&8>y?y:8;var A=Y.T,R={};Y.T=R,fm(n,!1,r,o);try{var B=g(),ee=Y.S;if(ee!==null&&ee(R,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var ue=aT(B,u);Kc(n,r,ue,Ui(n))}else Kc(n,r,u,Ui(n))}catch(pe){Kc(n,r,{then:function(){},status:"rejected",reason:pe},Ui())}finally{me.p=y,Y.T=A}}function hT(){}function hm(n,r,o,u){if(n.tag!==5)throw Error(s(476));var g=p_(n).queue;m_(n,g,r,he,o===null?hT:function(){return g_(n),o(u)})}function p_(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:he},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:o},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function g_(n){var r=p_(n).next.queue;Kc(n,r,{},Ui())}function dm(){return Dn(du)}function y_(){return en().memoizedState}function __(){return en().memoizedState}function dT(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var o=Ui();n=Na(o);var u=Ca(r,n,o);u!==null&&(zi(u,r,o),Fc(u,r,o)),r={cache:Ff()},n.payload=r;return}r=r.return}}function fT(n,r,o){var u=Ui();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Oh(n)?x_(r,o):(o=js(n,r,o,u),o!==null&&(zi(o,n,u),b_(o,r,u)))}function v_(n,r,o){var u=Ui();Kc(n,r,o,u)}function Kc(n,r,o,u){var g={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Oh(n))x_(r,g);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var A=r.lastRenderedState,R=y(A,o);if(g.hasEagerState=!0,g.eagerState=R,ei(R,A))return Io(n,r,g,0),Ct===null&&Ro(),!1}catch{}finally{}if(o=js(n,r,g,u),o!==null)return zi(o,n,u),b_(o,r,u),!0}return!1}function fm(n,r,o,u){if(u={lane:2,revertLane:Gm(),action:u,hasEagerState:!1,eagerState:null,next:null},Oh(n)){if(r)throw Error(s(479))}else r=js(n,o,u,2),r!==null&&zi(r,n,2)}function Oh(n){var r=n.alternate;return n===Je||r!==null&&r===Je}function x_(n,r){Rl=Ch=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function b_(n,r,o){if((o&4194048)!==0){var u=r.lanes;u&=n.pendingLanes,o|=u,r.lanes=o,Vr(n,o)}}var kh={readContext:Dn,use:Ih,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt,useHostTransitionStatus:Yt,useFormState:Yt,useActionState:Yt,useOptimistic:Yt,useMemoCache:Yt,useCacheRefresh:Yt},w_={readContext:Dn,use:Ih,useCallback:function(n,r){return pi().memoizedState=[n,r===void 0?null:r],n},useContext:Dn,useEffect:s_,useImperativeHandle:function(n,r,o){o=o!=null?o.concat([n]):null,Lh(4194308,4,c_.bind(null,r,n),o)},useLayoutEffect:function(n,r){return Lh(4194308,4,n,r)},useInsertionEffect:function(n,r){Lh(4,2,n,r)},useMemo:function(n,r){var o=pi();r=r===void 0?null:r;var u=n();if(Vo){qn(!0);try{n()}finally{qn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(n,r,o){var u=pi();if(o!==void 0){var g=o(r);if(Vo){qn(!0);try{o(r)}finally{qn(!1)}}}else g=r;return u.memoizedState=u.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},u.queue=n,n=n.dispatch=fT.bind(null,Je,n),[u.memoizedState,n]},useRef:function(n){var r=pi();return n={current:n},r.memoizedState=n},useState:function(n){n=om(n);var r=n.queue,o=v_.bind(null,Je,r);return r.dispatch=o,[n.memoizedState,o]},useDebugValue:cm,useDeferredValue:function(n,r){var o=pi();return um(o,n,r)},useTransition:function(){var n=om(!1);return n=m_.bind(null,Je,n.queue,!0,!1),pi().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,o){var u=Je,g=pi();if(We){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),Ct===null)throw Error(s(349));(ft&124)!==0||Hy(u,r,o)}g.memoizedState=o;var y={value:o,getSnapshot:r};return g.queue=y,s_(Gy.bind(null,u,y,n),[n]),u.flags|=2048,jl(9,Ph(),qy.bind(null,u,y,o,r),null),o},useId:function(){var n=pi(),r=Ct.identifierPrefix;if(We){var o=z,u=C;o=(u&~(1<<32-An(u)-1)).toString(32)+o,r=""+r+"R"+o,o=Rh++,0<o&&(r+="H"+o.toString(32)),r+=""}else o=oT++,r=""+r+"r"+o.toString(32)+"";return n.memoizedState=r},useHostTransitionStatus:dm,useFormState:e_,useActionState:e_,useOptimistic:function(n){var r=pi();r.memoizedState=r.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=fm.bind(null,Je,!0,o),o.dispatch=r,[n,r]},useMemoCache:rm,useCacheRefresh:function(){return pi().memoizedState=dT.bind(null,Je)}},E_={readContext:Dn,use:Ih,useCallback:h_,useContext:Dn,useEffect:a_,useImperativeHandle:u_,useInsertionEffect:o_,useLayoutEffect:l_,useMemo:d_,useReducer:jh,useRef:r_,useState:function(){return jh(Os)},useDebugValue:cm,useDeferredValue:function(n,r){var o=en();return f_(o,wt.memoizedState,n,r)},useTransition:function(){var n=jh(Os)[0],r=en().memoizedState;return[typeof n=="boolean"?n:Zc(n),r]},useSyncExternalStore:Fy,useId:y_,useHostTransitionStatus:dm,useFormState:t_,useActionState:t_,useOptimistic:function(n,r){var o=en();return Ky(o,wt,n,r)},useMemoCache:rm,useCacheRefresh:__},mT={readContext:Dn,use:Ih,useCallback:h_,useContext:Dn,useEffect:a_,useImperativeHandle:u_,useInsertionEffect:o_,useLayoutEffect:l_,useMemo:d_,useReducer:am,useRef:r_,useState:function(){return am(Os)},useDebugValue:cm,useDeferredValue:function(n,r){var o=en();return wt===null?um(o,n,r):f_(o,wt.memoizedState,n,r)},useTransition:function(){var n=am(Os)[0],r=en().memoizedState;return[typeof n=="boolean"?n:Zc(n),r]},useSyncExternalStore:Fy,useId:y_,useHostTransitionStatus:dm,useFormState:i_,useActionState:i_,useOptimistic:function(n,r){var o=en();return wt!==null?Ky(o,wt,n,r):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:rm,useCacheRefresh:__},Pl=null,Yc=0;function Dh(n){var r=Yc;return Yc+=1,Pl===null&&(Pl=[]),Oy(Pl,n,r)}function $c(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Mh(n,r){throw r.$$typeof===N?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function T_(n){var r=n._init;return r(n._payload)}function S_(n){function r($,W){if(n){var J=$.deletions;J===null?($.deletions=[W],$.flags|=16):J.push(W)}}function o($,W){if(!n)return null;for(;W!==null;)r($,W),W=W.sibling;return null}function u($){for(var W=new Map;$!==null;)$.key!==null?W.set($.key,$):W.set($.index,$),$=$.sibling;return W}function g($,W){return $=nr($,W),$.index=0,$.sibling=null,$}function y($,W,J){return $.index=J,n?(J=$.alternate,J!==null?(J=J.index,J<W?($.flags|=67108866,W):J):($.flags|=67108866,W)):($.flags|=1048576,W)}function A($){return n&&$.alternate===null&&($.flags|=67108866),$}function R($,W,J,de){return W===null||W.tag!==6?(W=Mc(J,$.mode,de),W.return=$,W):(W=g(W,J),W.return=$,W)}function B($,W,J,de){var Pe=J.type;return Pe===U?ue($,W,J.props.children,de,J.key):W!==null&&(W.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===O&&T_(Pe)===W.type)?(W=g(W,J.props),$c(W,J),W.return=$,W):(W=Po(J.type,J.key,J.props,null,$.mode,de),$c(W,J),W.return=$,W)}function ee($,W,J,de){return W===null||W.tag!==4||W.stateNode.containerInfo!==J.containerInfo||W.stateNode.implementation!==J.implementation?(W=Tl(J,$.mode,de),W.return=$,W):(W=g(W,J.children||[]),W.return=$,W)}function ue($,W,J,de,Pe){return W===null||W.tag!==7?(W=Kr(J,$.mode,de,Pe),W.return=$,W):(W=g(W,J),W.return=$,W)}function pe($,W,J){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Mc(""+W,$.mode,J),W.return=$,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case I:return J=Po(W.type,W.key,W.props,null,$.mode,J),$c(J,W),J.return=$,J;case Z:return W=Tl(W,$.mode,J),W.return=$,W;case O:var de=W._init;return W=de(W._payload),pe($,W,J)}if(Oe(W)||q(W))return W=Kr(W,$.mode,J,null),W.return=$,W;if(typeof W.then=="function")return pe($,Dh(W),J);if(W.$$typeof===ce)return pe($,Eh($,W),J);Mh($,W)}return null}function te($,W,J,de){var Pe=W!==null?W.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Pe!==null?null:R($,W,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case I:return J.key===Pe?B($,W,J,de):null;case Z:return J.key===Pe?ee($,W,J,de):null;case O:return Pe=J._init,J=Pe(J._payload),te($,W,J,de)}if(Oe(J)||q(J))return Pe!==null?null:ue($,W,J,de,null);if(typeof J.then=="function")return te($,W,Dh(J),de);if(J.$$typeof===ce)return te($,W,Eh($,J),de);Mh($,J)}return null}function ie($,W,J,de,Pe){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return $=$.get(J)||null,R(W,$,""+de,Pe);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case I:return $=$.get(de.key===null?J:de.key)||null,B(W,$,de,Pe);case Z:return $=$.get(de.key===null?J:de.key)||null,ee(W,$,de,Pe);case O:var nt=de._init;return de=nt(de._payload),ie($,W,J,de,Pe)}if(Oe(de)||q(de))return $=$.get(J)||null,ue(W,$,de,Pe,null);if(typeof de.then=="function")return ie($,W,J,Dh(de),Pe);if(de.$$typeof===ce)return ie($,W,J,Eh(W,de),Pe);Mh(W,de)}return null}function Ze($,W,J,de){for(var Pe=null,nt=null,De=W,Fe=W=0,Tn=null;De!==null&&Fe<J.length;Fe++){De.index>Fe?(Tn=De,De=null):Tn=De.sibling;var gt=te($,De,J[Fe],de);if(gt===null){De===null&&(De=Tn);break}n&&De&&gt.alternate===null&&r($,De),W=y(gt,W,Fe),nt===null?Pe=gt:nt.sibling=gt,nt=gt,De=Tn}if(Fe===J.length)return o($,De),We&&Q($,Fe),Pe;if(De===null){for(;Fe<J.length;Fe++)De=pe($,J[Fe],de),De!==null&&(W=y(De,W,Fe),nt===null?Pe=De:nt.sibling=De,nt=De);return We&&Q($,Fe),Pe}for(De=u(De);Fe<J.length;Fe++)Tn=ie(De,$,Fe,J[Fe],de),Tn!==null&&(n&&Tn.alternate!==null&&De.delete(Tn.key===null?Fe:Tn.key),W=y(Tn,W,Fe),nt===null?Pe=Tn:nt.sibling=Tn,nt=Tn);return n&&De.forEach(function(Ga){return r($,Ga)}),We&&Q($,Fe),Pe}function Ue($,W,J,de){if(J==null)throw Error(s(151));for(var Pe=null,nt=null,De=W,Fe=W=0,Tn=null,gt=J.next();De!==null&&!gt.done;Fe++,gt=J.next()){De.index>Fe?(Tn=De,De=null):Tn=De.sibling;var Ga=te($,De,gt.value,de);if(Ga===null){De===null&&(De=Tn);break}n&&De&&Ga.alternate===null&&r($,De),W=y(Ga,W,Fe),nt===null?Pe=Ga:nt.sibling=Ga,nt=Ga,De=Tn}if(gt.done)return o($,De),We&&Q($,Fe),Pe;if(De===null){for(;!gt.done;Fe++,gt=J.next())gt=pe($,gt.value,de),gt!==null&&(W=y(gt,W,Fe),nt===null?Pe=gt:nt.sibling=gt,nt=gt);return We&&Q($,Fe),Pe}for(De=u(De);!gt.done;Fe++,gt=J.next())gt=ie(De,$,Fe,gt.value,de),gt!==null&&(n&&gt.alternate!==null&&De.delete(gt.key===null?Fe:gt.key),W=y(gt,W,Fe),nt===null?Pe=gt:nt.sibling=gt,nt=gt);return n&&De.forEach(function(p2){return r($,p2)}),We&&Q($,Fe),Pe}function Tt($,W,J,de){if(typeof J=="object"&&J!==null&&J.type===U&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case I:e:{for(var Pe=J.key;W!==null;){if(W.key===Pe){if(Pe=J.type,Pe===U){if(W.tag===7){o($,W.sibling),de=g(W,J.props.children),de.return=$,$=de;break e}}else if(W.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===O&&T_(Pe)===W.type){o($,W.sibling),de=g(W,J.props),$c(de,J),de.return=$,$=de;break e}o($,W);break}else r($,W);W=W.sibling}J.type===U?(de=Kr(J.props.children,$.mode,de,J.key),de.return=$,$=de):(de=Po(J.type,J.key,J.props,null,$.mode,de),$c(de,J),de.return=$,$=de)}return A($);case Z:e:{for(Pe=J.key;W!==null;){if(W.key===Pe)if(W.tag===4&&W.stateNode.containerInfo===J.containerInfo&&W.stateNode.implementation===J.implementation){o($,W.sibling),de=g(W,J.children||[]),de.return=$,$=de;break e}else{o($,W);break}else r($,W);W=W.sibling}de=Tl(J,$.mode,de),de.return=$,$=de}return A($);case O:return Pe=J._init,J=Pe(J._payload),Tt($,W,J,de)}if(Oe(J))return Ze($,W,J,de);if(q(J)){if(Pe=q(J),typeof Pe!="function")throw Error(s(150));return J=Pe.call(J),Ue($,W,J,de)}if(typeof J.then=="function")return Tt($,W,Dh(J),de);if(J.$$typeof===ce)return Tt($,W,Eh($,J),de);Mh($,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,W!==null&&W.tag===6?(o($,W.sibling),de=g(W,J),de.return=$,$=de):(o($,W),de=Mc(J,$.mode,de),de.return=$,$=de),A($)):o($,W)}return function($,W,J,de){try{Yc=0;var Pe=Tt($,W,J,de);return Pl=null,Pe}catch(De){if(De===zc||De===Sh)throw De;var nt=ri(29,De,null,$.mode);return nt.lanes=de,nt.return=$,nt}finally{}}}var Ll=S_(!0),A_=S_(!1),rr=ae(null),$r=null;function Ia(n){var r=n.alternate;ve(un,un.current&1),ve(rr,n),$r===null&&(r===null||Cl.current!==null||r.memoizedState!==null)&&($r=n)}function N_(n){if(n.tag===22){if(ve(un,un.current),ve(rr,n),$r===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&($r=n)}}else ja()}function ja(){ve(un,un.current),ve(rr,rr.current)}function ks(n){_e(rr),$r===n&&($r=null),_e(un)}var un=ae(0);function Vh(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||ip(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function mm(n,r,o,u){r=n.memoizedState,o=o(u,r),o=o==null?r:E({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var pm={enqueueSetState:function(n,r,o){n=n._reactInternals;var u=Ui(),g=Na(u);g.payload=r,o!=null&&(g.callback=o),r=Ca(n,g,u),r!==null&&(zi(r,n,u),Fc(r,n,u))},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var u=Ui(),g=Na(u);g.tag=1,g.payload=r,o!=null&&(g.callback=o),r=Ca(n,g,u),r!==null&&(zi(r,n,u),Fc(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=Ui(),u=Na(o);u.tag=2,r!=null&&(u.callback=r),r=Ca(n,u,o),r!==null&&(zi(r,n,o),Fc(r,n,o))}};function C_(n,r,o,u,g,y,A){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,y,A):r.prototype&&r.prototype.isPureReactComponent?!ti(o,u)||!ti(g,y):!0}function R_(n,r,o,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==n&&pm.enqueueReplaceState(r,r.state,null)}function Uo(n,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(n=n.defaultProps){o===r&&(o=E({},o));for(var g in n)o[g]===void 0&&(o[g]=n[g])}return o}var Uh=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function I_(n){Uh(n)}function j_(n){console.error(n)}function P_(n){Uh(n)}function zh(n,r){try{var o=n.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function L_(n,r,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function gm(n,r,o){return o=Na(o),o.tag=3,o.payload={element:null},o.callback=function(){zh(n,r)},o}function O_(n){return n=Na(n),n.tag=3,n}function k_(n,r,o,u){var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var y=u.value;n.payload=function(){return g(y)},n.callback=function(){L_(r,o,u)}}var A=o.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(n.callback=function(){L_(r,o,u),typeof g!="function"&&(Ma===null?Ma=new Set([this]):Ma.add(this));var R=u.stack;this.componentDidCatch(u.value,{componentStack:R!==null?R:""})})}function pT(n,r,o,u,g){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&ko(r,o,g,!0),o=rr.current,o!==null){switch(o.tag){case 13:return $r===null?zm():o.alternate===null&&Gt===0&&(Gt=3),o.flags&=-257,o.flags|=65536,o.lanes=g,u===Gf?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Fm(n,u,g)),!1;case 22:return o.flags|=65536,u===Gf?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Fm(n,u,g)),!1}throw Error(s(435,o.tag))}return Fm(n,u,g),zm(),!1}if(We)return r=rr.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,u!==bn&&(n=Error(s(422),{cause:u}),Sa(ni(n,o)))):(u!==bn&&(r=Error(s(423),{cause:u}),Sa(ni(r,o))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,u=ni(u,o),g=gm(n.stateNode,u,g),Kf(n,g),Gt!==4&&(Gt=2)),!1;var y=Error(s(520),{cause:u});if(y=ni(y,o),iu===null?iu=[y]:iu.push(y),Gt!==4&&(Gt=2),r===null)return!0;u=ni(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,n=g&-g,o.lanes|=n,n=gm(o.stateNode,u,n),Kf(o,n),!1;case 1:if(r=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ma===null||!Ma.has(y))))return o.flags|=65536,g&=-g,o.lanes|=g,g=O_(g),k_(g,n,o,u),Kf(o,g),!1}o=o.return}while(o!==null);return!1}var D_=Error(s(461)),wn=!1;function Nn(n,r,o,u){r.child=n===null?A_(r,null,o,u):Ll(r,n.child,o,u)}function M_(n,r,o,u,g){o=o.render;var y=r.ref;if("ref"in u){var A={};for(var R in u)R!=="ref"&&(A[R]=u[R])}else A=u;return Do(r),u=Jf(n,r,o,A,y,g),R=em(),n!==null&&!wn?(tm(n,r,g),Ds(n,r,g)):(We&&R&&ye(r),r.flags|=1,Nn(n,r,u,g),r.child)}function V_(n,r,o,u,g){if(n===null){var y=o.type;return typeof y=="function"&&!El(y)&&y.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=y,U_(n,r,y,u,g)):(n=Po(o.type,null,u,r,r.mode,g),n.ref=r.ref,n.return=r,r.child=n)}if(y=n.child,!Tm(n,g)){var A=y.memoizedProps;if(o=o.compare,o=o!==null?o:ti,o(A,u)&&n.ref===r.ref)return Ds(n,r,g)}return r.flags|=1,n=nr(y,u),n.ref=r.ref,n.return=r,r.child=n}function U_(n,r,o,u,g){if(n!==null){var y=n.memoizedProps;if(ti(y,u)&&n.ref===r.ref)if(wn=!1,r.pendingProps=u=y,Tm(n,g))(n.flags&131072)!==0&&(wn=!0);else return r.lanes=n.lanes,Ds(n,r,g)}return ym(n,r,o,u,g)}function z_(n,r,o){var u=r.pendingProps,g=u.children,y=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=y!==null?y.baseLanes|o:o,n!==null){for(g=r.child=n.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;r.childLanes=y&~u}else r.childLanes=0,r.child=null;return B_(n,r,u,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Th(r,y!==null?y.cachePool:null),y!==null?Uy(r,y):$f(),N_(r);else return r.lanes=r.childLanes=536870912,B_(n,r,y!==null?y.baseLanes|o:o,o)}else y!==null?(Th(r,y.cachePool),Uy(r,y),ja(),r.memoizedState=null):(n!==null&&Th(r,null),$f(),ja());return Nn(n,r,g,o),r.child}function B_(n,r,o,u){var g=qf();return g=g===null?null:{parent:cn._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},n!==null&&Th(r,null),$f(),N_(r),n!==null&&ko(n,r,u,!0),null}function Bh(n,r){var o=r.ref;if(o===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(n===null||n.ref!==o)&&(r.flags|=4194816)}}function ym(n,r,o,u,g){return Do(r),o=Jf(n,r,o,u,void 0,g),u=em(),n!==null&&!wn?(tm(n,r,g),Ds(n,r,g)):(We&&u&&ye(r),r.flags|=1,Nn(n,r,o,g),r.child)}function F_(n,r,o,u,g,y){return Do(r),r.updateQueue=null,o=By(r,u,o,g),zy(n),u=em(),n!==null&&!wn?(tm(n,r,y),Ds(n,r,y)):(We&&u&&ye(r),r.flags|=1,Nn(n,r,o,y),r.child)}function H_(n,r,o,u,g){if(Do(r),r.stateNode===null){var y=Ps,A=o.contextType;typeof A=="object"&&A!==null&&(y=Dn(A)),y=new o(u,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=pm,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=u,y.state=r.memoizedState,y.refs={},Zf(r),A=o.contextType,y.context=typeof A=="object"&&A!==null?Dn(A):Ps,y.state=r.memoizedState,A=o.getDerivedStateFromProps,typeof A=="function"&&(mm(r,o,A,u),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(A=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),A!==y.state&&pm.enqueueReplaceState(y,y.state,null),qc(r,u,y,g),Hc(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){y=r.stateNode;var R=r.memoizedProps,B=Uo(o,R);y.props=B;var ee=y.context,ue=o.contextType;A=Ps,typeof ue=="object"&&ue!==null&&(A=Dn(ue));var pe=o.getDerivedStateFromProps;ue=typeof pe=="function"||typeof y.getSnapshotBeforeUpdate=="function",R=r.pendingProps!==R,ue||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R||ee!==A)&&R_(r,y,u,A),Aa=!1;var te=r.memoizedState;y.state=te,qc(r,u,y,g),Hc(),ee=r.memoizedState,R||te!==ee||Aa?(typeof pe=="function"&&(mm(r,o,pe,u),ee=r.memoizedState),(B=Aa||C_(r,o,B,u,te,ee,A))?(ue||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=ee),y.props=u,y.state=ee,y.context=A,u=B):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,Wf(n,r),A=r.memoizedProps,ue=Uo(o,A),y.props=ue,pe=r.pendingProps,te=y.context,ee=o.contextType,B=Ps,typeof ee=="object"&&ee!==null&&(B=Dn(ee)),R=o.getDerivedStateFromProps,(ee=typeof R=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A!==pe||te!==B)&&R_(r,y,u,B),Aa=!1,te=r.memoizedState,y.state=te,qc(r,u,y,g),Hc();var ie=r.memoizedState;A!==pe||te!==ie||Aa||n!==null&&n.dependencies!==null&&wh(n.dependencies)?(typeof R=="function"&&(mm(r,o,R,u),ie=r.memoizedState),(ue=Aa||C_(r,o,ue,u,te,ie,B)||n!==null&&n.dependencies!==null&&wh(n.dependencies))?(ee||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,ie,B),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,ie,B)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||A===n.memoizedProps&&te===n.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&te===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ie),y.props=u,y.state=ie,y.context=B,u=ue):(typeof y.componentDidUpdate!="function"||A===n.memoizedProps&&te===n.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&te===n.memoizedState||(r.flags|=1024),u=!1)}return y=u,Bh(n,r),u=(r.flags&128)!==0,y||u?(y=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,n!==null&&u?(r.child=Ll(r,n.child,null,g),r.child=Ll(r,null,o,g)):Nn(n,r,o,g),r.memoizedState=y.state,n=r.child):n=Ds(n,r,g),n}function q_(n,r,o,u){return Ta(),r.flags|=256,Nn(n,r,o,u),r.child}var _m={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vm(n){return{baseLanes:n,cachePool:jy()}}function xm(n,r,o){return n=n!==null?n.childLanes&~o:0,r&&(n|=sr),n}function G_(n,r,o){var u=r.pendingProps,g=!1,y=(r.flags&128)!==0,A;if((A=y)||(A=n!==null&&n.memoizedState===null?!1:(un.current&2)!==0),A&&(g=!0,r.flags&=-129),A=(r.flags&32)!==0,r.flags&=-33,n===null){if(We){if(g?Ia(r):ja(),We){var R=Le,B;if(B=R){e:{for(B=R,R=Bt;B.nodeType!==8;){if(!R){R=null;break e}if(B=Ar(B.nextSibling),B===null){R=null;break e}}R=B}R!==null?(r.memoizedState={dehydrated:R,treeContext:T!==null?{id:C,overflow:z}:null,retryLane:536870912,hydrationErrors:null},B=ri(18,null,null,0),B.stateNode=R,B.return=r,r.child=B,Ie=r,Le=null,B=!0):B=!1}B||mi(r)}if(R=r.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return ip(R)?r.lanes=32:r.lanes=536870912,null;ks(r)}return R=u.children,u=u.fallback,g?(ja(),g=r.mode,R=Fh({mode:"hidden",children:R},g),u=Kr(u,g,o,null),R.return=r,u.return=r,R.sibling=u,r.child=R,g=r.child,g.memoizedState=vm(o),g.childLanes=xm(n,A,o),r.memoizedState=_m,u):(Ia(r),bm(r,R))}if(B=n.memoizedState,B!==null&&(R=B.dehydrated,R!==null)){if(y)r.flags&256?(Ia(r),r.flags&=-257,r=wm(n,r,o)):r.memoizedState!==null?(ja(),r.child=n.child,r.flags|=128,r=null):(ja(),g=u.fallback,R=r.mode,u=Fh({mode:"visible",children:u.children},R),g=Kr(g,R,o,null),g.flags|=2,u.return=r,g.return=r,u.sibling=g,r.child=u,Ll(r,n.child,null,o),u=r.child,u.memoizedState=vm(o),u.childLanes=xm(n,A,o),r.memoizedState=_m,r=g);else if(Ia(r),ip(R)){if(A=R.nextSibling&&R.nextSibling.dataset,A)var ee=A.dgst;A=ee,u=Error(s(419)),u.stack="",u.digest=A,Sa({value:u,source:null,stack:null}),r=wm(n,r,o)}else if(wn||ko(n,r,o,!1),A=(o&n.childLanes)!==0,wn||A){if(A=Ct,A!==null&&(u=o&-o,u=(u&42)!==0?1:po(u),u=(u&(A.suspendedLanes|o))!==0?0:u,u!==0&&u!==B.retryLane))throw B.retryLane=u,wa(n,u),zi(A,n,u),D_;R.data==="$?"||zm(),r=wm(n,r,o)}else R.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=B.treeContext,Le=Ar(R.nextSibling),Ie=r,We=!0,Nt=null,Bt=!1,n!==null&&(p[x++]=C,p[x++]=z,p[x++]=T,C=n.id,z=n.overflow,T=r),r=bm(r,u.children),r.flags|=4096);return r}return g?(ja(),g=u.fallback,R=r.mode,B=n.child,ee=B.sibling,u=nr(B,{mode:"hidden",children:u.children}),u.subtreeFlags=B.subtreeFlags&65011712,ee!==null?g=nr(ee,g):(g=Kr(g,R,o,null),g.flags|=2),g.return=r,u.return=r,u.sibling=g,r.child=u,u=g,g=r.child,R=n.child.memoizedState,R===null?R=vm(o):(B=R.cachePool,B!==null?(ee=cn._currentValue,B=B.parent!==ee?{parent:ee,pool:ee}:B):B=jy(),R={baseLanes:R.baseLanes|o,cachePool:B}),g.memoizedState=R,g.childLanes=xm(n,A,o),r.memoizedState=_m,u):(Ia(r),o=n.child,n=o.sibling,o=nr(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,n!==null&&(A=r.deletions,A===null?(r.deletions=[n],r.flags|=16):A.push(n)),r.child=o,r.memoizedState=null,o)}function bm(n,r){return r=Fh({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Fh(n,r){return n=ri(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function wm(n,r,o){return Ll(r,n.child,null,o),n=bm(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Z_(n,r,o){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),Oo(n.return,r,o)}function Em(n,r,o,u,g){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:g}:(y.isBackwards=r,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=o,y.tailMode=g)}function W_(n,r,o){var u=r.pendingProps,g=u.revealOrder,y=u.tail;if(Nn(n,r,u.children,o),u=un.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Z_(n,o,r);else if(n.tag===19)Z_(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(ve(un,u),g){case"forwards":for(o=r.child,g=null;o!==null;)n=o.alternate,n!==null&&Vh(n)===null&&(g=o),o=o.sibling;o=g,o===null?(g=r.child,r.child=null):(g=o.sibling,o.sibling=null),Em(r,!1,g,o,y);break;case"backwards":for(o=null,g=r.child,r.child=null;g!==null;){if(n=g.alternate,n!==null&&Vh(n)===null){r.child=g;break}n=g.sibling,g.sibling=o,o=g,g=n}Em(r,!0,o,null,y);break;case"together":Em(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Ds(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),Da|=r.lanes,(o&r.childLanes)===0)if(n!==null){if(ko(n,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,o=nr(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=nr(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function Tm(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&wh(n)))}function gT(n,r,o){switch(r.tag){case 3:it(r,r.stateNode.containerInfo),Yr(r,cn,n.memoizedState.cache),Ta();break;case 27:case 5:hs(r);break;case 4:it(r,r.stateNode.containerInfo);break;case 10:Yr(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Ia(r),r.flags|=128,null):(o&r.child.childLanes)!==0?G_(n,r,o):(Ia(r),n=Ds(n,r,o),n!==null?n.sibling:null);Ia(r);break;case 19:var g=(n.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(ko(n,r,o,!1),u=(o&r.childLanes)!==0),g){if(u)return W_(n,r,o);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ve(un,un.current),u)break;return null;case 22:case 23:return r.lanes=0,z_(n,r,o);case 24:Yr(r,cn,n.memoizedState.cache)}return Ds(n,r,o)}function K_(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps)wn=!0;else{if(!Tm(n,o)&&(r.flags&128)===0)return wn=!1,gT(n,r,o);wn=(n.flags&131072)!==0}else wn=!1,We&&(r.flags&1048576)!==0&&re(r,c,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var u=r.elementType,g=u._init;if(u=g(u._payload),r.type=u,typeof u=="function")El(u)?(n=Uo(u,n),r.tag=1,r=H_(null,r,u,n,o)):(r.tag=0,r=ym(null,r,u,n,o));else{if(u!=null){if(g=u.$$typeof,g===Ae){r.tag=11,r=M_(null,r,u,n,o);break e}else if(g===F){r.tag=14,r=V_(null,r,u,n,o);break e}}throw r=He(u)||u,Error(s(306,r,""))}}return r;case 0:return ym(n,r,r.type,r.pendingProps,o);case 1:return u=r.type,g=Uo(u,r.pendingProps),H_(n,r,u,g,o);case 3:e:{if(it(r,r.stateNode.containerInfo),n===null)throw Error(s(387));u=r.pendingProps;var y=r.memoizedState;g=y.element,Wf(n,r),qc(r,u,null,o);var A=r.memoizedState;if(u=A.cache,Yr(r,cn,u),u!==y.cache&&Sl(r,[cn],o,!0),Hc(),u=A.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:A.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=q_(n,r,u,o);break e}else if(u!==g){g=ni(Error(s(424)),r),Sa(g),r=q_(n,r,u,o);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Le=Ar(n.firstChild),Ie=r,We=!0,Nt=null,Bt=!0,o=A_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ta(),u===g){r=Ds(n,r,o);break e}Nn(n,r,u,o)}r=r.child}return r;case 26:return Bh(n,r),n===null?(o=X0(r.type,null,r.pendingProps,null))?r.memoizedState=o:We||(o=r.type,n=r.pendingProps,u=nd(we.current).createElement(o),u[Vt]=r,u[an]=n,Rn(u,o,n),Ut(u),r.stateNode=u):r.memoizedState=X0(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return hs(r),n===null&&We&&(u=r.stateNode=Y0(r.type,r.pendingProps,we.current),Ie=r,Bt=!0,g=Le,za(r.type)?(rp=g,Le=Ar(u.firstChild)):Le=g),Nn(n,r,r.pendingProps.children,o),Bh(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&We&&((g=u=Le)&&(u=qT(u,r.type,r.pendingProps,Bt),u!==null?(r.stateNode=u,Ie=r,Le=Ar(u.firstChild),Bt=!1,g=!0):g=!1),g||mi(r)),hs(r),g=r.type,y=r.pendingProps,A=n!==null?n.memoizedProps:null,u=y.children,ep(g,y)?u=null:A!==null&&ep(g,A)&&(r.flags|=32),r.memoizedState!==null&&(g=Jf(n,r,lT,null,null,o),du._currentValue=g),Bh(n,r),Nn(n,r,u,o),r.child;case 6:return n===null&&We&&((n=o=Le)&&(o=GT(o,r.pendingProps,Bt),o!==null?(r.stateNode=o,Ie=r,Le=null,n=!0):n=!1),n||mi(r)),null;case 13:return G_(n,r,o);case 4:return it(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=Ll(r,null,u,o):Nn(n,r,u,o),r.child;case 11:return M_(n,r,r.type,r.pendingProps,o);case 7:return Nn(n,r,r.pendingProps,o),r.child;case 8:return Nn(n,r,r.pendingProps.children,o),r.child;case 12:return Nn(n,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Yr(r,r.type,u.value),Nn(n,r,u.children,o),r.child;case 9:return g=r.type._context,u=r.pendingProps.children,Do(r),g=Dn(g),u=u(g),r.flags|=1,Nn(n,r,u,o),r.child;case 14:return V_(n,r,r.type,r.pendingProps,o);case 15:return U_(n,r,r.type,r.pendingProps,o);case 19:return W_(n,r,o);case 31:return u=r.pendingProps,o=r.mode,u={mode:u.mode,children:u.children},n===null?(o=Fh(u,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=nr(n.child,u),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return z_(n,r,o);case 24:return Do(r),u=Dn(cn),n===null?(g=qf(),g===null&&(g=Ct,y=Ff(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=o),g=y),r.memoizedState={parent:u,cache:g},Zf(r),Yr(r,cn,g)):((n.lanes&o)!==0&&(Wf(n,r),qc(r,null,null,o),Hc()),g=n.memoizedState,y=r.memoizedState,g.parent!==u?(g={parent:u,cache:u},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),Yr(r,cn,u)):(u=y.cache,Yr(r,cn,u),u!==g.cache&&Sl(r,[cn],o,!0))),Nn(n,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ms(n){n.flags|=4}function Y_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!iv(r)){if(r=rr.current,r!==null&&((ft&4194048)===ft?$r!==null:(ft&62914560)!==ft&&(ft&536870912)===0||r!==$r))throw Bc=Gf,Py;n.flags|=8192}}function Hh(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?ur():536870912,n.lanes|=r,Ml|=r)}function Qc(n,r){if(!We)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Ft(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(r)for(var g=n.child;g!==null;)o|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)o|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=u,n.childLanes=o,r}function yT(n,r,o){var u=r.pendingProps;switch(Te(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(r),null;case 1:return Ft(r),null;case 3:return o=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Tr(cn),si(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Lo(r)?Ms(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,bh())),Ft(r),null;case 26:return o=r.memoizedState,n===null?(Ms(r),o!==null?(Ft(r),Y_(r,o)):(Ft(r),r.flags&=-16777217)):o?o!==n.memoizedState?(Ms(r),Ft(r),Y_(r,o)):(Ft(r),r.flags&=-16777217):(n.memoizedProps!==u&&Ms(r),Ft(r),r.flags&=-16777217),null;case 27:Dr(r),o=we.current;var g=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==u&&Ms(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Ft(r),null}n=Ee.current,Lo(r)?vh(r):(n=Y0(g,u,o),r.stateNode=n,Ms(r))}return Ft(r),null;case 5:if(Dr(r),o=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&Ms(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Ft(r),null}if(n=Ee.current,Lo(r))vh(r);else{switch(g=nd(we.current),n){case 1:n=g.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=g.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=g.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?g.createElement("select",{is:u.is}):g.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?g.createElement(o,{is:u.is}):g.createElement(o)}}n[Vt]=r,n[an]=u;e:for(g=r.child;g!==null;){if(g.tag===5||g.tag===6)n.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===r)break e;for(;g.sibling===null;){if(g.return===null||g.return===r)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}r.stateNode=n;e:switch(Rn(n,o,u),o){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Ms(r)}}return Ft(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&Ms(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(n=we.current,Lo(r)){if(n=r.stateNode,o=r.memoizedProps,u=null,g=Ie,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}n[Vt]=r,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||F0(n.nodeValue,o)),n||mi(r)}else n=nd(n).createTextNode(u),n[Vt]=r,r.stateNode=n}return Ft(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=Lo(r),u!==null&&u.dehydrated!==null){if(n===null){if(!g)throw Error(s(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[Vt]=r}else Ta(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ft(r),g=!1}else g=bh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(ks(r),r):(ks(r),null)}if(ks(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=u!==null,n=n!==null&&n.memoizedState!==null,o){u=r.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==g&&(u.flags|=2048)}return o!==n&&o&&(r.child.flags|=8192),Hh(r,r.updateQueue),Ft(r),null;case 4:return si(),n===null&&Ym(r.stateNode.containerInfo),Ft(r),null;case 10:return Tr(r.type),Ft(r),null;case 19:if(_e(un),g=r.memoizedState,g===null)return Ft(r),null;if(u=(r.flags&128)!==0,y=g.rendering,y===null)if(u)Qc(g,!1);else{if(Gt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(y=Vh(n),y!==null){for(r.flags|=128,Qc(g,!1),n=y.updateQueue,r.updateQueue=n,Hh(r,n),r.subtreeFlags=0,n=o,o=r.child;o!==null;)Dc(o,n),o=o.sibling;return ve(un,un.current&1|2),r.child}n=n.sibling}g.tail!==null&&fn()>Zh&&(r.flags|=128,u=!0,Qc(g,!1),r.lanes=4194304)}else{if(!u)if(n=Vh(y),n!==null){if(r.flags|=128,u=!0,n=n.updateQueue,r.updateQueue=n,Hh(r,n),Qc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!We)return Ft(r),null}else 2*fn()-g.renderingStartTime>Zh&&o!==536870912&&(r.flags|=128,u=!0,Qc(g,!1),r.lanes=4194304);g.isBackwards?(y.sibling=r.child,r.child=y):(n=g.last,n!==null?n.sibling=y:r.child=y,g.last=y)}return g.tail!==null?(r=g.tail,g.rendering=r,g.tail=r.sibling,g.renderingStartTime=fn(),r.sibling=null,n=un.current,ve(un,u?n&1|2:n&1),r):(Ft(r),null);case 22:case 23:return ks(r),Qf(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(Ft(r),r.subtreeFlags&6&&(r.flags|=8192)):Ft(r),o=r.updateQueue,o!==null&&Hh(r,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),n!==null&&_e(Mo),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Tr(cn),Ft(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function _T(n,r){switch(Te(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Tr(cn),si(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Dr(r),null;case 13:if(ks(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ta()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return _e(un),null;case 4:return si(),null;case 10:return Tr(r.type),null;case 22:case 23:return ks(r),Qf(),n!==null&&_e(Mo),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Tr(cn),null;case 25:return null;default:return null}}function $_(n,r){switch(Te(r),r.tag){case 3:Tr(cn),si();break;case 26:case 27:case 5:Dr(r);break;case 4:si();break;case 13:ks(r);break;case 19:_e(un);break;case 10:Tr(r.type);break;case 22:case 23:ks(r),Qf(),n!==null&&_e(Mo);break;case 24:Tr(cn)}}function Xc(n,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var g=u.next;o=g;do{if((o.tag&n)===n){u=void 0;var y=o.create,A=o.inst;u=y(),A.destroy=u}o=o.next}while(o!==g)}}catch(R){At(r,r.return,R)}}function Pa(n,r,o){try{var u=r.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var y=g.next;u=y;do{if((u.tag&n)===n){var A=u.inst,R=A.destroy;if(R!==void 0){A.destroy=void 0,g=r;var B=o,ee=R;try{ee()}catch(ue){At(g,B,ue)}}}u=u.next}while(u!==y)}}catch(ue){At(r,r.return,ue)}}function Q_(n){var r=n.updateQueue;if(r!==null){var o=n.stateNode;try{Vy(r,o)}catch(u){At(n,n.return,u)}}}function X_(n,r,o){o.props=Uo(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){At(n,r,u)}}function Jc(n,r){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(g){At(n,r,g)}}function Qr(n,r){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(g){At(n,r,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(g){At(n,r,g)}else o.current=null}function J_(n){var r=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(g){At(n,n.return,g)}}function Sm(n,r,o){try{var u=n.stateNode;UT(u,n.type,o,r),u[an]=r}catch(g){At(n,n.return,g)}}function e0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&za(n.type)||n.tag===4}function Am(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||e0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&za(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Nm(n,r,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(n),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=td));else if(u!==4&&(u===27&&za(n.type)&&(o=n.stateNode,r=null),n=n.child,n!==null))for(Nm(n,r,o),n=n.sibling;n!==null;)Nm(n,r,o),n=n.sibling}function qh(n,r,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?o.insertBefore(n,r):o.appendChild(n);else if(u!==4&&(u===27&&za(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(qh(n,r,o),n=n.sibling;n!==null;)qh(n,r,o),n=n.sibling}function t0(n){var r=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);Rn(r,u,o),r[Vt]=n,r[an]=o}catch(y){At(n,n.return,y)}}var Vs=!1,$t=!1,Cm=!1,n0=typeof WeakSet=="function"?WeakSet:Set,En=null;function vT(n,r){if(n=n.containerInfo,Xm=ld,n=Ao(n),No(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var g=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var A=0,R=-1,B=-1,ee=0,ue=0,pe=n,te=null;t:for(;;){for(var ie;pe!==o||g!==0&&pe.nodeType!==3||(R=A+g),pe!==y||u!==0&&pe.nodeType!==3||(B=A+u),pe.nodeType===3&&(A+=pe.nodeValue.length),(ie=pe.firstChild)!==null;)te=pe,pe=ie;for(;;){if(pe===n)break t;if(te===o&&++ee===g&&(R=A),te===y&&++ue===u&&(B=A),(ie=pe.nextSibling)!==null)break;pe=te,te=pe.parentNode}pe=ie}o=R===-1||B===-1?null:{start:R,end:B}}else o=null}o=o||{start:0,end:0}}else o=null;for(Jm={focusedElem:n,selectionRange:o},ld=!1,En=r;En!==null;)if(r=En,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,En=n;else for(;En!==null;){switch(r=En,y=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,o=r,g=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var Ze=Uo(o.type,g,o.elementType===o.type);n=u.getSnapshotBeforeUpdate(Ze,y),u.__reactInternalSnapshotBeforeUpdate=n}catch(Ue){At(o,o.return,Ue)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,o=n.nodeType,o===9)np(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":np(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,En=n;break}En=r.return}}function i0(n,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:La(n,o),u&4&&Xc(5,o);break;case 1:if(La(n,o),u&4)if(n=o.stateNode,r===null)try{n.componentDidMount()}catch(A){At(o,o.return,A)}else{var g=Uo(o.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(g,r,n.__reactInternalSnapshotBeforeUpdate)}catch(A){At(o,o.return,A)}}u&64&&Q_(o),u&512&&Jc(o,o.return);break;case 3:if(La(n,o),u&64&&(n=o.updateQueue,n!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Vy(n,r)}catch(A){At(o,o.return,A)}}break;case 27:r===null&&u&4&&t0(o);case 26:case 5:La(n,o),r===null&&u&4&&J_(o),u&512&&Jc(o,o.return);break;case 12:La(n,o);break;case 13:La(n,o),u&4&&a0(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=CT.bind(null,o),ZT(n,o))));break;case 22:if(u=o.memoizedState!==null||Vs,!u){r=r!==null&&r.memoizedState!==null||$t,g=Vs;var y=$t;Vs=u,($t=r)&&!y?Oa(n,o,(o.subtreeFlags&8772)!==0):La(n,o),Vs=g,$t=y}break;case 30:break;default:La(n,o)}}function r0(n){var r=n.alternate;r!==null&&(n.alternate=null,r0(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&ps(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Dt=null,gi=!1;function Us(n,r,o){for(o=o.child;o!==null;)s0(n,r,o),o=o.sibling}function s0(n,r,o){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Hi,o)}catch{}switch(o.tag){case 26:$t||Qr(o,r),Us(n,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:$t||Qr(o,r);var u=Dt,g=gi;za(o.type)&&(Dt=o.stateNode,gi=!1),Us(n,r,o),lu(o.stateNode),Dt=u,gi=g;break;case 5:$t||Qr(o,r);case 6:if(u=Dt,g=gi,Dt=null,Us(n,r,o),Dt=u,gi=g,Dt!==null)if(gi)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(o.stateNode)}catch(y){At(o,r,y)}else try{Dt.removeChild(o.stateNode)}catch(y){At(o,r,y)}break;case 18:Dt!==null&&(gi?(n=Dt,W0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),gu(n)):W0(Dt,o.stateNode));break;case 4:u=Dt,g=gi,Dt=o.stateNode.containerInfo,gi=!0,Us(n,r,o),Dt=u,gi=g;break;case 0:case 11:case 14:case 15:$t||Pa(2,o,r),$t||Pa(4,o,r),Us(n,r,o);break;case 1:$t||(Qr(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&X_(o,r,u)),Us(n,r,o);break;case 21:Us(n,r,o);break;case 22:$t=(u=$t)||o.memoizedState!==null,Us(n,r,o),$t=u;break;default:Us(n,r,o)}}function a0(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{gu(n)}catch(o){At(r,r.return,o)}}function xT(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new n0),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new n0),r;default:throw Error(s(435,n.tag))}}function Rm(n,r){var o=xT(n);r.forEach(function(u){var g=RT.bind(null,n,u);o.has(u)||(o.add(u),u.then(g,g))})}function Di(n,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var g=o[u],y=n,A=r,R=A;e:for(;R!==null;){switch(R.tag){case 27:if(za(R.type)){Dt=R.stateNode,gi=!1;break e}break;case 5:Dt=R.stateNode,gi=!1;break e;case 3:case 4:Dt=R.stateNode.containerInfo,gi=!0;break e}R=R.return}if(Dt===null)throw Error(s(160));s0(y,A,g),Dt=null,gi=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)o0(r,n),r=r.sibling}var Sr=null;function o0(n,r){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Di(r,n),Mi(n),u&4&&(Pa(3,n,n.return),Xc(3,n),Pa(5,n,n.return));break;case 1:Di(r,n),Mi(n),u&512&&($t||o===null||Qr(o,o.return)),u&64&&Vs&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var g=Sr;if(Di(r,n),Mi(n),u&512&&($t||o===null||Qr(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":y=g.getElementsByTagName("title")[0],(!y||y[fr]||y[Vt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(u),g.head.insertBefore(y,g.querySelector("head > title"))),Rn(y,u,o),y[Vt]=n,Ut(y),u=y;break e;case"link":var A=tv("link","href",g).get(u+(o.href||""));if(A){for(var R=0;R<A.length;R++)if(y=A[R],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){A.splice(R,1);break t}}y=g.createElement(u),Rn(y,u,o),g.head.appendChild(y);break;case"meta":if(A=tv("meta","content",g).get(u+(o.content||""))){for(R=0;R<A.length;R++)if(y=A[R],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){A.splice(R,1);break t}}y=g.createElement(u),Rn(y,u,o),g.head.appendChild(y);break;default:throw Error(s(468,u))}y[Vt]=n,Ut(y),u=y}n.stateNode=u}else nv(g,n.type,n.stateNode);else n.stateNode=ev(g,u,n.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?nv(g,n.type,n.stateNode):ev(g,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Sm(n,n.memoizedProps,o.memoizedProps)}break;case 27:Di(r,n),Mi(n),u&512&&($t||o===null||Qr(o,o.return)),o!==null&&u&4&&Sm(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Di(r,n),Mi(n),u&512&&($t||o===null||Qr(o,o.return)),n.flags&32){g=n.stateNode;try{gn(g,"")}catch(ie){At(n,n.return,ie)}}u&4&&n.stateNode!=null&&(g=n.memoizedProps,Sm(n,g,o!==null?o.memoizedProps:g)),u&1024&&(Cm=!0);break;case 6:if(Di(r,n),Mi(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(ie){At(n,n.return,ie)}}break;case 3:if(sd=null,g=Sr,Sr=id(r.containerInfo),Di(r,n),Sr=g,Mi(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{gu(r.containerInfo)}catch(ie){At(n,n.return,ie)}Cm&&(Cm=!1,l0(n));break;case 4:u=Sr,Sr=id(n.stateNode.containerInfo),Di(r,n),Mi(n),Sr=u;break;case 12:Di(r,n),Mi(n);break;case 13:Di(r,n),Mi(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(km=fn()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Rm(n,u)));break;case 22:g=n.memoizedState!==null;var B=o!==null&&o.memoizedState!==null,ee=Vs,ue=$t;if(Vs=ee||g,$t=ue||B,Di(r,n),$t=ue,Vs=ee,Mi(n),u&8192)e:for(r=n.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(o===null||B||Vs||$t||zo(n)),o=null,r=n;;){if(r.tag===5||r.tag===26){if(o===null){B=o=r;try{if(y=B.stateNode,g)A=y.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{R=B.stateNode;var pe=B.memoizedProps.style,te=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;R.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ie){At(B,B.return,ie)}}}else if(r.tag===6){if(o===null){B=r;try{B.stateNode.nodeValue=g?"":B.memoizedProps}catch(ie){At(B,B.return,ie)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Rm(n,o))));break;case 19:Di(r,n),Mi(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Rm(n,u)));break;case 30:break;case 21:break;default:Di(r,n),Mi(n)}}function Mi(n){var r=n.flags;if(r&2){try{for(var o,u=n.return;u!==null;){if(e0(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var g=o.stateNode,y=Am(n);qh(n,y,g);break;case 5:var A=o.stateNode;o.flags&32&&(gn(A,""),o.flags&=-33);var R=Am(n);qh(n,R,A);break;case 3:case 4:var B=o.stateNode.containerInfo,ee=Am(n);Nm(n,ee,B);break;default:throw Error(s(161))}}catch(ue){At(n,n.return,ue)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function l0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;l0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function La(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)i0(n,r.alternate,r),r=r.sibling}function zo(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Pa(4,r,r.return),zo(r);break;case 1:Qr(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&X_(r,r.return,o),zo(r);break;case 27:lu(r.stateNode);case 26:case 5:Qr(r,r.return),zo(r);break;case 22:r.memoizedState===null&&zo(r);break;case 30:zo(r);break;default:zo(r)}n=n.sibling}}function Oa(n,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,g=n,y=r,A=y.flags;switch(y.tag){case 0:case 11:case 15:Oa(g,y,o),Xc(4,y);break;case 1:if(Oa(g,y,o),u=y,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ee){At(u,u.return,ee)}if(u=y,g=u.updateQueue,g!==null){var R=u.stateNode;try{var B=g.shared.hiddenCallbacks;if(B!==null)for(g.shared.hiddenCallbacks=null,g=0;g<B.length;g++)My(B[g],R)}catch(ee){At(u,u.return,ee)}}o&&A&64&&Q_(y),Jc(y,y.return);break;case 27:t0(y);case 26:case 5:Oa(g,y,o),o&&u===null&&A&4&&J_(y),Jc(y,y.return);break;case 12:Oa(g,y,o);break;case 13:Oa(g,y,o),o&&A&4&&a0(g,y);break;case 22:y.memoizedState===null&&Oa(g,y,o),Jc(y,y.return);break;case 30:break;default:Oa(g,y,o)}r=r.sibling}}function Im(n,r){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Vc(o))}function jm(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Vc(n))}function Xr(n,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)c0(n,r,o,u),r=r.sibling}function c0(n,r,o,u){var g=r.flags;switch(r.tag){case 0:case 11:case 15:Xr(n,r,o,u),g&2048&&Xc(9,r);break;case 1:Xr(n,r,o,u);break;case 3:Xr(n,r,o,u),g&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Vc(n)));break;case 12:if(g&2048){Xr(n,r,o,u),n=r.stateNode;try{var y=r.memoizedProps,A=y.id,R=y.onPostCommit;typeof R=="function"&&R(A,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(B){At(r,r.return,B)}}else Xr(n,r,o,u);break;case 13:Xr(n,r,o,u);break;case 23:break;case 22:y=r.stateNode,A=r.alternate,r.memoizedState!==null?y._visibility&2?Xr(n,r,o,u):eu(n,r):y._visibility&2?Xr(n,r,o,u):(y._visibility|=2,Ol(n,r,o,u,(r.subtreeFlags&10256)!==0)),g&2048&&Im(A,r);break;case 24:Xr(n,r,o,u),g&2048&&jm(r.alternate,r);break;default:Xr(n,r,o,u)}}function Ol(n,r,o,u,g){for(g=g&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var y=n,A=r,R=o,B=u,ee=A.flags;switch(A.tag){case 0:case 11:case 15:Ol(y,A,R,B,g),Xc(8,A);break;case 23:break;case 22:var ue=A.stateNode;A.memoizedState!==null?ue._visibility&2?Ol(y,A,R,B,g):eu(y,A):(ue._visibility|=2,Ol(y,A,R,B,g)),g&&ee&2048&&Im(A.alternate,A);break;case 24:Ol(y,A,R,B,g),g&&ee&2048&&jm(A.alternate,A);break;default:Ol(y,A,R,B,g)}r=r.sibling}}function eu(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=n,u=r,g=u.flags;switch(u.tag){case 22:eu(o,u),g&2048&&Im(u.alternate,u);break;case 24:eu(o,u),g&2048&&jm(u.alternate,u);break;default:eu(o,u)}r=r.sibling}}var tu=8192;function kl(n){if(n.subtreeFlags&tu)for(n=n.child;n!==null;)u0(n),n=n.sibling}function u0(n){switch(n.tag){case 26:kl(n),n.flags&tu&&n.memoizedState!==null&&s2(Sr,n.memoizedState,n.memoizedProps);break;case 5:kl(n);break;case 3:case 4:var r=Sr;Sr=id(n.stateNode.containerInfo),kl(n),Sr=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=tu,tu=16777216,kl(n),tu=r):kl(n));break;default:kl(n)}}function h0(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function nu(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];En=u,f0(u,n)}h0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)d0(n),n=n.sibling}function d0(n){switch(n.tag){case 0:case 11:case 15:nu(n),n.flags&2048&&Pa(9,n,n.return);break;case 3:nu(n);break;case 12:nu(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Gh(n)):nu(n);break;default:nu(n)}}function Gh(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];En=u,f0(u,n)}h0(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Pa(8,r,r.return),Gh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Gh(r));break;default:Gh(r)}n=n.sibling}}function f0(n,r){for(;En!==null;){var o=En;switch(o.tag){case 0:case 11:case 15:Pa(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Vc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,En=u;else e:for(o=n;En!==null;){u=En;var g=u.sibling,y=u.return;if(r0(u),u===o){En=null;break e}if(g!==null){g.return=y,En=g;break e}En=y}}}var bT={getCacheForType:function(n){var r=Dn(cn),o=r.data.get(n);return o===void 0&&(o=n(),r.data.set(n,o)),o}},wT=typeof WeakMap=="function"?WeakMap:Map,vt=0,Ct=null,rt=null,ft=0,xt=0,Vi=null,ka=!1,Dl=!1,Pm=!1,zs=0,Gt=0,Da=0,Bo=0,Lm=0,sr=0,Ml=0,iu=null,yi=null,Om=!1,km=0,Zh=1/0,Wh=null,Ma=null,Cn=0,Va=null,Vl=null,Ul=0,Dm=0,Mm=null,m0=null,ru=0,Vm=null;function Ui(){if((vt&2)!==0&&ft!==0)return ft&-ft;if(Y.T!==null){var n=Al;return n!==0?n:Gm()}return hr()}function p0(){sr===0&&(sr=(ft&536870912)===0||We?mo():536870912);var n=rr.current;return n!==null&&(n.flags|=32),sr}function zi(n,r,o){(n===Ct&&(xt===2||xt===9)||n.cancelPendingCommit!==null)&&(zl(n,0),Ua(n,ft,sr,!1)),Lt(n,o),((vt&2)===0||n!==Ct)&&(n===Ct&&((vt&2)===0&&(Bo|=o),Gt===4&&Ua(n,ft,sr,!1)),Jr(n))}function g0(n,r,o){if((vt&6)!==0)throw Error(s(327));var u=!o&&(r&124)===0&&(r&n.expiredLanes)===0||li(n,r),g=u?ST(n,r):Bm(n,r,!0),y=u;do{if(g===0){Dl&&!u&&Ua(n,r,0,!1);break}else{if(o=n.current.alternate,y&&!ET(o)){g=Bm(n,r,!1),y=!1;continue}if(g===2){if(y=r,n.errorRecoveryDisabledLanes&y)var A=0;else A=n.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){r=A;e:{var R=n;g=iu;var B=R.current.memoizedState.isDehydrated;if(B&&(zl(R,A).flags|=256),A=Bm(R,A,!1),A!==2){if(Pm&&!B){R.errorRecoveryDisabledLanes|=y,Bo|=y,g=4;break e}y=yi,yi=g,y!==null&&(yi===null?yi=y:yi.push.apply(yi,y))}g=A}if(y=!1,g!==2)continue}}if(g===1){zl(n,0),Ua(n,r,0,!0);break}e:{switch(u=n,y=g,y){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ua(u,r,sr,!ka);break e;case 2:yi=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(g=km+300-fn(),10<g)){if(Ua(u,r,sr,!ka),oi(u,0,!0)!==0)break e;u.timeoutHandle=G0(y0.bind(null,u,o,yi,Wh,Om,r,sr,Bo,Ml,ka,y,2,-0,0),g);break e}y0(u,o,yi,Wh,Om,r,sr,Bo,Ml,ka,y,0,-0,0)}}break}while(!0);Jr(n)}function y0(n,r,o,u,g,y,A,R,B,ee,ue,pe,te,ie){if(n.timeoutHandle=-1,pe=r.subtreeFlags,(pe&8192||(pe&16785408)===16785408)&&(hu={stylesheets:null,count:0,unsuspend:r2},u0(r),pe=a2(),pe!==null)){n.cancelPendingCommit=pe(T0.bind(null,n,r,y,o,u,g,A,R,B,ue,1,te,ie)),Ua(n,y,A,!ee);return}T0(n,r,y,o,u,g,A,R,B)}function ET(n){for(var r=n;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var g=o[u],y=g.getSnapshot;g=g.value;try{if(!ei(y(),g))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ua(n,r,o,u){r&=~Lm,r&=~Bo,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var g=r;0<g;){var y=31-An(g),A=1<<y;u[y]=-1,g&=~A}o!==0&&Mr(n,o,r)}function Kh(){return(vt&6)===0?(su(0),!1):!0}function Um(){if(rt!==null){if(xt===0)var n=rt.return;else n=rt,Er=ir=null,nm(n),Pl=null,Yc=0,n=rt;for(;n!==null;)$_(n.alternate,n),n=n.return;rt=null}}function zl(n,r){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,BT(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Um(),Ct=n,rt=o=nr(n.current,null),ft=r,xt=0,Vi=null,ka=!1,Dl=li(n,r),Pm=!1,Ml=sr=Lm=Bo=Da=Gt=0,yi=iu=null,Om=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var g=31-An(u),y=1<<g;r|=n[g],u&=~y}return zs=r,Ro(),o}function _0(n,r){Je=null,Y.H=kh,r===zc||r===Sh?(r=ky(),xt=3):r===Py?(r=ky(),xt=4):xt=r===D_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Vi=r,rt===null&&(Gt=1,zh(n,ni(r,n.current)))}function v0(){var n=Y.H;return Y.H=kh,n===null?kh:n}function x0(){var n=Y.A;return Y.A=bT,n}function zm(){Gt=4,ka||(ft&4194048)!==ft&&rr.current!==null||(Dl=!0),(Da&134217727)===0&&(Bo&134217727)===0||Ct===null||Ua(Ct,ft,sr,!1)}function Bm(n,r,o){var u=vt;vt|=2;var g=v0(),y=x0();(Ct!==n||ft!==r)&&(Wh=null,zl(n,r)),r=!1;var A=Gt;e:do try{if(xt!==0&&rt!==null){var R=rt,B=Vi;switch(xt){case 8:Um(),A=6;break e;case 3:case 2:case 9:case 6:rr.current===null&&(r=!0);var ee=xt;if(xt=0,Vi=null,Bl(n,R,B,ee),o&&Dl){A=0;break e}break;default:ee=xt,xt=0,Vi=null,Bl(n,R,B,ee)}}TT(),A=Gt;break}catch(ue){_0(n,ue)}while(!0);return r&&n.shellSuspendCounter++,Er=ir=null,vt=u,Y.H=g,Y.A=y,rt===null&&(Ct=null,ft=0,Ro()),A}function TT(){for(;rt!==null;)b0(rt)}function ST(n,r){var o=vt;vt|=2;var u=v0(),g=x0();Ct!==n||ft!==r?(Wh=null,Zh=fn()+500,zl(n,r)):Dl=li(n,r);e:do try{if(xt!==0&&rt!==null){r=rt;var y=Vi;t:switch(xt){case 1:xt=0,Vi=null,Bl(n,r,y,1);break;case 2:case 9:if(Ly(y)){xt=0,Vi=null,w0(r);break}r=function(){xt!==2&&xt!==9||Ct!==n||(xt=7),Jr(n)},y.then(r,r);break e;case 3:xt=7;break e;case 4:xt=5;break e;case 7:Ly(y)?(xt=0,Vi=null,w0(r)):(xt=0,Vi=null,Bl(n,r,y,7));break;case 5:var A=null;switch(rt.tag){case 26:A=rt.memoizedState;case 5:case 27:var R=rt;if(!A||iv(A)){xt=0,Vi=null;var B=R.sibling;if(B!==null)rt=B;else{var ee=R.return;ee!==null?(rt=ee,Yh(ee)):rt=null}break t}}xt=0,Vi=null,Bl(n,r,y,5);break;case 6:xt=0,Vi=null,Bl(n,r,y,6);break;case 8:Um(),Gt=6;break e;default:throw Error(s(462))}}AT();break}catch(ue){_0(n,ue)}while(!0);return Er=ir=null,Y.H=u,Y.A=g,vt=o,rt!==null?0:(Ct=null,ft=0,Ro(),Gt)}function AT(){for(;rt!==null&&!sl();)b0(rt)}function b0(n){var r=K_(n.alternate,n,zs);n.memoizedProps=n.pendingProps,r===null?Yh(n):rt=r}function w0(n){var r=n,o=r.alternate;switch(r.tag){case 15:case 0:r=F_(o,r,r.pendingProps,r.type,void 0,ft);break;case 11:r=F_(o,r,r.pendingProps,r.type.render,r.ref,ft);break;case 5:nm(r);default:$_(o,r),r=rt=Dc(r,zs),r=K_(o,r,zs)}n.memoizedProps=n.pendingProps,r===null?Yh(n):rt=r}function Bl(n,r,o,u){Er=ir=null,nm(r),Pl=null,Yc=0;var g=r.return;try{if(pT(n,g,r,o,ft)){Gt=1,zh(n,ni(o,n.current)),rt=null;return}}catch(y){if(g!==null)throw rt=g,y;Gt=1,zh(n,ni(o,n.current)),rt=null;return}r.flags&32768?(We||u===1?n=!0:Dl||(ft&536870912)!==0?n=!1:(ka=n=!0,(u===2||u===9||u===3||u===6)&&(u=rr.current,u!==null&&u.tag===13&&(u.flags|=16384))),E0(r,n)):Yh(r)}function Yh(n){var r=n;do{if((r.flags&32768)!==0){E0(r,ka);return}n=r.return;var o=yT(r.alternate,r,zs);if(o!==null){rt=o;return}if(r=r.sibling,r!==null){rt=r;return}rt=r=n}while(r!==null);Gt===0&&(Gt=5)}function E0(n,r){do{var o=_T(n.alternate,n);if(o!==null){o.flags&=32767,rt=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(n=n.sibling,n!==null)){rt=n;return}rt=n=o}while(n!==null);Gt=6,rt=null}function T0(n,r,o,u,g,y,A,R,B){n.cancelPendingCommit=null;do $h();while(Cn!==0);if((vt&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(y=r.lanes|r.childLanes,y|=ki,cl(n,o,y,A,R,B),n===Ct&&(rt=Ct=null,ft=0),Vl=r,Va=n,Ul=o,Dm=y,Mm=g,m0=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,IT(wi,function(){return R0(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null,g=me.p,me.p=2,A=vt,vt|=4;try{vT(n,r,o)}finally{vt=A,me.p=g,Y.T=u}}Cn=1,S0(),A0(),N0()}}function S0(){if(Cn===1){Cn=0;var n=Va,r=Vl,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null;var u=me.p;me.p=2;var g=vt;vt|=4;try{o0(r,n);var y=Jm,A=Ao(n.containerInfo),R=y.focusedElem,B=y.selectionRange;if(A!==R&&R&&R.ownerDocument&&_l(R.ownerDocument.documentElement,R)){if(B!==null&&No(R)){var ee=B.start,ue=B.end;if(ue===void 0&&(ue=ee),"selectionStart"in R)R.selectionStart=ee,R.selectionEnd=Math.min(ue,R.value.length);else{var pe=R.ownerDocument||document,te=pe&&pe.defaultView||window;if(te.getSelection){var ie=te.getSelection(),Ze=R.textContent.length,Ue=Math.min(B.start,Ze),Tt=B.end===void 0?Ue:Math.min(B.end,Ze);!ie.extend&&Ue>Tt&&(A=Tt,Tt=Ue,Ue=A);var $=Oc(R,Ue),W=Oc(R,Tt);if($&&W&&(ie.rangeCount!==1||ie.anchorNode!==$.node||ie.anchorOffset!==$.offset||ie.focusNode!==W.node||ie.focusOffset!==W.offset)){var J=pe.createRange();J.setStart($.node,$.offset),ie.removeAllRanges(),Ue>Tt?(ie.addRange(J),ie.extend(W.node,W.offset)):(J.setEnd(W.node,W.offset),ie.addRange(J))}}}}for(pe=[],ie=R;ie=ie.parentNode;)ie.nodeType===1&&pe.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<pe.length;R++){var de=pe[R];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}ld=!!Xm,Jm=Xm=null}finally{vt=g,me.p=u,Y.T=o}}n.current=r,Cn=2}}function A0(){if(Cn===2){Cn=0;var n=Va,r=Vl,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Y.T,Y.T=null;var u=me.p;me.p=2;var g=vt;vt|=4;try{i0(n,r.alternate,r)}finally{vt=g,me.p=u,Y.T=o}}Cn=3}}function N0(){if(Cn===4||Cn===3){Cn=0,na();var n=Va,r=Vl,o=Ul,u=m0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Cn=5:(Cn=0,Vl=Va=null,C0(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(Ma=null),go(o),r=r.stateNode,sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Hi,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Y.T,g=me.p,me.p=2,Y.T=null;try{for(var y=n.onRecoverableError,A=0;A<u.length;A++){var R=u[A];y(R.value,{componentStack:R.stack})}}finally{Y.T=r,me.p=g}}(Ul&3)!==0&&$h(),Jr(n),g=n.pendingLanes,(o&4194090)!==0&&(g&42)!==0?n===Vm?ru++:(ru=0,Vm=n):ru=0,su(0)}}function C0(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Vc(r)))}function $h(n){return S0(),A0(),N0(),R0()}function R0(){if(Cn!==5)return!1;var n=Va,r=Dm;Dm=0;var o=go(Ul),u=Y.T,g=me.p;try{me.p=32>o?32:o,Y.T=null,o=Mm,Mm=null;var y=Va,A=Ul;if(Cn=0,Vl=Va=null,Ul=0,(vt&6)!==0)throw Error(s(331));var R=vt;if(vt|=4,d0(y.current),c0(y,y.current,A,o),vt=R,su(0,!1),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Hi,y)}catch{}return!0}finally{me.p=g,Y.T=u,C0(n,r)}}function I0(n,r,o){r=ni(o,r),r=gm(n.stateNode,r,2),n=Ca(n,r,2),n!==null&&(Lt(n,2),Jr(n))}function At(n,r,o){if(n.tag===3)I0(n,n,o);else for(;r!==null;){if(r.tag===3){I0(r,n,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ma===null||!Ma.has(u))){n=ni(o,n),o=O_(2),u=Ca(r,o,2),u!==null&&(k_(o,u,r,n),Lt(u,2),Jr(u));break}}r=r.return}}function Fm(n,r,o){var u=n.pingCache;if(u===null){u=n.pingCache=new wT;var g=new Set;u.set(r,g)}else g=u.get(r),g===void 0&&(g=new Set,u.set(r,g));g.has(o)||(Pm=!0,g.add(o),n=NT.bind(null,n,r,o),r.then(n,n))}function NT(n,r,o){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Ct===n&&(ft&o)===o&&(Gt===4||Gt===3&&(ft&62914560)===ft&&300>fn()-km?(vt&2)===0&&zl(n,0):Lm|=o,Ml===ft&&(Ml=0)),Jr(n)}function j0(n,r){r===0&&(r=ur()),n=wa(n,r),n!==null&&(Lt(n,r),Jr(n))}function CT(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),j0(n,o)}function RT(n,r){var o=0;switch(n.tag){case 13:var u=n.stateNode,g=n.memoizedState;g!==null&&(o=g.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),j0(n,o)}function IT(n,r){return cr(n,r)}var Qh=null,Fl=null,Hm=!1,Xh=!1,qm=!1,Fo=0;function Jr(n){n!==Fl&&n.next===null&&(Fl===null?Qh=Fl=n:Fl=Fl.next=n),Xh=!0,Hm||(Hm=!0,PT())}function su(n,r){if(!qm&&Xh){qm=!0;do for(var o=!1,u=Qh;u!==null;){if(n!==0){var g=u.pendingLanes;if(g===0)var y=0;else{var A=u.suspendedLanes,R=u.pingedLanes;y=(1<<31-An(42|n)+1)-1,y&=g&~(A&~R),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,k0(u,y))}else y=ft,y=oi(u,u===Ct?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||li(u,y)||(o=!0,k0(u,y));u=u.next}while(o);qm=!1}}function jT(){P0()}function P0(){Xh=Hm=!1;var n=0;Fo!==0&&(zT()&&(n=Fo),Fo=0);for(var r=fn(),o=null,u=Qh;u!==null;){var g=u.next,y=L0(u,r);y===0?(u.next=null,o===null?Qh=g:o.next=g,g===null&&(Fl=o)):(o=u,(n!==0||(y&3)!==0)&&(Xh=!0)),u=g}su(n)}function L0(n,r){for(var o=n.suspendedLanes,u=n.pingedLanes,g=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var A=31-An(y),R=1<<A,B=g[A];B===-1?((R&o)===0||(R&u)!==0)&&(g[A]=ra(R,r)):B<=r&&(n.expiredLanes|=R),y&=~R}if(r=Ct,o=ft,o=oi(n,n===r?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===r&&(xt===2||xt===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&ta(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||li(n,o)){if(r=o&-o,r===n.callbackPriority)return r;switch(u!==null&&ta(u),go(o)){case 2:case 8:o=Kt;break;case 32:o=wi;break;case 268435456:o=ia;break;default:o=wi}return u=O0.bind(null,n),o=cr(o,u),n.callbackPriority=r,n.callbackNode=o,r}return u!==null&&u!==null&&ta(u),n.callbackPriority=2,n.callbackNode=null,2}function O0(n,r){if(Cn!==0&&Cn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if($h()&&n.callbackNode!==o)return null;var u=ft;return u=oi(n,n===Ct?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(g0(n,u,r),L0(n,fn()),n.callbackNode!=null&&n.callbackNode===o?O0.bind(null,n):null)}function k0(n,r){if($h())return null;g0(n,r,!0)}function PT(){FT(function(){(vt&6)!==0?cr(Wt,jT):P0()})}function Gm(){return Fo===0&&(Fo=mo()),Fo}function D0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Yn(""+n)}function M0(n,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,n.id&&o.setAttribute("form",n.id),r.parentNode.insertBefore(o,r),n=new FormData(n),o.parentNode.removeChild(o),n}function LT(n,r,o,u,g){if(r==="submit"&&o&&o.stateNode===g){var y=D0((g[an]||null).action),A=u.submitter;A&&(r=(r=A[an]||null)?D0(r.formAction):A.getAttribute("formAction"),r!==null&&(y=r,A=null));var R=new qr("action","action",null,u,g);n.push({event:R,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Fo!==0){var B=A?M0(g,A):new FormData(g);hm(o,{pending:!0,data:B,method:g.method,action:y},null,B)}}else typeof y=="function"&&(R.preventDefault(),B=A?M0(g,A):new FormData(g),hm(o,{pending:!0,data:B,method:g.method,action:y},y,B))},currentTarget:g}]})}}for(var Zm=0;Zm<Rs.length;Zm++){var Wm=Rs[Zm],OT=Wm.toLowerCase(),kT=Wm[0].toUpperCase()+Wm.slice(1);Oi(OT,"on"+kT)}Oi(gh,"onAnimationEnd"),Oi(Li,"onAnimationIteration"),Oi(Co,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(zf,"onTransitionRun"),Oi(wl,"onTransitionStart"),Oi(Bf,"onTransitionCancel"),Oi(kc,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),Zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(au));function V0(n,r){r=(r&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],g=u.event;u=u.listeners;e:{var y=void 0;if(r)for(var A=u.length-1;0<=A;A--){var R=u[A],B=R.instance,ee=R.currentTarget;if(R=R.listener,B!==y&&g.isPropagationStopped())break e;y=R,g.currentTarget=ee;try{y(g)}catch(ue){Uh(ue)}g.currentTarget=null,y=B}else for(A=0;A<u.length;A++){if(R=u[A],B=R.instance,ee=R.currentTarget,R=R.listener,B!==y&&g.isPropagationStopped())break e;y=R,g.currentTarget=ee;try{y(g)}catch(ue){Uh(ue)}g.currentTarget=null,y=B}}}}function st(n,r){var o=r[mn];o===void 0&&(o=r[mn]=new Set);var u=n+"__bubble";o.has(u)||(U0(r,n,2,!1),o.add(u))}function Km(n,r,o){var u=0;r&&(u|=4),U0(o,n,u,r)}var Jh="_reactListening"+Math.random().toString(36).slice(2);function Ym(n){if(!n[Jh]){n[Jh]=!0,hl.forEach(function(o){o!=="selectionchange"&&(DT.has(o)||Km(o,!1,n),Km(o,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Jh]||(r[Jh]=!0,Km("selectionchange",!1,r))}}function U0(n,r,o,u){switch(cv(r)){case 2:var g=c2;break;case 8:g=u2;break;default:g=cp}o=g.bind(null,r,o,n),g=void 0,!Ai||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),u?g!==void 0?n.addEventListener(r,o,{capture:!0,passive:g}):n.addEventListener(r,o,!0):g!==void 0?n.addEventListener(r,o,{passive:g}):n.addEventListener(r,o,!1)}function $m(n,r,o,u,g){var y=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var A=u.tag;if(A===3||A===4){var R=u.stateNode.containerInfo;if(R===g)break;if(A===4)for(A=u.return;A!==null;){var B=A.tag;if((B===3||B===4)&&A.stateNode.containerInfo===g)return;A=A.return}for(;R!==null;){if(A=ui(R),A===null)return;if(B=A.tag,B===5||B===6||B===26||B===27){u=y=A;continue e}R=R.parentNode}}u=u.return}yn(function(){var ee=y,ue=Br(o),pe=[];e:{var te=yh.get(n);if(te!==void 0){var ie=qr,Ze=n;switch(n){case"keypress":if(Pt(o)===0)break e;case"keydown":case"keyup":ie=da;break;case"focusin":Ze="focus",ie=la;break;case"focusout":Ze="blur",ie=la;break;case"beforeblur":case"afterblur":ie=la;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Ni;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=ml;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=Gr;break;case gh:case Li:case Co:ie=xo;break;case kc:ie=w;break;case"scroll":case"scrollend":ie=Ts;break;case"wheel":ie=j;break;case"copy":case"cut":case"paste":ie=ca;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=fa;break;case"toggle":case"beforetoggle":ie=ne}var Ue=(r&4)!==0,Tt=!Ue&&(n==="scroll"||n==="scrollend"),$=Ue?te!==null?te+"Capture":null:te;Ue=[];for(var W=ee,J;W!==null;){var de=W;if(J=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||J===null||$===null||(de=ht(W,$),de!=null&&Ue.push(ou(W,de,J))),Tt)break;W=W.return}0<Ue.length&&(te=new ie(te,Ze,null,o,ue),pe.push({event:te,listeners:Ue}))}}if((r&7)===0){e:{if(te=n==="mouseover"||n==="pointerover",ie=n==="mouseout"||n==="pointerout",te&&o!==Es&&(Ze=o.relatedTarget||o.fromElement)&&(ui(Ze)||Ze[dr]))break e;if((ie||te)&&(te=ue.window===ue?ue:(te=ue.ownerDocument)?te.defaultView||te.parentWindow:window,ie?(Ze=o.relatedTarget||o.toElement,ie=ee,Ze=Ze?ui(Ze):null,Ze!==null&&(Tt=h(Ze),Ue=Ze.tag,Ze!==Tt||Ue!==5&&Ue!==27&&Ue!==6)&&(Ze=null)):(ie=null,Ze=ee),ie!==Ze)){if(Ue=Ni,de="onMouseLeave",$="onMouseEnter",W="mouse",(n==="pointerout"||n==="pointerover")&&(Ue=fa,de="onPointerLeave",$="onPointerEnter",W="pointer"),Tt=ie==null?te:Gn(ie),J=Ze==null?te:Gn(Ze),te=new Ue(de,W+"leave",ie,o,ue),te.target=Tt,te.relatedTarget=J,de=null,ui(ue)===ee&&(Ue=new Ue($,W+"enter",Ze,o,ue),Ue.target=J,Ue.relatedTarget=Tt,de=Ue),Tt=de,ie&&Ze)t:{for(Ue=ie,$=Ze,W=0,J=Ue;J;J=Hl(J))W++;for(J=0,de=$;de;de=Hl(de))J++;for(;0<W-J;)Ue=Hl(Ue),W--;for(;0<J-W;)$=Hl($),J--;for(;W--;){if(Ue===$||$!==null&&Ue===$.alternate)break t;Ue=Hl(Ue),$=Hl($)}Ue=null}else Ue=null;ie!==null&&z0(pe,te,ie,Ue,!1),Ze!==null&&Tt!==null&&z0(pe,Tt,Ze,Ue,!0)}}e:{if(te=ee?Gn(ee):window,ie=te.nodeName&&te.nodeName.toLowerCase(),ie==="select"||ie==="input"&&te.type==="file")var Pe=ga;else if(Ns(te))if(jc)Pe=Uf;else{Pe=Vf;var nt=Lc}else ie=te.nodeName,!ie||ie.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&zr(ee.elementType)&&(Pe=ga):Pe=wr;if(Pe&&(Pe=Pe(n,ee))){dh(pe,Pe,o,ue);break e}nt&&nt(n,te,ee),n==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&Ur(te,"number",te.value)}switch(nt=ee?Gn(ee):window,n){case"focusin":(Ns(nt)||nt.contentEditable==="true")&&(Pi=nt,va=ee,Cs=null);break;case"focusout":Cs=va=Pi=null;break;case"mousedown":xl=!0;break;case"contextmenu":case"mouseup":case"dragend":xl=!1,mh(pe,o,ue);break;case"selectionchange":if(vl)break;case"keydown":case"keyup":mh(pe,o,ue)}var De;if(Be)e:{switch(n){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Ii?Xn(n,o)&&(Fe="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Fe="onCompositionStart");Fe&&(Ot&&o.locale!=="ko"&&(Ii||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Ii&&(De=Hr()):(On=ue,dt="value"in On?On.value:On.textContent,Ii=!0)),nt=ed(ee,Fe),0<nt.length&&(Fe=new kn(Fe,n,null,o,ue),pe.push({event:Fe,listeners:nt}),De?Fe.data=De:(De=Ri(o),De!==null&&(Fe.data=De)))),(De=pt?ma(n,o):Mf(n,o))&&(Fe=ed(ee,"onBeforeInput"),0<Fe.length&&(nt=new kn("onBeforeInput","beforeinput",null,o,ue),pe.push({event:nt,listeners:Fe}),nt.data=De)),LT(pe,n,ee,o,ue)}V0(pe,r)})}function ou(n,r,o){return{instance:n,listener:r,currentTarget:o}}function ed(n,r){for(var o=r+"Capture",u=[];n!==null;){var g=n,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=ht(n,o),g!=null&&u.unshift(ou(n,g,y)),g=ht(n,r),g!=null&&u.push(ou(n,g,y))),n.tag===3)return u;n=n.return}return[]}function Hl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function z0(n,r,o,u,g){for(var y=r._reactName,A=[];o!==null&&o!==u;){var R=o,B=R.alternate,ee=R.stateNode;if(R=R.tag,B!==null&&B===u)break;R!==5&&R!==26&&R!==27||ee===null||(B=ee,g?(ee=ht(o,y),ee!=null&&A.unshift(ou(o,ee,B))):g||(ee=ht(o,y),ee!=null&&A.push(ou(o,ee,B)))),o=o.return}A.length!==0&&n.push({event:r,listeners:A})}var MT=/\r\n?/g,VT=/\u0000|\uFFFD/g;function B0(n){return(typeof n=="string"?n:""+n).replace(MT,`
`).replace(VT,"")}function F0(n,r){return r=B0(r),B0(n)===r}function td(){}function Et(n,r,o,u,g,y){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||gn(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&gn(n,""+u);break;case"className":vs(n,"class",u);break;case"tabIndex":vs(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":vs(n,o,u);break;case"style":yr(n,u,y);break;case"data":if(r!=="object"){vs(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Yn(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(r!=="input"&&Et(n,r,"name",g.name,g,null),Et(n,r,"formEncType",g.formEncType,g,null),Et(n,r,"formMethod",g.formMethod,g,null),Et(n,r,"formTarget",g.formTarget,g,null)):(Et(n,r,"encType",g.encType,g,null),Et(n,r,"method",g.method,g,null),Et(n,r,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Yn(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=td);break;case"onScroll":u!=null&&st("scroll",n);break;case"onScrollEnd":u!=null&&st("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(g.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=Yn(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":st("beforetoggle",n),st("toggle",n),_s(n,"popover",u);break;case"xlinkActuate":hi(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":hi(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":hi(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":hi(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":hi(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":hi(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":hi(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":hi(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":hi(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":_s(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=aa.get(o)||o,_s(n,o,u))}}function Qm(n,r,o,u,g,y){switch(o){case"style":yr(n,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(g.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"children":typeof u=="string"?gn(n,u):(typeof u=="number"||typeof u=="bigint")&&gn(n,""+u);break;case"onScroll":u!=null&&st("scroll",n);break;case"onScrollEnd":u!=null&&st("scrollend",n);break;case"onClick":u!=null&&(n.onclick=td);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gs.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(g=o.endsWith("Capture"),r=o.slice(2,g?o.length-7:void 0),y=n[an]||null,y=y!=null?y[o]:null,typeof y=="function"&&n.removeEventListener(r,y,g),typeof u=="function")){typeof y!="function"&&y!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(r,u,g);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):_s(n,o,u)}}}function Rn(n,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",n),st("load",n);var u=!1,g=!1,y;for(y in o)if(o.hasOwnProperty(y)){var A=o[y];if(A!=null)switch(y){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Et(n,r,y,A,o,null)}}g&&Et(n,r,"srcSet",o.srcSet,o,null),u&&Et(n,r,"src",o.src,o,null);return;case"input":st("invalid",n);var R=y=A=g=null,B=null,ee=null;for(u in o)if(o.hasOwnProperty(u)){var ue=o[u];if(ue!=null)switch(u){case"name":g=ue;break;case"type":A=ue;break;case"checked":B=ue;break;case"defaultChecked":ee=ue;break;case"value":y=ue;break;case"defaultValue":R=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(s(137,r));break;default:Et(n,r,u,ue,o,null)}}_o(n,y,R,B,ee,A,g,!1),$i(n);return;case"select":st("invalid",n),u=A=y=null;for(g in o)if(o.hasOwnProperty(g)&&(R=o[g],R!=null))switch(g){case"value":y=R;break;case"defaultValue":A=R;break;case"multiple":u=R;default:Et(n,r,g,R,o,null)}r=y,o=A,n.multiple=!!u,r!=null?Ln(n,!!u,r,!1):o!=null&&Ln(n,!!u,o,!0);return;case"textarea":st("invalid",n),y=g=u=null;for(A in o)if(o.hasOwnProperty(A)&&(R=o[A],R!=null))switch(A){case"value":u=R;break;case"defaultValue":g=R;break;case"children":y=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(s(91));break;default:Et(n,r,A,R,o,null)}Qi(n,u,g,y),$i(n);return;case"option":for(B in o)if(o.hasOwnProperty(B)&&(u=o[B],u!=null))switch(B){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Et(n,r,B,u,o,null)}return;case"dialog":st("beforetoggle",n),st("toggle",n),st("cancel",n),st("close",n);break;case"iframe":case"object":st("load",n);break;case"video":case"audio":for(u=0;u<au.length;u++)st(au[u],n);break;case"image":st("error",n),st("load",n);break;case"details":st("toggle",n);break;case"embed":case"source":case"link":st("error",n),st("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in o)if(o.hasOwnProperty(ee)&&(u=o[ee],u!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Et(n,r,ee,u,o,null)}return;default:if(zr(r)){for(ue in o)o.hasOwnProperty(ue)&&(u=o[ue],u!==void 0&&Qm(n,r,ue,u,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(u=o[R],u!=null&&Et(n,r,R,u,o,null))}function UT(n,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,A=null,R=null,B=null,ee=null,ue=null;for(ie in o){var pe=o[ie];if(o.hasOwnProperty(ie)&&pe!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":B=pe;default:u.hasOwnProperty(ie)||Et(n,r,ie,null,u,pe)}}for(var te in u){var ie=u[te];if(pe=o[te],u.hasOwnProperty(te)&&(ie!=null||pe!=null))switch(te){case"type":y=ie;break;case"name":g=ie;break;case"checked":ee=ie;break;case"defaultChecked":ue=ie;break;case"value":A=ie;break;case"defaultValue":R=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,r));break;default:ie!==pe&&Et(n,r,te,ie,u,pe)}}pn(n,A,R,B,ee,ue,y,g);return;case"select":ie=A=R=te=null;for(y in o)if(B=o[y],o.hasOwnProperty(y)&&B!=null)switch(y){case"value":break;case"multiple":ie=B;default:u.hasOwnProperty(y)||Et(n,r,y,null,u,B)}for(g in u)if(y=u[g],B=o[g],u.hasOwnProperty(g)&&(y!=null||B!=null))switch(g){case"value":te=y;break;case"defaultValue":R=y;break;case"multiple":A=y;default:y!==B&&Et(n,r,g,y,u,B)}r=R,o=A,u=ie,te!=null?Ln(n,!!o,te,!1):!!u!=!!o&&(r!=null?Ln(n,!!o,r,!0):Ln(n,!!o,o?[]:"",!1));return;case"textarea":ie=te=null;for(R in o)if(g=o[R],o.hasOwnProperty(R)&&g!=null&&!u.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Et(n,r,R,null,u,g)}for(A in u)if(g=u[A],y=o[A],u.hasOwnProperty(A)&&(g!=null||y!=null))switch(A){case"value":te=g;break;case"defaultValue":ie=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==y&&Et(n,r,A,g,u,y)}jt(n,te,ie);return;case"option":for(var Ze in o)if(te=o[Ze],o.hasOwnProperty(Ze)&&te!=null&&!u.hasOwnProperty(Ze))switch(Ze){case"selected":n.selected=!1;break;default:Et(n,r,Ze,null,u,te)}for(B in u)if(te=u[B],ie=o[B],u.hasOwnProperty(B)&&te!==ie&&(te!=null||ie!=null))switch(B){case"selected":n.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:Et(n,r,B,te,u,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in o)te=o[Ue],o.hasOwnProperty(Ue)&&te!=null&&!u.hasOwnProperty(Ue)&&Et(n,r,Ue,null,u,te);for(ee in u)if(te=u[ee],ie=o[ee],u.hasOwnProperty(ee)&&te!==ie&&(te!=null||ie!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,r));break;default:Et(n,r,ee,te,u,ie)}return;default:if(zr(r)){for(var Tt in o)te=o[Tt],o.hasOwnProperty(Tt)&&te!==void 0&&!u.hasOwnProperty(Tt)&&Qm(n,r,Tt,void 0,u,te);for(ue in u)te=u[ue],ie=o[ue],!u.hasOwnProperty(ue)||te===ie||te===void 0&&ie===void 0||Qm(n,r,ue,te,u,ie);return}}for(var $ in o)te=o[$],o.hasOwnProperty($)&&te!=null&&!u.hasOwnProperty($)&&Et(n,r,$,null,u,te);for(pe in u)te=u[pe],ie=o[pe],!u.hasOwnProperty(pe)||te===ie||te==null&&ie==null||Et(n,r,pe,te,u,ie)}var Xm=null,Jm=null;function nd(n){return n.nodeType===9?n:n.ownerDocument}function H0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function q0(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function ep(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var tp=null;function zT(){var n=window.event;return n&&n.type==="popstate"?n===tp?!1:(tp=n,!0):(tp=null,!1)}var G0=typeof setTimeout=="function"?setTimeout:void 0,BT=typeof clearTimeout=="function"?clearTimeout:void 0,Z0=typeof Promise=="function"?Promise:void 0,FT=typeof queueMicrotask=="function"?queueMicrotask:typeof Z0<"u"?function(n){return Z0.resolve(null).then(n).catch(HT)}:G0;function HT(n){setTimeout(function(){throw n})}function za(n){return n==="head"}function W0(n,r){var o=r,u=0,g=0;do{var y=o.nextSibling;if(n.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<u&&8>u){o=u;var A=n.ownerDocument;if(o&1&&lu(A.documentElement),o&2&&lu(A.body),o&4)for(o=A.head,lu(o),A=o.firstChild;A;){var R=A.nextSibling,B=A.nodeName;A[fr]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&A.rel.toLowerCase()==="stylesheet"||o.removeChild(A),A=R}}if(g===0){n.removeChild(y),gu(r);return}g--}else o==="$"||o==="$?"||o==="$!"?g++:u=o.charCodeAt(0)-48;else u=0;o=y}while(o);gu(r)}function np(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":np(o),ps(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function qT(n,r,o,u){for(;n.nodeType===1;){var g=o;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[fr])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=Ar(n.nextSibling),n===null)break}return null}function GT(n,r,o){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Ar(n.nextSibling),n===null))return null;return n}function ip(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function ZT(n,r){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Ar(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var rp=null;function K0(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return n;r--}else o==="/$"&&r++}n=n.previousSibling}return null}function Y0(n,r,o){switch(r=nd(o),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function lu(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);ps(n)}var ar=new Map,$0=new Set;function id(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Bs=me.d;me.d={f:WT,r:KT,D:YT,C:$T,L:QT,m:XT,X:e2,S:JT,M:t2};function WT(){var n=Bs.f(),r=Kh();return n||r}function KT(n){var r=Ti(n);r!==null&&r.tag===5&&r.type==="form"?g_(r):Bs.r(n)}var ql=typeof document>"u"?null:document;function Q0(n,r,o){var u=ql;if(u&&typeof r=="string"&&r){var g=zt(r);g='link[rel="'+n+'"][href="'+g+'"]',typeof o=="string"&&(g+='[crossorigin="'+o+'"]'),$0.has(g)||($0.add(g),n={rel:n,crossOrigin:o,href:r},u.querySelector(g)===null&&(r=u.createElement("link"),Rn(r,"link",n),Ut(r),u.head.appendChild(r)))}}function YT(n){Bs.D(n),Q0("dns-prefetch",n,null)}function $T(n,r){Bs.C(n,r),Q0("preconnect",n,r)}function QT(n,r,o){Bs.L(n,r,o);var u=ql;if(u&&n&&r){var g='link[rel="preload"][as="'+zt(r)+'"]';r==="image"&&o&&o.imageSrcSet?(g+='[imagesrcset="'+zt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(g+='[imagesizes="'+zt(o.imageSizes)+'"]')):g+='[href="'+zt(n)+'"]';var y=g;switch(r){case"style":y=Gl(n);break;case"script":y=Zl(n)}ar.has(y)||(n=E({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:n,as:r},o),ar.set(y,n),u.querySelector(g)!==null||r==="style"&&u.querySelector(cu(y))||r==="script"&&u.querySelector(uu(y))||(r=u.createElement("link"),Rn(r,"link",n),Ut(r),u.head.appendChild(r)))}}function XT(n,r){Bs.m(n,r);var o=ql;if(o&&n){var u=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+zt(u)+'"][href="'+zt(n)+'"]',y=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Zl(n)}if(!ar.has(y)&&(n=E({rel:"modulepreload",href:n},r),ar.set(y,n),o.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(uu(y)))return}u=o.createElement("link"),Rn(u,"link",n),Ut(u),o.head.appendChild(u)}}}function JT(n,r,o){Bs.S(n,r,o);var u=ql;if(u&&n){var g=mr(u).hoistableStyles,y=Gl(n);r=r||"default";var A=g.get(y);if(!A){var R={loading:0,preload:null};if(A=u.querySelector(cu(y)))R.loading=5;else{n=E({rel:"stylesheet",href:n,"data-precedence":r},o),(o=ar.get(y))&&sp(n,o);var B=A=u.createElement("link");Ut(B),Rn(B,"link",n),B._p=new Promise(function(ee,ue){B.onload=ee,B.onerror=ue}),B.addEventListener("load",function(){R.loading|=1}),B.addEventListener("error",function(){R.loading|=2}),R.loading|=4,rd(A,r,u)}A={type:"stylesheet",instance:A,count:1,state:R},g.set(y,A)}}}function e2(n,r){Bs.X(n,r);var o=ql;if(o&&n){var u=mr(o).hoistableScripts,g=Zl(n),y=u.get(g);y||(y=o.querySelector(uu(g)),y||(n=E({src:n,async:!0},r),(r=ar.get(g))&&ap(n,r),y=o.createElement("script"),Ut(y),Rn(y,"link",n),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function t2(n,r){Bs.M(n,r);var o=ql;if(o&&n){var u=mr(o).hoistableScripts,g=Zl(n),y=u.get(g);y||(y=o.querySelector(uu(g)),y||(n=E({src:n,async:!0,type:"module"},r),(r=ar.get(g))&&ap(n,r),y=o.createElement("script"),Ut(y),Rn(y,"link",n),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function X0(n,r,o,u){var g=(g=we.current)?id(g):null;if(!g)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Gl(o.href),o=mr(g).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Gl(o.href);var y=mr(g).hoistableStyles,A=y.get(n);if(A||(g=g.ownerDocument||g,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,A),(y=g.querySelector(cu(n)))&&!y._p&&(A.instance=y,A.state.loading=5),ar.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ar.set(n,o),y||n2(g,n,o,A.state))),r&&u===null)throw Error(s(528,""));return A}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Zl(o),o=mr(g).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Gl(n){return'href="'+zt(n)+'"'}function cu(n){return'link[rel="stylesheet"]['+n+"]"}function J0(n){return E({},n,{"data-precedence":n.precedence,precedence:null})}function n2(n,r,o,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Rn(r,"link",o),Ut(r),n.head.appendChild(r))}function Zl(n){return'[src="'+zt(n)+'"]'}function uu(n){return"script[async]"+n}function ev(n,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+zt(o.href)+'"]');if(u)return r.instance=u,Ut(u),u;var g=E({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Ut(u),Rn(u,"style",g),rd(u,o.precedence,n),r.instance=u;case"stylesheet":g=Gl(o.href);var y=n.querySelector(cu(g));if(y)return r.state.loading|=4,r.instance=y,Ut(y),y;u=J0(o),(g=ar.get(g))&&sp(u,g),y=(n.ownerDocument||n).createElement("link"),Ut(y);var A=y;return A._p=new Promise(function(R,B){A.onload=R,A.onerror=B}),Rn(y,"link",u),r.state.loading|=4,rd(y,o.precedence,n),r.instance=y;case"script":return y=Zl(o.src),(g=n.querySelector(uu(y)))?(r.instance=g,Ut(g),g):(u=o,(g=ar.get(y))&&(u=E({},o),ap(u,g)),n=n.ownerDocument||n,g=n.createElement("script"),Ut(g),Rn(g,"link",u),n.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,rd(u,o.precedence,n));return r.instance}function rd(n,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,y=g,A=0;A<u.length;A++){var R=u[A];if(R.dataset.precedence===r)y=R;else if(y!==g)break}y?y.parentNode.insertBefore(n,y.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(n,r.firstChild))}function sp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function ap(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var sd=null;function tv(n,r,o){if(sd===null){var u=new Map,g=sd=new Map;g.set(o,u)}else g=sd,u=g.get(o),u||(u=new Map,g.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),g=0;g<o.length;g++){var y=o[g];if(!(y[fr]||y[Vt]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var A=y.getAttribute(r)||"";A=n+A;var R=u.get(A);R?R.push(y):u.set(A,[y])}}return u}function nv(n,r,o){n=n.ownerDocument||n,n.head.insertBefore(o,r==="title"?n.querySelector("head > title"):null)}function i2(n,r,o){if(o===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function iv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var hu=null;function r2(){}function s2(n,r,o){if(hu===null)throw Error(s(475));var u=hu;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var g=Gl(o.href),y=n.querySelector(cu(g));if(y){n=y._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=ad.bind(u),n.then(u,u)),r.state.loading|=4,r.instance=y,Ut(y);return}y=n.ownerDocument||n,o=J0(o),(g=ar.get(g))&&sp(o,g),y=y.createElement("link"),Ut(y);var A=y;A._p=new Promise(function(R,B){A.onload=R,A.onerror=B}),Rn(y,"link",o),r.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=ad.bind(u),n.addEventListener("load",r),n.addEventListener("error",r))}}function a2(){if(hu===null)throw Error(s(475));var n=hu;return n.stylesheets&&n.count===0&&op(n,n.stylesheets),0<n.count?function(r){var o=setTimeout(function(){if(n.stylesheets&&op(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(o)}}:null}function ad(){if(this.count--,this.count===0){if(this.stylesheets)op(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var od=null;function op(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,od=new Map,r.forEach(o2,n),od=null,ad.call(n))}function o2(n,r){if(!(r.state.loading&4)){var o=od.get(n);if(o)var u=o.get(null);else{o=new Map,od.set(n,o);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var A=g[y];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(o.set(A.dataset.precedence,A),u=A)}u&&o.set(null,u)}g=r.instance,A=g.getAttribute("data-precedence"),y=o.get(A)||u,y===u&&o.set(null,g),o.set(A,g),this.count++,u=ad.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),y?y.parentNode.insertBefore(g,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),r.state.loading|=4}}var du={$$typeof:ce,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function l2(n,r,o,u,g,y,A,R){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ms(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ms(0),this.hiddenUpdates=ms(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function rv(n,r,o,u,g,y,A,R,B,ee,ue,pe){return n=new l2(n,r,o,A,R,B,ee,pe),r=1,y===!0&&(r|=24),y=ri(3,null,null,r),n.current=y,y.stateNode=n,r=Ff(),r.refCount++,n.pooledCache=r,r.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:r},Zf(y),n}function sv(n){return n?(n=Ps,n):Ps}function av(n,r,o,u,g,y){g=sv(g),u.context===null?u.context=g:u.pendingContext=g,u=Na(r),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=Ca(n,u,r),o!==null&&(zi(o,n,r),Fc(o,n,r))}function ov(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function lp(n,r){ov(n,r),(n=n.alternate)&&ov(n,r)}function lv(n){if(n.tag===13){var r=wa(n,67108864);r!==null&&zi(r,n,67108864),lp(n,67108864)}}var ld=!0;function c2(n,r,o,u){var g=Y.T;Y.T=null;var y=me.p;try{me.p=2,cp(n,r,o,u)}finally{me.p=y,Y.T=g}}function u2(n,r,o,u){var g=Y.T;Y.T=null;var y=me.p;try{me.p=8,cp(n,r,o,u)}finally{me.p=y,Y.T=g}}function cp(n,r,o,u){if(ld){var g=up(u);if(g===null)$m(n,r,u,cd,o),uv(n,u);else if(d2(g,n,r,o,u))u.stopPropagation();else if(uv(n,u),r&4&&-1<h2.indexOf(n)){for(;g!==null;){var y=Ti(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var A=ai(y.pendingLanes);if(A!==0){var R=y;for(R.pendingLanes|=2,R.entangledLanes|=2;A;){var B=1<<31-An(A);R.entanglements[1]|=B,A&=~B}Jr(y),(vt&6)===0&&(Zh=fn()+500,su(0))}}break;case 13:R=wa(y,2),R!==null&&zi(R,y,2),Kh(),lp(y,2)}if(y=up(u),y===null&&$m(n,r,u,cd,o),y===g)break;g=y}g!==null&&u.stopPropagation()}else $m(n,r,u,null,o)}}function up(n){return n=Br(n),hp(n)}var cd=null;function hp(n){if(cd=null,n=ui(n),n!==null){var r=h(n);if(r===null)n=null;else{var o=r.tag;if(o===13){if(n=f(r),n!==null)return n;n=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return cd=n,null}function cv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ds()){case Wt:return 2;case Kt:return 8;case wi:case al:return 32;case ia:return 268435456;default:return 32}default:return 32}}var dp=!1,Ba=null,Fa=null,Ha=null,fu=new Map,mu=new Map,qa=[],h2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uv(n,r){switch(n){case"focusin":case"focusout":Ba=null;break;case"dragenter":case"dragleave":Fa=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":fu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":mu.delete(r.pointerId)}}function pu(n,r,o,u,g,y){return n===null||n.nativeEvent!==y?(n={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[g]},r!==null&&(r=Ti(r),r!==null&&lv(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),n)}function d2(n,r,o,u,g){switch(r){case"focusin":return Ba=pu(Ba,n,r,o,u,g),!0;case"dragenter":return Fa=pu(Fa,n,r,o,u,g),!0;case"mouseover":return Ha=pu(Ha,n,r,o,u,g),!0;case"pointerover":var y=g.pointerId;return fu.set(y,pu(fu.get(y)||null,n,r,o,u,g)),!0;case"gotpointercapture":return y=g.pointerId,mu.set(y,pu(mu.get(y)||null,n,r,o,u,g)),!0}return!1}function hv(n){var r=ui(n.target);if(r!==null){var o=h(r);if(o!==null){if(r=o.tag,r===13){if(r=f(o),r!==null){n.blockedOn=r,yo(n.priority,function(){if(o.tag===13){var u=Ui();u=po(u);var g=wa(o,u);g!==null&&zi(g,o,u),lp(o,u)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ud(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var o=up(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Es=u,o.target.dispatchEvent(u),Es=null}else return r=Ti(o),r!==null&&lv(r),n.blockedOn=o,!1;r.shift()}return!0}function dv(n,r,o){ud(n)&&o.delete(r)}function f2(){dp=!1,Ba!==null&&ud(Ba)&&(Ba=null),Fa!==null&&ud(Fa)&&(Fa=null),Ha!==null&&ud(Ha)&&(Ha=null),fu.forEach(dv),mu.forEach(dv)}function hd(n,r){n.blockedOn===r&&(n.blockedOn=null,dp||(dp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,f2)))}var dd=null;function fv(n){dd!==n&&(dd=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){dd===n&&(dd=null);for(var r=0;r<n.length;r+=3){var o=n[r],u=n[r+1],g=n[r+2];if(typeof u!="function"){if(hp(u||o)===null)continue;break}var y=Ti(o);y!==null&&(n.splice(r,3),r-=3,hm(y,{pending:!0,data:g,method:o.method,action:u},u,g))}}))}function gu(n){function r(B){return hd(B,n)}Ba!==null&&hd(Ba,n),Fa!==null&&hd(Fa,n),Ha!==null&&hd(Ha,n),fu.forEach(r),mu.forEach(r);for(var o=0;o<qa.length;o++){var u=qa[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<qa.length&&(o=qa[0],o.blockedOn===null);)hv(o),o.blockedOn===null&&qa.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var g=o[u],y=o[u+1],A=g[an]||null;if(typeof y=="function")A||fv(o);else if(A){var R=null;if(y&&y.hasAttribute("formAction")){if(g=y,A=y[an]||null)R=A.formAction;else if(hp(g)!==null)continue}else R=A.action;typeof R=="function"?o[u+1]=R:(o.splice(u,3),u-=3),fv(o)}}}function fp(n){this._internalRoot=n}fd.prototype.render=fp.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Ui();av(o,u,n,r,null,null)},fd.prototype.unmount=fp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;av(n.current,2,null,n,null,null),Kh(),r[dr]=null}};function fd(n){this._internalRoot=n}fd.prototype.unstable_scheduleHydration=function(n){if(n){var r=hr();n={blockedOn:null,target:n,priority:r};for(var o=0;o<qa.length&&r!==0&&r<qa[o].priority;o++);qa.splice(o,0,n),o===0&&hv(n)}};var mv=e.version;if(mv!=="19.1.1")throw Error(s(527,mv,"19.1.1"));me.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=v(r),n=n!==null?b(n):null,n=n===null?null:n.stateNode,n};var m2={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!md.isDisabled&&md.supportsFiber)try{Hi=md.inject(m2),sn=md}catch{}}return _u.createRoot=function(n,r){if(!l(n))throw Error(s(299));var o=!1,u="",g=I_,y=j_,A=P_,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks)),r=rv(n,1,!1,null,null,o,u,g,y,A,R,null),n[dr]=r.current,Ym(n),new fp(r)},_u.hydrateRoot=function(n,r,o){if(!l(n))throw Error(s(299));var u=!1,g="",y=I_,A=j_,R=P_,B=null,ee=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(A=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(B=o.unstable_transitionCallbacks),o.formState!==void 0&&(ee=o.formState)),r=rv(n,1,!0,r,o??null,u,g,y,A,R,B,ee),r.context=sv(null),o=r.current,u=Ui(),u=po(u),g=Na(u),g.callback=null,Ca(o,g,u),o=u,r.current.lanes=o,Lt(r,o),Jr(r),n[dr]=r.current,Ym(n),new fd(r)},_u.version="19.1.1",_u}var Tv;function E2(){if(Tv)return gp.exports;Tv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),gp.exports=w2(),gp.exports}var T2=E2();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Sv="popstate";function S2(i={}){function e(s,l){let{pathname:h,search:f,hash:_}=s.location;return Vp("",{pathname:h,search:f,hash:_},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(s,l){return typeof l=="string"?l:ku(l)}return N2(e,t,null,i)}function Mt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Rr(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function A2(){return Math.random().toString(36).substring(2,10)}function Av(i,e){return{usr:i.state,key:i.key,idx:e}}function Vp(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?dc(e):e,state:t,key:e&&e.key||s||A2()}}function ku({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function dc(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function N2(i,e,t,s={}){let{window:l=document.defaultView,v5Compat:h=!1}=s,f=l.history,_="POP",v=null,b=E();b==null&&(b=0,f.replaceState({...f.state,idx:b},""));function E(){return(f.state||{idx:null}).idx}function N(){_="POP";let H=E(),oe=H==null?null:H-b;b=H,v&&v({action:_,location:K.location,delta:oe})}function I(H,oe){_="PUSH";let le=Vp(K.location,H,oe);b=E()+1;let ce=Av(le,b),Ae=K.createHref(le);try{f.pushState(ce,"",Ae)}catch(xe){if(xe instanceof DOMException&&xe.name==="DataCloneError")throw xe;l.location.assign(Ae)}h&&v&&v({action:_,location:K.location,delta:1})}function Z(H,oe){_="REPLACE";let le=Vp(K.location,H,oe);b=E();let ce=Av(le,b),Ae=K.createHref(le);f.replaceState(ce,"",Ae),h&&v&&v({action:_,location:K.location,delta:0})}function U(H){return C2(H)}let K={get action(){return _},get location(){return i(l,f)},listen(H){if(v)throw new Error("A history only accepts one active listener");return l.addEventListener(Sv,N),v=H,()=>{l.removeEventListener(Sv,N),v=null}},createHref(H){return e(l,H)},createURL:U,encodeLocation(H){let oe=U(H);return{pathname:oe.pathname,search:oe.search,hash:oe.hash}},push:I,replace:Z,go(H){return f.go(H)}};return K}function C2(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Mt(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:ku(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function Ab(i,e,t="/"){return R2(i,e,t,!1)}function R2(i,e,t,s){let l=typeof e=="string"?dc(e):e,h=Ks(l.pathname||"/",t);if(h==null)return null;let f=Nb(i);I2(f);let _=null;for(let v=0;_==null&&v<f.length;++v){let b=B2(h);_=U2(f[v],b,s)}return _}function Nb(i,e=[],t=[],s="",l=!1){let h=(f,_,v=l,b)=>{let E={relativePath:b===void 0?f.path||"":b,caseSensitive:f.caseSensitive===!0,childrenIndex:_,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&v)return;Mt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let N=qs([s,E.relativePath]),I=t.concat(E);f.children&&f.children.length>0&&(Mt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${N}".`),Nb(f.children,e,I,N,v)),!(f.path==null&&!f.index)&&e.push({path:N,score:M2(N,f.index),routesMeta:I})};return i.forEach((f,_)=>{if(f.path===""||!f.path?.includes("?"))h(f,_);else for(let v of Cb(f.path))h(f,_,!0,v)}),e}function Cb(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,l=t.endsWith("?"),h=t.replace(/\?$/,"");if(s.length===0)return l?[h,""]:[h];let f=Cb(s.join("/")),_=[];return _.push(...f.map(v=>v===""?h:[h,v].join("/"))),l&&_.push(...f),_.map(v=>i.startsWith("/")&&v===""?"/":v)}function I2(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:V2(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var j2=/^:[\w-]+$/,P2=3,L2=2,O2=1,k2=10,D2=-2,Nv=i=>i==="*";function M2(i,e){let t=i.split("/"),s=t.length;return t.some(Nv)&&(s+=D2),e&&(s+=L2),t.filter(l=>!Nv(l)).reduce((l,h)=>l+(j2.test(h)?P2:h===""?O2:k2),s)}function V2(i,e){return i.length===e.length&&i.slice(0,-1).every((s,l)=>s===e[l])?i[i.length-1]-e[e.length-1]:0}function U2(i,e,t=!1){let{routesMeta:s}=i,l={},h="/",f=[];for(let _=0;_<s.length;++_){let v=s[_],b=_===s.length-1,E=h==="/"?e:e.slice(h.length)||"/",N=Vd({path:v.relativePath,caseSensitive:v.caseSensitive,end:b},E),I=v.route;if(!N&&b&&t&&!s[s.length-1].route.index&&(N=Vd({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},E)),!N)return null;Object.assign(l,N.params),f.push({params:l,pathname:qs([h,N.pathname]),pathnameBase:G2(qs([h,N.pathnameBase])),route:I}),N.pathnameBase!=="/"&&(h=qs([h,N.pathnameBase]))}return f}function Vd(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=z2(i.path,i.caseSensitive,i.end),l=e.match(t);if(!l)return null;let h=l[0],f=h.replace(/(.)\/+$/,"$1"),_=l.slice(1);return{params:s.reduce((b,{paramName:E,isOptional:N},I)=>{if(E==="*"){let U=_[I]||"";f=h.slice(0,h.length-U.length).replace(/(.)\/+$/,"$1")}const Z=_[I];return N&&!Z?b[E]=void 0:b[E]=(Z||"").replace(/%2F/g,"/"),b},{}),pathname:h,pathnameBase:f,pattern:i}}function z2(i,e=!1,t=!0){Rr(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,_,v)=>(s.push({paramName:_,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function B2(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rr(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Ks(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function F2(i,e="/"){let{pathname:t,search:s="",hash:l=""}=typeof i=="string"?dc(i):i;return{pathname:t?t.startsWith("/")?t:H2(t,e):e,search:Z2(s),hash:W2(l)}}function H2(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?t.length>1&&t.pop():l!=="."&&t.push(l)}),t.length>1?t.join("/"):"/"}function xp(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function q2(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function bg(i){let e=q2(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function wg(i,e,t,s=!1){let l;typeof i=="string"?l=dc(i):(l={...i},Mt(!l.pathname||!l.pathname.includes("?"),xp("?","pathname","search",l)),Mt(!l.pathname||!l.pathname.includes("#"),xp("#","pathname","hash",l)),Mt(!l.search||!l.search.includes("#"),xp("#","search","hash",l)));let h=i===""||l.pathname==="",f=h?"/":l.pathname,_;if(f==null)_=t;else{let N=e.length-1;if(!s&&f.startsWith("..")){let I=f.split("/");for(;I[0]==="..";)I.shift(),N-=1;l.pathname=I.join("/")}_=N>=0?e[N]:"/"}let v=F2(l,_),b=f&&f!=="/"&&f.endsWith("/"),E=(h||f===".")&&t.endsWith("/");return!v.pathname.endsWith("/")&&(b||E)&&(v.pathname+="/"),v}var qs=i=>i.join("/").replace(/\/\/+/g,"/"),G2=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Z2=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,W2=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function K2(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Rb=["POST","PUT","PATCH","DELETE"];new Set(Rb);var Y2=["GET",...Rb];new Set(Y2);var fc=G.createContext(null);fc.displayName="DataRouter";var af=G.createContext(null);af.displayName="DataRouterState";G.createContext(!1);var Ib=G.createContext({isTransitioning:!1});Ib.displayName="ViewTransition";var $2=G.createContext(new Map);$2.displayName="Fetchers";var Q2=G.createContext(null);Q2.displayName="Await";var Pr=G.createContext(null);Pr.displayName="Navigation";var Wu=G.createContext(null);Wu.displayName="Location";var Lr=G.createContext({outlet:null,matches:[],isDataRoute:!1});Lr.displayName="Route";var Eg=G.createContext(null);Eg.displayName="RouteError";function X2(i,{relative:e}={}){Mt(mc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=G.useContext(Pr),{hash:l,pathname:h,search:f}=Ku(i,{relative:e}),_=h;return t!=="/"&&(_=h==="/"?t:qs([t,h])),s.createHref({pathname:_,search:f,hash:l})}function mc(){return G.useContext(Wu)!=null}function Or(){return Mt(mc(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(Wu).location}var jb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Pb(i){G.useContext(Pr).static||G.useLayoutEffect(i)}function tl(){let{isDataRoute:i}=G.useContext(Lr);return i?fS():J2()}function J2(){Mt(mc(),"useNavigate() may be used only in the context of a <Router> component.");let i=G.useContext(fc),{basename:e,navigator:t}=G.useContext(Pr),{matches:s}=G.useContext(Lr),{pathname:l}=Or(),h=JSON.stringify(bg(s)),f=G.useRef(!1);return Pb(()=>{f.current=!0}),G.useCallback((v,b={})=>{if(Rr(f.current,jb),!f.current)return;if(typeof v=="number"){t.go(v);return}let E=wg(v,JSON.parse(h),l,b.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:qs([e,E.pathname])),(b.replace?t.replace:t.push)(E,b.state,b)},[e,t,h,l,i])}var eS=G.createContext(null);function tS(i){let e=G.useContext(Lr).outlet;return e&&G.createElement(eS.Provider,{value:i},e)}function Ku(i,{relative:e}={}){let{matches:t}=G.useContext(Lr),{pathname:s}=Or(),l=JSON.stringify(bg(t));return G.useMemo(()=>wg(i,JSON.parse(l),s,e==="path"),[i,l,s,e])}function nS(i,e){return Lb(i,e)}function Lb(i,e,t,s,l){Mt(mc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=G.useContext(Pr),{matches:f}=G.useContext(Lr),_=f[f.length-1],v=_?_.params:{},b=_?_.pathname:"/",E=_?_.pathnameBase:"/",N=_&&_.route;{let le=N&&N.path||"";Ob(b,!N||le.endsWith("*")||le.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${b}" (under <Route path="${le}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${le}"> to <Route path="${le==="/"?"*":`${le}/*`}">.`)}let I=Or(),Z;if(e){let le=typeof e=="string"?dc(e):e;Mt(E==="/"||le.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${le.pathname}" was given in the \`location\` prop.`),Z=le}else Z=I;let U=Z.pathname||"/",K=U;if(E!=="/"){let le=E.replace(/^\//,"").split("/");K="/"+U.replace(/^\//,"").split("/").slice(le.length).join("/")}let H=Ab(i,{pathname:K});Rr(N||H!=null,`No routes matched location "${Z.pathname}${Z.search}${Z.hash}" `),Rr(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${Z.pathname}${Z.search}${Z.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let oe=oS(H&&H.map(le=>Object.assign({},le,{params:Object.assign({},v,le.params),pathname:qs([E,h.encodeLocation?h.encodeLocation(le.pathname).pathname:le.pathname]),pathnameBase:le.pathnameBase==="/"?E:qs([E,h.encodeLocation?h.encodeLocation(le.pathnameBase).pathname:le.pathnameBase])})),f,t,s,l);return e&&oe?G.createElement(Wu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...Z},navigationType:"POP"}},oe):oe}function iS(){let i=dS(),e=K2(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},h={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:h},"ErrorBoundary")," or"," ",G.createElement("code",{style:h},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),t?G.createElement("pre",{style:l},t):null,f)}var rS=G.createElement(iS,null),sS=class extends G.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?G.createElement(Lr.Provider,{value:this.props.routeContext},G.createElement(Eg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aS({routeContext:i,match:e,children:t}){let s=G.useContext(fc);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(Lr.Provider,{value:i},t)}function oS(i,e=[],t=null,s=null,l=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let h=i,f=t?.errors;if(f!=null){let b=h.findIndex(E=>E.route.id&&f?.[E.route.id]!==void 0);Mt(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),h=h.slice(0,Math.min(h.length,b+1))}let _=!1,v=-1;if(t)for(let b=0;b<h.length;b++){let E=h[b];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(v=b),E.route.id){let{loaderData:N,errors:I}=t,Z=E.route.loader&&!N.hasOwnProperty(E.route.id)&&(!I||I[E.route.id]===void 0);if(E.route.lazy||Z){_=!0,v>=0?h=h.slice(0,v+1):h=[h[0]];break}}}return h.reduceRight((b,E,N)=>{let I,Z=!1,U=null,K=null;t&&(I=f&&E.route.id?f[E.route.id]:void 0,U=E.route.errorElement||rS,_&&(v<0&&N===0?(Ob("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Z=!0,K=null):v===N&&(Z=!0,K=E.route.hydrateFallbackElement||null)));let H=e.concat(h.slice(0,N+1)),oe=()=>{let le;return I?le=U:Z?le=K:E.route.Component?le=G.createElement(E.route.Component,null):E.route.element?le=E.route.element:le=b,G.createElement(aS,{match:E,routeContext:{outlet:b,matches:H,isDataRoute:t!=null},children:le})};return t&&(E.route.ErrorBoundary||E.route.errorElement||N===0)?G.createElement(sS,{location:t.location,revalidation:t.revalidation,component:U,error:I,children:oe(),routeContext:{outlet:null,matches:H,isDataRoute:!0},unstable_onError:s}):oe()},null)}function Tg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lS(i){let e=G.useContext(fc);return Mt(e,Tg(i)),e}function cS(i){let e=G.useContext(af);return Mt(e,Tg(i)),e}function uS(i){let e=G.useContext(Lr);return Mt(e,Tg(i)),e}function Sg(i){let e=uS(i),t=e.matches[e.matches.length-1];return Mt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function hS(){return Sg("useRouteId")}function dS(){let i=G.useContext(Eg),e=cS("useRouteError"),t=Sg("useRouteError");return i!==void 0?i:e.errors?.[t]}function fS(){let{router:i}=lS("useNavigate"),e=Sg("useNavigate"),t=G.useRef(!1);return Pb(()=>{t.current=!0}),G.useCallback(async(l,h={})=>{Rr(t.current,jb),t.current&&(typeof l=="number"?i.navigate(l):await i.navigate(l,{fromRouteId:e,...h}))},[i,e])}var Cv={};function Ob(i,e,t){!e&&!Cv[i]&&(Cv[i]=!0,Rr(!1,t))}G.memo(mS);function mS({routes:i,future:e,state:t,unstable_onError:s}){return Lb(i,void 0,t,s,e)}function kb({to:i,replace:e,state:t,relative:s}){Mt(mc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=G.useContext(Pr);Rr(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=G.useContext(Lr),{pathname:f}=Or(),_=tl(),v=wg(i,bg(h),f,s==="path"),b=JSON.stringify(v);return G.useEffect(()=>{_(JSON.parse(b),{replace:e,state:t,relative:s})},[_,b,s,e,t]),null}function pS(i){return tS(i.context)}function Un(i){Mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gS({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:l,static:h=!1}){Mt(!mc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),_=G.useMemo(()=>({basename:f,navigator:l,static:h,future:{}}),[f,l,h]);typeof t=="string"&&(t=dc(t));let{pathname:v="/",search:b="",hash:E="",state:N=null,key:I="default"}=t,Z=G.useMemo(()=>{let U=Ks(v,f);return U==null?null:{location:{pathname:U,search:b,hash:E,state:N,key:I},navigationType:s}},[f,v,b,E,N,I,s]);return Rr(Z!=null,`<Router basename="${f}"> is not able to match the URL "${v}${b}${E}" because it does not start with the basename, so the <Router> won't render anything.`),Z==null?null:G.createElement(Pr.Provider,{value:_},G.createElement(Wu.Provider,{children:e,value:Z}))}function yS({children:i,location:e}){return nS(Up(i),e)}function Up(i,e=[]){let t=[];return G.Children.forEach(i,(s,l)=>{if(!G.isValidElement(s))return;let h=[...e,l];if(s.type===G.Fragment){t.push.apply(t,Up(s.props.children,h));return}Mt(s.type===Un,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||h.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Up(s.props.children,h)),t.push(f)}),t}var Ed="get",Td="application/x-www-form-urlencoded";function of(i){return i!=null&&typeof i.tagName=="string"}function _S(i){return of(i)&&i.tagName.toLowerCase()==="button"}function vS(i){return of(i)&&i.tagName.toLowerCase()==="form"}function xS(i){return of(i)&&i.tagName.toLowerCase()==="input"}function bS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function wS(i,e){return i.button===0&&(!e||e==="_self")&&!bS(i)}var pd=null;function ES(){if(pd===null)try{new FormData(document.createElement("form"),0),pd=!1}catch{pd=!0}return pd}var TS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bp(i){return i!=null&&!TS.has(i)?(Rr(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Td}"`),null):i}function SS(i,e){let t,s,l,h,f;if(vS(i)){let _=i.getAttribute("action");s=_?Ks(_,e):null,t=i.getAttribute("method")||Ed,l=bp(i.getAttribute("enctype"))||Td,h=new FormData(i)}else if(_S(i)||xS(i)&&(i.type==="submit"||i.type==="image")){let _=i.form;if(_==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=i.getAttribute("formaction")||_.getAttribute("action");if(s=v?Ks(v,e):null,t=i.getAttribute("formmethod")||_.getAttribute("method")||Ed,l=bp(i.getAttribute("formenctype"))||bp(_.getAttribute("enctype"))||Td,h=new FormData(_,i),!ES()){let{name:b,type:E,value:N}=i;if(E==="image"){let I=b?`${b}.`:"";h.append(`${I}x`,"0"),h.append(`${I}y`,"0")}else b&&h.append(b,N)}}else{if(of(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ed,s=null,l=Td,f=i}return h&&l==="text/plain"&&(f=h,h=void 0),{action:s,method:t.toLowerCase(),encType:l,formData:h,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ag(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function AS(i,e,t){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&Ks(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function NS(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function RS(i,e,t){let s=await Promise.all(i.map(async l=>{let h=e.routes[l.route.id];if(h){let f=await NS(h,t);return f.links?f.links():[]}return[]}));return LS(s.flat(1).filter(CS).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Rv(i,e,t,s,l,h){let f=(v,b)=>t[b]?v.route.id!==t[b].route.id:!0,_=(v,b)=>t[b].pathname!==v.pathname||t[b].route.path?.endsWith("*")&&t[b].params["*"]!==v.params["*"];return h==="assets"?e.filter((v,b)=>f(v,b)||_(v,b)):h==="data"?e.filter((v,b)=>{let E=s.routes[v.route.id];if(!E||!E.hasLoader)return!1;if(f(v,b)||_(v,b))return!0;if(v.route.shouldRevalidate){let N=v.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof N=="boolean")return N}return!0}):[]}function IS(i,e,{includeHydrateFallback:t}={}){return jS(i.map(s=>{let l=e.routes[s.route.id];if(!l)return[];let h=[l.module];return l.clientActionModule&&(h=h.concat(l.clientActionModule)),l.clientLoaderModule&&(h=h.concat(l.clientLoaderModule)),t&&l.hydrateFallbackModule&&(h=h.concat(l.hydrateFallbackModule)),l.imports&&(h=h.concat(l.imports)),h}).flat(1))}function jS(i){return[...new Set(i)]}function PS(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function LS(i,e){let t=new Set;return new Set(e),i.reduce((s,l)=>{let h=JSON.stringify(PS(l));return t.has(h)||(t.add(h),s.push({key:h,link:l})),s},[])}function Db(){let i=G.useContext(fc);return Ag(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function OS(){let i=G.useContext(af);return Ag(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Ng=G.createContext(void 0);Ng.displayName="FrameworkContext";function Mb(){let i=G.useContext(Ng);return Ag(i,"You must render this element inside a <HydratedRouter> element"),i}function kS(i,e){let t=G.useContext(Ng),[s,l]=G.useState(!1),[h,f]=G.useState(!1),{onFocus:_,onBlur:v,onMouseEnter:b,onMouseLeave:E,onTouchStart:N}=e,I=G.useRef(null);G.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let K=oe=>{oe.forEach(le=>{f(le.isIntersecting)})},H=new IntersectionObserver(K,{threshold:.5});return I.current&&H.observe(I.current),()=>{H.disconnect()}}},[i]),G.useEffect(()=>{if(s){let K=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(K)}}},[s]);let Z=()=>{l(!0)},U=()=>{l(!1),f(!1)};return t?i!=="intent"?[h,I,{}]:[h,I,{onFocus:vu(_,Z),onBlur:vu(v,U),onMouseEnter:vu(b,Z),onMouseLeave:vu(E,U),onTouchStart:vu(N,Z)}]:[!1,I,{}]}function vu(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function DS({page:i,...e}){let{router:t}=Db(),s=G.useMemo(()=>Ab(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?G.createElement(VS,{page:i,matches:s,...e}):null}function MS(i){let{manifest:e,routeModules:t}=Mb(),[s,l]=G.useState([]);return G.useEffect(()=>{let h=!1;return RS(i,e,t).then(f=>{h||l(f)}),()=>{h=!0}},[i,e,t]),s}function VS({page:i,matches:e,...t}){let s=Or(),{manifest:l,routeModules:h}=Mb(),{basename:f}=Db(),{loaderData:_,matches:v}=OS(),b=G.useMemo(()=>Rv(i,e,v,l,s,"data"),[i,e,v,l,s]),E=G.useMemo(()=>Rv(i,e,v,l,s,"assets"),[i,e,v,l,s]),N=G.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let U=new Set,K=!1;if(e.forEach(oe=>{let le=l.routes[oe.route.id];!le||!le.hasLoader||(!b.some(ce=>ce.route.id===oe.route.id)&&oe.route.id in _&&h[oe.route.id]?.shouldRevalidate||le.hasClientLoader?K=!0:U.add(oe.route.id))}),U.size===0)return[];let H=AS(i,f,"data");return K&&U.size>0&&H.searchParams.set("_routes",e.filter(oe=>U.has(oe.route.id)).map(oe=>oe.route.id).join(",")),[H.pathname+H.search]},[f,_,s,l,b,e,i,h]),I=G.useMemo(()=>IS(E,l),[E,l]),Z=MS(E);return G.createElement(G.Fragment,null,N.map(U=>G.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...t})),I.map(U=>G.createElement("link",{key:U,rel:"modulepreload",href:U,...t})),Z.map(({key:U,link:K})=>G.createElement("link",{key:U,nonce:t.nonce,...K})))}function US(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Vb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Vb&&(window.__reactRouterVersion="7.9.1")}catch{}function zS({basename:i,children:e,window:t}){let s=G.useRef();s.current==null&&(s.current=S2({window:t,v5Compat:!0}));let l=s.current,[h,f]=G.useState({action:l.action,location:l.location}),_=G.useCallback(v=>{G.startTransition(()=>f(v))},[f]);return G.useLayoutEffect(()=>l.listen(_),[l,_]),G.createElement(gS,{basename:i,children:e,location:h.location,navigationType:h.action,navigator:l})}var Ub=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,et=G.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:l,reloadDocument:h,replace:f,state:_,target:v,to:b,preventScrollReset:E,viewTransition:N,...I},Z){let{basename:U}=G.useContext(Pr),K=typeof b=="string"&&Ub.test(b),H,oe=!1;if(typeof b=="string"&&K&&(H=b,Vb))try{let D=new URL(window.location.href),P=b.startsWith("//")?new URL(D.protocol+b):new URL(b),M=Ks(P.pathname,U);P.origin===D.origin&&M!=null?b=M+P.search+P.hash:oe=!0}catch{Rr(!1,`<Link to="${b}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let le=X2(b,{relative:l}),[ce,Ae,xe]=kS(s,I),Ve=HS(b,{replace:f,state:_,target:v,preventScrollReset:E,relative:l,viewTransition:N});function F(D){e&&e(D),D.defaultPrevented||Ve(D)}let O=G.createElement("a",{...I,...xe,href:H||le,onClick:oe||h?e:F,ref:US(Z,Ae),target:v,"data-discover":!K&&t==="render"?"true":void 0});return ce&&!K?G.createElement(G.Fragment,null,O,G.createElement(DS,{page:le})):O});et.displayName="Link";var bu=G.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:l=!1,style:h,to:f,viewTransition:_,children:v,...b},E){let N=Ku(f,{relative:b.relative}),I=Or(),Z=G.useContext(af),{navigator:U,basename:K}=G.useContext(Pr),H=Z!=null&&KS(N)&&_===!0,oe=U.encodeLocation?U.encodeLocation(N).pathname:N.pathname,le=I.pathname,ce=Z&&Z.navigation&&Z.navigation.location?Z.navigation.location.pathname:null;t||(le=le.toLowerCase(),ce=ce?ce.toLowerCase():null,oe=oe.toLowerCase()),ce&&K&&(ce=Ks(ce,K)||ce);const Ae=oe!=="/"&&oe.endsWith("/")?oe.length-1:oe.length;let xe=le===oe||!l&&le.startsWith(oe)&&le.charAt(Ae)==="/",Ve=ce!=null&&(ce===oe||!l&&ce.startsWith(oe)&&ce.charAt(oe.length)==="/"),F={isActive:xe,isPending:Ve,isTransitioning:H},O=xe?e:void 0,D;typeof s=="function"?D=s(F):D=[s,xe?"active":null,Ve?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let P=typeof h=="function"?h(F):h;return G.createElement(et,{...b,"aria-current":O,className:D,ref:E,style:P,to:f,viewTransition:_},typeof v=="function"?v(F):v)});bu.displayName="NavLink";var BS=G.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:l,state:h,method:f=Ed,action:_,onSubmit:v,relative:b,preventScrollReset:E,viewTransition:N,...I},Z)=>{let U=ZS(),K=WS(_,{relative:b}),H=f.toLowerCase()==="get"?"get":"post",oe=typeof _=="string"&&Ub.test(_),le=ce=>{if(v&&v(ce),ce.defaultPrevented)return;ce.preventDefault();let Ae=ce.nativeEvent.submitter,xe=Ae?.getAttribute("formmethod")||f;U(Ae||ce.currentTarget,{fetcherKey:e,method:xe,navigate:t,replace:l,state:h,relative:b,preventScrollReset:E,viewTransition:N})};return G.createElement("form",{ref:Z,method:H,action:K,onSubmit:s?v:le,...I,"data-discover":!oe&&i==="render"?"true":void 0})});BS.displayName="Form";function FS(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zb(i){let e=G.useContext(fc);return Mt(e,FS(i)),e}function HS(i,{target:e,replace:t,state:s,preventScrollReset:l,relative:h,viewTransition:f}={}){let _=tl(),v=Or(),b=Ku(i,{relative:h});return G.useCallback(E=>{if(wS(E,e)){E.preventDefault();let N=t!==void 0?t:ku(v)===ku(b);_(i,{replace:N,state:s,preventScrollReset:l,relative:h,viewTransition:f})}},[v,_,b,t,s,e,i,l,h,f])}var qS=0,GS=()=>`__${String(++qS)}__`;function ZS(){let{router:i}=zb("useSubmit"),{basename:e}=G.useContext(Pr),t=hS();return G.useCallback(async(s,l={})=>{let{action:h,method:f,encType:_,formData:v,body:b}=SS(s,e);if(l.navigate===!1){let E=l.fetcherKey||GS();await i.fetch(E,t,l.action||h,{preventScrollReset:l.preventScrollReset,formData:v,body:b,formMethod:l.method||f,formEncType:l.encType||_,flushSync:l.flushSync})}else await i.navigate(l.action||h,{preventScrollReset:l.preventScrollReset,formData:v,body:b,formMethod:l.method||f,formEncType:l.encType||_,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,e,t])}function WS(i,{relative:e}={}){let{basename:t}=G.useContext(Pr),s=G.useContext(Lr);Mt(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),h={...Ku(i||".",{relative:e})},f=Or();if(i==null){h.search=f.search;let _=new URLSearchParams(h.search),v=_.getAll("index");if(v.some(E=>E==="")){_.delete("index"),v.filter(N=>N).forEach(N=>_.append("index",N));let E=_.toString();h.search=E?`?${E}`:""}}return(!i||i===".")&&l.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(h.pathname=h.pathname==="/"?t:qs([t,h.pathname])),ku(h)}function KS(i,{relative:e}={}){let t=G.useContext(Ib);Mt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=zb("useViewTransitionState"),l=Ku(i,{relative:e});if(!t.isTransitioning)return!1;let h=Ks(t.currentLocation.pathname,s)||t.currentLocation.pathname,f=Ks(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Vd(l.pathname,f)!=null||Vd(l.pathname,h)!=null}var YS=Sb();const $S=()=>{};var Iv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let l=i.charCodeAt(s);l<128?e[t++]=l:l<2048?(e[t++]=l>>6|192,e[t++]=l&63|128):(l&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=l>>18|240,e[t++]=l>>12&63|128,e[t++]=l>>6&63|128,e[t++]=l&63|128):(e[t++]=l>>12|224,e[t++]=l>>6&63|128,e[t++]=l&63|128)}return e},QS=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const l=i[t++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const h=i[t++];e[s++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=i[t++],f=i[t++],_=i[t++],v=((l&7)<<18|(h&63)<<12|(f&63)<<6|_&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const h=i[t++],f=i[t++];e[s++]=String.fromCharCode((l&15)<<12|(h&63)<<6|f&63)}}return e.join("")},Fb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<i.length;l+=3){const h=i[l],f=l+1<i.length,_=f?i[l+1]:0,v=l+2<i.length,b=v?i[l+2]:0,E=h>>2,N=(h&3)<<4|_>>4;let I=(_&15)<<2|b>>6,Z=b&63;v||(Z=64,f||(I=64)),s.push(t[E],t[N],t[I],t[Z])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Bb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):QS(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<i.length;){const h=t[i.charAt(l++)],_=l<i.length?t[i.charAt(l)]:0;++l;const b=l<i.length?t[i.charAt(l)]:64;++l;const N=l<i.length?t[i.charAt(l)]:64;if(++l,h==null||_==null||b==null||N==null)throw new XS;const I=h<<2|_>>4;if(s.push(I),b!==64){const Z=_<<4&240|b>>2;if(s.push(Z),N!==64){const U=b<<6&192|N;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class XS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JS=function(i){const e=Bb(i);return Fb.encodeByteArray(e,!0)},Ud=function(i){return JS(i).replace(/\./g,"")},Hb=function(i){try{return Fb.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=()=>eA().__FIREBASE_DEFAULTS__,nA=()=>{if(typeof process>"u"||typeof Iv>"u")return;const i=Iv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},iA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Hb(i[1]);return e&&JSON.parse(e)},lf=()=>{try{return $S()||tA()||nA()||iA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},qb=i=>lf()?.emulatorHosts?.[i],rA=i=>{const e=qb(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Gb=()=>lf()?.config,Zb=i=>lf()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Wb(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",l=i.iat||0,h=i.sub||i.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Ud(JSON.stringify(t)),Ud(JSON.stringify(f)),""].join(".")}const Ru={};function oA(){const i={prod:[],emulator:[]};for(const e of Object.keys(Ru))Ru[e]?i.emulator.push(e):i.prod.push(e);return i}function lA(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let jv=!1;function Kb(i,e){if(typeof window>"u"||typeof document>"u"||!pc(window.location.host)||Ru[i]===e||Ru[i]||jv)return;Ru[i]=e;function t(I){return`__firebase__banner__${I}`}const s="__firebase__banner",h=oA().prod.length>0;function f(){const I=document.getElementById(s);I&&I.remove()}function _(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function v(I,Z){I.setAttribute("width","24"),I.setAttribute("id",Z),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function b(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{jv=!0,f()},I}function E(I,Z){I.setAttribute("id",Z),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function N(){const I=lA(s),Z=t("text"),U=document.getElementById(Z)||document.createElement("span"),K=t("learnmore"),H=document.getElementById(K)||document.createElement("a"),oe=t("preprendIcon"),le=document.getElementById(oe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ce=I.element;_(ce),E(H,K);const Ae=b();v(le,oe),ce.append(le,U,H,Ae),document.body.appendChild(ce)}h?(U.innerText="Preview backend disconnected.",le.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(le.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",Z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",N):N()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hn())}function uA(){const i=lf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dA(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function fA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mA(){const i=Hn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function pA(){return!uA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gA(){try{return typeof indexedDB=="object"}catch{return!1}}function yA(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},l.onupgradeneeded=()=>{t=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="FirebaseError";class Js extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=_A,Object.setPrototypeOf(this,Js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yu.prototype.create)}}class Yu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},l=`${this.service}/${e}`,h=this.errors[e],f=h?vA(h,s):"Error",_=`${this.serviceName}: ${f} (${l}).`;return new Js(l,_,s)}}function vA(i,e){return i.replace(xA,(t,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const xA=/\{\$([^}]+)}/g;function bA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Ko(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const l of t){if(!s.includes(l))return!1;const h=i[l],f=e[l];if(Pv(h)&&Pv(f)){if(!Ko(h,f))return!1}else if(h!==f)return!1}for(const l of s)if(!t.includes(l))return!1;return!0}function Pv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function wu(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,h]=s.split("=");e[decodeURIComponent(l)]=decodeURIComponent(h)}}),e}function Eu(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function wA(i,e){const t=new EA(i,e);return t.subscribe.bind(t)}class EA{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let l;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");TA(e,["next","error","complete"])?l=e:l={next:e,error:t,complete:s},l.next===void 0&&(l.next=wp),l.error===void 0&&(l.error=wp),l.complete===void 0&&(l.complete=wp);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TA(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function wp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(i){return i&&i._delegate?i._delegate:i}class Yo{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new sA;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:t});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NA(e))try{this.getOrInitializeService({instanceIdentifier:Ho})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(t);try{const h=this.getOrInitializeService({instanceIdentifier:l});s.resolve(h)}catch{}}}}clearInstance(e=Ho){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ho){return this.instances.has(e)}getOptions(e=Ho){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[h,f]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(h);s===_&&f.resolve(l)}return l}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const h=this.instances.get(s);return h&&e(h,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const l of s)try{l(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:AA(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ho){return this.component?this.component.multipleInstances?e:Ho:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AA(i){return i===Ho?void 0:i}function NA(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new SA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ot||(ot={}));const RA={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},IA=ot.INFO,jA={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},PA=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),l=jA[e];if(l)console[l](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cg{constructor(e){this.name=e,this._logLevel=IA,this._logHandler=PA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const LA=(i,e)=>e.some(t=>i instanceof t);let Lv,Ov;function OA(){return Lv||(Lv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kA(){return Ov||(Ov=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yb=new WeakMap,zp=new WeakMap,$b=new WeakMap,Ep=new WeakMap,Rg=new WeakMap;function DA(i){const e=new Promise((t,s)=>{const l=()=>{i.removeEventListener("success",h),i.removeEventListener("error",f)},h=()=>{t(Xa(i.result)),l()},f=()=>{s(i.error),l()};i.addEventListener("success",h),i.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&Yb.set(t,i)}).catch(()=>{}),Rg.set(e,i),e}function MA(i){if(zp.has(i))return;const e=new Promise((t,s)=>{const l=()=>{i.removeEventListener("complete",h),i.removeEventListener("error",f),i.removeEventListener("abort",f)},h=()=>{t(),l()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",h),i.addEventListener("error",f),i.addEventListener("abort",f)});zp.set(i,e)}let Bp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return zp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||$b.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Xa(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function VA(i){Bp=i(Bp)}function UA(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Tp(this),e,...t);return $b.set(s,e.sort?e.sort():[e]),Xa(s)}:kA().includes(i)?function(...e){return i.apply(Tp(this),e),Xa(Yb.get(this))}:function(...e){return Xa(i.apply(Tp(this),e))}}function zA(i){return typeof i=="function"?UA(i):(i instanceof IDBTransaction&&MA(i),LA(i,OA())?new Proxy(i,Bp):i)}function Xa(i){if(i instanceof IDBRequest)return DA(i);if(Ep.has(i))return Ep.get(i);const e=zA(i);return e!==i&&(Ep.set(i,e),Rg.set(e,i)),e}const Tp=i=>Rg.get(i);function BA(i,e,{blocked:t,upgrade:s,blocking:l,terminated:h}={}){const f=indexedDB.open(i,e),_=Xa(f);return s&&f.addEventListener("upgradeneeded",v=>{s(Xa(f.result),v.oldVersion,v.newVersion,Xa(f.transaction),v)}),t&&f.addEventListener("blocked",v=>t(v.oldVersion,v.newVersion,v)),_.then(v=>{h&&v.addEventListener("close",()=>h()),l&&v.addEventListener("versionchange",b=>l(b.oldVersion,b.newVersion,b))}).catch(()=>{}),_}const FA=["get","getKey","getAll","getAllKeys","count"],HA=["put","add","delete","clear"],Sp=new Map;function kv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Sp.get(e))return Sp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,l=HA.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(l||FA.includes(t)))return;const h=async function(f,..._){const v=this.transaction(f,l?"readwrite":"readonly");let b=v.store;return s&&(b=b.index(_.shift())),(await Promise.all([b[t](..._),l&&v.done]))[0]};return Sp.set(e,h),h}VA(i=>({...i,get:(e,t,s)=>kv(e,t)||i.get(e,t,s),has:(e,t)=>!!kv(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(GA(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function GA(i){return i.getComponent()?.type==="VERSION"}const Fp="@firebase/app",Dv="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=new Cg("@firebase/app"),ZA="@firebase/app-compat",WA="@firebase/analytics-compat",KA="@firebase/analytics",YA="@firebase/app-check-compat",$A="@firebase/app-check",QA="@firebase/auth",XA="@firebase/auth-compat",JA="@firebase/database",eN="@firebase/data-connect",tN="@firebase/database-compat",nN="@firebase/functions",iN="@firebase/functions-compat",rN="@firebase/installations",sN="@firebase/installations-compat",aN="@firebase/messaging",oN="@firebase/messaging-compat",lN="@firebase/performance",cN="@firebase/performance-compat",uN="@firebase/remote-config",hN="@firebase/remote-config-compat",dN="@firebase/storage",fN="@firebase/storage-compat",mN="@firebase/firestore",pN="@firebase/ai",gN="@firebase/firestore-compat",yN="firebase",_N="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="[DEFAULT]",vN={[Fp]:"fire-core",[ZA]:"fire-core-compat",[KA]:"fire-analytics",[WA]:"fire-analytics-compat",[$A]:"fire-app-check",[YA]:"fire-app-check-compat",[QA]:"fire-auth",[XA]:"fire-auth-compat",[JA]:"fire-rtdb",[eN]:"fire-data-connect",[tN]:"fire-rtdb-compat",[nN]:"fire-fn",[iN]:"fire-fn-compat",[rN]:"fire-iid",[sN]:"fire-iid-compat",[aN]:"fire-fcm",[oN]:"fire-fcm-compat",[lN]:"fire-perf",[cN]:"fire-perf-compat",[uN]:"fire-rc",[hN]:"fire-rc-compat",[dN]:"fire-gcs",[fN]:"fire-gcs-compat",[mN]:"fire-fst",[gN]:"fire-fst-compat",[pN]:"fire-vertex","fire-js":"fire-js",[yN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd=new Map,xN=new Map,qp=new Map;function Mv(i,e){try{i.container.addComponent(e)}catch(t){Ys.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function ic(i){const e=i.name;if(qp.has(e))return Ys.debug(`There were multiple attempts to register component ${e}.`),!1;qp.set(e,i);for(const t of zd.values())Mv(t,i);for(const t of xN.values())Mv(t,i);return!0}function Ig(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function or(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ja=new Yu("app","Firebase",bN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Yo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ja.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=_N;function Qb(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s={name:Hp,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw Ja.create("bad-app-name",{appName:String(l)});if(t||(t=Gb()),!t)throw Ja.create("no-options");const h=zd.get(l);if(h){if(Ko(t,h.options)&&Ko(s,h.config))return h;throw Ja.create("duplicate-app",{appName:l})}const f=new CA(l);for(const v of qp.values())f.addComponent(v);const _=new wN(t,s,f);return zd.set(l,_),_}function Xb(i=Hp){const e=zd.get(i);if(!e&&i===Hp&&Gb())return Qb();if(!e)throw Ja.create("no-app",{appName:i});return e}function eo(i,e,t){let s=vN[i]??i;t&&(s+=`-${t}`);const l=s.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const f=[`Unable to register library "${s}" with version "${e}":`];l&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ys.warn(f.join(" "));return}ic(new Yo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN="firebase-heartbeat-database",TN=1,Du="firebase-heartbeat-store";let Ap=null;function Jb(){return Ap||(Ap=BA(EN,TN,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Du)}catch(t){console.warn(t)}}}}).catch(i=>{throw Ja.create("idb-open",{originalErrorMessage:i.message})})),Ap}async function SN(i){try{const t=(await Jb()).transaction(Du),s=await t.objectStore(Du).get(ew(i));return await t.done,s}catch(e){if(e instanceof Js)Ys.warn(e.message);else{const t=Ja.create("idb-get",{originalErrorMessage:e?.message});Ys.warn(t.message)}}}async function Vv(i,e){try{const s=(await Jb()).transaction(Du,"readwrite");await s.objectStore(Du).put(e,ew(i)),await s.done}catch(t){if(t instanceof Js)Ys.warn(t.message);else{const s=Ja.create("idb-set",{originalErrorMessage:t?.message});Ys.warn(s.message)}}}function ew(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=1024,NN=30;class CN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new IN(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Uv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>NN){const l=jN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ys.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Uv(),{heartbeatsToSend:t,unsentEntries:s}=RN(this._heartbeatsCache.heartbeats),l=Ud(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Ys.warn(e),""}}}function Uv(){return new Date().toISOString().substring(0,10)}function RN(i,e=AN){const t=[];let s=i.slice();for(const l of i){const h=t.find(f=>f.agent===l.agent);if(h){if(h.dates.push(l.date),zv(t)>e){h.dates.pop();break}}else if(t.push({agent:l.agent,dates:[l.date]}),zv(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class IN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gA()?yA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await SN(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Vv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Vv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function zv(i){return Ud(JSON.stringify({version:2,heartbeats:i})).length}function jN(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(i){ic(new Yo("platform-logger",e=>new qA(e),"PRIVATE")),ic(new Yo("heartbeat",e=>new CN(e),"PRIVATE")),eo(Fp,Dv,i),eo(Fp,Dv,"esm2020"),eo("fire-js","")}PN("");function tw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LN=tw,nw=new Yu("auth","Firebase",tw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd=new Cg("@firebase/auth");function ON(i,...e){Bd.logLevel<=ot.WARN&&Bd.warn(`Auth (${gc}): ${i}`,...e)}function Sd(i,...e){Bd.logLevel<=ot.ERROR&&Bd.error(`Auth (${gc}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(i,...e){throw jg(i,...e)}function ns(i,...e){return jg(i,...e)}function iw(i,e,t){const s={...LN(),[e]:t};return new Yu("auth","Firebase",s).create(e,{appName:i.name})}function Gs(i){return iw(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jg(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return nw.create(i,...e)}function qe(i,e,...t){if(!i)throw jg(e,...t)}function Fs(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Sd(e),new Error(e)}function $s(i,e){i||Fs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(){return typeof self<"u"&&self.location?.href||""}function kN(){return Bv()==="http:"||Bv()==="https:"}function Bv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kN()||dA()||"connection"in navigator)?navigator.onLine:!0}function MN(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,t){this.shortDelay=e,this.longDelay=t,$s(t>e,"Short delay should be less than long delay!"),this.isMobile=cA()||fA()}get(){return DN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(i,e){$s(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zN=new Qu(3e4,6e4);function ea(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function us(i,e,t,s,l={}){return sw(i,l,async()=>{let h={},f={};s&&(e==="GET"?f=s:h={body:JSON.stringify(s)});const _=$u({key:i.config.apiKey,...f}).slice(1),v=await i._getAdditionalHeaders();v["Content-Type"]="application/json",i.languageCode&&(v["X-Firebase-Locale"]=i.languageCode);const b={method:e,headers:v,...h};return hA()||(b.referrerPolicy="no-referrer"),i.emulatorConfig&&pc(i.emulatorConfig.host)&&(b.credentials="include"),rw.fetch()(await aw(i,i.config.apiHost,t,_),b)})}async function sw(i,e,t){i._canInitEmulator=!1;const s={...VN,...e};try{const l=new FN(i),h=await Promise.race([t(),l.promise]);l.clearNetworkTimeout();const f=await h.json();if("needConfirmation"in f)throw gd(i,"account-exists-with-different-credential",f);if(h.ok&&!("errorMessage"in f))return f;{const _=h.ok?f.errorMessage:f.error.message,[v,b]=_.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw gd(i,"credential-already-in-use",f);if(v==="EMAIL_EXISTS")throw gd(i,"email-already-in-use",f);if(v==="USER_DISABLED")throw gd(i,"user-disabled",f);const E=s[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(b)throw iw(i,E,b);Ir(i,E)}}catch(l){if(l instanceof Js)throw l;Ir(i,"network-request-failed",{message:String(l)})}}async function Xu(i,e,t,s,l={}){const h=await us(i,e,t,s,l);return"mfaPendingCredential"in h&&Ir(i,"multi-factor-auth-required",{_serverResponse:h}),h}async function aw(i,e,t,s){const l=`${e}${t}?${s}`,h=i,f=h.config.emulator?Pg(i.config,l):`${i.config.apiScheme}://${l}`;return UN.includes(t)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(f).toString():f}function BN(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(ns(this.auth,"network-request-failed")),zN.get())})}}function gd(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const l=ns(i,e,s);return l.customData._tokenResponse=t,l}function Fv(i){return i!==void 0&&i.enterprise!==void 0}class HN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return BN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qN(i,e){return us(i,"GET","/v2/recaptchaConfig",ea(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(i,e){return us(i,"POST","/v1/accounts:delete",e)}async function Fd(i,e){return us(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZN(i,e=!1){const t=dn(i),s=await t.getIdToken(e),l=Lg(s);qe(l&&l.exp&&l.auth_time&&l.iat,t.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,f=h?.sign_in_provider;return{claims:l,token:s,authTime:Iu(Np(l.auth_time)),issuedAtTime:Iu(Np(l.iat)),expirationTime:Iu(Np(l.exp)),signInProvider:f||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Np(i){return Number(i)*1e3}function Lg(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Sd("JWT malformed, contained fewer than 3 sections"),null;try{const l=Hb(t);return l?JSON.parse(l):(Sd("Failed to decode base64 JWT payload"),null)}catch(l){return Sd("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Hv(i){const e=Lg(i);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rc(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Js&&WN(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function WN({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Iu(this.lastLoginAt),this.creationTime=Iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hd(i){const e=i.auth,t=await i.getIdToken(),s=await rc(i,Fd(e,{idToken:t}));qe(s?.users.length,e,"internal-error");const l=s.users[0];i._notifyReloadListener(l);const h=l.providerUserInfo?.length?ow(l.providerUserInfo):[],f=$N(i.providerData,h),_=i.isAnonymous,v=!(i.email&&l.passwordHash)&&!f?.length,b=_?v:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Zp(l.createdAt,l.lastLoginAt),isAnonymous:b};Object.assign(i,E)}async function YN(i){const e=dn(i);await Hd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $N(i,e){return[...i.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function ow(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QN(i,e){const t=await sw(i,{},async()=>{const s=$u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:h}=i.config,f=await aw(i,l,"/v1/token",`key=${h}`),_=await i._getAdditionalHeaders();_["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:_,body:s};return i.emulatorConfig&&pc(i.emulatorConfig.host)&&(v.credentials="include"),rw.fetch()(f,v)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function XN(i,e){return us(i,"POST","/v2/accounts:revokeToken",ea(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Hv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const t=Hv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:l,expiresIn:h}=await QN(e,t);this.updateTokensAndExpiration(s,l,Number(h))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:l,expirationTime:h}=t,f=new Xl;return s&&(qe(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),l&&(qe(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),h&&(qe(typeof h=="number","internal-error",{appName:e}),f.expirationTime=h),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xl,this.toJSON())}_performRefresh(){return Fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(i,e){qe(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Nr{constructor({uid:e,auth:t,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new KN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Zp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await rc(this,this.stsTokenManager.getToken(this.auth,e));return qe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ZN(this,e)}reload(){return YN(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Nr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Hd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(or(this.auth.app))return Promise.reject(Gs(this.auth));const e=await this.getIdToken();return await rc(this,GN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,l=t.email??void 0,h=t.phoneNumber??void 0,f=t.photoURL??void 0,_=t.tenantId??void 0,v=t._redirectEventId??void 0,b=t.createdAt??void 0,E=t.lastLoginAt??void 0,{uid:N,emailVerified:I,isAnonymous:Z,providerData:U,stsTokenManager:K}=t;qe(N&&K,e,"internal-error");const H=Xl.fromJSON(this.name,K);qe(typeof N=="string",e,"internal-error"),Za(s,e.name),Za(l,e.name),qe(typeof I=="boolean",e,"internal-error"),qe(typeof Z=="boolean",e,"internal-error"),Za(h,e.name),Za(f,e.name),Za(_,e.name),Za(v,e.name),Za(b,e.name),Za(E,e.name);const oe=new Nr({uid:N,auth:e,email:l,emailVerified:I,displayName:s,isAnonymous:Z,photoURL:f,phoneNumber:h,tenantId:_,stsTokenManager:H,createdAt:b,lastLoginAt:E});return U&&Array.isArray(U)&&(oe.providerData=U.map(le=>({...le}))),v&&(oe._redirectEventId=v),oe}static async _fromIdTokenResponse(e,t,s=!1){const l=new Xl;l.updateFromServerResponse(t);const h=new Nr({uid:t.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await Hd(h),h}static async _fromGetAccountInfoResponse(e,t,s){const l=t.users[0];qe(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?ow(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!h?.length,_=new Xl;_.updateFromIdToken(s);const v=new Nr({uid:l.localId,auth:e,stsTokenManager:_,isAnonymous:f}),b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Zp(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(v,b),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=new Map;function Hs(i){$s(i instanceof Function,"Expected a class definition");let e=qv.get(i);return e?($s(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,qv.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}lw.type="NONE";const Gv=lw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(i,e,t){return`firebase:${i}:${e}:${t}`}class Jl{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:l,name:h}=this.auth;this.fullUserKey=Ad(this.userKey,l.apiKey,h),this.fullPersistenceKey=Ad("persistence",l.apiKey,h),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Fd(this.auth,{idToken:e}).catch(()=>{});return t?Nr._fromGetAccountInfoResponse(this.auth,t,e):null}return Nr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Jl(Hs(Gv),e,s);const l=(await Promise.all(t.map(async b=>{if(await b._isAvailable())return b}))).filter(b=>b);let h=l[0]||Hs(Gv);const f=Ad(s,e.config.apiKey,e.name);let _=null;for(const b of t)try{const E=await b._get(f);if(E){let N;if(typeof E=="string"){const I=await Fd(e,{idToken:E}).catch(()=>{});if(!I)break;N=await Nr._fromGetAccountInfoResponse(e,I,E)}else N=Nr._fromJSON(e,E);b!==h&&(_=N),h=b;break}}catch{}const v=l.filter(b=>b._shouldAllowMigration);return!h._shouldAllowMigration||!v.length?new Jl(h,e,s):(h=v[0],_&&await h._set(f,_.toJSON()),await Promise.all(t.map(async b=>{if(b!==h)try{await b._remove(f)}catch{}})),new Jl(h,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mw(e))return"Blackberry";if(pw(e))return"Webos";if(uw(e))return"Safari";if((e.includes("chrome/")||hw(e))&&!e.includes("edge/"))return"Chrome";if(fw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function cw(i=Hn()){return/firefox\//i.test(i)}function uw(i=Hn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hw(i=Hn()){return/crios\//i.test(i)}function dw(i=Hn()){return/iemobile/i.test(i)}function fw(i=Hn()){return/android/i.test(i)}function mw(i=Hn()){return/blackberry/i.test(i)}function pw(i=Hn()){return/webos/i.test(i)}function Og(i=Hn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function JN(i=Hn()){return Og(i)&&!!window.navigator?.standalone}function eC(){return mA()&&document.documentMode===10}function gw(i=Hn()){return Og(i)||fw(i)||pw(i)||mw(i)||/windows phone/i.test(i)||dw(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(i,e=[]){let t;switch(i){case"Browser":t=Zv(Hn());break;case"Worker":t=`${Zv(Hn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${gc}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=h=>new Promise((f,_)=>{try{const v=e(h);f(v)}catch(v){_(v)}});s.onAbort=t,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const l of t)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nC(i,e={}){return us(i,"GET","/v2/passwordPolicy",ea(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=6;class rC{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??iC,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),l&&(t.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,l,h){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,t,s,l){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wv(this),this.idTokenSubscription=new Wv(this),this.beforeStateQueue=new tC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Hs(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Jl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Fd(this,{idToken:e}),s=await Nr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(or(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(f,f))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,f=s?._redirectEventId,_=await this.tryRedirectSignIn(e);(!h||h===f)&&_?.user&&(s=_.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(h){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Hd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(or(this.app))return Promise.reject(Gs(this));const t=e?dn(e):null;return t&&qe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return or(this.app)?Promise.reject(Gs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return or(this.app)?Promise.reject(Gs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nC(this),t=new rC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Yu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await XN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Hs(e)||this._popupRedirectResolver;qe(t,this,"argument-error"),this.redirectPersistenceManager=await Jl.create(this,[Hs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,l){if(this._deleted)return()=>{};const h=typeof t=="function"?t:t.next.bind(t);let f=!1;const _=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(_,this,"internal-error"),_.then(()=>{f||h(this.currentUser)}),typeof t=="function"){const v=e.addObserver(t,s,l);return()=>{f=!0,v()}}else{const v=e.addObserver(t);return()=>{f=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ON(`Error while retrieving App Check token: ${e.error}`),e?.token}}function co(i){return dn(i)}let Wv=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=wA(t=>this.observer=t)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aC(i){cf=i}function _w(i){return cf.loadJS(i)}function oC(){return cf.recaptchaEnterpriseScript}function lC(){return cf.gapiScript}function cC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class uC{constructor(){this.enterprise=new hC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class hC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const dC="recaptcha-enterprise",vw="NO_RECAPTCHA";class fC{constructor(e){this.type=dC,this.auth=co(e)}async verify(e="verify",t=!1){async function s(h){if(!t){if(h.tenantId==null&&h._agentRecaptchaConfig!=null)return h._agentRecaptchaConfig.siteKey;if(h.tenantId!=null&&h._tenantRecaptchaConfigs[h.tenantId]!==void 0)return h._tenantRecaptchaConfigs[h.tenantId].siteKey}return new Promise(async(f,_)=>{qN(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(v=>{if(v.recaptchaKey===void 0)_(new Error("recaptcha Enterprise site key undefined"));else{const b=new HN(v);return h.tenantId==null?h._agentRecaptchaConfig=b:h._tenantRecaptchaConfigs[h.tenantId]=b,f(b.siteKey)}}).catch(v=>{_(v)})})}function l(h,f,_){const v=window.grecaptcha;Fv(v)?v.enterprise.ready(()=>{v.enterprise.execute(h,{action:e}).then(b=>{f(b)}).catch(()=>{f(vw)})}):_(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uC().execute("siteKey",{action:"verify"}):new Promise((h,f)=>{s(this.auth).then(_=>{if(!t&&Fv(window.grecaptcha))l(_,h,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let v=oC();v.length!==0&&(v+=_),_w(v).then(()=>{l(_,h,f)}).catch(b=>{f(b)})}}).catch(_=>{f(_)})})}}async function Kv(i,e,t,s=!1,l=!1){const h=new fC(i);let f;if(l)f=vw;else try{f=await h.verify(t)}catch{f=await h.verify(t,!0)}const _={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in _){const v=_.phoneEnrollmentInfo.phoneNumber,b=_.phoneEnrollmentInfo.recaptchaToken;Object.assign(_,{phoneEnrollmentInfo:{phoneNumber:v,recaptchaToken:b,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in _){const v=_.phoneSignInInfo.recaptchaToken;Object.assign(_,{phoneSignInInfo:{recaptchaToken:v,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return _}return s?Object.assign(_,{captchaResp:f}):Object.assign(_,{captchaResponse:f}),Object.assign(_,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(_,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),_}async function qd(i,e,t,s,l){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await Kv(i,e,t,t==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Kv(i,e,t,t==="getOobCode");return s(i,f)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(i,e){const t=Ig(i,"auth");if(t.isInitialized()){const l=t.getImmediate(),h=t.getOptions();if(Ko(h,e??{}))return l;Ir(l,"already-initialized")}return t.initialize({options:e})}function pC(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Hs);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function gC(i,e,t){const s=co(i);qe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,h=xw(e),{host:f,port:_}=yC(e),v=_===null?"":`:${_}`,b={url:`${h}//${f}${v}/`},E=Object.freeze({host:f,port:_,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){qe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),qe(Ko(b,s.config.emulator)&&Ko(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=b,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,pc(f)?(Wb(`${h}//${f}${v}`),Kb("Auth",!0)):_C()}function xw(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function yC(i){const e=xw(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const h=l[1];return{host:h,port:Yv(s.substr(h.length+1))}}else{const[h,f]=s.split(":");return{host:h,port:Yv(f)}}}function Yv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function _C(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Fs("not implemented")}_getIdTokenResponse(e){return Fs("not implemented")}_linkToIdToken(e,t){return Fs("not implemented")}_getReauthenticationResolver(e){return Fs("not implemented")}}async function vC(i,e){return us(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xC(i,e){return Xu(i,"POST","/v1/accounts:signInWithPassword",ea(i,e))}async function bC(i,e){return us(i,"POST","/v1/accounts:sendOobCode",ea(i,e))}async function wC(i,e){return bC(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EC(i,e){return Xu(i,"POST","/v1/accounts:signInWithEmailLink",ea(i,e))}async function TC(i,e){return Xu(i,"POST","/v1/accounts:signInWithEmailLink",ea(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends kg{constructor(e,t,s,l=null){super("password",s),this._email=e,this._password=t,this._tenantId=l}static _fromEmailAndPassword(e,t){return new Mu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Mu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qd(e,t,"signInWithPassword",xC);case"emailLink":return EC(e,{email:this._email,oobCode:this._password});default:Ir(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qd(e,s,"signUpPassword",vC);case"emailLink":return TC(e,{idToken:t,email:this._email,oobCode:this._password});default:Ir(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ec(i,e){return Xu(i,"POST","/v1/accounts:signInWithIdp",ea(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="http://localhost";class $o extends kg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new $o(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ir("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...h}=t;if(!s||!l)return null;const f=new $o(s,l);return f.idToken=h.idToken||void 0,f.accessToken=h.accessToken||void 0,f.secret=h.secret,f.nonce=h.nonce,f.pendingToken=h.pendingToken||null,f}_getIdTokenResponse(e){const t=this.buildRequest();return ec(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,ec(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ec(e,t)}buildRequest(){const e={requestUri:SC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=$u(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NC(i){const e=wu(Eu(i)).link,t=e?wu(Eu(e)).deep_link_id:null,s=wu(Eu(i)).deep_link_id;return(s?wu(Eu(s)).link:null)||s||t||e||i}class Dg{constructor(e){const t=wu(Eu(e)),s=t.apiKey??null,l=t.oobCode??null,h=AC(t.mode??null);qe(s&&l&&h,"argument-error"),this.apiKey=s,this.operation=h,this.code=l,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=NC(e);try{return new Dg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(){this.providerId=yc.PROVIDER_ID}static credential(e,t){return Mu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Dg.parseLink(t);return qe(s,"argument-error"),Mu._fromEmailAndCode(e,s.code,s.tenantId)}}yc.PROVIDER_ID="password";yc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends bw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends Ju{constructor(){super("facebook.com")}static credential(e){return $o._fromParams({providerId:Wa.PROVIDER_ID,signInMethod:Wa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wa.credentialFromTaggedObject(e)}static credentialFromError(e){return Wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wa.credential(e.oauthAccessToken)}catch{return null}}}Wa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends Ju{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return $o._fromParams({providerId:Ka.PROVIDER_ID,signInMethod:Ka.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ka.credentialFromTaggedObject(e)}static credentialFromError(e){return Ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Ka.credential(t,s)}catch{return null}}}Ka.GOOGLE_SIGN_IN_METHOD="google.com";Ka.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends Ju{constructor(){super("github.com")}static credential(e){return $o._fromParams({providerId:Ya.PROVIDER_ID,signInMethod:Ya.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ya.credentialFromTaggedObject(e)}static credentialFromError(e){return Ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ya.credential(e.oauthAccessToken)}catch{return null}}}Ya.GITHUB_SIGN_IN_METHOD="github.com";Ya.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a extends Ju{constructor(){super("twitter.com")}static credential(e,t){return $o._fromParams({providerId:$a.PROVIDER_ID,signInMethod:$a.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return $a.credentialFromTaggedObject(e)}static credentialFromError(e){return $a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return $a.credential(t,s)}catch{return null}}}$a.TWITTER_SIGN_IN_METHOD="twitter.com";$a.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(i,e){return Xu(i,"POST","/v1/accounts:signUp",ea(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,l=!1){const h=await Nr._fromIdTokenResponse(e,s,l),f=$v(s);return new Qo({user:h,providerId:f,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const l=$v(s);return new Qo({user:e,providerId:l,_tokenResponse:s,operationType:t})}}function $v(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd extends Js{constructor(e,t,s,l){super(t.code,t.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Gd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,l){return new Gd(e,t,s,l)}}function ww(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Gd._fromErrorAndOperation(i,h,e,s):h})}async function RC(i,e,t=!1){const s=await rc(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Qo._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IC(i,e,t=!1){const{auth:s}=i;if(or(s.app))return Promise.reject(Gs(s));const l="reauthenticate";try{const h=await rc(i,ww(s,l,e,i),t);qe(h.idToken,s,"internal-error");const f=Lg(h.idToken);qe(f,s,"internal-error");const{sub:_}=f;return qe(i.uid===_,s,"user-mismatch"),Qo._forOperation(i,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&Ir(s,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ew(i,e,t=!1){if(or(i.app))return Promise.reject(Gs(i));const s="signIn",l=await ww(i,s,e),h=await Qo._fromIdTokenResponse(i,s,l);return t||await i._updateCurrentUser(h.user),h}async function jC(i,e){return Ew(co(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tw(i){const e=co(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function PC(i,e,t){const s=co(i);await qd(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",wC)}async function LC(i,e,t){if(or(i.app))return Promise.reject(Gs(i));const s=co(i),f=await qd(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",CC).catch(v=>{throw v.code==="auth/password-does-not-meet-requirements"&&Tw(i),v}),_=await Qo._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(_.user),_}function OC(i,e,t){return or(i.app)?Promise.reject(Gs(i)):jC(dn(i),yc.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Tw(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(i,e){return us(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC(i,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=dn(i),h={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},f=await rc(s,kC(s.auth,h));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const _=s.providerData.find(({providerId:v})=>v==="password");_&&(_.displayName=s.displayName,_.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function MC(i,e,t,s){return dn(i).onIdTokenChanged(e,t,s)}function VC(i,e,t){return dn(i).beforeAuthStateChanged(e,t)}function Sw(i,e,t,s){return dn(i).onAuthStateChanged(e,t,s)}function UC(i){return dn(i).signOut()}const Zd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Zd,"1"),this.storage.removeItem(Zd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=1e3,BC=10;class Nw extends Aw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),l=this.localCache[t];s!==l&&e(t,l,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((f,_,v)=>{this.notifyListeners(f,v)});return}const s=e.key;t?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!t&&this.localCache[s]===f||this.notifyListeners(s,f)},h=this.storage.getItem(s);eC()&&h!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,BC):l()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},zC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Nw.type="LOCAL";const FC=Nw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw extends Aw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Cw.type="SESSION";const Rw=Cw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(l=>l.isListeningto(e));if(t)return t;const s=new uf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:l,data:h}=t.data,f=this.handlersMap[l];if(!f?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const _=Array.from(f).map(async b=>b(t.origin,h)),v=await HC(_);t.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:v})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,f;return new Promise((_,v)=>{const b=Mg("",20);l.port1.start();const E=setTimeout(()=>{v(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(N){const I=N;if(I.data.eventId===b)switch(I.data.status){case"ack":clearTimeout(E),h=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),_(I.data.response);break;default:clearTimeout(E),clearTimeout(h),v(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:b,data:t},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(){return window}function GC(i){is().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(){return typeof is().WorkerGlobalScope<"u"&&typeof is().importScripts=="function"}async function ZC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WC(){return navigator?.serviceWorker?.controller||null}function KC(){return Iw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="firebaseLocalStorageDb",YC=1,Wd="firebaseLocalStorage",Pw="fbase_key";class eh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function hf(i,e){return i.transaction([Wd],e?"readwrite":"readonly").objectStore(Wd)}function $C(){const i=indexedDB.deleteDatabase(jw);return new eh(i).toPromise()}function Wp(){const i=indexedDB.open(jw,YC);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Wd,{keyPath:Pw})}catch(l){t(l)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Wd)?e(s):(s.close(),await $C(),e(await Wp()))})})}async function Qv(i,e,t){const s=hf(i,!0).put({[Pw]:e,value:t});return new eh(s).toPromise()}async function QC(i,e){const t=hf(i,!1).get(e),s=await new eh(t).toPromise();return s===void 0?null:s.value}function Xv(i,e){const t=hf(i,!0).delete(e);return new eh(t).toPromise()}const XC=800,JC=3;class Lw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>JC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Iw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uf._getInstance(KC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ZC(),!this.activeServiceWorker)return;this.sender=new qC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wp();return await Qv(e,Zd,"1"),await Xv(e,Zd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Qv(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>QC(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Xv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const h=hf(l,!1).getAll();return new eh(h).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:h}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),t.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),t.push(l));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Lw.type="LOCAL";const eR=Lw;new Qu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(i,e){return e?Hs(e):(qe(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg extends kg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ec(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ec(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ec(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function nR(i){return Ew(i.auth,new Vg(i),i.bypassAuthState)}function iR(i){const{auth:e,user:t}=i;return qe(t,e,"internal-error"),IC(t,new Vg(i),i.bypassAuthState)}async function rR(i){const{auth:e,user:t}=i;return qe(t,e,"internal-error"),RC(t,new Vg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,t,s,l,h=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:l,tenantId:h,error:f,type:_}=e;if(f){this.reject(f);return}const v={auth:this.auth,requestUri:t,sessionId:s,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(_)(v))}catch(b){this.reject(b)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nR;case"linkViaPopup":case"linkViaRedirect":return rR;case"reauthViaPopup":case"reauthViaRedirect":return iR;default:Ir(this.auth,"internal-error")}}resolve(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=new Qu(2e3,1e4);class Ql extends Ow{constructor(e,t,s,l,h){super(e,t,l,h),this.provider=s,this.authWindow=null,this.pollId=null,Ql.currentPopupAction&&Ql.currentPopupAction.cancel(),Ql.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){$s(this.filter.length===1,"Popup operations only handle one event");const e=Mg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ns(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ns(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ql.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ns(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sR.get())};e()}}Ql.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="pendingRedirect",Nd=new Map;class oR extends Ow{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Nd.get(this.auth._key());if(!e){try{const s=await lR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Nd.set(this.auth._key(),e)}return this.bypassAuthState||Nd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lR(i,e){const t=hR(e),s=uR(i);if(!await s._isAvailable())return!1;const l=await s._get(t)==="true";return await s._remove(t),l}function cR(i,e){Nd.set(i._key(),e)}function uR(i){return Hs(i._redirectPersistence)}function hR(i){return Ad(aR,i.config.apiKey,i.name)}async function dR(i,e,t=!1){if(or(i.app))return Promise.reject(Gs(i));const s=co(i),l=tR(s,e),f=await new oR(s,l,t).execute();return f&&!t&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=600*1e3;class mR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!kw(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ns(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jv(e))}saveEventToCache(e){this.cachedEventUids.add(Jv(e)),this.lastProcessedEventTime=Date.now()}}function Jv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function kw({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function pR(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kw(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gR(i,e={}){return us(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_R=/^https?/;async function vR(i){if(i.config.emulator)return;const{authorizedDomains:e}=await gR(i);for(const t of e)try{if(xR(t))return}catch{}Ir(i,"unauthorized-domain")}function xR(i){const e=Gp(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&f.hostname===s}if(!_R.test(t))return!1;if(yR.test(i))return s===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=new Qu(3e4,6e4);function ex(){const i=is().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function wR(i){return new Promise((e,t)=>{function s(){ex(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ex(),t(ns(i,"network-request-failed"))},timeout:bR.get()})}if(is().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(is().gapi?.load)s();else{const l=cC("iframefcb");return is()[l]=()=>{gapi.load?s():t(ns(i,"network-request-failed"))},_w(`${lC()}?onload=${l}`).catch(h=>t(h))}}).catch(e=>{throw Cd=null,e})}let Cd=null;function ER(i){return Cd=Cd||wR(i),Cd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=new Qu(5e3,15e3),SR="__/auth/iframe",AR="emulator/auth/iframe",NR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RR(i){const e=i.config;qe(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Pg(e,AR):`https://${i.config.authDomain}/${SR}`,s={apiKey:e.apiKey,appName:i.name,v:gc},l=CR.get(i.config.apiHost);l&&(s.eid=l);const h=i._getFrameworks();return h.length&&(s.fw=h.join(",")),`${t}?${$u(s).slice(1)}`}async function IR(i){const e=await ER(i),t=is().gapi;return qe(t,i,"internal-error"),e.open({where:document.body,url:RR(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NR,dontclear:!0},s=>new Promise(async(l,h)=>{await s.restyle({setHideOnLeave:!1});const f=ns(i,"network-request-failed"),_=is().setTimeout(()=>{h(f)},TR.get());function v(){is().clearTimeout(_),l(s)}s.ping(v).then(v,()=>{h(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PR=500,LR=600,OR="_blank",kR="http://localhost";class tx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DR(i,e,t,s=PR,l=LR){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let _="";const v={...jR,width:s.toString(),height:l.toString(),top:h,left:f},b=Hn().toLowerCase();t&&(_=hw(b)?OR:t),cw(b)&&(e=e||kR,v.scrollbars="yes");const E=Object.entries(v).reduce((I,[Z,U])=>`${I}${Z}=${U},`,"");if(JN(b)&&_!=="_self")return MR(e||"",_),new tx(null);const N=window.open(e||"",_,E);qe(N,i,"popup-blocked");try{N.focus()}catch{}return new tx(N)}function MR(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="__/auth/handler",UR="emulator/auth/handler",zR=encodeURIComponent("fac");async function nx(i,e,t,s,l,h){qe(i.config.authDomain,i,"auth-domain-config-required"),qe(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:gc,eventId:l};if(e instanceof bw){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",bA(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,N]of Object.entries({}))f[E]=N}if(e instanceof Ju){const E=e.getScopes().filter(N=>N!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const _=f;for(const E of Object.keys(_))_[E]===void 0&&delete _[E];const v=await i._getAppCheckToken(),b=v?`#${zR}=${encodeURIComponent(v)}`:"";return`${BR(i)}?${$u(_).slice(1)}${b}`}function BR({config:i}){return i.emulator?Pg(i,UR):`https://${i.authDomain}/${VR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp="webStorageSupport";class FR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rw,this._completeRedirectFn=dR,this._overrideRedirectResult=cR}async _openPopup(e,t,s,l){$s(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const h=await nx(e,t,s,Gp(),l);return DR(e,h,Mg())}async _openRedirect(e,t,s,l){await this._originValidation(e);const h=await nx(e,t,s,Gp(),l);return GC(h),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:l,promise:h}=this.eventManagers[t];return l?Promise.resolve(l):($s(h,"If manager is not set, promise should be"),h)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await IR(e),s=new mR(e);return t.register("authEvent",l=>(qe(l?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Cp,{type:Cp},l=>{const h=l?.[0]?.[Cp];h!==void 0&&t(!!h),Ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=vR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return gw()||uw()||Og()}}const HR=FR;var ix="@firebase/auth",rx="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZR(i){ic(new Yo("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),h=e.getProvider("app-check-internal"),{apiKey:f,authDomain:_}=s.options;qe(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const v={apiKey:f,authDomain:_,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yw(i)},b=new sC(s,l,h,v);return pC(b,t),b},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),ic(new Yo("auth-internal",e=>{const t=co(e.getProvider("auth").getImmediate());return(s=>new qR(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),eo(ix,rx,GR(i)),eo(ix,rx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=300,KR=Zb("authIdTokenMaxAge")||WR;let sx=null;const YR=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>KR)return;const l=t?.token;sx!==l&&(sx=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Dw(i=Xb()){const e=Ig(i,"auth");if(e.isInitialized())return e.getImmediate();const t=mC(i,{popupRedirectResolver:HR,persistence:[eR,FC,Rw]}),s=Zb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(s,location.origin);if(location.origin===h.origin){const f=YR(h.toString());VC(t,f,()=>f(t.currentUser)),MC(t,_=>f(_))}}const l=qb("auth");return l&&gC(t,`http://${l}`),t}function $R(){return document.getElementsByTagName("head")?.[0]??document}aC({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=l=>{const h=ns("internal-error");h.customData=l,t(h)},s.type="text/javascript",s.charset="UTF-8",$R().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZR("Browser");var QR="firebase",XR="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */eo(QR,XR,"app");var ax=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var to,Mw;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(F,O){function D(){}D.prototype=O.prototype,F.F=O.prototype,F.prototype=new D,F.prototype.constructor=F,F.D=function(P,M,q){for(var V=Array(arguments.length-2),He=2;He<arguments.length;He++)V[He-2]=arguments[He];return O.prototype[M].apply(P,V)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(F,O,D){D||(D=0);const P=Array(16);if(typeof O=="string")for(var M=0;M<16;++M)P[M]=O.charCodeAt(D++)|O.charCodeAt(D++)<<8|O.charCodeAt(D++)<<16|O.charCodeAt(D++)<<24;else for(M=0;M<16;++M)P[M]=O[D++]|O[D++]<<8|O[D++]<<16|O[D++]<<24;O=F.g[0],D=F.g[1],M=F.g[2];let q=F.g[3],V;V=O+(q^D&(M^q))+P[0]+3614090360&4294967295,O=D+(V<<7&4294967295|V>>>25),V=q+(M^O&(D^M))+P[1]+3905402710&4294967295,q=O+(V<<12&4294967295|V>>>20),V=M+(D^q&(O^D))+P[2]+606105819&4294967295,M=q+(V<<17&4294967295|V>>>15),V=D+(O^M&(q^O))+P[3]+3250441966&4294967295,D=M+(V<<22&4294967295|V>>>10),V=O+(q^D&(M^q))+P[4]+4118548399&4294967295,O=D+(V<<7&4294967295|V>>>25),V=q+(M^O&(D^M))+P[5]+1200080426&4294967295,q=O+(V<<12&4294967295|V>>>20),V=M+(D^q&(O^D))+P[6]+2821735955&4294967295,M=q+(V<<17&4294967295|V>>>15),V=D+(O^M&(q^O))+P[7]+4249261313&4294967295,D=M+(V<<22&4294967295|V>>>10),V=O+(q^D&(M^q))+P[8]+1770035416&4294967295,O=D+(V<<7&4294967295|V>>>25),V=q+(M^O&(D^M))+P[9]+2336552879&4294967295,q=O+(V<<12&4294967295|V>>>20),V=M+(D^q&(O^D))+P[10]+4294925233&4294967295,M=q+(V<<17&4294967295|V>>>15),V=D+(O^M&(q^O))+P[11]+2304563134&4294967295,D=M+(V<<22&4294967295|V>>>10),V=O+(q^D&(M^q))+P[12]+1804603682&4294967295,O=D+(V<<7&4294967295|V>>>25),V=q+(M^O&(D^M))+P[13]+4254626195&4294967295,q=O+(V<<12&4294967295|V>>>20),V=M+(D^q&(O^D))+P[14]+2792965006&4294967295,M=q+(V<<17&4294967295|V>>>15),V=D+(O^M&(q^O))+P[15]+1236535329&4294967295,D=M+(V<<22&4294967295|V>>>10),V=O+(M^q&(D^M))+P[1]+4129170786&4294967295,O=D+(V<<5&4294967295|V>>>27),V=q+(D^M&(O^D))+P[6]+3225465664&4294967295,q=O+(V<<9&4294967295|V>>>23),V=M+(O^D&(q^O))+P[11]+643717713&4294967295,M=q+(V<<14&4294967295|V>>>18),V=D+(q^O&(M^q))+P[0]+3921069994&4294967295,D=M+(V<<20&4294967295|V>>>12),V=O+(M^q&(D^M))+P[5]+3593408605&4294967295,O=D+(V<<5&4294967295|V>>>27),V=q+(D^M&(O^D))+P[10]+38016083&4294967295,q=O+(V<<9&4294967295|V>>>23),V=M+(O^D&(q^O))+P[15]+3634488961&4294967295,M=q+(V<<14&4294967295|V>>>18),V=D+(q^O&(M^q))+P[4]+3889429448&4294967295,D=M+(V<<20&4294967295|V>>>12),V=O+(M^q&(D^M))+P[9]+568446438&4294967295,O=D+(V<<5&4294967295|V>>>27),V=q+(D^M&(O^D))+P[14]+3275163606&4294967295,q=O+(V<<9&4294967295|V>>>23),V=M+(O^D&(q^O))+P[3]+4107603335&4294967295,M=q+(V<<14&4294967295|V>>>18),V=D+(q^O&(M^q))+P[8]+1163531501&4294967295,D=M+(V<<20&4294967295|V>>>12),V=O+(M^q&(D^M))+P[13]+2850285829&4294967295,O=D+(V<<5&4294967295|V>>>27),V=q+(D^M&(O^D))+P[2]+4243563512&4294967295,q=O+(V<<9&4294967295|V>>>23),V=M+(O^D&(q^O))+P[7]+1735328473&4294967295,M=q+(V<<14&4294967295|V>>>18),V=D+(q^O&(M^q))+P[12]+2368359562&4294967295,D=M+(V<<20&4294967295|V>>>12),V=O+(D^M^q)+P[5]+4294588738&4294967295,O=D+(V<<4&4294967295|V>>>28),V=q+(O^D^M)+P[8]+2272392833&4294967295,q=O+(V<<11&4294967295|V>>>21),V=M+(q^O^D)+P[11]+1839030562&4294967295,M=q+(V<<16&4294967295|V>>>16),V=D+(M^q^O)+P[14]+4259657740&4294967295,D=M+(V<<23&4294967295|V>>>9),V=O+(D^M^q)+P[1]+2763975236&4294967295,O=D+(V<<4&4294967295|V>>>28),V=q+(O^D^M)+P[4]+1272893353&4294967295,q=O+(V<<11&4294967295|V>>>21),V=M+(q^O^D)+P[7]+4139469664&4294967295,M=q+(V<<16&4294967295|V>>>16),V=D+(M^q^O)+P[10]+3200236656&4294967295,D=M+(V<<23&4294967295|V>>>9),V=O+(D^M^q)+P[13]+681279174&4294967295,O=D+(V<<4&4294967295|V>>>28),V=q+(O^D^M)+P[0]+3936430074&4294967295,q=O+(V<<11&4294967295|V>>>21),V=M+(q^O^D)+P[3]+3572445317&4294967295,M=q+(V<<16&4294967295|V>>>16),V=D+(M^q^O)+P[6]+76029189&4294967295,D=M+(V<<23&4294967295|V>>>9),V=O+(D^M^q)+P[9]+3654602809&4294967295,O=D+(V<<4&4294967295|V>>>28),V=q+(O^D^M)+P[12]+3873151461&4294967295,q=O+(V<<11&4294967295|V>>>21),V=M+(q^O^D)+P[15]+530742520&4294967295,M=q+(V<<16&4294967295|V>>>16),V=D+(M^q^O)+P[2]+3299628645&4294967295,D=M+(V<<23&4294967295|V>>>9),V=O+(M^(D|~q))+P[0]+4096336452&4294967295,O=D+(V<<6&4294967295|V>>>26),V=q+(D^(O|~M))+P[7]+1126891415&4294967295,q=O+(V<<10&4294967295|V>>>22),V=M+(O^(q|~D))+P[14]+2878612391&4294967295,M=q+(V<<15&4294967295|V>>>17),V=D+(q^(M|~O))+P[5]+4237533241&4294967295,D=M+(V<<21&4294967295|V>>>11),V=O+(M^(D|~q))+P[12]+1700485571&4294967295,O=D+(V<<6&4294967295|V>>>26),V=q+(D^(O|~M))+P[3]+2399980690&4294967295,q=O+(V<<10&4294967295|V>>>22),V=M+(O^(q|~D))+P[10]+4293915773&4294967295,M=q+(V<<15&4294967295|V>>>17),V=D+(q^(M|~O))+P[1]+2240044497&4294967295,D=M+(V<<21&4294967295|V>>>11),V=O+(M^(D|~q))+P[8]+1873313359&4294967295,O=D+(V<<6&4294967295|V>>>26),V=q+(D^(O|~M))+P[15]+4264355552&4294967295,q=O+(V<<10&4294967295|V>>>22),V=M+(O^(q|~D))+P[6]+2734768916&4294967295,M=q+(V<<15&4294967295|V>>>17),V=D+(q^(M|~O))+P[13]+1309151649&4294967295,D=M+(V<<21&4294967295|V>>>11),V=O+(M^(D|~q))+P[4]+4149444226&4294967295,O=D+(V<<6&4294967295|V>>>26),V=q+(D^(O|~M))+P[11]+3174756917&4294967295,q=O+(V<<10&4294967295|V>>>22),V=M+(O^(q|~D))+P[2]+718787259&4294967295,M=q+(V<<15&4294967295|V>>>17),V=D+(q^(M|~O))+P[9]+3951481745&4294967295,F.g[0]=F.g[0]+O&4294967295,F.g[1]=F.g[1]+(M+(V<<21&4294967295|V>>>11))&4294967295,F.g[2]=F.g[2]+M&4294967295,F.g[3]=F.g[3]+q&4294967295}s.prototype.v=function(F,O){O===void 0&&(O=F.length);const D=O-this.blockSize,P=this.C;let M=this.h,q=0;for(;q<O;){if(M==0)for(;q<=D;)l(this,F,q),q+=this.blockSize;if(typeof F=="string"){for(;q<O;)if(P[M++]=F.charCodeAt(q++),M==this.blockSize){l(this,P),M=0;break}}else for(;q<O;)if(P[M++]=F[q++],M==this.blockSize){l(this,P),M=0;break}}this.h=M,this.o+=O},s.prototype.A=function(){var F=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);F[0]=128;for(var O=1;O<F.length-8;++O)F[O]=0;O=this.o*8;for(var D=F.length-8;D<F.length;++D)F[D]=O&255,O/=256;for(this.v(F),F=Array(16),O=0,D=0;D<4;++D)for(let P=0;P<32;P+=8)F[O++]=this.g[D]>>>P&255;return F};function h(F,O){var D=_;return Object.prototype.hasOwnProperty.call(D,F)?D[F]:D[F]=O(F)}function f(F,O){this.h=O;const D=[];let P=!0;for(let M=F.length-1;M>=0;M--){const q=F[M]|0;P&&q==O||(D[M]=q,P=!1)}this.g=D}var _={};function v(F){return-128<=F&&F<128?h(F,function(O){return new f([O|0],O<0?-1:0)}):new f([F|0],F<0?-1:0)}function b(F){if(isNaN(F)||!isFinite(F))return N;if(F<0)return H(b(-F));const O=[];let D=1;for(let P=0;F>=D;P++)O[P]=F/D|0,D*=4294967296;return new f(O,0)}function E(F,O){if(F.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(F.charAt(0)=="-")return H(E(F.substring(1),O));if(F.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=b(Math.pow(O,8));let P=N;for(let q=0;q<F.length;q+=8){var M=Math.min(8,F.length-q);const V=parseInt(F.substring(q,q+M),O);M<8?(M=b(Math.pow(O,M)),P=P.j(M).add(b(V))):(P=P.j(D),P=P.add(b(V)))}return P}var N=v(0),I=v(1),Z=v(16777216);i=f.prototype,i.m=function(){if(K(this))return-H(this).m();let F=0,O=1;for(let D=0;D<this.g.length;D++){const P=this.i(D);F+=(P>=0?P:4294967296+P)*O,O*=4294967296}return F},i.toString=function(F){if(F=F||10,F<2||36<F)throw Error("radix out of range: "+F);if(U(this))return"0";if(K(this))return"-"+H(this).toString(F);const O=b(Math.pow(F,6));var D=this;let P="";for(;;){const M=Ae(D,O).g;D=oe(D,M.j(O));let q=((D.g.length>0?D.g[0]:D.h)>>>0).toString(F);if(D=M,U(D))return q+P;for(;q.length<6;)q="0"+q;P=q+P}},i.i=function(F){return F<0?0:F<this.g.length?this.g[F]:this.h};function U(F){if(F.h!=0)return!1;for(let O=0;O<F.g.length;O++)if(F.g[O]!=0)return!1;return!0}function K(F){return F.h==-1}i.l=function(F){return F=oe(this,F),K(F)?-1:U(F)?0:1};function H(F){const O=F.g.length,D=[];for(let P=0;P<O;P++)D[P]=~F.g[P];return new f(D,~F.h).add(I)}i.abs=function(){return K(this)?H(this):this},i.add=function(F){const O=Math.max(this.g.length,F.g.length),D=[];let P=0;for(let M=0;M<=O;M++){let q=P+(this.i(M)&65535)+(F.i(M)&65535),V=(q>>>16)+(this.i(M)>>>16)+(F.i(M)>>>16);P=V>>>16,q&=65535,V&=65535,D[M]=V<<16|q}return new f(D,D[D.length-1]&-2147483648?-1:0)};function oe(F,O){return F.add(H(O))}i.j=function(F){if(U(this)||U(F))return N;if(K(this))return K(F)?H(this).j(H(F)):H(H(this).j(F));if(K(F))return H(this.j(H(F)));if(this.l(Z)<0&&F.l(Z)<0)return b(this.m()*F.m());const O=this.g.length+F.g.length,D=[];for(var P=0;P<2*O;P++)D[P]=0;for(P=0;P<this.g.length;P++)for(let M=0;M<F.g.length;M++){const q=this.i(P)>>>16,V=this.i(P)&65535,He=F.i(M)>>>16,Oe=F.i(M)&65535;D[2*P+2*M]+=V*Oe,le(D,2*P+2*M),D[2*P+2*M+1]+=q*Oe,le(D,2*P+2*M+1),D[2*P+2*M+1]+=V*He,le(D,2*P+2*M+1),D[2*P+2*M+2]+=q*He,le(D,2*P+2*M+2)}for(F=0;F<O;F++)D[F]=D[2*F+1]<<16|D[2*F];for(F=O;F<2*O;F++)D[F]=0;return new f(D,0)};function le(F,O){for(;(F[O]&65535)!=F[O];)F[O+1]+=F[O]>>>16,F[O]&=65535,O++}function ce(F,O){this.g=F,this.h=O}function Ae(F,O){if(U(O))throw Error("division by zero");if(U(F))return new ce(N,N);if(K(F))return O=Ae(H(F),O),new ce(H(O.g),H(O.h));if(K(O))return O=Ae(F,H(O)),new ce(H(O.g),O.h);if(F.g.length>30){if(K(F)||K(O))throw Error("slowDivide_ only works with positive integers.");for(var D=I,P=O;P.l(F)<=0;)D=xe(D),P=xe(P);var M=Ve(D,1),q=Ve(P,1);for(P=Ve(P,2),D=Ve(D,2);!U(P);){var V=q.add(P);V.l(F)<=0&&(M=M.add(D),q=V),P=Ve(P,1),D=Ve(D,1)}return O=oe(F,M.j(O)),new ce(M,O)}for(M=N;F.l(O)>=0;){for(D=Math.max(1,Math.floor(F.m()/O.m())),P=Math.ceil(Math.log(D)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),q=b(D),V=q.j(O);K(V)||V.l(F)>0;)D-=P,q=b(D),V=q.j(O);U(q)&&(q=I),M=M.add(q),F=oe(F,V)}return new ce(M,F)}i.B=function(F){return Ae(this,F).h},i.and=function(F){const O=Math.max(this.g.length,F.g.length),D=[];for(let P=0;P<O;P++)D[P]=this.i(P)&F.i(P);return new f(D,this.h&F.h)},i.or=function(F){const O=Math.max(this.g.length,F.g.length),D=[];for(let P=0;P<O;P++)D[P]=this.i(P)|F.i(P);return new f(D,this.h|F.h)},i.xor=function(F){const O=Math.max(this.g.length,F.g.length),D=[];for(let P=0;P<O;P++)D[P]=this.i(P)^F.i(P);return new f(D,this.h^F.h)};function xe(F){const O=F.g.length+1,D=[];for(let P=0;P<O;P++)D[P]=F.i(P)<<1|F.i(P-1)>>>31;return new f(D,F.h)}function Ve(F,O){const D=O>>5;O%=32;const P=F.g.length-D,M=[];for(let q=0;q<P;q++)M[q]=O>0?F.i(q+D)>>>O|F.i(q+D+1)<<32-O:F.i(q+D);return new f(M,F.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Mw=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=b,f.fromString=E,to=f}).apply(typeof ax<"u"?ax:typeof self<"u"?self:typeof window<"u"?window:{});var yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vw,Tu,Uw,Rd,Kp,zw,Bw,Fw;(function(){var i,e=Object.defineProperty;function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof yd=="object"&&yd];for(var w=0;w<m.length;++w){var S=m[w];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var s=t(this);function l(m,w){if(w)e:{var S=s;m=m.split(".");for(var j=0;j<m.length-1;j++){var X=m[j];if(!(X in S))break e;S=S[X]}m=m[m.length-1],j=S[m],w=w(j),w!=j&&w!=null&&e(S,m,{configurable:!0,writable:!0,value:w})}}l("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(m){return m||function(w){var S=[],j;for(j in w)Object.prototype.hasOwnProperty.call(w,j)&&S.push([j,w[j]]);return S}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function _(m){var w=typeof m;return w=="object"&&m!=null||w=="function"}function v(m,w,S){return m.call.apply(m.bind,arguments)}function b(m,w,S){return b=v,b.apply(null,arguments)}function E(m,w){var S=Array.prototype.slice.call(arguments,1);return function(){var j=S.slice();return j.push.apply(j,arguments),m.apply(this,j)}}function N(m,w){function S(){}S.prototype=w.prototype,m.Z=w.prototype,m.prototype=new S,m.prototype.constructor=m,m.Ob=function(j,X,ne){for(var be=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)be[Be-2]=arguments[Be];return w.prototype[X].apply(j,be)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function Z(m){const w=m.length;if(w>0){const S=Array(w);for(let j=0;j<w;j++)S[j]=m[j];return S}return[]}function U(m,w){for(let j=1;j<arguments.length;j++){const X=arguments[j];var S=typeof X;if(S=S!="object"?S:X?Array.isArray(X)?"array":S:"null",S=="array"||S=="object"&&typeof X.length=="number"){S=m.length||0;const ne=X.length||0;m.length=S+ne;for(let be=0;be<ne;be++)m[S+be]=X[be]}else m.push(X)}}class K{constructor(w,S){this.i=w,this.j=S,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function H(m){f.setTimeout(()=>{throw m},0)}function oe(){var m=F;let w=null;return m.g&&(w=m.g,m.g=m.g.next,m.g||(m.h=null),w.next=null),w}class le{constructor(){this.h=this.g=null}add(w,S){const j=ce.get();j.set(w,S),this.h?this.h.next=j:this.g=j,this.h=j}}var ce=new K(()=>new Ae,m=>m.reset());class Ae{constructor(){this.next=this.g=this.h=null}set(w,S){this.h=w,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,Ve=!1,F=new le,O=()=>{const m=Promise.resolve(void 0);xe=()=>{m.then(D)}};function D(){for(var m;m=oe();){try{m.h.call(m.g)}catch(S){H(S)}var w=ce;w.j(m),w.h<100&&(w.h++,m.next=w.g,w.g=m)}Ve=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(m,w){this.type=m,this.g=this.target=w,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var m=!1,w=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const S=()=>{};f.addEventListener("test",S,w),f.removeEventListener("test",S,w)}catch{}return m})();function V(m){return/^[\s\xa0]*$/.test(m)}function He(m,w){M.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,w)}N(He,M),He.prototype.init=function(m,w){const S=this.type=m.type,j=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=w,w=m.relatedTarget,w||(S=="mouseover"?w=m.fromElement:S=="mouseout"&&(w=m.toElement)),this.relatedTarget=w,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&He.Z.h.call(this)},He.prototype.h=function(){He.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Oe="closure_listenable_"+(Math.random()*1e6|0),Y=0;function me(m,w,S,j,X){this.listener=m,this.proxy=null,this.src=w,this.type=S,this.capture=!!j,this.ha=X,this.key=++Y,this.da=this.fa=!1}function he(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ke(m,w,S){for(const j in m)w.call(S,m[j],j,m)}function k(m,w){for(const S in m)w.call(void 0,m[S],S,m)}function ae(m){const w={};for(const S in m)w[S]=m[S];return w}const _e="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ve(m,w){let S,j;for(let X=1;X<arguments.length;X++){j=arguments[X];for(S in j)m[S]=j[S];for(let ne=0;ne<_e.length;ne++)S=_e[ne],Object.prototype.hasOwnProperty.call(j,S)&&(m[S]=j[S])}}function Ee(m){this.src=m,this.g={},this.h=0}Ee.prototype.add=function(m,w,S,j,X){const ne=m.toString();m=this.g[ne],m||(m=this.g[ne]=[],this.h++);const be=we(m,w,j,X);return be>-1?(w=m[be],S||(w.fa=!1)):(w=new me(w,this.src,ne,!!j,X),w.fa=S,m.push(w)),w};function Ce(m,w){const S=w.type;if(S in m.g){var j=m.g[S],X=Array.prototype.indexOf.call(j,w,void 0),ne;(ne=X>=0)&&Array.prototype.splice.call(j,X,1),ne&&(he(w),m.g[S].length==0&&(delete m.g[S],m.h--))}}function we(m,w,S,j){for(let X=0;X<m.length;++X){const ne=m[X];if(!ne.da&&ne.listener==w&&ne.capture==!!S&&ne.ha==j)return X}return-1}var St="closure_lm_"+(Math.random()*1e6|0),it={};function si(m,w,S,j,X){if(Array.isArray(w)){for(let ne=0;ne<w.length;ne++)si(m,w[ne],S,j,X);return null}return S=ds(S),m&&m[Oe]?m.J(w,S,_(j)?!!j.capture:!1,X):hs(m,w,S,!1,j,X)}function hs(m,w,S,j,X,ne){if(!w)throw Error("Invalid event type");const be=_(X)?!!X.capture:!!X;let Be=na(m);if(Be||(m[St]=Be=new Ee(m)),S=Be.add(w,S,j,be,ne),S.proxy)return S;if(j=Dr(),S.proxy=j,j.src=m,j.listener=S,m.addEventListener)q||(X=be),X===void 0&&(X=!1),m.addEventListener(w.toString(),j,X);else if(m.attachEvent)m.attachEvent(ta(w.toString()),j);else if(m.addListener&&m.removeListener)m.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Dr(){function m(S){return w.call(m.src,m.listener,S)}const w=sl;return m}function Fi(m,w,S,j,X){if(Array.isArray(w))for(var ne=0;ne<w.length;ne++)Fi(m,w[ne],S,j,X);else j=_(j)?!!j.capture:!!j,S=ds(S),m&&m[Oe]?(m=m.i,ne=String(w).toString(),ne in m.g&&(w=m.g[ne],S=we(w,S,j,X),S>-1&&(he(w[S]),Array.prototype.splice.call(w,S,1),w.length==0&&(delete m.g[ne],m.h--)))):m&&(m=na(m))&&(w=m.g[w.toString()],m=-1,w&&(m=we(w,S,j,X)),(S=m>-1?w[m]:null)&&cr(S))}function cr(m){if(typeof m!="number"&&m&&!m.da){var w=m.src;if(w&&w[Oe])Ce(w.i,m);else{var S=m.type,j=m.proxy;w.removeEventListener?w.removeEventListener(S,j,m.capture):w.detachEvent?w.detachEvent(ta(S),j):w.addListener&&w.removeListener&&w.removeListener(j),(S=na(w))?(Ce(S,m),S.h==0&&(S.src=null,w[St]=null)):he(m)}}}function ta(m){return m in it?it[m]:it[m]="on"+m}function sl(m,w){if(m.da)m=!0;else{w=new He(w,this);const S=m.listener,j=m.ha||m.src;m.fa&&cr(m),m=S.call(j,w)}return m}function na(m){return m=m[St],m instanceof Ee?m:null}var fn="__closure_events_fn_"+(Math.random()*1e9>>>0);function ds(m){return typeof m=="function"?m:(m[fn]||(m[fn]=function(w){return m.handleEvent(w)}),m[fn])}function Wt(){P.call(this),this.i=new Ee(this),this.M=this,this.G=null}N(Wt,P),Wt.prototype[Oe]=!0,Wt.prototype.removeEventListener=function(m,w,S,j){Fi(this,m,w,S,j)};function Kt(m,w){var S,j=m.G;if(j)for(S=[];j;j=j.G)S.push(j);if(m=m.M,j=w.type||w,typeof w=="string")w=new M(w,m);else if(w instanceof M)w.target=w.target||m;else{var X=w;w=new M(j,m),ve(w,X)}X=!0;let ne,be;if(S)for(be=S.length-1;be>=0;be--)ne=w.g=S[be],X=wi(ne,j,!0,w)&&X;if(ne=w.g=m,X=wi(ne,j,!0,w)&&X,X=wi(ne,j,!1,w)&&X,S)for(be=0;be<S.length;be++)ne=w.g=S[be],X=wi(ne,j,!1,w)&&X}Wt.prototype.N=function(){if(Wt.Z.N.call(this),this.i){var m=this.i;for(const w in m.g){const S=m.g[w];for(let j=0;j<S.length;j++)he(S[j]);delete m.g[w],m.h--}}this.G=null},Wt.prototype.J=function(m,w,S,j){return this.i.add(String(m),w,!1,S,j)},Wt.prototype.K=function(m,w,S,j){return this.i.add(String(m),w,!0,S,j)};function wi(m,w,S,j){if(w=m.i.g[String(w)],!w)return!0;w=w.concat();let X=!0;for(let ne=0;ne<w.length;++ne){const be=w[ne];if(be&&!be.da&&be.capture==S){const Be=be.listener,tt=be.ha||be.src;be.fa&&Ce(m.i,be),X=Be.call(tt,j)!==!1&&X}}return X&&!j.defaultPrevented}function al(m,w){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=b(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:f.setTimeout(m,w||0)}function ia(m){m.g=al(()=>{m.g=null,m.i&&(m.i=!1,ia(m))},m.l);const w=m.h;m.h=null,m.m.apply(null,w)}class Rc extends P{constructor(w,S){super(),this.m=w,this.l=S,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:ia(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fs(m){P.call(this),this.h=m,this.g={}}N(fs,P);var Hi=[];function sn(m){ke(m.g,function(w,S){this.g.hasOwnProperty(S)&&cr(w)},m),m.g={}}fs.prototype.N=function(){fs.Z.N.call(this),sn(this)},fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qn=f.JSON.stringify,An=f.JSON.parse,ol=class{stringify(m){return f.JSON.stringify(m,void 0)}parse(m){return f.JSON.parse(m,void 0)}};function fo(){}function ll(){}var Ei={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qi(){M.call(this,"d")}N(qi,M);function ai(){M.call(this,"c")}N(ai,M);var oi={},li=null;function ra(){return li=li||new Wt}oi.Ia="serverreachability";function mo(m){M.call(this,oi.Ia,m)}N(mo,M);function ur(m){const w=ra();Kt(w,new mo(w))}oi.STAT_EVENT="statevent";function ms(m,w){M.call(this,oi.STAT_EVENT,m),this.stat=w}N(ms,M);function Lt(m){const w=ra();Kt(w,new ms(w,m))}oi.Ja="timingevent";function cl(m,w){M.call(this,oi.Ja,m),this.size=w}N(cl,M);function Mr(m,w){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){m()},w)}function Vr(){this.g=!0}Vr.prototype.ua=function(){this.g=!1};function po(m,w,S,j,X,ne){m.info(function(){if(m.g)if(ne){var be="",Be=ne.split("&");for(let pt=0;pt<Be.length;pt++){var tt=Be[pt].split("=");if(tt.length>1){const Ot=tt[0];tt=tt[1];const Qn=Ot.split("_");be=Qn.length>=2&&Qn[1]=="type"?be+(Ot+"="+tt+"&"):be+(Ot+"=redacted&")}}}else be=null;else be=ne;return"XMLHTTP REQ ("+j+") [attempt "+X+"]: "+w+`
`+S+`
`+be})}function go(m,w,S,j,X,ne,be){m.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+X+"]: "+w+`
`+S+`
`+ne+" "+be})}function hr(m,w,S,j){m.info(function(){return"XMLHTTP TEXT ("+w+"): "+Gi(m,S)+(j?" "+j:"")})}function yo(m,w){m.info(function(){return"TIMEOUT: "+w})}Vr.prototype.info=function(){};function Gi(m,w){if(!m.g)return w;if(!w)return null;try{const ne=JSON.parse(w);if(ne){for(m=0;m<ne.length;m++)if(Array.isArray(ne[m])){var S=ne[m];if(!(S.length<2)){var j=S[1];if(Array.isArray(j)&&!(j.length<1)){var X=j[0];if(X!="noop"&&X!="stop"&&X!="close")for(let be=1;be<j.length;be++)j[be]=""}}}}return qn(ne)}catch{return w}}var Vt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},an={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},dr;function mn(){}N(mn,fo),mn.prototype.g=function(){return new XMLHttpRequest},dr=new mn;function je(m){return encodeURIComponent(String(m))}function ul(m){var w=1;m=m.split(":");const S=[];for(;w>0&&m.length;)S.push(m.shift()),w--;return m.length&&S.push(m.join(":")),S}function ci(m,w,S,j){this.j=m,this.i=w,this.l=S,this.S=j||1,this.V=new fs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fr}function fr(){this.i=null,this.g="",this.h=!1}var ps={},ui={};function Ti(m,w,S){m.M=1,m.A=yt(bt(w)),m.u=S,m.R=!0,Gn(m,null)}function Gn(m,w){m.F=Date.now(),gs(m),m.B=bt(m.A);var S=m.B,j=m.S;Array.isArray(j)||(j=[String(j)]),aa(S.i,"t",j),m.C=0,S=m.j.L,m.h=new fr,m.g=As(m.j,S?w:null,!m.u),m.P>0&&(m.O=new Rc(b(m.Y,m,m.g),m.P)),w=m.V,S=m.g,j=m.ba;var X="readystatechange";Array.isArray(X)||(X&&(Hi[0]=X.toString()),X=Hi);for(let ne=0;ne<X.length;ne++){const be=si(S,X[ne],j||w.handleEvent,!1,w.h||w);if(!be)break;w.g[be.key]=be}w=m.J?ae(m.J):{},m.u?(m.v||(m.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,w)):(m.v="GET",m.g.ea(m.B,m.v,null,w)),ur(),po(m.i,m.v,m.B,m.l,m.S,m.u)}ci.prototype.ba=function(m){m=m.target;const w=this.O;w&&vn(m)==3?w.j():this.Y(m)},ci.prototype.Y=function(m){try{if(m==this.g)e:{const Be=vn(this.g),tt=this.g.ya(),pt=this.g.ca();if(!(Be<3)&&(Be!=3||this.g&&(this.h.h||this.g.la()||qr(this.g)))){this.K||Be!=4||tt==7||(tt==8||pt<=0?ur(3):ur(2)),Si(this);var w=this.g.ca();this.X=w;var S=mr(this);if(this.o=w==200,go(this.i,this.v,this.B,this.l,this.S,Be,w),this.o){if(this.U&&!this.L){t:{if(this.g){var j,X=this.g;if((j=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(j)){var ne=j;break t}}ne=null}if(m=ne)hr(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,sa(this,m);else{this.o=!1,this.m=3,Lt(12),Zn(this),ys(this);break e}}if(this.R){m=!0;let Ot;for(;!this.K&&this.C<S.length;)if(Ot=hl(this,S),Ot==ui){Be==4&&(this.m=4,Lt(14),m=!1),hr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ot==ps){this.m=4,Lt(15),hr(this.i,this.l,S,"[Invalid Chunk]"),m=!1;break}else hr(this.i,this.l,Ot,null),sa(this,Ot);if(Ut(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||S.length!=0||this.h.h||(this.m=1,Lt(16),m=!1),this.o=this.o&&m,!m)hr(this.i,this.l,S,"[Invalid Chunked Response]"),Zn(this),ys(this);else if(S.length>0&&!this.W){this.W=!0;var be=this.j;be.g==this&&be.aa&&!be.P&&(be.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),bo(be),be.P=!0,Lt(11))}}else hr(this.i,this.l,S,null),sa(this,S);Be==4&&Zn(this),this.o&&!this.K&&(Be==4?kn(this.j,this):(this.o=!1,gs(this)))}else vr(this.g),w==400&&S.indexOf("Unknown SID")>0?(this.m=3,Lt(12)):(this.m=0,Lt(13)),Zn(this),ys(this)}}}catch{}finally{}};function mr(m){if(!Ut(m))return m.g.la();const w=qr(m.g);if(w==="")return"";let S="";const j=w.length,X=vn(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Zn(m),ys(m),"";m.h.i=new f.TextDecoder}for(let ne=0;ne<j;ne++)m.h.h=!0,S+=m.h.i.decode(w[ne],{stream:!(X&&ne==j-1)});return w.length=0,m.h.g+=S,m.C=0,m.h.g}function Ut(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function hl(m,w){var S=m.C,j=w.indexOf(`
`,S);return j==-1?ui:(S=Number(w.substring(S,j)),isNaN(S)?ps:(j+=1,j+S>w.length?ui:(w=w.slice(j,j+S),m.C=j+S,w)))}ci.prototype.cancel=function(){this.K=!0,Zn(this)};function gs(m){m.T=Date.now()+m.H,Zi(m,m.H)}function Zi(m,w){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Mr(b(m.aa,m),w)}function Si(m){m.D&&(f.clearTimeout(m.D),m.D=null)}ci.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(yo(this.i,this.B),this.M!=2&&(ur(),Lt(17)),Zn(this),this.m=2,ys(this)):Zi(this,this.T-m)};function ys(m){m.j.I==0||m.K||kn(m.j,m)}function Zn(m){Si(m);var w=m.O;w&&typeof w.dispose=="function"&&w.dispose(),m.O=null,sn(m.V),m.g&&(w=m.g,m.g=null,w.abort(),w.dispose())}function sa(m,w){try{var S=m.j;if(S.I!=0&&(S.g==m||pr(S.h,m))){if(!m.L&&pr(S.h,m)&&S.I==3){try{var j=S.Ba.g.parse(w)}catch{j=null}if(Array.isArray(j)&&j.length==3){var X=j;if(X[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<m.F)ua(S),Ji(S);else break e;xo(S),Lt(18)}}else S.xa=X[1],0<S.xa-S.K&&X[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=Mr(b(S.Va,S),6e3));hi(S.h)<=1&&S.ta&&(S.ta=void 0)}else er(S,11)}else if((m.L||S.g==m)&&ua(S),!V(w))for(X=S.Ba.g.parse(w),w=0;w<X.length;w++){let pt=X[w];const Ot=pt[0];if(!(Ot<=S.K))if(S.K=Ot,pt=pt[1],S.I==2)if(pt[0]=="c"){S.M=pt[1],S.ba=pt[2];const Qn=pt[3];Qn!=null&&(S.ka=Qn,S.j.info("VER="+S.ka));const fi=pt[4];fi!=null&&(S.za=fi,S.j.info("SVER="+S.za));const Xn=pt[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(j=1.5*Xn,S.O=j,S.j.info("backChannelRequestTimeoutMs_="+j)),j=S;const Ri=m.g;if(Ri){const Ii=Ri.g?Ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ii){var ne=j.h;ne.g||Ii.indexOf("spdy")==-1&&Ii.indexOf("quic")==-1&&Ii.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Wi(ne,ne.h),ne.h=null))}if(j.G){const ma=Ri.g?Ri.g.getResponseHeader("X-HTTP-Session-Id"):null;ma&&(j.wa=ma,Ne(j.J,j.G,ma))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-m.F,S.j.info("Handshake RTT: "+S.T+"ms")),j=S;var be=m;if(j.na=wo(j,j.L?j.ba:null,j.W),be.L){Ki(j.h,be);var Be=be,tt=j.O;tt&&(Be.H=tt),Be.D&&(Si(Be),gs(Be)),j.g=be}else vo(j);S.i.length>0&&Ni(S)}else pt[0]!="stop"&&pt[0]!="close"||er(S,7);else S.I==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?er(S,7):$e(S):pt[0]!="noop"&&S.l&&S.l.qa(pt),S.A=0)}}ur(4)}catch{}}var Ic=class{constructor(m,w){this.g=m,this.map=w}};function _s(m){this.l=m||10,f.PerformanceNavigationTiming?(m=f.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vs(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function hi(m){return m.h?1:m.g?m.g.size:0}function pr(m,w){return m.h?m.h==w:m.g?m.g.has(w):!1}function Wi(m,w){m.g?m.g.add(w):m.h=w}function Ki(m,w){m.h&&m.h==w?m.h=null:m.g&&m.g.has(w)&&m.g.delete(w)}_s.prototype.cancel=function(){if(this.i=xs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function xs(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let w=m.i;for(const S of m.g.values())w=w.concat(S.G);return w}return Z(m.i)}var Yi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function at(m,w){if(m){m=m.split("&");for(let S=0;S<m.length;S++){const j=m[S].indexOf("=");let X,ne=null;j>=0?(X=m[S].substring(0,j),ne=m[S].substring(j+1)):X=m[S],w(X,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function ut(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;m instanceof ut?(this.l=m.l,Wn(this,m.j),this.o=m.o,this.g=m.g,di(this,m.u),this.h=m.h,$i(this,ws(m.i)),this.m=m.m):m&&(w=String(m).match(Yi))?(this.l=!1,Wn(this,w[1]||"",!0),this.o=gr(w[2]||""),this.g=gr(w[3]||"",!0),di(this,w[4]),this.h=gr(w[5]||"",!0),$i(this,w[6]||"",!0),this.m=gr(w[7]||"")):(this.l=!1,this.i=new gn(null,this.l))}ut.prototype.toString=function(){const m=[];var w=this.j;w&&m.push(zt(w,_o,!0),":");var S=this.g;return(S||w=="file")&&(m.push("//"),(w=this.o)&&m.push(zt(w,_o,!0),"@"),m.push(je(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&m.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&m.push("/"),m.push(zt(S,S.charAt(0)=="/"?Ln:Ur,!0))),(S=this.i.toString())&&m.push("?",S),(S=this.m)&&m.push("#",zt(S,Qi)),m.join("")},ut.prototype.resolve=function(m){const w=bt(this);let S=!!m.j;S?Wn(w,m.j):S=!!m.o,S?w.o=m.o:S=!!m.g,S?w.g=m.g:S=m.u!=null;var j=m.h;if(S)di(w,m.u);else if(S=!!m.h){if(j.charAt(0)!="/")if(this.g&&!this.h)j="/"+j;else{var X=w.h.lastIndexOf("/");X!=-1&&(j=w.h.slice(0,X+1)+j)}if(X=j,X==".."||X==".")j="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){j=X.lastIndexOf("/",0)==0,X=X.split("/");const ne=[];for(let be=0;be<X.length;){const Be=X[be++];Be=="."?j&&be==X.length&&ne.push(""):Be==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),j&&be==X.length&&ne.push("")):(ne.push(Be),j=!0)}j=ne.join("/")}else j=X}return S?w.h=j:S=m.i.toString()!=="",S?$i(w,ws(m.i)):S=!!m.m,S&&(w.m=m.m),w};function bt(m){return new ut(m)}function Wn(m,w,S){m.j=S?gr(w,!0):w,m.j&&(m.j=m.j.replace(/:$/,""))}function di(m,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);m.u=w}else m.u=null}function $i(m,w,S){w instanceof gn?(m.i=w,Es(m.i,m.l)):(S||(w=zt(w,jt)),m.i=new gn(w,m.l))}function Ne(m,w,S){m.i.set(w,S)}function yt(m){return Ne(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function gr(m,w){return m?w?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function zt(m,w,S){return typeof m=="string"?(m=encodeURI(m).replace(w,pn),S&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function pn(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var _o=/[#\/\?@]/g,Ur=/[#\?:]/g,Ln=/[#\?]/g,jt=/[#\?@]/g,Qi=/#/g;function gn(m,w){this.h=this.g=null,this.i=m||null,this.j=!!w}function Kn(m){m.g||(m.g=new Map,m.h=0,m.i&&at(m.i,function(w,S){m.add(decodeURIComponent(w.replace(/\+/g," ")),S)}))}i=gn.prototype,i.add=function(m,w){Kn(this),this.i=null,m=Yn(this,m);let S=this.g.get(m);return S||this.g.set(m,S=[]),S.push(w),this.h+=1,this};function bs(m,w){Kn(m),w=Yn(m,w),m.g.has(w)&&(m.i=null,m.h-=m.g.get(w).length,m.g.delete(w))}function yr(m,w){return Kn(m),w=Yn(m,w),m.g.has(w)}i.forEach=function(m,w){Kn(this),this.g.forEach(function(S,j){S.forEach(function(X){m.call(w,X,j,this)},this)},this)};function zr(m,w){Kn(m);let S=[];if(typeof w=="string")yr(m,w)&&(S=S.concat(m.g.get(Yn(m,w))));else for(m=Array.from(m.g.values()),w=0;w<m.length;w++)S=S.concat(m[w]);return S}i.set=function(m,w){return Kn(this),this.i=null,m=Yn(this,m),yr(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[w]),this.h+=1,this},i.get=function(m,w){return m?(m=zr(this,m),m.length>0?String(m[0]):w):w};function aa(m,w,S){bs(m,w),S.length>0&&(m.i=null,m.g.set(Yn(m,w),Z(S)),m.h+=S.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],w=Array.from(this.g.keys());for(let j=0;j<w.length;j++){var S=w[j];const X=je(S);S=zr(this,S);for(let ne=0;ne<S.length;ne++){let be=X;S[ne]!==""&&(be+="="+je(S[ne])),m.push(be)}}return this.i=m.join("&")};function ws(m){const w=new gn;return w.i=m.i,m.g&&(w.g=new Map(m.g),w.h=m.h),w}function Yn(m,w){return w=String(w),m.j&&(w=w.toLowerCase()),w}function Es(m,w){w&&!m.j&&(Kn(m),m.i=null,m.g.forEach(function(S,j){const X=j.toLowerCase();j!=X&&(bs(this,j),aa(this,X,S))},m)),m.j=w}function Br(m,w){const S=new Vr;if(f.Image){const j=new Image;j.onload=E(on,S,"TestLoadImage: loaded",!0,w,j),j.onerror=E(on,S,"TestLoadImage: error",!1,w,j),j.onabort=E(on,S,"TestLoadImage: abort",!1,w,j),j.ontimeout=E(on,S,"TestLoadImage: timeout",!1,w,j),f.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=m}else w(!1)}function _r(m,w){const S=new Vr,j=new AbortController,X=setTimeout(()=>{j.abort(),on(S,"TestPingServer: timeout",!1,w)},1e4);fetch(m,{signal:j.signal}).then(ne=>{clearTimeout(X),ne.ok?on(S,"TestPingServer: ok",!0,w):on(S,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(X),on(S,"TestPingServer: error",!1,w)})}function on(m,w,S,j,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),j(S)}catch{}}function dl(){this.g=new ol}function ze(m){this.i=m.Sb||null,this.h=m.ab||!1}N(ze,fo),ze.prototype.g=function(){return new yn(this.i,this.h)};function yn(m,w){Wt.call(this),this.H=m,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}N(yn,Wt),i=yn.prototype,i.open=function(m,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=w,this.readyState=1,Ai(this)},i.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(w.body=m),(this.H||f).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_n(this)),this.readyState=0},i.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Ai(this)),this.g&&(this.readyState=3,Ai(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ht(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function ht(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}i.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var w=m.value?m.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!m.done}))&&(this.response=this.responseText+=w)}m.done?_n(this):Ai(this),this.readyState==3&&ht(this)}},i.Oa=function(m){this.g&&(this.response=this.responseText=m,_n(this))},i.Na=function(m){this.g&&(this.response=m,_n(this))},i.ga=function(){this.g&&_n(this)};function _n(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Ai(m)}i.setRequestHeader=function(m,w){this.A.append(m,w)},i.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],w=this.h.entries();for(var S=w.next();!S.done;)S=S.value,m.push(S[0]+": "+S[1]),S=w.next();return m.join(`\r
`)};function Ai(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(yn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Xi(m){let w="";return ke(m,function(S,j){w+=j,w+=":",w+=S,w+=`\r
`}),w}function On(m,w,S){e:{for(j in S){var j=!1;break e}j=!0}j||(S=Xi(S),typeof m=="string"?S!=null&&je(S):Ne(m,w,S))}function dt(m){Wt.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}N(dt,Wt);var Fr=/^https?$/i,Hr=["POST","PUT"];i=dt.prototype,i.Fa=function(m){this.H=m},i.ea=function(m,w,S,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);w=w?w.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():dr.g(),this.g.onreadystatechange=I(b(this.Ca,this));try{this.B=!0,this.g.open(w,String(m),!0),this.B=!1}catch(ne){Pt(this,ne);return}if(m=S||"",S=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var X in j)S.set(X,j[X]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const ne of j.keys())S.set(ne,j.get(ne));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(S.keys()).find(ne=>ne.toLowerCase()=="content-type"),X=f.FormData&&m instanceof f.FormData,!(Array.prototype.indexOf.call(Hr,w,void 0)>=0)||j||X||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,be]of S)this.g.setRequestHeader(ne,be);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(ne){Pt(this,ne)}};function Pt(m,w){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=w,m.o=5,$n(m),qt(m)}function $n(m){m.A||(m.A=!0,Kt(m,"complete"),Kt(m,"error"))}i.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,Kt(this,"complete"),Kt(this,"abort"),qt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qt(this,!0)),dt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?oa(this):this.Xa())},i.Xa=function(){oa(this)};function oa(m){if(m.h&&typeof h<"u"){if(m.v&&vn(m)==4)setTimeout(m.Ca.bind(m),0);else if(Kt(m,"readystatechange"),vn(m)==4){m.h=!1;try{const ne=m.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var S;if(!(S=w)){var j;if(j=ne===0){let be=String(m.D).match(Yi)[1]||null;!be&&f.self&&f.self.location&&(be=f.self.location.protocol.slice(0,-1)),j=!Fr.test(be?be.toLowerCase():"")}S=j}if(S)Kt(m,"complete"),Kt(m,"success");else{m.o=6;try{var X=vn(m)>2?m.g.statusText:""}catch{X=""}m.l=X+" ["+m.ca()+"]",$n(m)}}finally{qt(m)}}}}function qt(m,w){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const S=m.g;m.g=null,w||Kt(m,"ready");try{S.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function vn(m){return m.g?m.g.readyState:0}i.ca=function(){try{return vn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(m){if(this.g){var w=this.g.responseText;return m&&w.indexOf(m)==0&&(w=w.substring(m.length)),An(w)}};function qr(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function vr(m){const w={};m=(m.g&&vn(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<m.length;j++){if(V(m[j]))continue;var S=ul(m[j]);const X=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ne=w[X]||[];w[X]=ne,ne.push(S)}k(w,function(j){return j.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ts(m,w,S){return S&&S.internalChannelParams&&S.internalChannelParams[m]||w}function Ss(m){this.za=0,this.i=[],this.j=new Vr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ts("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ts("baseRetryDelayMs",5e3,m),this.Za=Ts("retryDelaySeedMs",1e4,m),this.Ta=Ts("forwardChannelMaxRetries",2,m),this.va=Ts("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new _s(m&&m.concurrentRequestLimit),this.Ba=new dl,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Ss.prototype,i.ka=8,i.I=1,i.connect=function(m,w,S,j){Lt(0),this.W=m,this.H=w||{},S&&j!==void 0&&(this.H.OSID=S,this.H.OAID=j),this.F=this.X,this.J=wo(this,null,this.W),Ni(this)};function $e(m){if(ln(m),m.I==3){var w=m.V++,S=bt(m.J);if(Ne(S,"SID",m.M),Ne(S,"RID",w),Ne(S,"TYPE","terminate"),xr(m,S),w=new ci(m,m.j,w),w.M=2,w.A=yt(bt(S)),S=!1,f.navigator&&f.navigator.sendBeacon)try{S=f.navigator.sendBeacon(w.A.toString(),"")}catch{}!S&&f.Image&&(new Image().src=w.A,S=!0),S||(w.g=As(w.j,null),w.g.ea(w.A)),w.F=Date.now(),gs(w)}Ci(m)}function Ji(m){m.g&&(bo(m),m.g.cancel(),m.g=null)}function ln(m){Ji(m),m.v&&(f.clearTimeout(m.v),m.v=null),ua(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&f.clearTimeout(m.m),m.m=null)}function Ni(m){if(!vs(m.h)&&!m.m){m.m=!0;var w=m.Ea;xe||O(),Ve||(xe(),Ve=!0),F.add(w,m),m.D=0}}function fl(m,w){return hi(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=w.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Mr(b(m.Ea,m,w),pl(m,m.D)),m.D++,!0)}i.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const X=new ci(this,this.j,m);let ne=this.o;if(this.U&&(ne?(ne=ae(ne),ve(ne,this.U)):ne=this.U),this.u!==null||this.R||(X.J=ne,ne=null),this.S)e:{for(var w=0,S=0;S<this.i.length;S++){t:{var j=this.i[S];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(w+=j,w>4096){w=S;break e}if(w===4096||S===this.i.length-1){w=S+1;break e}}w=1e3}else w=1e3;w=la(this,X,w),S=bt(this.J),Ne(S,"RID",m),Ne(S,"CVER",22),this.G&&Ne(S,"X-HTTP-Session-Id",this.G),xr(this,S),ne&&(this.R?w="headers="+je(Xi(ne))+"&"+w:this.u&&On(S,this.u,ne)),Wi(this.h,X),this.Ra&&Ne(S,"TYPE","init"),this.S?(Ne(S,"$req",w),Ne(S,"SID","null"),X.U=!0,Ti(X,S,null)):Ti(X,S,w),this.I=2}}else this.I==3&&(m?ml(this,m):this.i.length==0||vs(this.h)||ml(this))};function ml(m,w){var S;w?S=w.l:S=m.V++;const j=bt(m.J);Ne(j,"SID",m.M),Ne(j,"RID",S),Ne(j,"AID",m.K),xr(m,j),m.u&&m.o&&On(j,m.u,m.o),S=new ci(m,m.j,S,m.D+1),m.u===null&&(S.J=m.o),w&&(m.i=w.G.concat(m.i)),w=la(m,S,1e3),S.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Wi(m.h,S),Ti(S,j,w)}function xr(m,w){m.H&&ke(m.H,function(S,j){Ne(w,j,S)}),m.l&&ke({},function(S,j){Ne(w,j,S)})}function la(m,w,S){S=Math.min(m.i.length,S);const j=m.l?b(m.l.Ka,m.l,m):null;e:{var X=m.i;let Be=-1;for(;;){const tt=["count="+S];Be==-1?S>0?(Be=X[0].g,tt.push("ofs="+Be)):Be=0:tt.push("ofs="+Be);let pt=!0;for(let Ot=0;Ot<S;Ot++){var ne=X[Ot].g;const Qn=X[Ot].map;if(ne-=Be,ne<0)Be=Math.max(0,X[Ot].g-100),pt=!1;else try{ne="req"+ne+"_"||"";try{var be=Qn instanceof Map?Qn:Object.entries(Qn);for(const[fi,Xn]of be){let Ri=Xn;_(Xn)&&(Ri=qn(Xn)),tt.push(ne+fi+"="+encodeURIComponent(Ri))}}catch(fi){throw tt.push(ne+"type="+encodeURIComponent("_badmap")),fi}}catch{j&&j(Qn)}}if(pt){be=tt.join("&");break e}}be=void 0}return m=m.i.splice(0,S),w.G=m,be}function vo(m){if(!m.g&&!m.v){m.Y=1;var w=m.Da;xe||O(),Ve||(xe(),Ve=!0),F.add(w,m),m.A=0}}function xo(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Mr(b(m.Da,m),pl(m,m.A)),m.A++,!0)}i.Da=function(){if(this.v=null,ca(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Mr(b(this.Wa,this),m)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Lt(10),Ji(this),ca(this))};function bo(m){m.B!=null&&(f.clearTimeout(m.B),m.B=null)}function ca(m){m.g=new ci(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var w=bt(m.na);Ne(w,"RID","rpc"),Ne(w,"SID",m.M),Ne(w,"AID",m.K),Ne(w,"CI",m.F?"0":"1"),!m.F&&m.ia&&Ne(w,"TO",m.ia),Ne(w,"TYPE","xmlhttp"),xr(m,w),m.u&&m.o&&On(w,m.u,m.o),m.O&&(m.g.H=m.O);var S=m.g;m=m.ba,S.M=1,S.A=yt(bt(w)),S.u=null,S.R=!0,Gn(S,m)}i.Va=function(){this.C!=null&&(this.C=null,Ji(this),xo(this),Lt(19))};function ua(m){m.C!=null&&(f.clearTimeout(m.C),m.C=null)}function kn(m,w){var S=null;if(m.g==w){ua(m),bo(m),m.g=null;var j=2}else if(pr(m.h,w))S=w.G,Ki(m.h,w),j=1;else return;if(m.I!=0){if(w.o)if(j==1){S=w.u?w.u.length:0,w=Date.now()-w.F;var X=m.D;j=ra(),Kt(j,new cl(j,S)),Ni(m)}else vo(m);else if(X=w.m,X==3||X==0&&w.X>0||!(j==1&&fl(m,w)||j==2&&xo(m)))switch(S&&S.length>0&&(w=m.h,w.i=w.i.concat(S)),X){case 1:er(m,5);break;case 4:er(m,10);break;case 3:er(m,6);break;default:er(m,2)}}}function pl(m,w){let S=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(S*=2),S*w}function er(m,w){if(m.j.info("Error code "+w),w==2){var S=b(m.bb,m),j=m.Ua;const X=!j;j=new ut(j||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Wn(j,"https"),yt(j),X?Br(j.toString(),S):_r(j.toString(),S)}else Lt(2);m.I=0,m.l&&m.l.pa(w),Ci(m),ln(m)}i.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function Ci(m){if(m.I=0,m.ja=[],m.l){const w=xs(m.h);(w.length!=0||m.i.length!=0)&&(U(m.ja,w),U(m.ja,m.i),m.h.i.length=0,Z(m.i),m.i.length=0),m.l.oa()}}function wo(m,w,S){var j=S instanceof ut?bt(S):new ut(S);if(j.g!="")w&&(j.g=w+"."+j.g),di(j,j.u);else{var X=f.location;j=X.protocol,w=w?w+"."+X.hostname:X.hostname,X=+X.port;const ne=new ut(null);j&&Wn(ne,j),w&&(ne.g=w),X&&di(ne,X),S&&(ne.h=S),j=ne}return S=m.G,w=m.wa,S&&w&&Ne(j,S,w),Ne(j,"VER",m.ka),xr(m,j),j}function As(m,w,S){if(w&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=m.Aa&&!m.ma?new dt(new ze({ab:S})):new dt(m.ma),w.Fa(m.L),w}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function ha(){}i=ha.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function da(){}da.prototype.g=function(m,w){return new xn(m,w)};function xn(m,w){Wt.call(this),this.g=new Ss(w),this.l=m,this.h=w&&w.messageUrlParams||null,m=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(m?m["X-WebChannel-Content-Type"]=w.messageContentType:m={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(m?m["X-WebChannel-Client-Profile"]=w.sa:m={"X-WebChannel-Client-Profile":w.sa}),this.g.U=m,(m=w&&w.Qb)&&!V(m)&&(this.g.u=m),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!V(w)&&(this.g.G=w,m=this.h,m!==null&&w in m&&(m=this.h,w in m&&delete m[w])),this.j=new Gr(this)}N(xn,Wt),xn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){$e(this.g)},xn.prototype.o=function(m){var w=this.g;if(typeof m=="string"){var S={};S.__data__=m,m=S}else this.v&&(S={},S.__data__=qn(m),m=S);w.i.push(new Ic(w.Ya++,m)),w.I==3&&Ni(w)},xn.prototype.N=function(){this.g.l=null,delete this.j,$e(this.g),delete this.g,xn.Z.N.call(this)};function fa(m){qi.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var w=m.__sm__;if(w){e:{for(const S in w){m=S;break e}m=void 0}(this.i=m)&&(m=this.i,w=w!==null&&m in w?w[m]:void 0),this.data=w}else this.data=m}N(fa,qi);function gl(){ai.call(this),this.status=1}N(gl,ai);function Gr(m){this.g=m}N(Gr,ha),Gr.prototype.ra=function(){Kt(this.g,"a")},Gr.prototype.qa=function(m){Kt(this.g,new fa(m))},Gr.prototype.pa=function(m){Kt(this.g,new gl)},Gr.prototype.oa=function(){Kt(this.g,"b")},da.prototype.createWebChannel=da.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,Fw=function(){return new da},Bw=function(){return ra()},zw=oi,Kp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Vt.NO_ERROR=0,Vt.TIMEOUT=8,Vt.HTTP_ERROR=6,Rd=Vt,an.COMPLETE="complete",Uw=an,ll.EventType=Ei,Ei.OPEN="a",Ei.CLOSE="b",Ei.ERROR="c",Ei.MESSAGE="d",Wt.prototype.listen=Wt.prototype.J,Tu=ll,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,Vw=dt}).apply(typeof yd<"u"?yd:typeof self<"u"?self:typeof window<"u"?window:{});const ox="@firebase/firestore",lx="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zn.UNAUTHENTICATED=new zn(null),zn.GOOGLE_CREDENTIALS=new zn("google-credentials-uid"),zn.FIRST_PARTY=new zn("first-party-uid"),zn.MOCK_USER=new zn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _c="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=new Cg("@firebase/firestore");function Wl(){return Xo.logLevel}function Re(i,...e){if(Xo.logLevel<=ot.DEBUG){const t=e.map(Ug);Xo.debug(`Firestore (${_c}): ${i}`,...t)}}function Qs(i,...e){if(Xo.logLevel<=ot.ERROR){const t=e.map(Ug);Xo.error(`Firestore (${_c}): ${i}`,...t)}}function sc(i,...e){if(Xo.logLevel<=ot.WARN){const t=e.map(Ug);Xo.warn(`Firestore (${_c}): ${i}`,...t)}}function Ug(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,Hw(i,s,t)}function Hw(i,e,t){let s=`FIRESTORE (${_c}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Qs(s),new Error(s)}function _t(i,e,t,s){let l="Unexpected state";typeof t=="string"?l=t:s=t,i||Hw(e,l,s)}function Ye(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Js{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(zn.UNAUTHENTICATED)))}shutdown(){}}class eI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class tI{constructor(e){this.t=e,this.currentUser=zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){_t(this.o===void 0,42304);let s=this.i;const l=v=>this.i!==s?(s=this.i,t(v)):Promise.resolve();let h=new Zs;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Zs,e.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},_=v=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((v=>_(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?_(v):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Zs)}}),0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(_t(typeof s.accessToken=="string",31837,{l:s}),new qw(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _t(e===null||typeof e=="string",2055,{h:e}),new zn(e)}}class nI{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=zn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class iI{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new nI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(zn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class cx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rI{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,or(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){_t(this.o===void 0,3512);const s=h=>{h.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const f=h.token!==this.m;return this.m=h.token,Re("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>s(h)))};const l=h=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new cx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(_t(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new cx(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=sI(40);for(let h=0;h<l.length;++h)s.length<20&&l[h]<t&&(s+=e.charAt(l[h]%62))}return s}}function lt(i,e){return i<e?-1:i>e?1:0}function Yp(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const l=i.charAt(s),h=e.charAt(s);if(l!==h)return Rp(l)===Rp(h)?lt(l,h):Rp(l)?1:-1}return lt(i.length,e.length)}const aI=55296,oI=57343;function Rp(i){const e=i.charCodeAt(0);return e>=aI&&e<=oI}function ac(i,e,t){return i.length===e.length&&i.every(((s,l)=>t(s,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="__name__";class ts{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ge(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ge(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return ts.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ts?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let l=0;l<s;l++){const h=ts.compareSegments(e.get(l),t.get(l));if(h!==0)return h}return lt(e.length,t.length)}static compareSegments(e,t){const s=ts.isNumericId(e),l=ts.isNumericId(t);return s&&!l?-1:!s&&l?1:s&&l?ts.extractNumericId(e).compare(ts.extractNumericId(t)):Yp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return to.fromString(e.substring(4,e.length-2))}}class Rt extends ts{construct(e,t,s){return new Rt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Se(fe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((l=>l.length>0)))}return new Rt(t)}static emptyPath(){return new Rt([])}}const lI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jn extends ts{construct(e,t,s){return new jn(e,t,s)}static isValidIdentifier(e){return lI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ux}static keyField(){return new jn([ux])}static fromServerFormat(e){const t=[];let s="",l=0;const h=()=>{if(s.length===0)throw new Se(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;l<e.length;){const _=e[l];if(_==="\\"){if(l+1===e.length)throw new Se(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new Se(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,l+=2}else _==="`"?(f=!f,l++):_!=="."||f?(s+=_,l++):(h(),l++)}if(h(),f)throw new Se(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jn(t)}static emptyPath(){return new jn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Rt.fromString(e))}static fromName(e){return new Me(Rt.fromString(e).popFirst(5))}static empty(){return new Me(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(i,e,t){if(!t)throw new Se(fe.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function cI(i,e,t,s){if(e===!0&&s===!0)throw new Se(fe.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function hx(i){if(!Me.isDocumentKey(i))throw new Se(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function dx(i){if(Me.isDocumentKey(i))throw new Se(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Zw(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function df(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ge(12329,{type:typeof i})}function ls(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Se(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=df(i);throw new Se(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(i,e){const t={typeString:i};return e&&(t.value=e),t}function th(i,e){if(!Zw(i))throw new Se(fe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const l=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const f=i[s];if(l&&typeof f!==l){t=`JSON field '${s}' must be a ${l}.`;break}if(h!==void 0&&f!==h.value){t=`Expected '${s}' field to equal '${h.value}'`;break}}if(t)throw new Se(fe.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=-62135596800,mx=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*mx);return new It(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Se(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Se(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<fx)throw new Se(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mx}_compareTo(e){return this.seconds===e.seconds?lt(this.nanoseconds,e.nanoseconds):lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:It._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(th(e,It._jsonSchema))return new It(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-fx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}It._jsonSchemaVersion="firestore/timestamp/1.0",It._jsonSchema={type:rn("string",It._jsonSchemaVersion),seconds:rn("number"),nanoseconds:rn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new It(0,0))}static max(){return new Ke(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=-1;function uI(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,l=Ke.fromTimestamp(s===1e9?new It(t+1,0):new It(t,s));return new io(l,Me.empty(),e)}function hI(i){return new io(i.readTime,i.key,Vu)}class io{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new io(Ke.min(),Me.empty(),Vu)}static max(){return new io(Ke.max(),Me.empty(),Vu)}}function dI(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=Me.comparator(i.documentKey,e.documentKey),t!==0?t:lt(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vc(i){if(i.code!==fe.FAILED_PRECONDITION||i.message!==fI)throw i;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ge(((s,l)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,l)},this.catchCallback=h=>{this.wrapFailure(t,h).next(s,l)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ge?t:ge.resolve(t)}catch(t){return ge.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ge.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ge.reject(t)}static resolve(e){return new ge(((t,s)=>{t(e)}))}static reject(e){return new ge(((t,s)=>{s(e)}))}static waitFor(e){return new ge(((t,s)=>{let l=0,h=0,f=!1;e.forEach((_=>{++l,_.next((()=>{++h,f&&h===l&&t()}),(v=>s(v)))})),f=!0,h===l&&t()}))}static or(e){let t=ge.resolve(!1);for(const s of e)t=t.next((l=>l?ge.resolve(l):s()));return t}static forEach(e,t){const s=[];return e.forEach(((l,h)=>{s.push(t.call(this,l,h))})),this.waitFor(s)}static mapArray(e,t){return new ge(((s,l)=>{const h=e.length,f=new Array(h);let _=0;for(let v=0;v<h;v++){const b=v;t(e[b]).next((E=>{f[b]=E,++_,_===h&&s(f)}),(E=>l(E)))}}))}static doWhile(e,t){return new ge(((s,l)=>{const h=()=>{e()===!0?t().next((()=>{h()}),l):s()};h()}))}}function pI(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function xc(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ff.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg=-1;function mf(i){return i==null}function Kd(i){return i===0&&1/i==-1/0}function gI(i){return typeof i=="number"&&Number.isInteger(i)&&!Kd(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="";function yI(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=px(e)),e=_I(i.get(t),e);return px(e)}function _I(i,e){let t=e;const s=i.length;for(let l=0;l<s;l++){const h=i.charAt(l);switch(h){case"\0":t+="";break;case Ww:t+="";break;default:t+=h}}return t}function px(i){return i+Ww+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function uo(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Kw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,t){this.comparator=e,this.root=t||In.EMPTY}insert(e,t){return new Ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,In.BLACK,null,null))}remove(e){return new Ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,In.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return t+s.left.size;l<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _d(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _d(this.root,e,this.comparator,!1)}getReverseIterator(){return new _d(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _d(this.root,e,this.comparator,!0)}}class _d{constructor(e,t,s,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=t?s(e.key,t):1,t&&l&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class In{constructor(e,t,s,l,h){this.key=e,this.value=t,this.color=s??In.RED,this.left=l??In.EMPTY,this.right=h??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,l,h){return new In(e??this.key,t??this.value,s??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let l=this;const h=s(e,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(e,t,s),null):h===0?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),t(e,l.key)===0){if(l.right.isEmpty())return In.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,t,s,l,h){return this}insert(e,t,s){return new In(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.comparator=e,this.data=new Ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yx(this.data.getIterator())}getIteratorFrom(e){return new yx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof hn)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,h=s.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new hn(this.comparator);return t.data=e,t}}class yx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e){this.fields=e,e.sort(jn.comparator)}static empty(){return new Bi([])}unionWith(e){let t=new hn(jn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Bi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ac(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Yw("Invalid base64 string: "+h):h}})(e);return new Pn(t)}static fromUint8Array(e){const t=(function(l){let h="";for(let f=0;f<l.length;++f)h+=String.fromCharCode(l[f]);return h})(e);return new Pn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let l=0;l<t.length;l++)s[l]=t.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pn.EMPTY_BYTE_STRING=new Pn("");const vI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ro(i){if(_t(!!i,39018),typeof i=="string"){let e=0;const t=vI.exec(i);if(_t(!!t,46558,{timestamp:i}),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Qt(i.seconds),nanos:Qt(i.nanos)}}function Qt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function so(i){return typeof i=="string"?Pn.fromBase64String(i):Pn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="server_timestamp",Qw="__type__",Xw="__previous_value__",Jw="__local_write_time__";function Fg(i){return(i?.mapValue?.fields||{})[Qw]?.stringValue===$w}function pf(i){const e=i.mapValue.fields[Xw];return Fg(e)?pf(e):e}function Uu(i){const e=ro(i.mapValue.fields[Jw].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,t,s,l,h,f,_,v,b,E){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=l,this.ssl=h,this.forceLongPolling=f,this.autoDetectLongPolling=_,this.longPollingOptions=v,this.useFetchStreams=b,this.isUsingEmulator=E}}const Yd="(default)";class zu{constructor(e,t){this.projectId=e,this.database=t||Yd}static empty(){return new zu("","")}get isDefaultDatabase(){return this.database===Yd}isEqual(e){return e instanceof zu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="__type__",bI="__max__",vd={mapValue:{}},t1="__vector__",$d="value";function ao(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Fg(i)?4:EI(i)?9007199254740991:wI(i)?10:11:Ge(28295,{value:i})}function cs(i,e){if(i===e)return!0;const t=ao(i);if(t!==ao(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Uu(i).isEqual(Uu(e));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const f=ro(l.timestampValue),_=ro(h.timestampValue);return f.seconds===_.seconds&&f.nanos===_.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(l,h){return so(l.bytesValue).isEqual(so(h.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(l,h){return Qt(l.geoPointValue.latitude)===Qt(h.geoPointValue.latitude)&&Qt(l.geoPointValue.longitude)===Qt(h.geoPointValue.longitude)})(i,e);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return Qt(l.integerValue)===Qt(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const f=Qt(l.doubleValue),_=Qt(h.doubleValue);return f===_?Kd(f)===Kd(_):isNaN(f)&&isNaN(_)}return!1})(i,e);case 9:return ac(i.arrayValue.values||[],e.arrayValue.values||[],cs);case 10:case 11:return(function(l,h){const f=l.mapValue.fields||{},_=h.mapValue.fields||{};if(gx(f)!==gx(_))return!1;for(const v in f)if(f.hasOwnProperty(v)&&(_[v]===void 0||!cs(f[v],_[v])))return!1;return!0})(i,e);default:return Ge(52216,{left:i})}}function Bu(i,e){return(i.values||[]).find((t=>cs(t,e)))!==void 0}function oc(i,e){if(i===e)return 0;const t=ao(i),s=ao(e);if(t!==s)return lt(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return lt(i.booleanValue,e.booleanValue);case 2:return(function(h,f){const _=Qt(h.integerValue||h.doubleValue),v=Qt(f.integerValue||f.doubleValue);return _<v?-1:_>v?1:_===v?0:isNaN(_)?isNaN(v)?0:-1:1})(i,e);case 3:return _x(i.timestampValue,e.timestampValue);case 4:return _x(Uu(i),Uu(e));case 5:return Yp(i.stringValue,e.stringValue);case 6:return(function(h,f){const _=so(h),v=so(f);return _.compareTo(v)})(i.bytesValue,e.bytesValue);case 7:return(function(h,f){const _=h.split("/"),v=f.split("/");for(let b=0;b<_.length&&b<v.length;b++){const E=lt(_[b],v[b]);if(E!==0)return E}return lt(_.length,v.length)})(i.referenceValue,e.referenceValue);case 8:return(function(h,f){const _=lt(Qt(h.latitude),Qt(f.latitude));return _!==0?_:lt(Qt(h.longitude),Qt(f.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return vx(i.arrayValue,e.arrayValue);case 10:return(function(h,f){const _=h.fields||{},v=f.fields||{},b=_[$d]?.arrayValue,E=v[$d]?.arrayValue,N=lt(b?.values?.length||0,E?.values?.length||0);return N!==0?N:vx(b,E)})(i.mapValue,e.mapValue);case 11:return(function(h,f){if(h===vd.mapValue&&f===vd.mapValue)return 0;if(h===vd.mapValue)return 1;if(f===vd.mapValue)return-1;const _=h.fields||{},v=Object.keys(_),b=f.fields||{},E=Object.keys(b);v.sort(),E.sort();for(let N=0;N<v.length&&N<E.length;++N){const I=Yp(v[N],E[N]);if(I!==0)return I;const Z=oc(_[v[N]],b[E[N]]);if(Z!==0)return Z}return lt(v.length,E.length)})(i.mapValue,e.mapValue);default:throw Ge(23264,{he:t})}}function _x(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return lt(i,e);const t=ro(i),s=ro(e),l=lt(t.seconds,s.seconds);return l!==0?l:lt(t.nanos,s.nanos)}function vx(i,e){const t=i.values||[],s=e.values||[];for(let l=0;l<t.length&&l<s.length;++l){const h=oc(t[l],s[l]);if(h)return h}return lt(t.length,s.length)}function lc(i){return $p(i)}function $p(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const s=ro(t);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return so(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return Me.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let s="[",l=!0;for(const h of t.values||[])l?l=!1:s+=",",s+=$p(h);return s+"]"})(i.arrayValue):"mapValue"in i?(function(t){const s=Object.keys(t.fields||{}).sort();let l="{",h=!0;for(const f of s)h?h=!1:l+=",",l+=`${f}:${$p(t.fields[f])}`;return l+"}"})(i.mapValue):Ge(61005,{value:i})}function Id(i){switch(ao(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pf(i);return e?16+Id(e):16;case 5:return 2*i.stringValue.length;case 6:return so(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,h)=>l+Id(h)),0)})(i.arrayValue);case 10:case 11:return(function(s){let l=0;return uo(s.fields,((h,f)=>{l+=h.length+Id(f)})),l})(i.mapValue);default:throw Ge(13486,{value:i})}}function xx(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Qp(i){return!!i&&"integerValue"in i}function Hg(i){return!!i&&"arrayValue"in i}function bx(i){return!!i&&"nullValue"in i}function wx(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function jd(i){return!!i&&"mapValue"in i}function wI(i){return(i?.mapValue?.fields||{})[e1]?.stringValue===t1}function ju(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return uo(i.mapValue.fields,((t,s)=>e.mapValue.fields[t]=ju(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ju(i.arrayValue.values[t]);return e}return{...i}}function EI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===bI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.value=e}static empty(){return new vi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!jd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ju(t)}setAll(e){let t=jn.emptyPath(),s={},l=[];e.forEach(((f,_)=>{if(!t.isImmediateParentOf(_)){const v=this.getFieldsMap(t);this.applyChanges(v,s,l),s={},l=[],t=_.popLast()}f?s[_.lastSegment()]=ju(f):l.push(_.lastSegment())}));const h=this.getFieldsMap(t);this.applyChanges(h,s,l)}delete(e){const t=this.field(e.popLast());jd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=t.mapValue.fields[e.get(s)];jd(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,s){uo(t,((l,h)=>e[l]=h));for(const l of s)delete e[l]}clone(){return new vi(ju(this.value))}}function n1(i){const e=[];return uo(i.fields,((t,s)=>{const l=new jn([t]);if(jd(s)){const h=n1(s.mapValue).fields;if(h.length===0)e.push(l);else for(const f of h)e.push(l.child(f))}else e.push(l)})),new Bi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,t,s,l,h,f,_){this.key=e,this.documentType=t,this.version=s,this.readTime=l,this.createTime=h,this.data=f,this.documentState=_}static newInvalidDocument(e){return new Bn(e,0,Ke.min(),Ke.min(),Ke.min(),vi.empty(),0)}static newFoundDocument(e,t,s,l){return new Bn(e,1,t,Ke.min(),s,l,0)}static newNoDocument(e,t){return new Bn(e,2,t,Ke.min(),Ke.min(),vi.empty(),0)}static newUnknownDocument(e,t){return new Bn(e,3,t,Ke.min(),Ke.min(),vi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,t){this.position=e,this.inclusive=t}}function Ex(i,e,t){let s=0;for(let l=0;l<i.position.length;l++){const h=e[l],f=i.position[l];if(h.field.isKeyField()?s=Me.comparator(Me.fromName(f.referenceValue),t.key):s=oc(f,t.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function Tx(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!cs(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,t="asc"){this.field=e,this.dir=t}}function TI(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{}class nn extends i1{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new AI(e,t,s):t==="array-contains"?new RI(e,s):t==="in"?new II(e,s):t==="not-in"?new jI(e,s):t==="array-contains-any"?new PI(e,s):new nn(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new NI(e,s):new CI(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(oc(t,this.value)):t!==null&&ao(this.value)===ao(t)&&this.matchesComparison(oc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jr extends i1{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new jr(e,t)}matches(e){return r1(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function r1(i){return i.op==="and"}function s1(i){return SI(i)&&r1(i)}function SI(i){for(const e of i.filters)if(e instanceof jr)return!1;return!0}function Xp(i){if(i instanceof nn)return i.field.canonicalString()+i.op.toString()+lc(i.value);if(s1(i))return i.filters.map((e=>Xp(e))).join(",");{const e=i.filters.map((t=>Xp(t))).join(",");return`${i.op}(${e})`}}function a1(i,e){return i instanceof nn?(function(s,l){return l instanceof nn&&s.op===l.op&&s.field.isEqual(l.field)&&cs(s.value,l.value)})(i,e):i instanceof jr?(function(s,l){return l instanceof jr&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((h,f,_)=>h&&a1(f,l.filters[_])),!0):!1})(i,e):void Ge(19439)}function o1(i){return i instanceof nn?(function(t){return`${t.field.canonicalString()} ${t.op} ${lc(t.value)}`})(i):i instanceof jr?(function(t){return t.op.toString()+" {"+t.getFilters().map(o1).join(" ,")+"}"})(i):"Filter"}class AI extends nn{constructor(e,t,s){super(e,t,s),this.key=Me.fromName(s.referenceValue)}matches(e){const t=Me.comparator(e.key,this.key);return this.matchesComparison(t)}}class NI extends nn{constructor(e,t){super(e,"in",t),this.keys=l1("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class CI extends nn{constructor(e,t){super(e,"not-in",t),this.keys=l1("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function l1(i,e){return(e.arrayValue?.values||[]).map((t=>Me.fromName(t.referenceValue)))}class RI extends nn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Hg(t)&&Bu(t.arrayValue,this.value)}}class II extends nn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Bu(this.value.arrayValue,t)}}class jI extends nn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Bu(this.value.arrayValue,t)}}class PI extends nn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Hg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Bu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,t=null,s=[],l=[],h=null,f=null,_=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=l,this.limit=h,this.startAt=f,this.endAt=_,this.Te=null}}function Sx(i,e=null,t=[],s=[],l=null,h=null,f=null){return new LI(i,e,t,s,l,h,f)}function qg(i){const e=Ye(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Xp(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(h){return h.field.canonicalString()+h.dir})(s))).join(","),mf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>lc(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>lc(s))).join(",")),e.Te=t}return e.Te}function Gg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!TI(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!a1(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Tx(i.startAt,e.startAt)&&Tx(i.endAt,e.endAt)}function Jp(i){return Me.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,t=null,s=[],l=[],h=null,f="F",_=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=l,this.limit=h,this.limitType=f,this.startAt=_,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function OI(i,e,t,s,l,h,f,_){return new bc(i,e,t,s,l,h,f,_)}function Zg(i){return new bc(i)}function Ax(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function c1(i){return i.collectionGroup!==null}function Pu(i){const e=Ye(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),t.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let _=new hn(jn.comparator);return f.filters.forEach((v=>{v.getFlattenedFilters().forEach((b=>{b.isInequality()&&(_=_.add(b.field))}))})),_})(e).forEach((h=>{t.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new Fu(h,s))})),t.has(jn.keyField().canonicalString())||e.Ie.push(new Fu(jn.keyField(),s))}return e.Ie}function rs(i){const e=Ye(i);return e.Ee||(e.Ee=kI(e,Pu(i))),e.Ee}function kI(i,e){if(i.limitType==="F")return Sx(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new Fu(l.field,h)}));const t=i.endAt?new Qd(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Qd(i.startAt.position,i.startAt.inclusive):null;return Sx(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function eg(i,e){const t=i.filters.concat([e]);return new bc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function tg(i,e,t){return new bc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function gf(i,e){return Gg(rs(i),rs(e))&&i.limitType===e.limitType}function u1(i){return`${qg(rs(i))}|lt:${i.limitType}`}function Kl(i){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((l=>o1(l))).join(", ")}]`),mf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((l=>lc(l))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((l=>lc(l))).join(",")),`Target(${s})`})(rs(i))}; limitType=${i.limitType})`}function yf(i,e){return e.isFoundDocument()&&(function(s,l){const h=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):Me.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)})(i,e)&&(function(s,l){for(const h of Pu(s))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(i,e)&&(function(s,l){for(const h of s.filters)if(!h.matches(l))return!1;return!0})(i,e)&&(function(s,l){return!(s.startAt&&!(function(f,_,v){const b=Ex(f,_,v);return f.inclusive?b<=0:b<0})(s.startAt,Pu(s),l)||s.endAt&&!(function(f,_,v){const b=Ex(f,_,v);return f.inclusive?b>=0:b>0})(s.endAt,Pu(s),l))})(i,e)}function DI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function h1(i){return(e,t)=>{let s=!1;for(const l of Pu(i)){const h=MI(l,e,t);if(h!==0)return h;s=s||l.field.isKeyField()}return 0}}function MI(i,e,t){const s=i.field.isKeyField()?Me.comparator(e.key,t.key):(function(h,f,_){const v=f.data.field(h),b=_.data.field(h);return v!==null&&b!==null?oc(v,b):Ge(42886)})(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ge(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[l,h]of s)if(this.equalsFn(l,e))return h}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],e))return void(l[h]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[t]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){uo(this.inner,((t,s)=>{for(const[l,h]of s)e(l,h)}))}isEmpty(){return Kw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=new Ht(Me.comparator);function Xs(){return VI}const d1=new Ht(Me.comparator);function Su(...i){let e=d1;for(const t of i)e=e.insert(t.key,t);return e}function f1(i){let e=d1;return i.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function qo(){return Lu()}function m1(){return Lu()}function Lu(){return new nl((i=>i.toString()),((i,e)=>i.isEqual(e)))}const UI=new Ht(Me.comparator),zI=new hn(Me.comparator);function ct(...i){let e=zI;for(const t of i)e=e.add(t);return e}const BI=new hn(lt);function FI(){return BI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kd(e)?"-0":e}}function p1(i){return{integerValue:""+i}}function HI(i,e){return gI(e)?p1(e):Wg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(){this._=void 0}}function qI(i,e,t){return i instanceof Hu?(function(l,h){const f={fields:{[Qw]:{stringValue:$w},[Jw]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&Fg(h)&&(h=pf(h)),h&&(f.fields[Xw]=h),{mapValue:f}})(t,e):i instanceof qu?y1(i,e):i instanceof Gu?_1(i,e):(function(l,h){const f=g1(l,h),_=Nx(f)+Nx(l.Ae);return Qp(f)&&Qp(l.Ae)?p1(_):Wg(l.serializer,_)})(i,e)}function GI(i,e,t){return i instanceof qu?y1(i,e):i instanceof Gu?_1(i,e):t}function g1(i,e){return i instanceof Xd?(function(s){return Qp(s)||(function(h){return!!h&&"doubleValue"in h})(s)})(e)?e:{integerValue:0}:null}class Hu extends _f{}class qu extends _f{constructor(e){super(),this.elements=e}}function y1(i,e){const t=v1(e);for(const s of i.elements)t.some((l=>cs(l,s)))||t.push(s);return{arrayValue:{values:t}}}class Gu extends _f{constructor(e){super(),this.elements=e}}function _1(i,e){let t=v1(e);for(const s of i.elements)t=t.filter((l=>!cs(l,s)));return{arrayValue:{values:t}}}class Xd extends _f{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Nx(i){return Qt(i.integerValue||i.doubleValue)}function v1(i){return Hg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,t){this.field=e,this.transform=t}}function WI(i,e){return i.field.isEqual(e.field)&&(function(s,l){return s instanceof qu&&l instanceof qu||s instanceof Gu&&l instanceof Gu?ac(s.elements,l.elements,cs):s instanceof Xd&&l instanceof Xd?cs(s.Ae,l.Ae):s instanceof Hu&&l instanceof Hu})(i.transform,e.transform)}class KI{constructor(e,t){this.version=e,this.transformResults=t}}class Cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cr}static exists(e){return new Cr(void 0,e)}static updateTime(e){return new Cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pd(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class vf{}function x1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new w1(i.key,Cr.none()):new nh(i.key,i.data,Cr.none());{const t=i.data,s=vi.empty();let l=new hn(jn.comparator);for(let h of e.fields)if(!l.has(h)){let f=t.field(h);f===null&&h.length>1&&(h=h.popLast(),f=t.field(h)),f===null?s.delete(h):s.set(h,f),l=l.add(h)}return new ho(i.key,s,new Bi(l.toArray()),Cr.none())}}function YI(i,e,t){i instanceof nh?(function(l,h,f){const _=l.value.clone(),v=Rx(l.fieldTransforms,h,f.transformResults);_.setAll(v),h.convertToFoundDocument(f.version,_).setHasCommittedMutations()})(i,e,t):i instanceof ho?(function(l,h,f){if(!Pd(l.precondition,h))return void h.convertToUnknownDocument(f.version);const _=Rx(l.fieldTransforms,h,f.transformResults),v=h.data;v.setAll(b1(l)),v.setAll(_),h.convertToFoundDocument(f.version,v).setHasCommittedMutations()})(i,e,t):(function(l,h,f){h.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,t)}function Ou(i,e,t,s){return i instanceof nh?(function(h,f,_,v){if(!Pd(h.precondition,f))return _;const b=h.value.clone(),E=Ix(h.fieldTransforms,v,f);return b.setAll(E),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),null})(i,e,t,s):i instanceof ho?(function(h,f,_,v){if(!Pd(h.precondition,f))return _;const b=Ix(h.fieldTransforms,v,f),E=f.data;return E.setAll(b1(h)),E.setAll(b),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),_===null?null:_.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((N=>N.field)))})(i,e,t,s):(function(h,f,_){return Pd(h.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):_})(i,e,t)}function $I(i,e){let t=null;for(const s of i.fieldTransforms){const l=e.data.field(s.field),h=g1(s.transform,l||null);h!=null&&(t===null&&(t=vi.empty()),t.set(s.field,h))}return t||null}function Cx(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&ac(s,l,((h,f)=>WI(h,f)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class nh extends vf{constructor(e,t,s,l=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ho extends vf{constructor(e,t,s,l,h=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function b1(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}})),e}function Rx(i,e,t){const s=new Map;_t(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let l=0;l<t.length;l++){const h=i[l],f=h.transform,_=e.data.field(h.field);s.set(h.field,GI(f,_,t[l]))}return s}function Ix(i,e,t){const s=new Map;for(const l of i){const h=l.transform,f=t.data.field(l.field);s.set(l.field,qI(h,f,e))}return s}class w1 extends vf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QI extends vf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,t,s,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(e.key)&&YI(h,e,s[l])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Ou(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Ou(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=m1();return this.mutations.forEach((l=>{const h=e.get(l.key),f=h.overlayedDocument;let _=this.applyToLocalView(f,h.mutatedFields);_=t.has(l.key)?null:_;const v=x1(f,_);v!==null&&s.set(l.key,v),f.isValidDocument()||f.convertToNoDocument(Ke.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ct())}isEqual(e){return this.batchId===e.batchId&&ac(this.mutations,e.mutations,((t,s)=>Cx(t,s)))&&ac(this.baseMutations,e.baseMutations,((t,s)=>Cx(t,s)))}}class Kg{constructor(e,t,s,l){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=l}static from(e,t,s){_t(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return UI})();const h=e.mutations;for(let f=0;f<h.length;f++)l=l.insert(h[f].key,s[f].version);return new Kg(e,t,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,mt;function tj(i){switch(i){case fe.OK:return Ge(64938);case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0;default:return Ge(15467,{code:i})}}function E1(i){if(i===void 0)return Qs("GRPC error has no .code"),fe.UNKNOWN;switch(i){case tn.OK:return fe.OK;case tn.CANCELLED:return fe.CANCELLED;case tn.UNKNOWN:return fe.UNKNOWN;case tn.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case tn.INTERNAL:return fe.INTERNAL;case tn.UNAVAILABLE:return fe.UNAVAILABLE;case tn.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case tn.NOT_FOUND:return fe.NOT_FOUND;case tn.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case tn.ABORTED:return fe.ABORTED;case tn.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case tn.DATA_LOSS:return fe.DATA_LOSS;default:return Ge(39323,{code:i})}}(mt=tn||(tn={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=new to([4294967295,4294967295],0);function jx(i){const e=nj().encode(i),t=new Mw;return t.update(e),new Uint8Array(t.digest())}function Px(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new to([t,s],0),new to([l,h],0)]}class Yg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Au(`Invalid padding: ${t}`);if(s<0)throw new Au(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Au(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Au(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=to.fromNumber(this.ge)}ye(e,t,s){let l=e.add(t.multiply(to.fromNumber(s)));return l.compare(ij)===1&&(l=new to([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=jx(e),[s,l]=Px(t);for(let h=0;h<this.hashCount;h++){const f=this.ye(s,l,h);if(!this.we(f))return!1}return!0}static create(e,t,s){const l=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),f=new Yg(h,l,t);return s.forEach((_=>f.insert(_))),f}insert(e){if(this.ge===0)return;const t=jx(e),[s,l]=Px(t);for(let h=0;h<this.hashCount;h++){const f=this.ye(s,l,h);this.Se(f)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,t,s,l,h){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const l=new Map;return l.set(e,ih.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new xf(Ke.min(),l,new Ht(lt),Xs(),ct())}}class ih{constructor(e,t,s,l,h){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new ih(s,t,ct(),ct(),ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,t,s,l){this.be=e,this.removedTargetIds=t,this.key=s,this.De=l}}class T1{constructor(e,t){this.targetId=e,this.Ce=t}}class S1{constructor(e,t,s=Pn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=l}}class Lx{constructor(){this.ve=0,this.Fe=Ox(),this.Me=Pn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ct(),t=ct(),s=ct();return this.Fe.forEach(((l,h)=>{switch(h){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:s=s.add(l);break;default:Ge(38017,{changeType:h})}})),new ih(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=Ox()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,_t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class rj{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xs(),this.Je=xd(),this.He=xd(),this.Ye=new Ht(lt)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Ge(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,l)=>{this.rt(l)&&t(l)}))}st(e){const t=e.targetId,s=e.Ce.count,l=this.ot(t);if(l){const h=l.target;if(Jp(h))if(s===0){const f=new Me(h.path);this.et(t,f,Bn.newNoDocument(f,Ke.min()))}else _t(s===1,20013,{expectedCount:s});else{const f=this._t(t);if(f!==s){const _=this.ut(e),v=_?this.ct(_,e,f):1;if(v!==0){this.it(t);const b=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,b)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:h=0}=t;let f,_;try{f=so(s).toUint8Array()}catch(v){if(v instanceof Yw)return sc("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{_=new Yg(f,l,h)}catch(v){return sc(v instanceof Au?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return _.ge===0?null:_}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let l=0;return s.forEach((h=>{const f=this.Ge.ht(),_=`projects/${f.projectId}/databases/${f.database}/documents/${h.path.canonicalString()}`;e.mightContain(_)||(this.et(t,h,null),l++)})),l}Tt(e){const t=new Map;this.ze.forEach(((h,f)=>{const _=this.ot(f);if(_){if(h.current&&Jp(_.target)){const v=new Me(_.target.path);this.It(v).has(f)||this.Et(f,v)||this.et(f,v,Bn.newNoDocument(v,e))}h.Be&&(t.set(f,h.ke()),h.qe())}}));let s=ct();this.He.forEach(((h,f)=>{let _=!0;f.forEachWhile((v=>{const b=this.ot(v);return!b||b.purpose==="TargetPurposeLimboResolution"||(_=!1,!1)})),_&&(s=s.add(h))})),this.je.forEach(((h,f)=>f.setReadTime(e)));const l=new xf(e,t,this.Ye,this.je,s);return this.je=Xs(),this.Je=xd(),this.He=xd(),this.Ye=new Ht(lt),l}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,t)?l.Qe(t,1):l.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Lx,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new hn(lt),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new hn(lt),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Re("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Lx),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function xd(){return new Ht(Me.comparator)}function Ox(){return new Ht(Me.comparator)}const sj={asc:"ASCENDING",desc:"DESCENDING"},aj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oj={and:"AND",or:"OR"};class lj{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ng(i,e){return i.useProto3Json||mf(e)?e:{value:e}}function Jd(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function A1(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function cj(i,e){return Jd(i,e.toTimestamp())}function ss(i){return _t(!!i,49232),Ke.fromTimestamp((function(t){const s=ro(t);return new It(s.seconds,s.nanos)})(i))}function $g(i,e){return ig(i,e).canonicalString()}function ig(i,e){const t=(function(l){return new Rt(["projects",l.projectId,"databases",l.database])})(i).child("documents");return e===void 0?t:t.child(e)}function N1(i){const e=Rt.fromString(i);return _t(P1(e),10190,{key:e.toString()}),e}function rg(i,e){return $g(i.databaseId,e.path)}function Ip(i,e){const t=N1(e);if(t.get(1)!==i.databaseId.projectId)throw new Se(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Se(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Me(R1(t))}function C1(i,e){return $g(i.databaseId,e)}function uj(i){const e=N1(i);return e.length===4?Rt.emptyPath():R1(e)}function sg(i){return new Rt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function R1(i){return _t(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function kx(i,e,t){return{name:rg(i,e),fields:t.value.mapValue.fields}}function hj(i,e){let t;if("targetChange"in e){e.targetChange;const s=(function(b){return b==="NO_CHANGE"?0:b==="ADD"?1:b==="REMOVE"?2:b==="CURRENT"?3:b==="RESET"?4:Ge(39313,{state:b})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],h=(function(b,E){return b.useProto3Json?(_t(E===void 0||typeof E=="string",58123),Pn.fromBase64String(E||"")):(_t(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Pn.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),f=e.targetChange.cause,_=f&&(function(b){const E=b.code===void 0?fe.UNKNOWN:E1(b.code);return new Se(E,b.message||"")})(f);t=new S1(s,l,h,_||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=Ip(i,s.document.name),h=ss(s.document.updateTime),f=s.document.createTime?ss(s.document.createTime):Ke.min(),_=new vi({mapValue:{fields:s.document.fields}}),v=Bn.newFoundDocument(l,h,f,_),b=s.targetIds||[],E=s.removedTargetIds||[];t=new Ld(b,E,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=Ip(i,s.document),h=s.readTime?ss(s.readTime):Ke.min(),f=Bn.newNoDocument(l,h),_=s.removedTargetIds||[];t=new Ld([],_,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=Ip(i,s.document),h=s.removedTargetIds||[];t=new Ld([],h,l,null)}else{if(!("filter"in e))return Ge(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:h}=s,f=new ej(l,h),_=s.targetId;t=new T1(_,f)}}return t}function dj(i,e){let t;if(e instanceof nh)t={update:kx(i,e.key,e.value)};else if(e instanceof w1)t={delete:rg(i,e.key)};else if(e instanceof ho)t={update:kx(i,e.key,e.data),updateMask:bj(e.fieldMask)};else{if(!(e instanceof QI))return Ge(16599,{Vt:e.type});t={verify:rg(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(h,f){const _=f.transform;if(_ instanceof Hu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof qu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof Gu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof Xd)return{fieldPath:f.field.canonicalString(),increment:_.Ae};throw Ge(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(l,h){return h.updateTime!==void 0?{updateTime:cj(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Ge(27497)})(i,e.precondition)),t}function fj(i,e){return i&&i.length>0?(_t(e!==void 0,14353),i.map((t=>(function(l,h){let f=l.updateTime?ss(l.updateTime):ss(h);return f.isEqual(Ke.min())&&(f=ss(h)),new KI(f,l.transformResults||[])})(t,e)))):[]}function mj(i,e){return{documents:[C1(i,e.path)]}}function pj(i,e){const t={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=C1(i,l);const h=(function(b){if(b.length!==0)return j1(jr.create(b,"and"))})(e.filters);h&&(t.structuredQuery.where=h);const f=(function(b){if(b.length!==0)return b.map((E=>(function(I){return{field:Yl(I.field),direction:_j(I.dir)}})(E)))})(e.orderBy);f&&(t.structuredQuery.orderBy=f);const _=ng(i,e.limit);return _!==null&&(t.structuredQuery.limit=_),e.startAt&&(t.structuredQuery.startAt=(function(b){return{before:b.inclusive,values:b.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(b){return{before:!b.inclusive,values:b.position}})(e.endAt)),{ft:t,parent:l}}function gj(i){let e=uj(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let l=null;if(s>0){_t(s===1,65062);const E=t.from[0];E.allDescendants?l=E.collectionId:e=e.child(E.collectionId)}let h=[];t.where&&(h=(function(N){const I=I1(N);return I instanceof jr&&s1(I)?I.getFilters():[I]})(t.where));let f=[];t.orderBy&&(f=(function(N){return N.map((I=>(function(U){return new Fu($l(U.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(I)))})(t.orderBy));let _=null;t.limit&&(_=(function(N){let I;return I=typeof N=="object"?N.value:N,mf(I)?null:I})(t.limit));let v=null;t.startAt&&(v=(function(N){const I=!!N.before,Z=N.values||[];return new Qd(Z,I)})(t.startAt));let b=null;return t.endAt&&(b=(function(N){const I=!N.before,Z=N.values||[];return new Qd(Z,I)})(t.endAt)),OI(e,l,f,h,_,"F",v,b)}function yj(i,e){const t=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:l})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function I1(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=$l(t.unaryFilter.field);return nn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=$l(t.unaryFilter.field);return nn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=$l(t.unaryFilter.field);return nn.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=$l(t.unaryFilter.field);return nn.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}})(i):i.fieldFilter!==void 0?(function(t){return nn.create($l(t.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return jr.create(t.compositeFilter.filters.map((s=>I1(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}})(t.compositeFilter.op))})(i):Ge(30097,{filter:i})}function _j(i){return sj[i]}function vj(i){return aj[i]}function xj(i){return oj[i]}function Yl(i){return{fieldPath:i.canonicalString()}}function $l(i){return jn.fromServerFormat(i.fieldPath)}function j1(i){return i instanceof nn?(function(t){if(t.op==="=="){if(wx(t.value))return{unaryFilter:{field:Yl(t.field),op:"IS_NAN"}};if(bx(t.value))return{unaryFilter:{field:Yl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(wx(t.value))return{unaryFilter:{field:Yl(t.field),op:"IS_NOT_NAN"}};if(bx(t.value))return{unaryFilter:{field:Yl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yl(t.field),op:vj(t.op),value:t.value}}})(i):i instanceof jr?(function(t){const s=t.getFilters().map((l=>j1(l)));return s.length===1?s[0]:{compositeFilter:{op:xj(t.op),filters:s}}})(i):Ge(54877,{filter:i})}function bj(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function P1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,t,s,l,h=Ke.min(),f=Ke.min(),_=Pn.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=_,this.expectedCount=v}withSequenceNumber(e){return new Qa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Qa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e){this.yt=e}}function Ej(i){const e=gj({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?tg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(){this.Cn=new Sj}addToCollectionParentIndex(e,t){return this.Cn.add(t),ge.resolve()}getCollectionParents(e,t){return ge.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ge.resolve()}deleteFieldIndex(e,t){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,t){return ge.resolve()}getDocumentsMatchingTarget(e,t){return ge.resolve(null)}getIndexType(e,t){return ge.resolve(0)}getFieldIndexes(e,t){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,t){return ge.resolve(io.min())}getMinOffsetFromCollectionGroup(e,t){return ge.resolve(io.min())}updateCollectionGroup(e,t,s){return ge.resolve()}updateIndexEntries(e,t){return ge.resolve()}}class Sj{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),l=this.index[t]||new hn(Rt.comparator),h=!l.has(s);return this.index[t]=l.add(s),h}has(e){const t=e.lastSegment(),s=e.popLast(),l=this.index[t];return l&&l.has(s)}getEntries(e){return(this.index[e]||new hn(Rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},L1=41943040;class _i{static withCacheSize(e){return new _i(e,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i.DEFAULT_COLLECTION_PERCENTILE=10,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_i.DEFAULT=new _i(L1,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_i.DISABLED=new _i(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new cc(0)}static cr(){return new cc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="LruGarbageCollector",Aj=1048576;function Vx([i,e],[t,s]){const l=lt(i,t);return l===0?lt(e,s):l}class Nj{constructor(e){this.Ir=e,this.buffer=new hn(Vx),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Vx(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Cj{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Re(Mx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){xc(t)?Re(Mx,"Ignoring IndexedDB error during garbage collection: ",t):await vc(t)}await this.Vr(3e5)}))}}class Rj{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return ge.resolve(ff.ce);const s=new Nj(t);return this.mr.forEachTarget(e,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(Dx)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dx):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,l,h,f,_,v,b;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((N=>(N>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),l=this.params.maximumSequenceNumbersToCollect):l=N,f=Date.now(),this.nthSequenceNumber(e,l)))).next((N=>(s=N,_=Date.now(),this.removeTargets(e,s,t)))).next((N=>(h=N,v=Date.now(),this.removeOrphanedDocuments(e,s)))).next((N=>(b=Date.now(),Wl()<=ot.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${l} in `+(_-f)+`ms
	Removed ${h} targets in `+(v-_)+`ms
	Removed ${N} documents in `+(b-v)+`ms
Total Duration: ${b-E}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:N}))))}}function Ij(i,e){return new Rj(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(){this.changes=new nl((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ge.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e,t,s,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,t)))).next((l=>(s!==null&&Ou(s.mutation,l,Bi.empty(),It.now()),l)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,ct()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=ct()){const l=qo();return this.populateOverlays(e,l,t).next((()=>this.computeViews(e,t,l,s).next((h=>{let f=Su();return h.forEach(((_,v)=>{f=f.insert(_,v.overlayedDocument)})),f}))))}getOverlayedDocuments(e,t){const s=qo();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,ct())))}populateOverlays(e,t,s){const l=[];return s.forEach((h=>{t.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(e,l).next((h=>{h.forEach(((f,_)=>{t.set(f,_)}))}))}computeViews(e,t,s,l){let h=Xs();const f=Lu(),_=(function(){return Lu()})();return t.forEach(((v,b)=>{const E=s.get(b.key);l.has(b.key)&&(E===void 0||E.mutation instanceof ho)?h=h.insert(b.key,b):E!==void 0?(f.set(b.key,E.mutation.getFieldMask()),Ou(E.mutation,b,E.mutation.getFieldMask(),It.now())):f.set(b.key,Bi.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((b,E)=>f.set(b,E))),t.forEach(((b,E)=>_.set(b,new Pj(E,f.get(b)??null)))),_)))}recalculateAndSaveOverlays(e,t){const s=Lu();let l=new Ht(((f,_)=>f-_)),h=ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((f=>{for(const _ of f)_.keys().forEach((v=>{const b=t.get(v);if(b===null)return;let E=s.get(v)||Bi.empty();E=_.applyToLocalView(b,E),s.set(v,E);const N=(l.get(_.batchId)||ct()).add(v);l=l.insert(_.batchId,N)}))})).next((()=>{const f=[],_=l.getReverseIterator();for(;_.hasNext();){const v=_.getNext(),b=v.key,E=v.value,N=m1();E.forEach((I=>{if(!h.has(I)){const Z=x1(t.get(I),s.get(I));Z!==null&&N.set(I,Z),h=h.add(I)}})),f.push(this.documentOverlayCache.saveOverlays(e,b,N))}return ge.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,l){return(function(f){return Me.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):c1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,l):this.getDocumentsMatchingCollectionQuery(e,t,s,l)}getNextDocuments(e,t,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,l).next((h=>{const f=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,l-h.size):ge.resolve(qo());let _=Vu,v=h;return f.next((b=>ge.forEach(b,((E,N)=>(_<N.largestBatchId&&(_=N.largestBatchId),h.get(E)?ge.resolve():this.remoteDocumentCache.getEntry(e,E).next((I=>{v=v.insert(E,I)}))))).next((()=>this.populateOverlays(e,b,h))).next((()=>this.computeViews(e,v,b,ct()))).next((E=>({batchId:_,changes:f1(E)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Me(t)).next((s=>{let l=Su();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,l){const h=t.collectionGroup;let f=Su();return this.indexManager.getCollectionParents(e,h).next((_=>ge.forEach(_,(v=>{const b=(function(N,I){return new bc(I,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)})(t,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,b,s,l).next((E=>{E.forEach(((N,I)=>{f=f.insert(N,I)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,t,s,l){let h;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((f=>(h=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,h,l)))).next((f=>{h.forEach(((v,b)=>{const E=b.getKey();f.get(E)===null&&(f=f.insert(E,Bn.newInvalidDocument(E)))}));let _=Su();return f.forEach(((v,b)=>{const E=h.get(v);E!==void 0&&Ou(E.mutation,b,Bi.empty(),It.now()),yf(t,b)&&(_=_.insert(v,b))})),_}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ge.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(l){return{id:l.id,version:l.version,createTime:ss(l.createTime)}})(t)),ge.resolve()}getNamedQuery(e,t){return ge.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(l){return{name:l.name,query:Ej(l.bundledQuery),readTime:ss(l.readTime)}})(t)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(){this.overlays=new Ht(Me.comparator),this.qr=new Map}getOverlay(e,t){return ge.resolve(this.overlays.get(t))}getOverlays(e,t){const s=qo();return ge.forEach(t,(l=>this.getOverlay(e,l).next((h=>{h!==null&&s.set(l,h)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((l,h)=>{this.St(e,t,h)})),ge.resolve()}removeOverlaysForBatchId(e,t,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(s)),ge.resolve()}getOverlaysForCollection(e,t,s){const l=qo(),h=t.length+1,f=new Me(t.child("")),_=this.overlays.getIteratorFrom(f);for(;_.hasNext();){const v=_.getNext().value,b=v.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===h&&v.largestBatchId>s&&l.set(v.getKey(),v)}return ge.resolve(l)}getOverlaysForCollectionGroup(e,t,s,l){let h=new Ht(((b,E)=>b-E));const f=this.overlays.getIterator();for(;f.hasNext();){const b=f.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>s){let E=h.get(b.largestBatchId);E===null&&(E=qo(),h=h.insert(b.largestBatchId,E)),E.set(b.getKey(),b)}}const _=qo(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((b,E)=>_.set(b,E))),!(_.size()>=l)););return ge.resolve(_)}St(e,t,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new JI(t,s));let h=this.qr.get(t);h===void 0&&(h=ct(),this.qr.set(t,h)),this.qr.set(t,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(){this.sessionToken=Pn.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(){this.Qr=new hn(Sn.$r),this.Ur=new hn(Sn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Sn(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new Sn(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new Me(new Rt([])),s=new Sn(t,e),l=new Sn(t,e+1),h=[];return this.Ur.forEachInRange([s,l],(f=>{this.Gr(f),h.push(f.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Me(new Rt([])),s=new Sn(t,e),l=new Sn(t,e+1);let h=ct();return this.Ur.forEachInRange([s,l],(f=>{h=h.add(f.key)})),h}containsKey(e){const t=new Sn(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Sn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Me.comparator(e.key,t.key)||lt(e.Yr,t.Yr)}static Kr(e,t){return lt(e.Yr,t.Yr)||Me.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new hn(Sn.$r)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,l){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new XI(h,t,s,l);this.mutationQueue.push(f);for(const _ of l)this.Zr=this.Zr.add(new Sn(_.key,h)),this.indexManager.addToCollectionParentIndex(e,_.key.path.popLast());return ge.resolve(f)}lookupMutationBatch(e,t){return ge.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,l=this.ei(s),h=l<0?0:l;return ge.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?Bg:this.tr-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Sn(t,0),l=new Sn(t,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([s,l],(f=>{const _=this.Xr(f.Yr);h.push(_)})),ge.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new hn(lt);return t.forEach((l=>{const h=new Sn(l,0),f=new Sn(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,f],(_=>{s=s.add(_.Yr)}))})),ge.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,l=s.length+1;let h=s;Me.isDocumentKey(h)||(h=h.child(""));const f=new Sn(new Me(h),0);let _=new hn(lt);return this.Zr.forEachWhile((v=>{const b=v.key.path;return!!s.isPrefixOf(b)&&(b.length===l&&(_=_.add(v.Yr)),!0)}),f),ge.resolve(this.ti(_))}ti(e){const t=[];return e.forEach((s=>{const l=this.Xr(s);l!==null&&t.push(l)})),t}removeMutationBatch(e,t){_t(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ge.forEach(t.mutations,(l=>{const h=new Sn(l.key,t.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new Sn(t,0),l=this.Zr.firstAfterOrEqual(s);return ge.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e){this.ri=e,this.docs=(function(){return new Ht(Me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,l=this.docs.get(s),h=l?l.size:0,f=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ge.resolve(s?s.document.mutableCopy():Bn.newInvalidDocument(t))}getEntries(e,t){let s=Xs();return t.forEach((l=>{const h=this.docs.get(l);s=s.insert(l,h?h.document.mutableCopy():Bn.newInvalidDocument(l))})),ge.resolve(s)}getDocumentsMatchingQuery(e,t,s,l){let h=Xs();const f=t.path,_=new Me(f.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(_);for(;v.hasNext();){const{key:b,value:{document:E}}=v.getNext();if(!f.isPrefixOf(b.path))break;b.path.length>f.length+1||dI(hI(E),s)<=0||(l.has(E.key)||yf(t,E))&&(h=h.insert(E.key,E.mutableCopy()))}return ge.resolve(h)}getAllFromCollectionGroup(e,t,s,l){Ge(9500)}ii(e,t){return ge.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new Uj(this)}getSize(e){return ge.resolve(this.size)}}class Uj extends jj{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?t.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(s)})),ge.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e){this.persistence=e,this.si=new nl((t=>qg(t)),Gg),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.oi=0,this._i=new Qg,this.targetCount=0,this.ai=cc.ur()}forEachTarget(e,t){return this.si.forEach(((s,l)=>t(l))),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),ge.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new cc(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ge.resolve()}updateTargetData(e,t){return this.Pr(t),ge.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,t,s){let l=0;const h=[];return this.si.forEach(((f,_)=>{_.sequenceNumber<=t&&s.get(_.targetId)===null&&(this.si.delete(f),h.push(this.removeMatchingKeysForTargetId(e,_.targetId)),l++)})),ge.waitFor(h).next((()=>l))}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return ge.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),ge.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const l=this.persistence.referenceDelegate,h=[];return l&&t.forEach((f=>{h.push(l.markPotentiallyOrphaned(e,f))})),ge.waitFor(h)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ge.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return ge.resolve(s)}containsKey(e,t){return ge.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,t){this.ui={},this.overlays={},this.ci=new ff(0),this.li=!1,this.li=!0,this.hi=new Dj,this.referenceDelegate=e(this),this.Pi=new zj(this),this.indexManager=new Tj,this.remoteDocumentCache=(function(l){return new Vj(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new wj(t),this.Ii=new Oj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new kj,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new Mj(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){Re("MemoryPersistence","Starting transaction:",e);const l=new Bj(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((h=>this.referenceDelegate.di(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ai(e,t){return ge.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class Bj extends mI{constructor(e){super(),this.currentSequenceNumber=e}}class Xg{constructor(e){this.persistence=e,this.Ri=new Qg,this.Vi=null}static mi(e){return new Xg(e)}get fi(){if(this.Vi)return this.Vi;throw Ge(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),ge.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),ge.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ge.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((l=>{l.forEach((h=>this.fi.add(h.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.fi,(s=>{const l=Me.fromPath(s);return this.gi(e,l).next((h=>{h||t.removeEntry(l,Ke.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ge.or([()=>ge.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class ef{constructor(e,t){this.persistence=e,this.pi=new nl((s=>yI(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=Ij(this,t)}static mi(e,t){return new ef(e,t)}Ei(){}di(e){return ge.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((l=>s+l))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return ge.forEach(this.pi,((s,l)=>this.br(e,s,l).next((h=>h?ge.resolve():t(l)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ii(e,(f=>this.br(e,f,t).next((_=>{_||(s++,h.removeEntry(f,Ke.min()))})))).next((()=>h.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ge.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ge.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ge.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ge.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Id(e.data.value)),t}br(e,t,s){return ge.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const l=this.pi.get(t);return ge.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,t,s,l){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=l}static As(e,t){let s=ct(),l=ct();for(const h of t.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Jg(e,t.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return pA()?8:pI(Hn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,l){const h={result:null};return this.ys(e,t).next((f=>{h.result=f})).next((()=>{if(!h.result)return this.ws(e,t,l,s).next((f=>{h.result=f}))})).next((()=>{if(h.result)return;const f=new Fj;return this.Ss(e,t,f).next((_=>{if(h.result=_,this.Vs)return this.bs(e,t,f,_.size)}))})).next((()=>h.result))}bs(e,t,s,l){return s.documentReadCount<this.fs?(Wl()<=ot.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",Kl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ge.resolve()):(Wl()<=ot.DEBUG&&Re("QueryEngine","Query:",Kl(t),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Wl()<=ot.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",Kl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rs(t))):ge.resolve())}ys(e,t){if(Ax(t))return ge.resolve(null);let s=rs(t);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(t.limit!==null&&l===1&&(t=tg(t,null,"F"),s=rs(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((h=>{const f=ct(...h);return this.ps.getDocuments(e,f).next((_=>this.indexManager.getMinOffset(e,s).next((v=>{const b=this.Ds(t,_);return this.Cs(t,b,f,v.readTime)?this.ys(e,tg(t,null,"F")):this.vs(e,b,t,v)}))))})))))}ws(e,t,s,l){return Ax(t)||l.isEqual(Ke.min())?ge.resolve(null):this.ps.getDocuments(e,s).next((h=>{const f=this.Ds(t,h);return this.Cs(t,f,s,l)?ge.resolve(null):(Wl()<=ot.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Kl(t)),this.vs(e,f,t,uI(l,Vu)).next((_=>_)))}))}Ds(e,t){let s=new hn(h1(e));return t.forEach(((l,h)=>{yf(e,h)&&(s=s.add(h))})),s}Cs(e,t,s,l){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const h=e.limitType==="F"?t.last():t.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(e,t,s){return Wl()<=ot.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",Kl(t)),this.ps.getDocumentsMatchingQuery(e,t,io.min(),s)}vs(e,t,s,l){return this.ps.getDocumentsMatchingQuery(e,s,l).next((h=>(t.forEach((f=>{h=h.insert(f.key,f)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="LocalStore",qj=3e8;class Gj{constructor(e,t,s,l){this.persistence=e,this.Fs=t,this.serializer=l,this.Ms=new Ht(lt),this.xs=new nl((h=>qg(h)),Gg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Lj(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function Zj(i,e,t,s){return new Gj(i,e,t,s)}async function k1(i,e){const t=Ye(i);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return t.mutationQueue.getAllMutationBatches(s).next((h=>(l=h,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((h=>{const f=[],_=[];let v=ct();for(const b of l){f.push(b.batchId);for(const E of b.mutations)v=v.add(E.key)}for(const b of h){_.push(b.batchId);for(const E of b.mutations)v=v.add(E.key)}return t.localDocuments.getDocuments(s,v).next((b=>({Ls:b,removedBatchIds:f,addedBatchIds:_})))}))}))}function Wj(i,e){const t=Ye(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),h=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(_,v,b,E){const N=b.batch,I=N.keys();let Z=ge.resolve();return I.forEach((U=>{Z=Z.next((()=>E.getEntry(v,U))).next((K=>{const H=b.docVersions.get(U);_t(H!==null,48541),K.version.compareTo(H)<0&&(N.applyToRemoteDocument(K,b),K.isValidDocument()&&(K.setReadTime(b.commitVersion),E.addEntry(K)))}))})),Z.next((()=>_.mutationQueue.removeMutationBatch(v,N)))})(t,s,e,h).next((()=>h.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(_){let v=ct();for(let b=0;b<_.mutationResults.length;++b)_.mutationResults[b].transformResults.length>0&&(v=v.add(_.batch.mutations[b].key));return v})(e)))).next((()=>t.localDocuments.getDocuments(s,l)))}))}function D1(i){const e=Ye(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function Kj(i,e){const t=Ye(i),s=e.snapshotVersion;let l=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const f=t.Ns.newChangeBuffer({trackRemovals:!0});l=t.Ms;const _=[];e.targetChanges.forEach(((E,N)=>{const I=l.get(N);if(!I)return;_.push(t.Pi.removeMatchingKeys(h,E.removedDocuments,N).next((()=>t.Pi.addMatchingKeys(h,E.addedDocuments,N))));let Z=I.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(N)!==null?Z=Z.withResumeToken(Pn.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):E.resumeToken.approximateByteSize()>0&&(Z=Z.withResumeToken(E.resumeToken,s)),l=l.insert(N,Z),(function(K,H,oe){return K.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=qj?!0:oe.addedDocuments.size+oe.modifiedDocuments.size+oe.removedDocuments.size>0})(I,Z,E)&&_.push(t.Pi.updateTargetData(h,Z))}));let v=Xs(),b=ct();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&_.push(t.persistence.referenceDelegate.updateLimboDocument(h,E))})),_.push(Yj(h,f,e.documentUpdates).next((E=>{v=E.ks,b=E.qs}))),!s.isEqual(Ke.min())){const E=t.Pi.getLastRemoteSnapshotVersion(h).next((N=>t.Pi.setTargetsMetadata(h,h.currentSequenceNumber,s)));_.push(E)}return ge.waitFor(_).next((()=>f.apply(h))).next((()=>t.localDocuments.getLocalViewOfDocuments(h,v,b))).next((()=>v))})).then((h=>(t.Ms=l,h)))}function Yj(i,e,t){let s=ct(),l=ct();return t.forEach((h=>s=s.add(h))),e.getEntries(i,s).next((h=>{let f=Xs();return t.forEach(((_,v)=>{const b=h.get(_);v.isFoundDocument()!==b.isFoundDocument()&&(l=l.add(_)),v.isNoDocument()&&v.version.isEqual(Ke.min())?(e.removeEntry(_,v.readTime),f=f.insert(_,v)):!b.isValidDocument()||v.version.compareTo(b.version)>0||v.version.compareTo(b.version)===0&&b.hasPendingWrites?(e.addEntry(v),f=f.insert(_,v)):Re(ey,"Ignoring outdated watch update for ",_,". Current version:",b.version," Watch version:",v.version)})),{ks:f,qs:l}}))}function $j(i,e){const t=Ye(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Bg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function Qj(i,e){const t=Ye(i);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return t.Pi.getTargetData(s,e).next((h=>h?(l=h,ge.resolve(l)):t.Pi.allocateTargetId(s).next((f=>(l=new Qa(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=t.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function ag(i,e,t){const s=Ye(i),l=s.Ms.get(e),h=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",h,(f=>s.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!xc(f))throw f;Re(ey,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(l.target)}function Ux(i,e,t){const s=Ye(i);let l=Ke.min(),h=ct();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(v,b,E){const N=Ye(v),I=N.xs.get(E);return I!==void 0?ge.resolve(N.Ms.get(I)):N.Pi.getTargetData(b,E)})(s,f,rs(e)).next((_=>{if(_)return l=_.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,_.targetId).next((v=>{h=v}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,t?l:Ke.min(),t?h:ct()))).next((_=>(Xj(s,DI(e),_),{documents:_,Qs:h})))))}function Xj(i,e,t){let s=i.Os.get(e)||Ke.min();t.forEach(((l,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)})),i.Os.set(e,s)}class zx{constructor(){this.activeTargetIds=FI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Jj{constructor(){this.Mo=new zx,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new zx,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="ConnectivityMonitor";class Fx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Re(Bx,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Re(Bx,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bd=null;function og(){return bd===null?bd=(function(){return 268435456+Math.round(2147483648*Math.random())})():bd++,"0x"+bd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="RestConnection",t4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class n4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Yd?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(e,t,s,l,h){const f=og(),_=this.zo(e,t.toUriEncodedString());Re(jp,`Sending RPC '${e}' ${f}:`,_,s);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,l,h);const{host:b}=new URL(_),E=pc(b);return this.Jo(e,_,v,s,E).then((N=>(Re(jp,`Received RPC '${e}' ${f}: `,N),N)),(N=>{throw sc(jp,`RPC '${e}' ${f} failed with error: `,N,"url: ",_,"request:",s),N}))}Ho(e,t,s,l,h,f){return this.Go(e,t,s,l,h)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_c})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((l,h)=>e[h]=l)),s&&s.headers.forEach(((l,h)=>e[h]=l))}zo(e,t){const s=t4[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn="WebChannelConnection";class r4 extends n4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,l,h){const f=og();return new Promise(((_,v)=>{const b=new Vw;b.setWithCredentials(!0),b.listenOnce(Uw.COMPLETE,(()=>{try{switch(b.getLastErrorCode()){case Rd.NO_ERROR:const N=b.getResponseJson();Re(Vn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(N)),_(N);break;case Rd.TIMEOUT:Re(Vn,`RPC '${e}' ${f} timed out`),v(new Se(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Rd.HTTP_ERROR:const I=b.getStatus();if(Re(Vn,`RPC '${e}' ${f} failed with status:`,I,"response text:",b.getResponseText()),I>0){let Z=b.getResponseJson();Array.isArray(Z)&&(Z=Z[0]);const U=Z?.error;if(U&&U.status&&U.message){const K=(function(oe){const le=oe.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(le)>=0?le:fe.UNKNOWN})(U.status);v(new Se(K,U.message))}else v(new Se(fe.UNKNOWN,"Server responded with status "+b.getStatus()))}else v(new Se(fe.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{l_:e,streamId:f,h_:b.getLastErrorCode(),P_:b.getLastError()})}}finally{Re(Vn,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(l);Re(Vn,`RPC '${e}' ${f} sending request:`,l),b.send(t,"POST",E,s,15)}))}T_(e,t,s){const l=og(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Fw(),_=Bw(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},b=this.longPollingOptions.timeoutSeconds;b!==void 0&&(v.longPollingTimeout=Math.round(1e3*b)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,t,s),v.encodeInitMessageHeaders=!0;const E=h.join("");Re(Vn,`Creating RPC '${e}' stream ${l}: ${E}`,v);const N=f.createWebChannel(E,v);this.I_(N);let I=!1,Z=!1;const U=new i4({Yo:H=>{Z?Re(Vn,`Not sending because RPC '${e}' stream ${l} is closed:`,H):(I||(Re(Vn,`Opening RPC '${e}' stream ${l} transport.`),N.open(),I=!0),Re(Vn,`RPC '${e}' stream ${l} sending:`,H),N.send(H))},Zo:()=>N.close()}),K=(H,oe,le)=>{H.listen(oe,(ce=>{try{le(ce)}catch(Ae){setTimeout((()=>{throw Ae}),0)}}))};return K(N,Tu.EventType.OPEN,(()=>{Z||(Re(Vn,`RPC '${e}' stream ${l} transport opened.`),U.o_())})),K(N,Tu.EventType.CLOSE,(()=>{Z||(Z=!0,Re(Vn,`RPC '${e}' stream ${l} transport closed`),U.a_(),this.E_(N))})),K(N,Tu.EventType.ERROR,(H=>{Z||(Z=!0,sc(Vn,`RPC '${e}' stream ${l} transport errored. Name:`,H.name,"Message:",H.message),U.a_(new Se(fe.UNAVAILABLE,"The operation could not be completed")))})),K(N,Tu.EventType.MESSAGE,(H=>{if(!Z){const oe=H.data[0];_t(!!oe,16349);const le=oe,ce=le?.error||le[0]?.error;if(ce){Re(Vn,`RPC '${e}' stream ${l} received error:`,ce);const Ae=ce.status;let xe=(function(O){const D=tn[O];if(D!==void 0)return E1(D)})(Ae),Ve=ce.message;xe===void 0&&(xe=fe.INTERNAL,Ve="Unknown error status: "+Ae+" with message "+ce.message),Z=!0,U.a_(new Se(xe,Ve)),N.close()}else Re(Vn,`RPC '${e}' stream ${l} received:`,oe),U.u_(oe)}})),K(_,zw.STAT_EVENT,(H=>{H.stat===Kp.PROXY?Re(Vn,`RPC '${e}' stream ${l} detected buffering proxy`):H.stat===Kp.NOPROXY&&Re(Vn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Pp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(i){return new lj(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,t,s=1e3,l=1.5,h=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,t-s);l>0&&Re("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="PersistentStream";class V1{constructor(e,t,s,l,h,f,_,v){this.Mi=e,this.S_=s,this.b_=l,this.connection=h,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=_,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new M1(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(Qs(t.toString()),Qs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===t&&this.G_(s,l)}),(s=>{e((()=>{const l=new Se(fe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Re(Hx,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Re(Hx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class s4 extends V1{constructor(e,t,s,l,h,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,l,f),this.serializer=h}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=hj(this.serializer,e),s=(function(h){if(!("targetChange"in h))return Ke.min();const f=h.targetChange;return f.targetIds&&f.targetIds.length?Ke.min():f.readTime?ss(f.readTime):Ke.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=sg(this.serializer),t.addTarget=(function(h,f){let _;const v=f.target;if(_=Jp(v)?{documents:mj(h,v)}:{query:pj(h,v).ft},_.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){_.resumeToken=A1(h,f.resumeToken);const b=ng(h,f.expectedCount);b!==null&&(_.expectedCount=b)}else if(f.snapshotVersion.compareTo(Ke.min())>0){_.readTime=Jd(h,f.snapshotVersion.toTimestamp());const b=ng(h,f.expectedCount);b!==null&&(_.expectedCount=b)}return _})(this.serializer,e);const s=yj(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=sg(this.serializer),t.removeTarget=e,this.q_(t)}}class a4 extends V1{constructor(e,t,s,l,h,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,l,f),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return _t(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_t(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_t(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=fj(e.writeResults,e.commitTime),s=ss(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=sg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>dj(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{}class l4 extends o4{constructor(e,t,s,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new Se(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,f])=>this.connection.Go(e,ig(t,s),l,h,f))).catch((h=>{throw h.name==="FirebaseError"?(h.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Se(fe.UNKNOWN,h.toString())}))}Ho(e,t,s,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,_])=>this.connection.Ho(e,ig(t,s),l,f,_,h))).catch((f=>{throw f.name==="FirebaseError"?(f.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Se(fe.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class c4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qs(t),this.aa=!1):Re("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo="RemoteStore";class u4{constructor(e,t,s,l,h){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{il(this)&&(Re(Jo,"Restarting streams for network reachability change."),await(async function(v){const b=Ye(v);b.Ea.add(4),await rh(b),b.Ra.set("Unknown"),b.Ea.delete(4),await wf(b)})(this))}))})),this.Ra=new c4(s,l)}}async function wf(i){if(il(i))for(const e of i.da)await e(!0)}async function rh(i){for(const e of i.da)await e(!1)}function U1(i,e){const t=Ye(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),ry(t)?iy(t):wc(t).O_()&&ny(t,e))}function ty(i,e){const t=Ye(i),s=wc(t);t.Ia.delete(e),s.O_()&&z1(t,e),t.Ia.size===0&&(s.O_()?s.L_():il(t)&&t.Ra.set("Unknown"))}function ny(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}wc(i).Y_(e)}function z1(i,e){i.Va.Ue(e),wc(i).Z_(e)}function iy(i){i.Va=new rj({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),wc(i).start(),i.Ra.ua()}function ry(i){return il(i)&&!wc(i).x_()&&i.Ia.size>0}function il(i){return Ye(i).Ea.size===0}function B1(i){i.Va=void 0}async function h4(i){i.Ra.set("Online")}async function d4(i){i.Ia.forEach(((e,t)=>{ny(i,e)}))}async function f4(i,e){B1(i),ry(i)?(i.Ra.ha(e),iy(i)):i.Ra.set("Unknown")}async function m4(i,e,t){if(i.Ra.set("Online"),e instanceof S1&&e.state===2&&e.cause)try{await(async function(l,h){const f=h.cause;for(const _ of h.targetIds)l.Ia.has(_)&&(await l.remoteSyncer.rejectListen(_,f),l.Ia.delete(_),l.Va.removeTarget(_))})(i,e)}catch(s){Re(Jo,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await tf(i,s)}else if(e instanceof Ld?i.Va.Ze(e):e instanceof T1?i.Va.st(e):i.Va.tt(e),!t.isEqual(Ke.min()))try{const s=await D1(i.localStore);t.compareTo(s)>=0&&await(function(h,f){const _=h.Va.Tt(f);return _.targetChanges.forEach(((v,b)=>{if(v.resumeToken.approximateByteSize()>0){const E=h.Ia.get(b);E&&h.Ia.set(b,E.withResumeToken(v.resumeToken,f))}})),_.targetMismatches.forEach(((v,b)=>{const E=h.Ia.get(v);if(!E)return;h.Ia.set(v,E.withResumeToken(Pn.EMPTY_BYTE_STRING,E.snapshotVersion)),z1(h,v);const N=new Qa(E.target,v,b,E.sequenceNumber);ny(h,N)})),h.remoteSyncer.applyRemoteEvent(_)})(i,t)}catch(s){Re(Jo,"Failed to raise snapshot:",s),await tf(i,s)}}async function tf(i,e,t){if(!xc(e))throw e;i.Ea.add(1),await rh(i),i.Ra.set("Offline"),t||(t=()=>D1(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{Re(Jo,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await wf(i)}))}function F1(i,e){return e().catch((t=>tf(i,t,e)))}async function Ef(i){const e=Ye(i),t=oo(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Bg;for(;p4(e);)try{const l=await $j(e.localStore,s);if(l===null){e.Ta.length===0&&t.L_();break}s=l.batchId,g4(e,l)}catch(l){await tf(e,l)}H1(e)&&q1(e)}function p4(i){return il(i)&&i.Ta.length<10}function g4(i,e){i.Ta.push(e);const t=oo(i);t.O_()&&t.X_&&t.ea(e.mutations)}function H1(i){return il(i)&&!oo(i).x_()&&i.Ta.length>0}function q1(i){oo(i).start()}async function y4(i){oo(i).ra()}async function _4(i){const e=oo(i);for(const t of i.Ta)e.ea(t.mutations)}async function v4(i,e,t){const s=i.Ta.shift(),l=Kg.from(s,e,t);await F1(i,(()=>i.remoteSyncer.applySuccessfulWrite(l))),await Ef(i)}async function x4(i,e){e&&oo(i).X_&&await(async function(s,l){if((function(f){return tj(f)&&f!==fe.ABORTED})(l.code)){const h=s.Ta.shift();oo(s).B_(),await F1(s,(()=>s.remoteSyncer.rejectFailedWrite(h.batchId,l))),await Ef(s)}})(i,e),H1(i)&&q1(i)}async function qx(i,e){const t=Ye(i);t.asyncQueue.verifyOperationInProgress(),Re(Jo,"RemoteStore received new credentials");const s=il(t);t.Ea.add(3),await rh(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await wf(t)}async function b4(i,e){const t=Ye(i);e?(t.Ea.delete(2),await wf(t)):e||(t.Ea.add(2),await rh(t),t.Ra.set("Unknown"))}function wc(i){return i.ma||(i.ma=(function(t,s,l){const h=Ye(t);return h.sa(),new s4(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(i.datastore,i.asyncQueue,{Xo:h4.bind(null,i),t_:d4.bind(null,i),r_:f4.bind(null,i),H_:m4.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),ry(i)?iy(i):i.Ra.set("Unknown")):(await i.ma.stop(),B1(i))}))),i.ma}function oo(i){return i.fa||(i.fa=(function(t,s,l){const h=Ye(t);return h.sa(),new a4(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:y4.bind(null,i),r_:x4.bind(null,i),ta:_4.bind(null,i),na:v4.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Ef(i)):(await i.fa.stop(),i.Ta.length>0&&(Re(Jo,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,t,s,l,h){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=l,this.removalCallback=h,this.deferred=new Zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,l,h){const f=Date.now()+s,_=new sy(e,t,f,l,h);return _.start(s),_}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ay(i,e){if(Qs("AsyncQueue",`${e}: ${i}`),xc(i))return new Se(fe.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{static emptySet(e){return new tc(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Me.comparator(t.key,s.key):(t,s)=>Me.comparator(t.key,s.key),this.keyedMap=Su(),this.sortedSet=new Ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof tc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,h=s.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new tc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(){this.ga=new Ht(Me.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ge(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class uc{constructor(e,t,s,l,h,f,_,v,b){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=h,this.fromCache=f,this.syncStateChanged=_,this.excludesMetadataChanges=v,this.hasCachedResults=b}static fromInitialDocuments(e,t,s,l,h){const f=[];return t.forEach((_=>{f.push({type:0,doc:_})})),new uc(e,t,tc.emptySet(t),f,s,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==s[l].type||!t[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class E4{constructor(){this.queries=Zx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const l=Ye(t),h=l.queries;l.queries=Zx(),h.forEach(((f,_)=>{for(const v of _.Sa)v.onError(s)}))})(this,new Se(fe.ABORTED,"Firestore shutting down"))}}function Zx(){return new nl((i=>u1(i)),gf)}async function G1(i,e){const t=Ye(i);let s=3;const l=e.query;let h=t.queries.get(l);h?!h.ba()&&e.Da()&&(s=2):(h=new w4,s=e.Da()?0:1);try{switch(s){case 0:h.wa=await t.onListen(l,!0);break;case 1:h.wa=await t.onListen(l,!1);break;case 2:await t.onFirstRemoteStoreListen(l)}}catch(f){const _=ay(f,`Initialization of query '${Kl(e.query)}' failed`);return void e.onError(_)}t.queries.set(l,h),h.Sa.push(e),e.va(t.onlineState),h.wa&&e.Fa(h.wa)&&oy(t)}async function Z1(i,e){const t=Ye(i),s=e.query;let l=3;const h=t.queries.get(s);if(h){const f=h.Sa.indexOf(e);f>=0&&(h.Sa.splice(f,1),h.Sa.length===0?l=e.Da()?0:1:!h.ba()&&e.Da()&&(l=2))}switch(l){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function T4(i,e){const t=Ye(i);let s=!1;for(const l of e){const h=l.query,f=t.queries.get(h);if(f){for(const _ of f.Sa)_.Fa(l)&&(s=!0);f.wa=l}}s&&oy(t)}function S4(i,e,t){const s=Ye(i),l=s.queries.get(e);if(l)for(const h of l.Sa)h.onError(t);s.queries.delete(e)}function oy(i){i.Ca.forEach((e=>{e.next()}))}var lg,Wx;(Wx=lg||(lg={})).Ma="default",Wx.Cache="cache";class W1{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new uc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=uc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==lg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e){this.key=e}}class Y1{constructor(e){this.key=e}}class A4{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ct(),this.mutatedKeys=ct(),this.eu=h1(e),this.tu=new tc(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new Gx,l=t?t.tu:this.tu;let h=t?t.mutatedKeys:this.mutatedKeys,f=l,_=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,b=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((E,N)=>{const I=l.get(E),Z=yf(this.query,N)?N:null,U=!!I&&this.mutatedKeys.has(I.key),K=!!Z&&(Z.hasLocalMutations||this.mutatedKeys.has(Z.key)&&Z.hasCommittedMutations);let H=!1;I&&Z?I.data.isEqual(Z.data)?U!==K&&(s.track({type:3,doc:Z}),H=!0):this.su(I,Z)||(s.track({type:2,doc:Z}),H=!0,(v&&this.eu(Z,v)>0||b&&this.eu(Z,b)<0)&&(_=!0)):!I&&Z?(s.track({type:0,doc:Z}),H=!0):I&&!Z&&(s.track({type:1,doc:I}),H=!0,(v||b)&&(_=!0)),H&&(Z?(f=f.add(Z),h=K?h.add(E):h.delete(E)):(f=f.delete(E),h=h.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),h=h.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:_,mutatedKeys:h}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,l){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,N)=>(function(Z,U){const K=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{Rt:H})}};return K(Z)-K(U)})(E.type,N.type)||this.eu(E.doc,N.doc))),this.ou(s),l=l??!1;const _=t&&!l?this._u():[],v=this.Xa.size===0&&this.current&&!l?1:0,b=v!==this.Za;return this.Za=v,f.length!==0||b?{snapshot:new uc(this.query,e.tu,h,f,e.mutatedKeys,v===0,b,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:_}:{au:_}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Gx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ct(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new Y1(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new K1(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=ct();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return uc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ly="SyncEngine";class N4{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class C4{constructor(e){this.key=e,this.hu=!1}}class R4{constructor(e,t,s,l,h,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new nl((_=>u1(_)),gf),this.Iu=new Map,this.Eu=new Set,this.du=new Ht(Me.comparator),this.Au=new Map,this.Ru=new Qg,this.Vu={},this.mu=new Map,this.fu=cc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function I4(i,e,t=!0){const s=tE(i);let l;const h=s.Tu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await $1(s,e,t,!0),l}async function j4(i,e){const t=tE(i);await $1(t,e,!0,!1)}async function $1(i,e,t,s){const l=await Qj(i.localStore,rs(e)),h=l.targetId,f=i.sharedClientState.addLocalQueryTarget(h,t);let _;return s&&(_=await P4(i,e,h,f==="current",l.resumeToken)),i.isPrimaryClient&&t&&U1(i.remoteStore,l),_}async function P4(i,e,t,s,l){i.pu=(N,I,Z)=>(async function(K,H,oe,le){let ce=H.view.ru(oe);ce.Cs&&(ce=await Ux(K.localStore,H.query,!1).then((({documents:F})=>H.view.ru(F,ce))));const Ae=le&&le.targetChanges.get(H.targetId),xe=le&&le.targetMismatches.get(H.targetId)!=null,Ve=H.view.applyChanges(ce,K.isPrimaryClient,Ae,xe);return Yx(K,H.targetId,Ve.au),Ve.snapshot})(i,N,I,Z);const h=await Ux(i.localStore,e,!0),f=new A4(e,h.Qs),_=f.ru(h.documents),v=ih.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",l),b=f.applyChanges(_,i.isPrimaryClient,v);Yx(i,t,b.au);const E=new N4(e,t,f);return i.Tu.set(e,E),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),b.snapshot}async function L4(i,e,t){const s=Ye(i),l=s.Tu.get(e),h=s.Iu.get(l.targetId);if(h.length>1)return s.Iu.set(l.targetId,h.filter((f=>!gf(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await ag(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),t&&ty(s.remoteStore,l.targetId),cg(s,l.targetId)})).catch(vc)):(cg(s,l.targetId),await ag(s.localStore,l.targetId,!0))}async function O4(i,e){const t=Ye(i),s=t.Tu.get(e),l=t.Iu.get(s.targetId);t.isPrimaryClient&&l.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),ty(t.remoteStore,s.targetId))}async function k4(i,e,t){const s=F4(i);try{const l=await(function(f,_){const v=Ye(f),b=It.now(),E=_.reduce(((Z,U)=>Z.add(U.key)),ct());let N,I;return v.persistence.runTransaction("Locally write mutations","readwrite",(Z=>{let U=Xs(),K=ct();return v.Ns.getEntries(Z,E).next((H=>{U=H,U.forEach(((oe,le)=>{le.isValidDocument()||(K=K.add(oe))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Z,U))).next((H=>{N=H;const oe=[];for(const le of _){const ce=$I(le,N.get(le.key).overlayedDocument);ce!=null&&oe.push(new ho(le.key,ce,n1(ce.value.mapValue),Cr.exists(!0)))}return v.mutationQueue.addMutationBatch(Z,b,oe,_)})).next((H=>{I=H;const oe=H.applyToLocalDocumentSet(N,K);return v.documentOverlayCache.saveOverlays(Z,H.batchId,oe)}))})).then((()=>({batchId:I.batchId,changes:f1(N)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(f,_,v){let b=f.Vu[f.currentUser.toKey()];b||(b=new Ht(lt)),b=b.insert(_,v),f.Vu[f.currentUser.toKey()]=b})(s,l.batchId,t),await sh(s,l.changes),await Ef(s.remoteStore)}catch(l){const h=ay(l,"Failed to persist write");t.reject(h)}}async function Q1(i,e){const t=Ye(i);try{const s=await Kj(t.localStore,e);e.targetChanges.forEach(((l,h)=>{const f=t.Au.get(h);f&&(_t(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?_t(f.hu,14607):l.removedDocuments.size>0&&(_t(f.hu,42227),f.hu=!1))})),await sh(t,s,e)}catch(s){await vc(s)}}function Kx(i,e,t){const s=Ye(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const l=[];s.Tu.forEach(((h,f)=>{const _=f.view.va(e);_.snapshot&&l.push(_.snapshot)})),(function(f,_){const v=Ye(f);v.onlineState=_;let b=!1;v.queries.forEach(((E,N)=>{for(const I of N.Sa)I.va(_)&&(b=!0)})),b&&oy(v)})(s.eventManager,e),l.length&&s.Pu.H_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function D4(i,e,t){const s=Ye(i);s.sharedClientState.updateQueryState(e,"rejected",t);const l=s.Au.get(e),h=l&&l.key;if(h){let f=new Ht(Me.comparator);f=f.insert(h,Bn.newNoDocument(h,Ke.min()));const _=ct().add(h),v=new xf(Ke.min(),new Map,new Ht(lt),f,_);await Q1(s,v),s.du=s.du.remove(h),s.Au.delete(e),cy(s)}else await ag(s.localStore,e,!1).then((()=>cg(s,e,t))).catch(vc)}async function M4(i,e){const t=Ye(i),s=e.batch.batchId;try{const l=await Wj(t.localStore,e);J1(t,s,null),X1(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await sh(t,l)}catch(l){await vc(l)}}async function V4(i,e,t){const s=Ye(i);try{const l=await(function(f,_){const v=Ye(f);return v.persistence.runTransaction("Reject batch","readwrite-primary",(b=>{let E;return v.mutationQueue.lookupMutationBatch(b,_).next((N=>(_t(N!==null,37113),E=N.keys(),v.mutationQueue.removeMutationBatch(b,N)))).next((()=>v.mutationQueue.performConsistencyCheck(b))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(b,E,_))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(b,E))).next((()=>v.localDocuments.getDocuments(b,E)))}))})(s.localStore,e);J1(s,e,t),X1(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await sh(s,l)}catch(l){await vc(l)}}function X1(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function J1(i,e,t){const s=Ye(i);let l=s.Vu[s.currentUser.toKey()];if(l){const h=l.get(e);h&&(t?h.reject(t):h.resolve(),l=l.remove(e)),s.Vu[s.currentUser.toKey()]=l}}function cg(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||eE(i,s)}))}function eE(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(ty(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),cy(i))}function Yx(i,e,t){for(const s of t)s instanceof K1?(i.Ru.addReference(s.key,e),U4(i,s)):s instanceof Y1?(Re(ly,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||eE(i,s.key)):Ge(19791,{wu:s})}function U4(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Eu.has(s)||(Re(ly,"New document in limbo: "+t),i.Eu.add(s),cy(i))}function cy(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new Me(Rt.fromString(e)),s=i.fu.next();i.Au.set(s,new C4(t)),i.du=i.du.insert(t,s),U1(i.remoteStore,new Qa(rs(Zg(t.path)),s,"TargetPurposeLimboResolution",ff.ce))}}async function sh(i,e,t){const s=Ye(i),l=[],h=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((_,v)=>{f.push(s.pu(v,e,t).then((b=>{if((b||t)&&s.isPrimaryClient){const E=b?!b.fromCache:t?.targetChanges.get(v.targetId)?.current;s.sharedClientState.updateQueryState(v.targetId,E?"current":"not-current")}if(b){l.push(b);const E=Jg.As(v.targetId,b);h.push(E)}})))})),await Promise.all(f),s.Pu.H_(l),await(async function(v,b){const E=Ye(v);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(N=>ge.forEach(b,(I=>ge.forEach(I.Es,(Z=>E.persistence.referenceDelegate.addReference(N,I.targetId,Z))).next((()=>ge.forEach(I.ds,(Z=>E.persistence.referenceDelegate.removeReference(N,I.targetId,Z)))))))))}catch(N){if(!xc(N))throw N;Re(ey,"Failed to update sequence numbers: "+N)}for(const N of b){const I=N.targetId;if(!N.fromCache){const Z=E.Ms.get(I),U=Z.snapshotVersion,K=Z.withLastLimboFreeSnapshotVersion(U);E.Ms=E.Ms.insert(I,K)}}})(s.localStore,h))}async function z4(i,e){const t=Ye(i);if(!t.currentUser.isEqual(e)){Re(ly,"User change. New user:",e.toKey());const s=await k1(t.localStore,e);t.currentUser=e,(function(h,f){h.mu.forEach((_=>{_.forEach((v=>{v.reject(new Se(fe.CANCELLED,f))}))})),h.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await sh(t,s.Ls)}}function B4(i,e){const t=Ye(i),s=t.Au.get(e);if(s&&s.hu)return ct().add(s.key);{let l=ct();const h=t.Iu.get(e);if(!h)return l;for(const f of h){const _=t.Tu.get(f);l=l.unionWith(_.view.nu)}return l}}function tE(i){const e=Ye(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Q1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D4.bind(null,e),e.Pu.H_=T4.bind(null,e.eventManager),e.Pu.yu=S4.bind(null,e.eventManager),e}function F4(i){const e=Ye(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=M4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V4.bind(null,e),e}class nf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Zj(this.persistence,new Hj,e.initialUser,this.serializer)}Cu(e){return new O1(Xg.mi,this.serializer)}Du(e){return new Jj}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nf.provider={build:()=>new nf};class H4 extends nf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){_t(this.persistence.referenceDelegate instanceof ef,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Cj(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?_i.withCacheSize(this.cacheSizeBytes):_i.DEFAULT;return new O1((s=>ef.mi(s,t)),this.serializer)}}class ug{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Kx(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=z4.bind(null,this.syncEngine),await b4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new E4})()}createDatastore(e){const t=bf(e.databaseInfo.databaseId),s=(function(h){return new r4(h)})(e.databaseInfo);return(function(h,f,_,v){return new l4(h,f,_,v)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,l,h,f,_){return new u4(s,l,h,f,_)})(this.localStore,this.datastore,e.asyncQueue,(t=>Kx(this.syncEngine,t,0)),(function(){return Fx.v()?new Fx:new e4})())}createSyncEngine(e,t){return(function(l,h,f,_,v,b,E){const N=new R4(l,h,f,_,v,b);return E&&(N.gu=!0),N})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Ye(t);Re(Jo,"RemoteStore shutting down."),s.Ea.add(5),await rh(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ug.provider={build:()=>new ug};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Qs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo="FirestoreClient";class q4{constructor(e,t,s,l,h){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=l,this.user=zn.UNAUTHENTICATED,this.clientId=zg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,(async f=>{Re(lo,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(Re(lo,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=ay(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Lp(i,e){i.asyncQueue.verifyOperationInProgress(),Re(lo,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener((async l=>{s.isEqual(l)||(await k1(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function $x(i,e){i.asyncQueue.verifyOperationInProgress();const t=await G4(i);Re(lo,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((s=>qx(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,l)=>qx(e.remoteStore,l))),i._onlineComponents=e}async function G4(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Re(lo,"Using user provided OfflineComponentProvider");try{await Lp(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(l){return l.name==="FirebaseError"?l.code===fe.FAILED_PRECONDITION||l.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(t))throw t;sc("Error using user provided cache. Falling back to memory cache: "+t),await Lp(i,new nf)}}else Re(lo,"Using default OfflineComponentProvider"),await Lp(i,new H4(void 0));return i._offlineComponents}async function iE(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Re(lo,"Using user provided OnlineComponentProvider"),await $x(i,i._uninitializedComponentsProvider._online)):(Re(lo,"Using default OnlineComponentProvider"),await $x(i,new ug))),i._onlineComponents}function Z4(i){return iE(i).then((e=>e.syncEngine))}async function rE(i){const e=await iE(i),t=e.eventManager;return t.onListen=I4.bind(null,e.syncEngine),t.onUnlisten=L4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=j4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=O4.bind(null,e.syncEngine),t}function W4(i,e,t={}){const s=new Zs;return i.asyncQueue.enqueueAndForget((async()=>(function(h,f,_,v,b){const E=new nE({next:I=>{E.Nu(),f.enqueueAndForget((()=>Z1(h,N)));const Z=I.docs.has(_);!Z&&I.fromCache?b.reject(new Se(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):Z&&I.fromCache&&v&&v.source==="server"?b.reject(new Se(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(I)},error:I=>b.reject(I)}),N=new W1(Zg(_.path),E,{includeMetadataChanges:!0,qa:!0});return G1(h,N)})(await rE(i),i.asyncQueue,e,t,s))),s.promise}function K4(i,e,t={}){const s=new Zs;return i.asyncQueue.enqueueAndForget((async()=>(function(h,f,_,v,b){const E=new nE({next:I=>{E.Nu(),f.enqueueAndForget((()=>Z1(h,N))),I.fromCache&&v.source==="server"?b.reject(new Se(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(I)},error:I=>b.reject(I)}),N=new W1(_,E,{includeMetadataChanges:!0,qa:!0});return G1(h,N)})(await rE(i),i.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="firestore.googleapis.com",Xx=!0;class Jx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Se(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aE,this.ssl=Xx}else this.host=e.host,this.ssl=e.ssl??Xx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=L1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Aj)throw new Se(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sE(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Se(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Se(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Se(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tf{constructor(e,t,s,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new JR;switch(s.type){case"firstParty":return new iI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Se(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=Qx.get(t);s&&(Re("ComponentProvider","Removing Datastore"),Qx.delete(t),s.terminate())})(this),Promise.resolve()}}function Y4(i,e,t,s={}){i=ls(i,Tf);const l=pc(e),h=i._getSettings(),f={...h,emulatorOptions:i._getEmulatorOptions()},_=`${e}:${t}`;l&&(Wb(`https://${_}`),Kb("Firestore",!0)),h.host!==aE&&h.host!==_&&sc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:_,ssl:l,emulatorOptions:s};if(!Ko(v,f)&&(i._setSettings(v),s.mockUserToken)){let b,E;if(typeof s.mockUserToken=="string")b=s.mockUserToken,E=zn.MOCK_USER;else{b=aA(s.mockUserToken,i._app?.options.projectId);const N=s.mockUserToken.sub||s.mockUserToken.user_id;if(!N)throw new Se(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new zn(N)}i._authCredentials=new eI(new qw(b,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new rl(this.firestore,e,this._query)}}class Xt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new no(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}toJSON(){return{type:Xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(th(t,Xt._jsonSchema))return new Xt(e,s||null,new Me(Rt.fromString(t.referencePath)))}}Xt._jsonSchemaVersion="firestore/documentReference/1.0",Xt._jsonSchema={type:rn("string",Xt._jsonSchemaVersion),referencePath:rn("string")};class no extends rl{constructor(e,t,s){super(e,t,Zg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new Me(e))}withConverter(e){return new no(this.firestore,e,this._path)}}function Zu(i,e,...t){if(i=dn(i),Gw("collection","path",e),i instanceof Tf){const s=Rt.fromString(e,...t);return dx(s),new no(i,null,s)}{if(!(i instanceof Xt||i instanceof no))throw new Se(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Rt.fromString(e,...t));return dx(s),new no(i.firestore,null,s)}}function Ec(i,e,...t){if(i=dn(i),arguments.length===1&&(e=zg.newId()),Gw("doc","path",e),i instanceof Tf){const s=Rt.fromString(e,...t);return hx(s),new Xt(i,null,new Me(s))}{if(!(i instanceof Xt||i instanceof no))throw new Se(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Rt.fromString(e,...t));return hx(s),new Xt(i.firestore,i instanceof no?i.converter:null,new Me(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="AsyncQueue";class tb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new M1(this,"async_queue_retry"),this._c=()=>{const s=Pp();s&&Re(eb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Pp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Pp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Zs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xc(e))throw e;Re(eb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Qs("INTERNAL UNHANDLED ERROR: ",nb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const l=sy.createAndSchedule(this,e,t,s,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&Ge(47125,{Pc:nb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function nb(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Tc extends Tf{constructor(e,t,s,l){super(e,t,s,l),this.type="firestore",this._queue=new tb,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tb(e),this._firestoreClient=void 0,await e}}}function oE(i,e){const t=typeof i=="object"?i:Xb(),s=typeof i=="string"?i:Yd,l=Ig(t,"firestore").getImmediate({identifier:s});if(!l._initialized){const h=rA("firestore");h&&Y4(l,...h)}return l}function uy(i){if(i._terminated)throw new Se(fe.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||$4(i),i._firestoreClient}function $4(i){const e=i._freezeSettings(),t=(function(l,h,f,_){return new xI(l,h,f,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,sE(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new q4(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lr(Pn.fromBase64String(e))}catch(t){throw new Se(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new lr(Pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:lr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(th(e,lr._jsonSchema))return lr.fromBase64String(e.bytes)}}lr._jsonSchemaVersion="firestore/bytes/1.0",lr._jsonSchema={type:rn("string",lr._jsonSchemaVersion),bytes:rn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Se(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Se(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Se(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return lt(this._lat,e._lat)||lt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:as._jsonSchemaVersion}}static fromJSON(e){if(th(e,as._jsonSchema))return new as(e.latitude,e.longitude)}}as._jsonSchemaVersion="firestore/geoPoint/1.0",as._jsonSchema={type:rn("string",as._jsonSchemaVersion),latitude:rn("number"),longitude:rn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==l[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:os._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(th(e,os._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new os(e.vectorValues);throw new Se(fe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}os._jsonSchemaVersion="firestore/vectorValue/1.0",os._jsonSchema={type:rn("string",os._jsonSchemaVersion),vectorValues:rn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=/^__.*__$/;class X4{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ho(e,this.data,this.fieldMask,t,this.fieldTransforms):new nh(e,this.data,t,this.fieldTransforms)}}class lE{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ho(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function cE(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge(40011,{Ac:i})}}class hy{constructor(e,t,s,l,h,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=l,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new hy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(cE(this.Ac)&&Q4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class J4{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||bf(e)}Cc(e,t,s,l=!1){return new hy({Ac:e,methodName:t,Dc:s,path:jn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nf(i){const e=i._freezeSettings(),t=bf(i._databaseId);return new J4(i._databaseId,!!e.ignoreUndefinedProperties,t)}function uE(i,e,t,s,l,h={}){const f=i.Cc(h.merge||h.mergeFields?2:0,e,t,l);fy("Data must be an object, but it was:",f,s);const _=hE(s,f);let v,b;if(h.merge)v=new Bi(f.fieldMask),b=f.fieldTransforms;else if(h.mergeFields){const E=[];for(const N of h.mergeFields){const I=hg(e,N,t);if(!f.contains(I))throw new Se(fe.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);fE(E,I)||E.push(I)}v=new Bi(E),b=f.fieldTransforms.filter((N=>v.covers(N.field)))}else v=null,b=f.fieldTransforms;return new X4(new vi(_),v,b)}class Cf extends Af{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cf}}class dy extends Af{_toFieldTransform(e){return new ZI(e.path,new Hu)}isEqual(e){return e instanceof dy}}function eP(i,e,t,s){const l=i.Cc(1,e,t);fy("Data must be an object, but it was:",l,s);const h=[],f=vi.empty();uo(s,((v,b)=>{const E=my(e,v,t);b=dn(b);const N=l.yc(E);if(b instanceof Cf)h.push(E);else{const I=ah(b,N);I!=null&&(h.push(E),f.set(E,I))}}));const _=new Bi(h);return new lE(f,_,l.fieldTransforms)}function tP(i,e,t,s,l,h){const f=i.Cc(1,e,t),_=[hg(e,s,t)],v=[l];if(h.length%2!=0)throw new Se(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<h.length;I+=2)_.push(hg(e,h[I])),v.push(h[I+1]);const b=[],E=vi.empty();for(let I=_.length-1;I>=0;--I)if(!fE(b,_[I])){const Z=_[I];let U=v[I];U=dn(U);const K=f.yc(Z);if(U instanceof Cf)b.push(Z);else{const H=ah(U,K);H!=null&&(b.push(Z),E.set(Z,H))}}const N=new Bi(b);return new lE(E,N,f.fieldTransforms)}function nP(i,e,t,s=!1){return ah(t,i.Cc(s?4:3,e))}function ah(i,e){if(dE(i=dn(i)))return fy("Unsupported field value:",e,i),hE(i,e);if(i instanceof Af)return(function(s,l){if(!cE(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(l);h&&l.fieldTransforms.push(h)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,l){const h=[];let f=0;for(const _ of s){let v=ah(_,l.wc(f));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),f++}return{arrayValue:{values:h}}})(i,e)}return(function(s,l){if((s=dn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return HI(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=It.fromDate(s);return{timestampValue:Jd(l.serializer,h)}}if(s instanceof It){const h=new It(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Jd(l.serializer,h)}}if(s instanceof as)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof lr)return{bytesValue:A1(l.serializer,s._byteString)};if(s instanceof Xt){const h=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(h))throw l.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:$g(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof os)return(function(f,_){return{mapValue:{fields:{[e1]:{stringValue:t1},[$d]:{arrayValue:{values:f.toArray().map((b=>{if(typeof b!="number")throw _.Sc("VectorValues must only contain numeric values.");return Wg(_.serializer,b)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${df(s)}`)})(i,e)}function hE(i,e){const t={};return Kw(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uo(i,((s,l)=>{const h=ah(l,e.mc(s));h!=null&&(t[s]=h)})),{mapValue:{fields:t}}}function dE(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof It||i instanceof as||i instanceof lr||i instanceof Xt||i instanceof Af||i instanceof os)}function fy(i,e,t){if(!dE(t)||!Zw(t)){const s=df(t);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function hg(i,e,t){if((e=dn(e))instanceof Sf)return e._internalPath;if(typeof e=="string")return my(i,e);throw rf("Field path arguments must be of type string or ",i,!1,void 0,t)}const iP=new RegExp("[~\\*/\\[\\]]");function my(i,e,t){if(e.search(iP)>=0)throw rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Sf(...e.split("."))._internalPath}catch{throw rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function rf(i,e,t,s,l){const h=s&&!s.isEmpty(),f=l!==void 0;let _=`Function ${e}() called with invalid data`;t&&(_+=" (via `toFirestore()`)"),_+=". ";let v="";return(h||f)&&(v+=" (found",h&&(v+=` in field ${s}`),f&&(v+=` in document ${l}`),v+=")"),new Se(fe.INVALID_ARGUMENT,_+i+v)}function fE(i,e){return i.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,t,s,l,h){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Rf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class rP extends mE{data(){return super.data()}}function Rf(i,e){return typeof e=="string"?my(i,e):e instanceof Sf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Se(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class py{}class pE extends py{}function gE(i,e,...t){let s=[];e instanceof py&&s.push(e),s=s.concat(t),(function(h){const f=h.filter((v=>v instanceof gy)).length,_=h.filter((v=>v instanceof If)).length;if(f>1||f>0&&_>0)throw new Se(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)i=l._apply(i);return i}class If extends pE{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new If(e,t,s)}_apply(e){const t=this._parse(e);return yE(e._query,t),new rl(e.firestore,e.converter,eg(e._query,t))}_parse(e){const t=Nf(e.firestore);return(function(h,f,_,v,b,E,N){let I;if(b.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new Se(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){rb(N,E);const U=[];for(const K of N)U.push(ib(v,h,K));I={arrayValue:{values:U}}}else I=ib(v,h,N)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||rb(N,E),I=nP(_,f,N,E==="in"||E==="not-in");return nn.create(b,E,I)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function aP(i,e,t){const s=e,l=Rf("where",i);return If._create(l,s,t)}class gy extends py{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new gy(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:jr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(l,h){let f=l;const _=h.getFlattenedFilters();for(const v of _)yE(f,v),f=eg(f,v)})(e._query,t),new rl(e.firestore,e.converter,eg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yy extends pE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new yy(e,t)}_apply(e){const t=(function(l,h,f){if(l.startAt!==null)throw new Se(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new Se(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fu(h,f)})(e._query,this._field,this._direction);return new rl(e.firestore,e.converter,(function(l,h){const f=l.explicitOrderBy.concat([h]);return new bc(l.path,l.collectionGroup,f,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,t))}}function oP(i,e="asc"){const t=e,s=Rf("orderBy",i);return yy._create(s,t)}function ib(i,e,t){if(typeof(t=dn(t))=="string"){if(t==="")throw new Se(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!c1(e)&&t.indexOf("/")!==-1)throw new Se(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Rt.fromString(t));if(!Me.isDocumentKey(s))throw new Se(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return xx(i,new Me(s))}if(t instanceof Xt)return xx(i,t._key);throw new Se(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${df(t)}.`)}function rb(i,e){if(!Array.isArray(i)||i.length===0)throw new Se(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yE(i,e){const t=(function(l,h){for(const f of l)for(const _ of f.getFlattenedFilters())if(h.indexOf(_.op)>=0)return _.op;return null})(i.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Se(fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class lP{convertValue(e,t="none"){switch(ao(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(so(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return uo(e,((l,h)=>{s[l]=this.convertValue(h,t)})),s}convertVectorValue(e){const t=e.fields?.[$d].arrayValue?.values?.map((s=>Qt(s.doubleValue)));return new os(t)}convertGeoPoint(e){return new as(Qt(e.latitude),Qt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=pf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Uu(e));default:return null}}convertTimestamp(e){const t=ro(e);return new It(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Rt.fromString(e);_t(P1(s),9688,{name:e});const l=new zu(s.get(1),s.get(3)),h=new Me(s.popFirst(5));return l.isEqual(t)||Qs(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(i,e,t){let s;return s=i?i.toFirestore(e):e,s}class Nu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zo extends mE{constructor(e,t,s,l,h,f){super(e,t,s,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Od(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Rf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(fe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Zo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Zo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zo._jsonSchema={type:rn("string",Zo._jsonSchemaVersion),bundleSource:rn("string","DocumentSnapshot"),bundleName:rn("string"),bundle:rn("string")};class Od extends Zo{data(e={}){return super.data(e)}}class nc{constructor(e,t,s,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new Nu(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Od(this._firestore,this._userDataWriter,s.key,s,new Nu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Se(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((_=>{const v=new Od(l._firestore,l._userDataWriter,_.doc.key,_.doc,new Nu(l._snapshot.mutatedKeys.has(_.doc.key),l._snapshot.fromCache),l.query.converter);return _.doc,{type:"added",doc:v,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((_=>h||_.type!==3)).map((_=>{const v=new Od(l._firestore,l._userDataWriter,_.doc.key,_.doc,new Nu(l._snapshot.mutatedKeys.has(_.doc.key),l._snapshot.fromCache),l.query.converter);let b=-1,E=-1;return _.type!==0&&(b=f.indexOf(_.doc.key),f=f.delete(_.doc.key)),_.type!==1&&(f=f.add(_.doc),E=f.indexOf(_.doc.key)),{type:cP(_.type),doc:v,oldIndex:b,newIndex:E}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(fe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=nc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(t.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cP(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(i){i=ls(i,Xt);const e=ls(i.firestore,Tc);return W4(uy(e),i._key).then((t=>dP(e,i,t)))}nc._jsonSchemaVersion="firestore/querySnapshot/1.0",nc._jsonSchema={type:rn("string",nc._jsonSchemaVersion),bundleSource:rn("string","QuerySnapshot"),bundleName:rn("string"),bundle:rn("string")};class vE extends lP{constructor(e){super(),this.firestore=e}convertBytes(e){return new lr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,t)}}function dg(i){i=ls(i,rl);const e=ls(i.firestore,Tc),t=uy(e),s=new vE(e);return sP(i._query),K4(t,i._query).then((l=>new nc(e,s,i,l)))}function uP(i,e,t){i=ls(i,Xt);const s=ls(i.firestore,Tc),l=_E(i.converter,e);return vy(s,[uE(Nf(s),"setDoc",i._key,l,i.converter!==null,t).toMutation(i._key,Cr.none())])}function hP(i,e,t,...s){i=ls(i,Xt);const l=ls(i.firestore,Tc),h=Nf(l);let f;return f=typeof(e=dn(e))=="string"||e instanceof Sf?tP(h,"updateDoc",i._key,e,t,s):eP(h,"updateDoc",i._key,e),vy(l,[f.toMutation(i._key,Cr.exists(!0))])}function sb(i,e){const t=ls(i.firestore,Tc),s=Ec(i),l=_E(i.converter,e);return vy(t,[uE(Nf(i.firestore),"addDoc",s._key,l,i.converter!==null,{}).toMutation(s._key,Cr.exists(!1))]).then((()=>s))}function vy(i,e){return(function(s,l){const h=new Zs;return s.asyncQueue.enqueueAndForget((async()=>k4(await Z4(s),l,h))),h.promise})(uy(i),e)}function dP(i,e,t){const s=t.docs.get(e._key),l=new vE(i);return new Zo(i,l,e._key,s,new Nu(t.hasPendingWrites,t.fromCache),e.converter)}function fg(){return new dy("serverTimestamp")}(function(e,t=!0){(function(l){_c=l})(gc),ic(new Yo("firestore",((s,{instanceIdentifier:l,options:h})=>{const f=s.getProvider("app").getImmediate(),_=new Tc(new tI(s.getProvider("auth-internal")),new rI(f,s.getProvider("app-check-internal")),(function(b,E){if(!Object.prototype.hasOwnProperty.apply(b.options,["projectId"]))throw new Se(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zu(b.options.projectId,E)})(f,l),f);return h={useFetchStreams:t,...h},_._setSettings(h),_}),"PUBLIC").setMultipleInstances(!0)),eo(ox,lx,e),eo(ox,lx,"esm2020")})();const fP={apiKey:"AIzaSyD106Y2G0g9sVQBjjmXXRicLaQpSGIGA_Q",authDomain:"fruitbunch-f1f23.firebaseapp.com",projectId:"fruitbunch-f1f23",storageBucket:"fruitbunch-f1f23.firebasestorage.app",messagingSenderId:"794545150234",appId:"1:794545150234:web:69f9820a661e0750ce34a3",measurementId:"G-JNY3T9LHLW"},xE=Qb(fP),Sc=Dw(xE),Ws=oE(xE),mP=({children:i})=>{const e=Or(),[t,s]=G.useState(null),[l,h]=G.useState(!0);return G.useEffect(()=>{const f=Sw(Sc,_=>{s(_),h(!1)});return()=>f()},[]),l?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):t?i:d.jsx(kb,{to:"/login",state:{from:e},replace:!0})},pP=({children:i})=>{const[e,t]=G.useState(null),[s,l]=G.useState(!0);return G.useEffect(()=>{const h=Sw(Sc,async f=>{if(!f){t(!1),l(!1);return}const _=Ec(Ws,"admins",f.uid),v=await _y(_);t(v.exists()),l(!1)});return()=>h()},[]),s?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):e?i:d.jsx(kb,{to:"/",replace:!0})},bE=G.createContext(),gP=()=>{const i=localStorage.getItem("cart");return i?JSON.parse(i):{items:[],total:0}},yP=(i,e)=>{switch(e.type){case"ADD_TO_CART":const t=i.items.findIndex(f=>f.id===e.payload.id);if(t>=0){const f=[...i.items];return f[t].quantity+=1,{...i,items:f,total:i.total+e.payload.price}}return{...i,items:[...i.items,{...e.payload,quantity:1}],total:i.total+e.payload.price};case"REMOVE_FROM_CART":const s=i.items.find(f=>f.id===e.payload);return{...i,items:i.items.filter(f=>f.id!==e.payload),total:i.total-s.price*s.quantity};case"UPDATE_QUANTITY":const l=i.items.map(f=>f.id===e.payload.id?(e.payload.quantity-f.quantity,{...f,quantity:e.payload.quantity}):f),h=l.reduce((f,_)=>f+_.price*_.quantity,0);return{...i,items:l,total:h};case"CLEAR_CART":return{items:[],total:0};default:return i}},_P=({children:i})=>{const[e,t]=G.useReducer(yP,void 0,gP);G.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);const s=_=>{t({type:"ADD_TO_CART",payload:_})},l=_=>{t({type:"REMOVE_FROM_CART",payload:_})},h=(_,v)=>{if(v<=0){l(_);return}t({type:"UPDATE_QUANTITY",payload:{id:_,quantity:v}})},f=()=>{t({type:"CLEAR_CART"})};return d.jsx(bE.Provider,{value:{cartItems:e.items,cartTotal:e.total,addToCart:s,removeFromCart:l,updateQuantity:h,clearCart:f},children:i})},jf=()=>{const i=G.useContext(bE);if(!i)throw new Error("useCart must be used within a CartProvider");return i},vP="/fruitbunch/assets/mainlogo-DCHUEAV1.png",xP=()=>{const[i,e]=G.useState(!1),{cartItems:t}=jf(),[s,l]=G.useState(null);G.useEffect(()=>{const f=localStorage.getItem("user");f&&l(JSON.parse(f))},[]);const h=f=>`https://ui-avatars.com/api/?background=43A047&size=130&color=FFF&font-size=0.60&name=${f.charAt(0).toUpperCase()}`;return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"bg-green-800 text-white text-xs lg:text-md py-2",children:d.jsxs("div",{className:"container mx-auto px-4 flex flex-col md:flex-row justify-between items-center",children:[d.jsxs("div",{className:"flex flex-wrap justify-center gap-4 md:gap-6 mb-2 md:mb-0",children:[d.jsxs("span",{className:"flex items-center",children:[d.jsx("i",{className:"fa-solid fa-envelope mr-2"})," fruitbunch.tvm@gmail.com"]}),d.jsxs("span",{className:"flex items-center",children:[d.jsx("i",{className:"fa-solid fa-clock mr-2"})," MON-SAT: 7.30am - 6.00pm"]}),d.jsxs("span",{className:"flex items-center",children:[d.jsx("i",{className:"fa-solid fa-phone mr-2"})," +918807239379"]})]}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsx("a",{href:"#",className:"hover:text-green-200 transition",children:d.jsx("i",{className:"fa-brands fa-instagram"})}),d.jsx("a",{href:"#",className:"hover:text-green-200 transition",children:d.jsx("i",{className:"fa-brands fa-whatsapp"})})]})]})}),d.jsxs("nav",{className:"bg-white shadow-md sticky top-0 z-50",children:[d.jsxs("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[d.jsx(et,{to:"/",className:"flex items-center",children:d.jsx("img",{src:vP,alt:"Fruit Bunch",className:"h-14"})}),d.jsxs("div",{className:"hidden md:flex items-center space-x-5 lg:space-x-8 text-sm lg:text-md",children:[d.jsx(bu,{to:"/",className:({isActive:f})=>`font-medium transition ${f?"text-green-600":"text-gray-700 hover:text-green-600"}`,children:"Home"}),d.jsx(bu,{to:"/subscription",className:({isActive:f})=>`font-medium transition ${f?"text-green-600":"text-gray-700 hover:text-green-600"}`,children:"Fruit Bowl Subscription"}),d.jsx(bu,{to:"/corporate",className:({isActive:f})=>`font-medium transition ${f?"text-green-600":"text-gray-700 hover:text-green-600"}`,children:"Corporate Orders"}),d.jsx(bu,{to:"/about",className:({isActive:f})=>`font-medium transition ${f?"text-green-600":"text-gray-700 hover:text-green-600"}`,children:"About Us"}),d.jsx("div",{className:"flex items-center space-x-4",children:s?d.jsxs(d.Fragment,{children:[d.jsxs(et,{to:"/cart",className:"relative bg-green-100 hover:bg-green-200 text-green-700 px-4 py-2 rounded-md transition flex items-center",children:[d.jsx("i",{className:"fa-solid fa-cart-shopping mr-2"})," Cart",t.length>0&&d.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs",children:t.length})]}),d.jsx(et,{to:"/profile",className:"flex items-center",children:d.jsx("img",{src:h(s.name||"U"),alt:"User Avatar",className:"w-10 h-10 rounded-full"})})]}):d.jsx(et,{to:"/login",className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md transition",children:"Login"})})]}),d.jsx("button",{className:"md:hidden text-gray-700 focus:outline-none",onClick:()=>e(!i),children:d.jsx("i",{className:`fa-solid ${i?"fa-xmark":"fa-bars"} text-xl`})})]}),i&&d.jsx("div",{className:"md:hidden bg-white px-4 pb-4",children:d.jsxs("div",{className:"flex flex-col space-y-3",children:[d.jsx(et,{to:"/",className:"text-gray-700 hover:text-green-600 py-2 transition",children:"Home"}),d.jsx(et,{to:"/subscription",className:"text-gray-700 hover:text-green-600 py-2 transition",children:"Fruit Bowl Subscription"}),d.jsx(et,{to:"/corporate",className:"text-gray-700 hover:text-green-600 py-2 transition",children:"Corporate Orders"}),d.jsx(et,{to:"/about",className:"text-gray-700 hover:text-green-600 py-2 transition",children:"About Us"}),d.jsxs("div",{className:"flex flex-col space-y-2 pt-2 border-t border-gray-200",children:[d.jsx(et,{to:"/login",className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md text-center transition",children:"Login"}),d.jsxs(et,{to:"/cart",className:"relative bg-green-100 hover:bg-green-200 text-green-700 px-4 py-2 rounded-md text-center transition flex items-center justify-center",children:[d.jsx("i",{className:"fa-solid fa-cart-shopping mr-2"})," Cart",t.length>0&&d.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs",children:t.length})]})]})]})})]})]})},bP=()=>d.jsx("footer",{className:"bg-green-900 text-white py-12 px-5 md:px-10 text-xs sm:px-10 lg:text-sm",children:d.jsxs("div",{className:"container mx-auto px-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"quicklink",children:[d.jsx("h2",{className:"text-sm font-bold mb-4 lg:text-xl",children:"Quick Links"}),d.jsxs("div",{className:"flex flex-col space-y-2",children:[d.jsx(et,{to:"/",className:"hover:text-green-300 transition",children:"Home"}),d.jsx(et,{to:"/subscription",className:"hover:text-green-300 transition",children:"Fruit Bowl Subscription"}),d.jsx(et,{to:"/corporate",className:"hover:text-green-300 transition",children:"Corporate Orders"}),d.jsx(et,{to:"/about",className:"hover:text-green-300 transition",children:"About Us"}),d.jsx(et,{to:"/termsandconditions",className:"hover:text-green-300 transition",children:"Terms and Conditions"}),d.jsx(et,{to:"/privacypolicy",className:"hover:text-green-300 transition",children:"Privacy Policy"})]})]}),d.jsxs("div",{className:"footabout",children:[d.jsx("h2",{className:"text-sm font-bold mb-4 lg:text-xl",children:"Subscription Services"}),d.jsxs("div",{className:"flex flex-col space-y-2",children:[d.jsx("p",{children:"Fruit Bowl"}),d.jsx("p",{children:"Diet Platter"}),d.jsx("p",{children:"Salad Bowls"}),d.jsx("p",{children:"Fresh Juice"})]}),d.jsx("div",{className:"mt-4",children:d.jsx("b",{className:"text-green-300",children:"EAT FRESH. STAY HEALTHY. LIVE BETTER!"})})]}),d.jsxs("div",{className:"contact",children:[d.jsx("h2",{className:"text-sm font-bold mb-4 lg:text-xl",children:"Contact Us"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("i",{className:"fa-solid fa-phone w-5 mr-2"}),d.jsx("span",{children:"+918807239379"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("i",{className:"fa-solid fa-envelope w-5 mr-2"}),d.jsx("span",{children:"fruitbunch.tvm@gmail.com"})]}),d.jsxs("div",{className:"flex items-start",children:[d.jsx("i",{className:"fa-solid fa-location-dot w-5 mr-2 mt-1"}),d.jsxs("span",{children:["No:59, sarathambal nagar,",d.jsx("br",{})," Tiruvannamalai,",d.jsx("br",{})," Tamil Nadu 606601"]})]})]})]})]}),d.jsx("div",{className:"border-t border-green-800 mt-8 pt-8 text-center",children:d.jsxs("p",{children:[" ",new Date().getFullYear()," Fruit Bunch. All rights reserved."]})})]})}),wP="/fruitbunch/assets/home-1-DzAgSFnE.png",EP="/fruitbunch/assets/home-2-D3iDtu3z.png",TP="/fruitbunch/assets/backbowl1-CMZS9lr5.png",SP="/fruitbunch/assets/sixfruit-n1UQudVg.jpg",wE="/fruitbunch/assets/homeplan-hNcT9G7U.jpg",AP=()=>{const[i,e]=G.useState(0),t=[EP,wP,TP];return G.useEffect(()=>{const s=setInterval(()=>{e(l=>(l+1)%t.length)},4e3);return()=>clearInterval(s)},[]),G.useEffect(()=>{window.AOS&&window.AOS.init({duration:800,easing:"ease-in-out",once:!0})},[]),d.jsxs("div",{className:"overflow-hidden",children:[d.jsx("section",{className:"bg-gradient-to-r from-green-50 to-green-100 py-12 px-5 md:py-20 md:px-10 relative overflow-hidden",children:d.jsxs("div",{className:"container mx-auto px-4 flex flex-col md:flex-row items-center relative z-10",children:[d.jsxs("div",{className:"md:w-1/2 mb-8 md:mb-0 mr-4",children:[d.jsx("h1",{className:"text-3xl lg:text-5xl font-bold text-gray-800 mb-6","data-aos":"fade-up",children:"Fresh Fruit. No Fuss. Just Bunches of Goodness."}),d.jsx("p",{className:"text-base lg:text-lg text-gray-600 mb-8","data-aos":"fade-up","data-aos-delay":"200",children:"Fruit Bunch delivers clean, ready-to-eat fruit bowls straight to your doorstep. It's the simple, tasty, and healthy choiceevery single day. Subscribe now and stay fresh, always."}),d.jsx(et,{to:"/subscription",className:"inline-block bg-green-600 hover:bg-green-700 text-white font-semibold px-6 py-3 rounded-lg transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-1","data-aos":"zoom-in","data-aos-delay":"400",children:"Enjoy fresh cut fruit daily"})]}),d.jsx("div",{className:"md:w-1/2 flex justify-center",children:d.jsxs("div",{className:"relative w-full max-w-md h-[220px] md:h-[280px] lg:h-[400px] overflow-hidden rounded-lg shadow-xl","data-aos":"fade-left","data-aos-delay":"300",children:[t.map((s,l)=>d.jsx("img",{src:s,alt:"Fresh fruits",className:`absolute top-0 left-0 w-full h-full object-cover transition-opacity duration-1000 ease-in-out ${i===l?"opacity-100":"opacity-0"}`},l)),d.jsx("div",{className:"absolute top-4 right-4 bg-white px-3 py-1 rounded-full shadow-md text-sm sm:text-base animate-bounce",children:d.jsx("span",{className:"text-green-600 font-bold",children:" Fresh!"})})]})})]})}),d.jsx("section",{className:"py-16 px-5 bg-white",children:d.jsx("div",{className:"container mx-auto px-4",children:d.jsxs("div",{className:"flex flex-col md:flex-row items-center md:px-10",children:[d.jsx("div",{className:"md:w-1/2 mb-8 md:mb-0","data-aos":"fade-right","data-aos-delay":"200",children:d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:SP,alt:"Variety of fruits",className:"w-full max-w-md rounded-lg shadow-md mx-auto transform transition-transform duration-700 hover:scale-105"}),d.jsx("div",{className:"absolute -bottom-4 -left-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-md text-sm sm:text-base",children:d.jsx("span",{className:"font-bold",children:"6 Fruits Daily!"})})]})}),d.jsx("div",{className:"md:w-1/2 md:pl-12",children:d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[{title:"Tropical Refresh: Summer Care Fruit Pack",desc:"Cool down with this hydrating mix of nature's most refreshing fruits, perfect for beating the summer heat.",icon:""},{title:"Shield Boost: Immuno Care Fruit Pack",desc:"Strengthen your body's natural defenses with this immunity-boosting blend, rich in vitamin C and antioxidants.",icon:""},{title:"Nurture Nest: Mother Care Fresh Fruit Pack",desc:"Carefully selected to support maternal health, rich in iron, folate, and essential nutrients.",icon:""},{title:"Glow Mix: Skin & Hair Care Pack",desc:"Let your beauty shine from within with this antioxidant-rich blend for clear skin and healthy hair.",icon:""}].map((s,l)=>d.jsxs("div",{className:"bg-green-50 p-6 rounded-lg transition-all duration-300 hover:shadow-lg hover:bg-green-100 transform hover:-translate-y-1","data-aos":"fade-up","data-aos-delay":l*200,children:[d.jsx("div",{className:"flex items-center mb-3",children:d.jsx("h3",{className:"font-bold text-sm lg:text-xl text-green-800",children:s.title})}),d.jsx("p",{className:"text-xs lg:text-lg text-gray-600",children:s.desc})]},l))})})]})})}),d.jsx("section",{className:"py-16 px-5 md:px-10 bg-green-50 relative overflow-hidden",children:d.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[d.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center text-gray-800 mb-12","data-aos":"fade-up",children:"Best Seller"}),d.jsxs("div",{className:"flex flex-col md:flex-row items-center bg-white rounded-xl shadow-lg overflow-hidden transform transition-all duration-500 hover:shadow-xl","data-aos":"zoom-in",children:[d.jsxs("div",{className:"md:w-1/2 p-6 sm:p-8",children:[d.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-green-700 mb-4","data-aos":"fade-right",children:"6 Days Six Different Variety of Diet Platter"}),d.jsx("ul",{className:"space-y-3 mb-6",children:["Amla 5pcs. Steamed broccoli 150gm Corn+Carrot & Cucumber, Sprouts, Dates + Nuts.","Papaya, Pineapple, Steamed Zucchini 150g + Green Peas (Bell Pepper Onion +Tomato + Sweet corn), Salad Sprouts, Nuts + Seeds.","Dragon fruit Apple, Steamed cabbage & beans 150g + Black eyed bean + Beetroot + Carrot, Sprouts Dates Seeds."].map((s,l)=>d.jsxs("li",{className:"flex items-start transition-transform duration-300 hover:translate-x-2","data-aos":"fade-up","data-aos-delay":l*150,children:[d.jsx("span",{className:"text-green-500 mr-2",children:""}),d.jsx("span",{className:"text-sm lg:text-lg",children:s})]},l))}),d.jsx(et,{to:"/subscription",className:"inline-block bg-green-600 hover:bg-green-700 text-white font-semibold px-6 py-3 md:px-4 md:py-2 rounded-lg transition-all duration-300 transform hover:-translate-y-1 hover:shadow-md","data-aos":"zoom-in",children:"View All Plans"})]}),d.jsx("div",{className:"md:w-1/2","data-aos":"fade-left","data-aos-delay":"200",children:d.jsxs("div",{className:"bg-green-100 p-8 text-center h-full flex flex-col justify-center",children:[d.jsxs("div",{className:"relative inline-block",children:[d.jsx("img",{src:wE,alt:"Balanced Diet Platter",className:"w-full max-w-xs mx-auto rounded-lg mb-4 transform transition-transform duration-700 hover:scale-105"}),d.jsx("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"Popular!"})]}),d.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"BALANCED DIET PLATTER"}),d.jsx("p",{className:"text-xl sm:text-2xl font-bold text-green-700 mb-2",children:"3,499/- per month"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Free delivery"}),d.jsx("div",{className:"flex justify-center items-center text-yellow-400 mb-4",children:[...Array(5)].map((s,l)=>d.jsx("svg",{className:"w-5 h-5 fill-current",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})},l))}),d.jsx(et,{to:"/subscription",className:"inline-block bg-green-600 hover:bg-green-700 text-white font-semibold px-6 py-2 rounded transition-all duration-300 transform hover:-translate-y-1 hover:shadow-md","data-aos":"zoom-in","data-aos-delay":"200",children:"Subscribe Now"})]})})]})]})})]})},EE="/fruitbunch/assets/basicplan-Bm8xxGeT.jpg",mg="/fruitbunch/assets/primeplan-scfj7ntK.jpg",TE="/fruitbunch/assets/fruit-7-B0YHmhe4.jpg",NP="/fruitbunch/assets/dietplan-DvRyX6Rm.jpg",CP="/fruitbunch/assets/juice2-CHOH3c0W.jpg",RP="/fruitbunch/assets/kidsplan-BmS3QCpZ.jpg",IP="/fruitbunch/assets/freshjuice-DH0t0v_N.jpg",jP="/fruitbunch/assets/butter-DYvvPtp9.jpg",PP="/fruitbunch/assets/yogurt-B2y-BBUE.jpg",LP=()=>{const{addToCart:i,cartItems:e}=jf(),[t,s]=G.useState({}),l=tl(),h=N=>{s(I=>({...I,[N]:!I[N]}))};G.useEffect(()=>{window.AOS&&window.AOS.init({duration:800,easing:"ease-in-out",once:!0})},[]);const f=[{id:1,name:"Basic plan",price:2499,image:EE,description:"Apple, Orange, Papaya, Pineapple",moreInfo:"Grapes, Guava, Water melon, Fig, Pears, chikku",type:"plan"},{id:2,name:"Premium plan",price:2999,image:mg,description:"Apple, Orange, Dragon fruits, Pineapple",moreInfo:"Grapes, Strawberry, Blueberry/cherry, Kiwi, Pears",type:"plan"},{id:3,name:"Diabetic plan",price:2499,image:TE,description:"Amla, Guava, Kiwi, Fig",moreInfo:"Grapes, Pineapple, Kiwi, Orange",type:"plan"},{id:4,name:"Balanced Diet",price:3499,image:NP,description:"2 Fruit, 2 Vegetables, Dry Fruit",moreInfo:"Nuts, Sprouts, Steamed Vegetables",type:"plan"},{id:5,name:"Salad plan",price:2499,image:CP,description:"Nutrients, Quality Proteins, Good fat",moreInfo:"Healthy, Probiotic, Whole carb, antioxidants",type:"plan"},{id:6,name:"Kids fruit bowl",price:1199,image:RP,description:"Corn, Cucumber, Nuts",moreInfo:"Grapes, Strawberry, Blueberry/cherry, Kiwi, Pears",type:"plan"}],_=[{id:7,name:"Fresh Juice",price:699,image:IP,type:"drink"},{id:8,name:"Butter milk",price:599,image:jP,type:"drink"},{id:9,name:"Greek Yogurt",price:40,image:PP,type:"drink",isDaily:!0}],v=e.some(N=>N.type==="plan"),b=N=>{if(N.type==="drink"&&!v){alert("Please subscribe to a plan before adding drinks!");return}i(N),l("/cart")},E=N=>{if(N.type==="drink"&&!v){alert("Please subscribe to a plan before adding drinks!");return}i(N),l("/checkout")};return d.jsxs("div",{className:"container mx-auto px-10 py-12 overflow-hidden relative",children:[d.jsx("div",{className:"absolute -top-20 -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),d.jsx("div",{className:"absolute top-40 -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),d.jsx("div",{className:"absolute -bottom-20 left-40 w-72 h-72 bg-teal-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-4000"}),d.jsx("h1",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-center text-gray-800 mb-12","data-aos":"fade-up",children:"Choose Your Subscription"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:f.map(N=>d.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition","data-aos":"fade-up",children:[d.jsx("img",{src:N.image,alt:N.name,className:"w-full h-48 object-cover"}),d.jsxs("div",{className:"p-6",children:[d.jsx("h3",{className:"text-xl font-bold text-green-800 mb-2",children:N.name}),d.jsxs("p",{className:"text-2xl font-bold text-green-600 mb-4",children:["",N.price,"/- per month"]}),d.jsxs("p",{className:"text-gray-600 mb-3 text-sm",children:[N.description.length>20?N.description.slice(0,20)+"...":N.description,d.jsx("button",{onClick:()=>h(N.id),className:"ml-2 text-green-600 hover:text-green-800 font-semibold",children:t[N.id]?"Less":"More"})]}),t[N.id]&&d.jsx("p",{className:"text-gray-600 mb-4",children:N.moreInfo}),d.jsxs("div",{className:"flex space-x-3",children:[d.jsx("button",{onClick:()=>b(N),className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded transition",children:"Add to Cart"}),d.jsx("button",{onClick:()=>E(N),className:"flex-1 bg-green-100 hover:bg-green-200 text-green-700 py-2 px-4 rounded transition",children:"Subscribe"})]})]})]},N.id))}),d.jsxs("div",{className:"mb-16",children:[d.jsx("div",{className:"absolute -top-200 -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),d.jsx("div",{className:"absolute top-640 -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),d.jsx("h2",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-center text-gray-800 mb-8","data-aos":"fade-up",children:"Add On Drinks"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:_.map(N=>d.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition","data-aos":"fade-up",children:[d.jsx("img",{src:N.image,alt:N.name,className:"w-full h-48 object-cover"}),d.jsxs("div",{className:"p-6",children:[d.jsx("h3",{className:"text-xl font-bold text-green-800 mb-2",children:N.name}),d.jsxs("p",{className:"text-lg lg:text-2xl font-bold text-green-600 mb-4",children:["",N.price,"/- ",N.isDaily?"per day":"per month"]}),d.jsxs("div",{className:"flex lg:space-x-3 md:flex-col lg:flex-row gap-3",children:[d.jsx("button",{onClick:()=>b(N),className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded transition",children:"Add to Cart"}),d.jsx("button",{onClick:()=>E(N),className:"flex-1 bg-green-100 hover:bg-green-200 text-green-700 py-2 px-4 rounded transition",children:"Subscribe"})]})]})]},N.id))})]})]})},OP=()=>{const[i,e]=G.useState({name:"",email:"",phone:"",message:""}),[t,s]=G.useState({name:"",email:"",phone:"",message:""}),[l,h]=G.useState(0),f=[mg,wE];G.useEffect(()=>{const N=setInterval(()=>{h(I=>(I+1)%f.length)},4e3);return()=>clearInterval(N)},[]);const _=N=>{const{name:I,value:Z}=N.target;e({...i,[I]:Z}),t[I]&&s({...t,[I]:""})},v=()=>{let N=!0;const I={...t};return i.name.trim()||(I.name="Name is required",N=!1),i.email.trim()?/\S+@\S+\.\S+/.test(i.email)||(I.email="Email is invalid",N=!1):(I.email="Email is required",N=!1),i.phone.trim()||(I.phone="Phone number is required",N=!1),i.message.trim()||(I.message="Message is required",N=!1),s(I),N},b=N=>{N.preventDefault(),v()&&(console.log("Form submitted:",i),alert("Thank you for your message! We will contact you soon."),e({name:"",email:"",phone:"",message:""}))},E=()=>{const N="918807239379",Z=encodeURIComponent("I'm interested in corporate orders for Fruit Bunch"),U=`https://wa.me/${N}?text=${Z}`;window.open(U,"_blank")};return d.jsxs("div",{className:"container mx-auto px-10 py-12 overflow-hidden relative",children:[d.jsx("div",{className:"absolute -top-20 -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),d.jsx("div",{className:"absolute top-40 -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),d.jsx("div",{className:"absolute top-[750px] -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),d.jsx("div",{className:"absolute top-[1400px] -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),d.jsx("div",{className:"absolute top-[2100px] -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),d.jsx("div",{className:"absolute top-[2100px] -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),d.jsxs("section",{className:"flex flex-col lg:flex-row items-center mb-20 gap-10",children:[d.jsx("div",{className:"lg:w-1/2",children:d.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow transform transition-all duration-500 hover:shadow-xl w-full max-w-xl aspect-[4/4]",children:[f.map((N,I)=>d.jsx("img",{src:N,alt:"Corporate Orders",className:`absolute inset-0 w-full h-full object-cover rounded-2xl transition-opacity duration-1000 ease-in-out ${l===I?"opacity-100":"opacity-0"}`},I)),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent rounded-2xl"})]})}),d.jsxs("div",{className:"lg:w-1/2",children:[d.jsxs("h1",{className:"text-2xl md:text-4xl font-bold text-gray-800 mb-6 leading-tight",children:["Elevate Workplace Wellness with"," ",d.jsx("span",{className:"text-green-600",children:"Fresh Fruit Delivery"})]}),d.jsxs("div",{className:"space-y-4 mb-8",children:[d.jsxs("div",{className:"flex items-center justify-start",children:[d.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3 mt-1",children:d.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),d.jsx("p",{className:"text-sm lg:text-lg text-gray-600",children:"Combat afternoon slumps with natural energy boosts"})]}),d.jsxs("div",{className:"flex items-center justify-start",children:[d.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3 mt-1",children:d.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),d.jsx("p",{className:"text-sm lg:text-lg text-gray-600",children:"Reduce sick days with immune-boosting nutrition"})]}),d.jsxs("div",{className:"flex items-center justify-start",children:[d.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3 mt-1",children:d.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),d.jsx("p",{className:"text-sm lg:text-lg text-gray-600",children:"Increase productivity with healthier, happier teams"})]})]}),d.jsxs("div",{className:"mb-8 p-6 bg-green-50 rounded-2xl border-l-4 border-green-500",children:[d.jsx("h2",{className:"text-lg lg:text-xl font-semibold text-green-800 mb-2",children:"Ready to transform your workplace?"}),d.jsx("p",{className:"text-lg lg:text-xl font-medium text-gray-700",children:"Call us: +918807239379"})]}),d.jsxs("button",{onClick:E,className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-4 px-8 rounded-xl transition-all duration-300 shadow-lg hover:shadow-md transform hover:-translate-y-1 flex items-center justify-center",children:[d.jsx("svg",{className:"w-6 h-6 mr-3",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.864 3.49"})}),"Message us on WhatsApp"]})]})]}),d.jsxs("section",{className:"mb-20",children:[d.jsxs("div",{className:"text-center mb-14",children:[d.jsx("h2",{className:"text-2xl md:text-4xl font-bold text-gray-800 mb-4",children:"Corporate Wellness Plans"}),d.jsx("p",{className:"text-lg lg:text-xl text-gray-600 max-w-3xl mx-auto",children:"Tailored fruit delivery programs designed to boost employee health and productivity"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-lg transition-all duration-300 hover:shadow-xl hover:-translate-y-2",children:[d.jsxs("div",{className:"relative overflow-hidden h-64",children:[d.jsx("img",{src:EE,alt:"Basic Plan",className:"w-full h-full object-cover transition-transform duration-700 hover:scale-110"}),d.jsx("div",{className:"absolute top-4 right-4 bg-green-500 text-white py-1 px-3 rounded-full text-sm font-semibold",children:"Most Popular"})]}),d.jsxs("div",{className:"p-6",children:[d.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Essential Wellness"}),d.jsx("p",{className:"text-gray-600 mb-4 text-sm lg:text-lg",children:"Perfect for small teams looking to incorporate healthy habits"}),d.jsxs("ul",{className:"space-y-2 mb-6",children:[d.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[d.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),d.jsx("span",{children:"3 fruit varieties daily"})]}),d.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[d.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),d.jsx("span",{children:"Weekly delivery"})]}),d.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[d.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),d.jsx("span",{children:"Seasonal selections"})]})]}),d.jsx("button",{className:"w-full bg-green-100 hover:bg-green-200 text-green-700 font-semibold py-3 rounded-lg transition-colors duration-300",children:"Learn More"})]})]}),d.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-lg transition-all duration-300 hover:shadow-xl hover:-translate-y-2",children:[d.jsx("div",{className:"relative overflow-hidden h-64",children:d.jsx("img",{src:mg,alt:"Premium Plan",className:"w-full h-full object-cover transition-transform duration-700 hover:scale-110"})}),d.jsxs("div",{className:"p-6",children:[d.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Premium Refresh"}),d.jsx("p",{className:"text-gray-600 mb-4 text-sm lg:text-lg",children:"Comprehensive nutrition for medium to large organizations"}),d.jsxs("ul",{className:"space-y-2 mb-6",children:[d.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[d.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),d.jsx("span",{children:"5+ premium fruit varieties"})]}),d.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[d.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),d.jsx("span",{children:"Twice weekly delivery"})]}),d.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[d.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),d.jsx("span",{children:"Organic options available"})]})]}),d.jsx("button",{className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 rounded-lg transition-colors duration-300",children:"Learn More"})]})]}),d.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-lg transition-all duration-300 hover:shadow-xl hover:-translate-y-2",children:[d.jsx("div",{className:"relative overflow-hidden h-64",children:d.jsx("img",{src:TE,alt:"Diet Plan",className:"w-full h-full object-cover transition-transform duration-700 hover:scale-110"})}),d.jsxs("div",{className:"p-6",children:[d.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Executive Wellness"}),d.jsx("p",{className:"text-gray-600 mb-4 text-sm lg:text-lg",children:"Premium customized programs for health-conscious organizations"}),d.jsxs("ul",{className:"space-y-2 mb-6",children:[d.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[d.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),d.jsx("span",{children:"Customized fruit selection"})]}),d.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[d.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),d.jsx("span",{children:"Daily delivery options"})]}),d.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[d.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),d.jsx("span",{children:"Nutritionist consultation included"})]})]}),d.jsx("button",{className:"w-full bg-green-100 hover:bg-green-200 text-green-700 font-semibold py-3 rounded-lg transition-colors duration-300",children:"Learn More"})]})]})]})]}),d.jsx("section",{className:"mb-20 bg-gradient-to-r from-green-50 to-emerald-50 py-14 px-4 rounded-3xl",children:d.jsxs("div",{className:"max-w-5xl mx-auto",children:[d.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center text-gray-800 mb-12",children:"Why Companies Choose Us"}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"92%"}),d.jsx("p",{className:"text-gray-600 text-xs lg:text-sm",children:"Employee satisfaction"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"350+"}),d.jsx("p",{className:"text-gray-600 text-xs lg:text-sm",children:"Corporate clients"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"10h"}),d.jsx("p",{className:"text-gray-600 text-xs lg:text-sm",children:"Delivery time"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"100%"}),d.jsx("p",{className:"text-gray-600 text-xs lg:text-sm",children:"Organic guarantee"})]})]})]})}),d.jsx("section",{className:"bg-white rounded-3xl p-8 shadow-lg",children:d.jsxs("div",{className:"max-w-3xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:"Get Your Custom Quote"}),d.jsx("p",{className:"text-xl text-gray-600",children:"Tell us about your company's needs and we'll prepare a tailored proposal"})]}),d.jsxs("form",{onSubmit:b,className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("input",{type:"text",name:"name",placeholder:"Your Name",value:i.name,onChange:_,className:`w-full px-5 py-4 border ${t.name?"border-red-500":"border-gray-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 transition`,required:!0}),t.name&&d.jsx("p",{className:"mt-2 text-red-500 text-sm",children:t.name})]}),d.jsxs("div",{children:[d.jsx("input",{type:"email",name:"email",placeholder:"Work Email",value:i.email,onChange:_,className:`w-full px-5 py-4 border ${t.email?"border-red-500":"border-gray-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 transition`,required:!0}),t.email&&d.jsx("p",{className:"mt-2 text-red-500 text-sm",children:t.email})]})]}),d.jsxs("div",{children:[d.jsx("input",{type:"tel",name:"phone",placeholder:"Phone Number",value:i.phone,onChange:_,className:`w-full px-5 py-4 border ${t.phone?"border-red-500":"border-gray-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 transition`,required:!0}),t.phone&&d.jsx("p",{className:"mt-2 text-red-500 text-sm",children:t.phone})]}),d.jsxs("div",{children:[d.jsx("textarea",{name:"message",placeholder:"Tell us about your company size and fruit preferences...",rows:"5",value:i.message,onChange:_,className:`w-full px-5 py-4 border ${t.message?"border-red-500":"border-gray-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 transition`,required:!0}),t.message&&d.jsx("p",{className:"mt-2 text-red-500 text-sm",children:t.message})]}),d.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-semibold py-4 px-6 rounded-xl transition-all duration-300 shadow-lg hover:shadow-md",children:"Request Custom Proposal"})]})]})})]})},kP="/fruitbunch/assets/about-3-DaCk93dU.jpg",DP="/fruitbunch/assets/aboutbackimgg-BkiEa4ds.jpg",MP=()=>d.jsxs("div",{className:"container mx-auto px-10 py-12",children:[d.jsxs("section",{className:"flex flex-col lg:flex-row items-center justify-between gap-10 mb-20",children:[d.jsxs("div",{className:"lg:w-1/2 order-2 lg:order-1",children:[d.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-gray-800 mb-6 leading-tight",children:["Nourishing Lives Through ",d.jsx("span",{className:"text-green-600",children:"Wholesome Eating"})]}),d.jsxs("div",{className:"space-y-4 mb-8",children:[d.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:"At Fruit Bunch, we specialize in crafting healthy, ready-to-eat meals packed with essential nutrients to fuel your body and mind."}),d.jsx("p",{className:"text-lg font-semibold text-gray-700",children:"Our offerings include:"}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[d.jsxs("div",{className:"flex items-center bg-green-50 rounded-lg p-3",children:[d.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:d.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),d.jsx("span",{className:"text-gray-700",children:"Fruit Bowls"})]}),d.jsxs("div",{className:"flex items-center bg-green-50 rounded-lg p-3",children:[d.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:d.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),d.jsx("span",{className:"text-gray-700",children:"Diet Platters"})]}),d.jsxs("div",{className:"flex items-center bg-green-50 rounded-lg p-3",children:[d.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:d.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),d.jsx("span",{className:"text-gray-700",children:"Salad Bowls"})]}),d.jsxs("div",{className:"flex items-center bg-green-50 rounded-lg p-3",children:[d.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:d.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),d.jsx("span",{className:"text-gray-700",children:"Fresh Juices"})]})]})]}),d.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-2xl border-l-4 border-green-500",children:[d.jsx("h2",{className:"text-2xl font-bold text-green-800 mb-2",children:"Our Goal is Simple"}),d.jsx("p",{className:"text-lg text-gray-700",children:"To make healthy eating"}),d.jsx("p",{className:"text-2xl font-bold text-green-700 mt-1",children:"Easy, Affordable and Delicious!"})]})]}),d.jsx("div",{className:"lg:w-1/2 order-1 lg:order-2",children:d.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl w-full max-w-xl aspect-[4/4]",children:[d.jsx("img",{src:kP,alt:"About Fruit Bunch",className:"w-full h-full object-cover rounded-2xl transition-transform duration-700 hover:scale-105"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent rounded-2xl"})]})})]}),d.jsx("section",{className:"bg-gradient-to-r from-green-100 to-emerald-100 rounded-3xl p-10 shadow-lg mb-20",children:d.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[d.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-6",children:"Our Philosophy"}),d.jsx("div",{className:"text-2xl text-green-700 font-semibold mb-8",children:"EAT FRESH. STAY HEALTHY. LIVE BETTER!"}),d.jsxs("div",{className:"space-y-6 text-lg text-gray-700 leading-relaxed",children:[d.jsx("p",{children:"At Fruit Bunch, we believe in the transformative power of healthy eating. Our mission is to provide nutrient-rich, well-balanced meals that fuel your body and mind for optimal performance."}),d.jsx("p",{children:"We meticulously source the freshest ingredients and craft them into wholesome platters, salads, and drinks that cater to a healthy and active lifestyle. Each item on our menu is designed to deliver maximum nutritional value without compromising on taste."}),d.jsx("p",{children:"Whether you're looking for a balanced diet, nutritious salad bowl, or refreshing add-ons, our carefully curated menu ensures you get the perfect combination of taste, health, and convenience."})]})]})}),d.jsxs("section",{className:"mb-20",children:[d.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center text-gray-800 mb-14",children:"What Drives Us"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 text-center",children:[d.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-5",children:d.jsxs("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 15.546c-.523 0-1.046.151-1.5.454a2.704 2.704 0 01-3 0 2.704 2.704 0 00-3 0 2.704 2.704 0 01-3 0 2.704 2.704 0 00-3 0 2.704 2.704 0 01-3 0A1.5 1.5 0 013 15.546V5a2 2 0 012-2h14a2 2 0 012 2v10.546z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v4l2 2"})]})}),d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Quality & Freshness"}),d.jsx("p",{className:"text-gray-600",children:"We source only the freshest, highest-quality ingredients for all our products, ensuring maximum nutritional value and taste."})]}),d.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 text-center",children:[d.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-5",children:d.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Community Health"}),d.jsx("p",{className:"text-gray-600",children:"We're committed to improving community health by making nutritious eating accessible, affordable, and enjoyable for everyone."})]}),d.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 text-center",children:[d.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-5",children:d.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Sustainability"}),d.jsx("p",{className:"text-gray-600",children:"We prioritize environmentally responsible practices, from sourcing to packaging, to minimize our ecological footprint."})]})]})]}),d.jsxs("section",{className:"mb-20",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:"Visit Us"}),d.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Come experience the freshness at our location. We'd love to welcome you!"})]}),d.jsx("div",{className:"rounded-2xl overflow-hidden shadow-xl",children:d.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3899.0586626904005!2d79.0956933!3d12.244307300000001!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bacc17e8a517c7f%3A0xc7eb43ae80e2cef2!2sFRUIT%20BUNCH!5e0!3m2!1sen!2sin!4v1758553288639!5m2!1sen!2sin",width:"100%",height:"450",style:{border:0},allowFullScreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade",title:"Fruit Bunch Location",className:"rounded-2xl"})}),d.jsxs("div",{className:"mt-8 bg-white p-6 rounded-2xl shadow-lg max-w-2xl mx-auto",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Store Information"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"flex items-start",children:[d.jsxs("svg",{className:"w-5 h-5 text-green-600 mt-1 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-700",children:"Address"}),d.jsx("p",{className:"text-gray-600",children:"No:59, sarathambal nagar, Tiruvannamalai, Tamil Nadu 606601"})]})]}),d.jsxs("div",{className:"flex items-start",children:[d.jsx("svg",{className:"w-5 h-5 text-green-600 mt-1 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-700",children:"Opening Hours"}),d.jsx("p",{className:"text-gray-600",children:"Mon-Sat: 7:30 AM - 6:00 PM"})]})]})]})]})]}),d.jsxs("section",{className:"relative rounded-2xl overflow-hidden shadow-xl mb-16",children:[d.jsx("img",{src:DP,alt:"Fresh fruits background",className:"w-full h-96 object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center",children:d.jsxs("div",{className:"text-center p-6 max-w-3xl",children:[d.jsx("h3",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Fresh. Healthy. Delivered."}),d.jsx("p",{className:"text-xl text-white mb-8 opacity-90",children:"Experience the difference that fresh, nutrient-packed meals can make in your life."}),d.jsx(et,{to:"/subscription",className:"bg-white text-green-700 font-semibold py-3 px-8 rounded-xl hover:bg-green-50 transition-colors duration-300 shadow-lg",children:"Explore Our Menu"})]})})]}),d.jsx("section",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-3xl p-8 shadow-lg",children:d.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[d.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-4",children:"Stay Updated"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Subscribe to our newsletter for health tips, new menu items, and special offers."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 max-w-md mx-auto",children:[d.jsx("input",{type:"email",placeholder:"Your email address",className:"flex-grow px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-green-500"}),d.jsx("button",{className:"bg-green-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors duration-300 whitespace-nowrap",children:"Subscribe"})]})]})})]}),VP=()=>{const i=tl(),t=Or().state?.from?.pathname||"/",[s,l]=G.useState({email:"",password:""}),[h,f]=G.useState(!1),[_,v]=G.useState(!1),[b,E]=G.useState(""),N=U=>{l({...s,[U.target.name]:U.target.value})},I=async U=>{U.preventDefault();try{f(!0),E("");const H=(await OC(Sc,s.email,s.password)).user,oe=Ec(Ws,"users",H.uid),le=await _y(oe);if(le.exists()){const ce=le.data();localStorage.setItem("user",JSON.stringify({uid:H.uid,email:ce.email,name:ce.name,phone:ce.phone})),console.log("User profile:",ce)}else console.log("No user profile found in Firestore!");f(!1),i(t,{replace:!0})}catch(K){console.error("Login error:",K.message),E("Invalid email or password"),f(!1)}},Z=()=>{v(!0),setTimeout(()=>{v(!1)},3e3)};return d.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-100 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[d.jsx("div",{className:"absolute -top-20 -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),d.jsx("div",{className:"absolute top-40 -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),d.jsx("div",{className:"absolute -bottom-20 left-40 w-72 h-72 bg-teal-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-4000"}),d.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-2xl shadow-lg z-10 transform transition-all duration-500 hover:shadow-xl",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"mx-auto h-16 w-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),d.jsx("h2",{className:"mt-2 text-3xl font-bold text-gray-900",children:"Welcome back"}),d.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",d.jsx(et,{to:"/signup",className:"font-medium text-green-600 hover:text-green-500 transition-colors duration-300",children:"create a new account"})]})]}),b&&d.jsx("p",{className:"text-red-500 text-sm text-center",children:b}),d.jsxs("form",{className:"mt-8 space-y-6",onSubmit:I,children:[d.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),d.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Email address",value:s.email,onChange:N})]}),d.jsxs("div",{className:"relative",children:[d.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),d.jsx("input",{id:"password",name:"password",type:_?"text":"password",autoComplete:"current-password",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Password",value:s.password,onChange:N}),d.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:Z,children:_?d.jsx("i",{className:"fa-solid fa-eye-slash text-green-500 text-lg"}):d.jsx("i",{className:"fa-solid fa-eye text-green-500 text-lg"})})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded transition duration-150"}),d.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),d.jsx("div",{className:"text-sm",children:d.jsx(et,{to:"/forgot-password",className:"font-medium text-green-600 hover:text-green-500 transition-colors duration-300",children:"Forgot your password?"})})]}),d.jsx("div",{children:d.jsxs("button",{type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",disabled:h,children:[h?d.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,h?"Signing in...":"Sign in"]})})]})]})]})},UP=()=>{const i=tl(),[e,t]=G.useState({name:"",email:"",password:"",confirmPassword:"",phone:""}),[s,l]=G.useState(!1),[h,f]=G.useState(""),[_,v]=G.useState(!1),[b,E]=G.useState(!1),N=K=>{t({...e,[K.target.name]:K.target.value})},I=async K=>{if(K.preventDefault(),e.password!==e.confirmPassword){f("Passwords do not match!");return}try{l(!0),f("");const oe=(await LC(Sc,e.email,e.password)).user;await DC(oe,{displayName:e.name}),await uP(Ec(Ws,"users",oe.uid),{uid:oe.uid,name:e.name,email:e.email,phone:e.phone,createdAt:fg()}),console.log("User created & saved:",oe.uid),l(!1),i("/login")}catch(H){console.error("Signup error:",H.message),f(H.message),l(!1)}},Z=()=>{v(!0),setTimeout(()=>{v(!1)},3e3)},U=()=>{E(!0),setTimeout(()=>{E(!1)},3e3)};return d.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-100 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[d.jsx("div",{className:"absolute -top-20 -right-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),d.jsx("div",{className:"absolute top-40 -left-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),d.jsx("div",{className:"absolute -bottom-20 right-40 w-72 h-72 bg-teal-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-4000"}),d.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-2xl shadow-lg z-10 transform transition-all duration-500 hover:shadow-xl",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"mx-auto h-16 w-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})}),d.jsx("h2",{className:"mt-2 text-3xl font-bold text-gray-900",children:"Create your account"}),d.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",d.jsx(et,{to:"/login",className:"font-medium text-green-600 hover:text-green-500 transition-colors duration-300",children:"sign in to your existing account"})]})]}),h&&d.jsx("p",{className:"text-red-500 text-sm mb-2",children:h}),d.jsxs("form",{className:"mt-8 space-y-6",onSubmit:I,children:[d.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("label",{htmlFor:"name",className:"sr-only",children:"Full Name"}),d.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Full Name",value:e.name,onChange:N}),d.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none opacity-0 peer-focus:opacity-100 transition-opacity duration-300",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]}),d.jsxs("div",{className:"relative",children:[d.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),d.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Email address",value:e.email,onChange:N}),d.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none opacity-0 peer-focus:opacity-100 transition-opacity duration-300",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]}),d.jsxs("div",{className:"relative",children:[d.jsx("label",{htmlFor:"phone",className:"sr-only",children:"Phone Number"}),d.jsx("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Phone Number",value:e.phone,onChange:N}),d.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none opacity-0 peer-focus:opacity-100 transition-opacity duration-300",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})})]}),d.jsxs("div",{className:"relative",children:[d.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),d.jsx("input",{id:"password",name:"password",type:_?"text":"password",autoComplete:"new-password",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Password",value:e.password,onChange:N}),d.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:Z,children:_?d.jsx("i",{className:"fa-solid fa-eye text-green-500 text-lg"}):d.jsx("i",{className:"fa-solid fa-eye-slash text-green-500 text-lg"})})]}),d.jsxs("div",{className:"relative",children:[d.jsx("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Confirm Password"}),d.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:b?"text":"password",autoComplete:"new-password",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Confirm Password",value:e.confirmPassword,onChange:N}),d.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:U,children:b?d.jsx("i",{className:"fa-solid fa-eye text-green-500 text-lg"}):d.jsx("i",{className:"fa-solid fa-eye-slash text-green-500 text-lg"})})]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"terms",name:"terms",type:"checkbox",className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded transition duration-150",required:!0}),d.jsxs("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-900",children:["I agree to the ",d.jsx("a",{href:"/termsandconditions",className:"text-green-600 hover:text-green-500 transition-colors duration-300",children:"Terms and Conditions"})]})]}),d.jsx("div",{children:d.jsxs("button",{type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",disabled:s,children:[s?d.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,s?"Creating account...":"Create Account"]})})]})]})]})},zP=()=>{const{cartItems:i,updateQuantity:e,removeFromCart:t,cartTotal:s,clearCart:l}=jf(),[h,f]=G.useState(!1),_=(E,N)=>{N<1||e(E,N)},v=E=>{t(E)},b=()=>{f(!0),setTimeout(()=>{f(!1)},1e3)};return i.length===0?d.jsx("div",{className:"container mx-auto px-4 py-12",children:d.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[d.jsx("div",{className:"text-6xl mb-6",children:""}),d.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Your cart is empty"}),d.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Looks like you haven't added any items to your cart yet."}),d.jsx(et,{to:"/subscription",className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-8 rounded-lg transition",children:"Continue Shopping"})]})}):d.jsxs("div",{className:"container mx-auto px-4 py-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-center text-gray-800 mb-8",children:"Your Cart"}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsx("div",{className:"lg:col-span-2",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:["Cart Items (",i.length,")"]}),d.jsx("div",{className:"space-y-6",children:i.map(E=>d.jsxs("div",{className:"flex items-center border-b border-gray-100 pb-6",children:[d.jsx("img",{src:E.image,alt:E.name,className:"w-20 h-20 object-cover rounded-lg"}),d.jsxs("div",{className:"ml-4 flex-grow",children:[d.jsx("h3",{className:"font-medium text-gray-800 text-lg",children:E.name}),d.jsxs("p",{className:"text-green-600 font-bold",children:["",E.price]})]}),d.jsxs("div",{className:"flex items-center ml-4",children:[d.jsx("button",{onClick:()=>_(E.id,E.quantity-1),className:"w-8 h-8 flex items-center justify-center bg-gray-100 rounded-l-md",children:"-"}),d.jsx("span",{className:"w-10 h-8 flex items-center justify-center bg-gray-50",children:E.quantity}),d.jsx("button",{onClick:()=>_(E.id,E.quantity+1),className:"w-8 h-8 flex items-center justify-center bg-gray-100 rounded-r-md",children:"+"})]}),d.jsx("div",{className:"ml-6",children:d.jsxs("p",{className:"font-bold text-green-600",children:["",E.price*E.quantity]})}),d.jsx("button",{onClick:()=>v(E.id),className:"ml-6 text-red-500 hover:text-red-700",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},E.id))}),d.jsxs("div",{className:"flex justify-between mt-8",children:[d.jsxs(et,{to:"/subscription",className:"flex items-center text-green-600 hover:text-green-800 font-medium",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Continue Shopping"]}),d.jsx("button",{onClick:l,className:"text-red-500 hover:text-red-700 font-medium",children:"Clear Cart"})]})]})}),d.jsx("div",{children:d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Order Summary"}),d.jsx("div",{className:"space-y-4",children:i.map(E=>d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("span",{className:"text-gray-600",children:[E.name,"  ",E.quantity]}),d.jsxs("span",{className:"font-medium",children:["",E.price*E.quantity]})]},E.id))}),d.jsxs("div",{className:"border-t border-gray-200 mt-4 pt-4",children:[d.jsxs("div",{className:"flex justify-between mb-2",children:[d.jsx("span",{children:"Subtotal"}),d.jsxs("span",{children:["",s]})]}),d.jsxs("div",{className:"flex justify-between mb-2",children:[d.jsx("span",{children:"Delivery Fee"}),d.jsx("span",{className:"text-green-600",children:"Free"})]}),d.jsxs("div",{className:"flex justify-between font-bold text-lg mt-2 pt-2 border-t border-gray-200",children:[d.jsx("span",{children:"Total"}),d.jsxs("span",{children:["",s]})]})]}),d.jsx("div",{className:"mt-6",children:d.jsx(et,{to:"/checkout",onClick:b,disabled:h,className:`w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg transition flex items-center justify-center ${h?"opacity-75 cursor-not-allowed":""}`,children:h?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Proceed to Checkout"})})]})})]})]})};function SE(i,e){const t=G.useRef(e);G.useEffect(function(){e!==t.current&&i.attributionControl!=null&&(t.current!=null&&i.attributionControl.removeAttribution(t.current),e!=null&&i.attributionControl.addAttribution(e)),t.current=e},[i,e])}const BP=1;function FP(i){return Object.freeze({__version:BP,map:i})}function HP(i,e){return Object.freeze({...i,...e})}const xy=G.createContext(null);function by(){const i=G.use(xy);if(i==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return i}function qP(i){function e(t,s){const{instance:l,context:h}=i(t).current;G.useImperativeHandle(s,()=>l);const{children:f}=t;return f==null?null:Mp.createElement(xy,{value:h},f)}return G.forwardRef(e)}function GP(i){function e(t,s){const[l,h]=G.useState(!1),{instance:f}=i(t,h).current;G.useImperativeHandle(s,()=>f),G.useEffect(function(){l&&f.update()},[f,l,t.children]);const _=f._contentNode;return _?YS.createPortal(t.children,_):null}return G.forwardRef(e)}function ZP(i){function e(t,s){const{instance:l}=i(t).current;return G.useImperativeHandle(s,()=>l),null}return G.forwardRef(e)}function AE(i,e){const t=G.useRef(void 0);G.useEffect(function(){return e!=null&&i.instance.on(e),t.current=e,function(){t.current!=null&&i.instance.off(t.current),t.current=null}},[i,e])}function wy(i,e){const t=i.pane??e.pane;return t?{...i,pane:t}:i}function WP(i,e){return function(s,l){const h=by(),f=i(wy(s,h),h);return SE(h.map,s.attribution),AE(f.current,s.eventHandlers),e(f.current,h,s,l),f}}var Cu={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var KP=Cu.exports,ab;function YP(){return ab||(ab=1,(function(i,e){(function(t,s){s(e)})(KP,(function(t){var s="1.9.4";function l(a){var c,p,x,T;for(p=1,x=arguments.length;p<x;p++){T=arguments[p];for(c in T)a[c]=T[c]}return a}var h=Object.create||(function(){function a(){}return function(c){return a.prototype=c,new a}})();function f(a,c){var p=Array.prototype.slice;if(a.bind)return a.bind.apply(a,p.call(arguments,1));var x=p.call(arguments,2);return function(){return a.apply(c,x.length?x.concat(p.call(arguments)):arguments)}}var _=0;function v(a){return"_leaflet_id"in a||(a._leaflet_id=++_),a._leaflet_id}function b(a,c,p){var x,T,C,z;return z=function(){x=!1,T&&(C.apply(p,T),T=!1)},C=function(){x?T=arguments:(a.apply(p,arguments),setTimeout(z,c),x=!0)},C}function E(a,c,p){var x=c[1],T=c[0],C=x-T;return a===x&&p?a:((a-T)%C+C)%C+T}function N(){return!1}function I(a,c){if(c===!1)return a;var p=Math.pow(10,c===void 0?6:c);return Math.round(a*p)/p}function Z(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function U(a){return Z(a).split(/\s+/)}function K(a,c){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?h(a.options):{});for(var p in c)a.options[p]=c[p];return a.options}function H(a,c,p){var x=[];for(var T in a)x.push(encodeURIComponent(p?T.toUpperCase():T)+"="+encodeURIComponent(a[T]));return(!c||c.indexOf("?")===-1?"?":"&")+x.join("&")}var oe=/\{ *([\w_ -]+) *\}/g;function le(a,c){return a.replace(oe,function(p,x){var T=c[x];if(T===void 0)throw new Error("No value provided for variable "+p);return typeof T=="function"&&(T=T(c)),T})}var ce=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function Ae(a,c){for(var p=0;p<a.length;p++)if(a[p]===c)return p;return-1}var xe="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Ve(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var F=0;function O(a){var c=+new Date,p=Math.max(0,16-(c-F));return F=c+p,window.setTimeout(a,p)}var D=window.requestAnimationFrame||Ve("RequestAnimationFrame")||O,P=window.cancelAnimationFrame||Ve("CancelAnimationFrame")||Ve("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function M(a,c,p){if(p&&D===O)a.call(c);else return D.call(window,f(a,c))}function q(a){a&&P.call(window,a)}var V={__proto__:null,extend:l,create:h,bind:f,get lastId(){return _},stamp:v,throttle:b,wrapNum:E,falseFn:N,formatNum:I,trim:Z,splitWords:U,setOptions:K,getParamString:H,template:le,isArray:ce,indexOf:Ae,emptyImageUrl:xe,requestFn:D,cancelFn:P,requestAnimFrame:M,cancelAnimFrame:q};function He(){}He.extend=function(a){var c=function(){K(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=c.__super__=this.prototype,x=h(p);x.constructor=c,c.prototype=x;for(var T in this)Object.prototype.hasOwnProperty.call(this,T)&&T!=="prototype"&&T!=="__super__"&&(c[T]=this[T]);return a.statics&&l(c,a.statics),a.includes&&(Oe(a.includes),l.apply(null,[x].concat(a.includes))),l(x,a),delete x.statics,delete x.includes,x.options&&(x.options=p.options?h(p.options):{},l(x.options,a.options)),x._initHooks=[],x.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var C=0,z=x._initHooks.length;C<z;C++)x._initHooks[C].call(this)}},c},He.include=function(a){var c=this.prototype.options;return l(this.prototype,a),a.options&&(this.prototype.options=c,this.mergeOptions(a.options)),this},He.mergeOptions=function(a){return l(this.prototype.options,a),this},He.addInitHook=function(a){var c=Array.prototype.slice.call(arguments,1),p=typeof a=="function"?a:function(){this[a].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function Oe(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=ce(a)?a:[a];for(var c=0;c<a.length;c++)a[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Y={on:function(a,c,p){if(typeof a=="object")for(var x in a)this._on(x,a[x],c);else{a=U(a);for(var T=0,C=a.length;T<C;T++)this._on(a[T],c,p)}return this},off:function(a,c,p){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var x in a)this._off(x,a[x],c);else{a=U(a);for(var T=arguments.length===1,C=0,z=a.length;C<z;C++)T?this._off(a[C]):this._off(a[C],c,p)}return this},_on:function(a,c,p,x){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(a,c,p)===!1){p===this&&(p=void 0);var T={fn:c,ctx:p};x&&(T.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(T)}},_off:function(a,c,p){var x,T,C;if(this._events&&(x=this._events[a],!!x)){if(arguments.length===1){if(this._firingCount)for(T=0,C=x.length;T<C;T++)x[T].fn=N;delete this._events[a];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var z=this._listens(a,c,p);if(z!==!1){var Q=x[z];this._firingCount&&(Q.fn=N,this._events[a]=x=x.slice()),x.splice(z,1)}}},fire:function(a,c,p){if(!this.listens(a,p))return this;var x=l({},c,{type:a,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var T=this._events[a];if(T){this._firingCount=this._firingCount+1||1;for(var C=0,z=T.length;C<z;C++){var Q=T[C],re=Q.fn;Q.once&&this.off(a,re,Q.ctx),re.call(Q.ctx||this,x)}this._firingCount--}}return p&&this._propagateEvent(x),this},listens:function(a,c,p,x){typeof a!="string"&&console.warn('"string" type argument expected');var T=c;typeof c!="function"&&(x=!!c,T=void 0,p=void 0);var C=this._events&&this._events[a];if(C&&C.length&&this._listens(a,T,p)!==!1)return!0;if(x){for(var z in this._eventParents)if(this._eventParents[z].listens(a,c,p,x))return!0}return!1},_listens:function(a,c,p){if(!this._events)return!1;var x=this._events[a]||[];if(!c)return!!x.length;p===this&&(p=void 0);for(var T=0,C=x.length;T<C;T++)if(x[T].fn===c&&x[T].ctx===p)return T;return!1},once:function(a,c,p){if(typeof a=="object")for(var x in a)this._on(x,a[x],c,!0);else{a=U(a);for(var T=0,C=a.length;T<C;T++)this._on(a[T],c,p,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[v(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[v(a)],this},_propagateEvent:function(a){for(var c in this._eventParents)this._eventParents[c].fire(a.type,l({layer:a.target,propagatedFrom:a.target},a),!0)}};Y.addEventListener=Y.on,Y.removeEventListener=Y.clearAllEventListeners=Y.off,Y.addOneTimeEventListener=Y.once,Y.fireEvent=Y.fire,Y.hasEventListeners=Y.listens;var me=He.extend(Y);function he(a,c,p){this.x=p?Math.round(a):a,this.y=p?Math.round(c):c}var ke=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};he.prototype={clone:function(){return new he(this.x,this.y)},add:function(a){return this.clone()._add(k(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(k(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new he(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new he(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ke(this.x),this.y=ke(this.y),this},distanceTo:function(a){a=k(a);var c=a.x-this.x,p=a.y-this.y;return Math.sqrt(c*c+p*p)},equals:function(a){return a=k(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=k(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+I(this.x)+", "+I(this.y)+")"}};function k(a,c,p){return a instanceof he?a:ce(a)?new he(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new he(a.x,a.y):new he(a,c,p)}function ae(a,c){if(a)for(var p=c?[a,c]:a,x=0,T=p.length;x<T;x++)this.extend(p[x])}ae.prototype={extend:function(a){var c,p;if(!a)return this;if(a instanceof he||typeof a[0]=="number"||"x"in a)c=p=k(a);else if(a=_e(a),c=a.min,p=a.max,!c||!p)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=p.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(a){return k((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return k(this.min.x,this.max.y)},getTopRight:function(){return k(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var c,p;return typeof a[0]=="number"||a instanceof he?a=k(a):a=_e(a),a instanceof ae?(c=a.min,p=a.max):c=p=a,c.x>=this.min.x&&p.x<=this.max.x&&c.y>=this.min.y&&p.y<=this.max.y},intersects:function(a){a=_e(a);var c=this.min,p=this.max,x=a.min,T=a.max,C=T.x>=c.x&&x.x<=p.x,z=T.y>=c.y&&x.y<=p.y;return C&&z},overlaps:function(a){a=_e(a);var c=this.min,p=this.max,x=a.min,T=a.max,C=T.x>c.x&&x.x<p.x,z=T.y>c.y&&x.y<p.y;return C&&z},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var c=this.min,p=this.max,x=Math.abs(c.x-p.x)*a,T=Math.abs(c.y-p.y)*a;return _e(k(c.x-x,c.y-T),k(p.x+x,p.y+T))},equals:function(a){return a?(a=_e(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function _e(a,c){return!a||a instanceof ae?a:new ae(a,c)}function ve(a,c){if(a)for(var p=c?[a,c]:a,x=0,T=p.length;x<T;x++)this.extend(p[x])}ve.prototype={extend:function(a){var c=this._southWest,p=this._northEast,x,T;if(a instanceof Ce)x=a,T=a;else if(a instanceof ve){if(x=a._southWest,T=a._northEast,!x||!T)return this}else return a?this.extend(we(a)||Ee(a)):this;return!c&&!p?(this._southWest=new Ce(x.lat,x.lng),this._northEast=new Ce(T.lat,T.lng)):(c.lat=Math.min(x.lat,c.lat),c.lng=Math.min(x.lng,c.lng),p.lat=Math.max(T.lat,p.lat),p.lng=Math.max(T.lng,p.lng)),this},pad:function(a){var c=this._southWest,p=this._northEast,x=Math.abs(c.lat-p.lat)*a,T=Math.abs(c.lng-p.lng)*a;return new ve(new Ce(c.lat-x,c.lng-T),new Ce(p.lat+x,p.lng+T))},getCenter:function(){return new Ce((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ce(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ce(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof Ce||"lat"in a?a=we(a):a=Ee(a);var c=this._southWest,p=this._northEast,x,T;return a instanceof ve?(x=a.getSouthWest(),T=a.getNorthEast()):x=T=a,x.lat>=c.lat&&T.lat<=p.lat&&x.lng>=c.lng&&T.lng<=p.lng},intersects:function(a){a=Ee(a);var c=this._southWest,p=this._northEast,x=a.getSouthWest(),T=a.getNorthEast(),C=T.lat>=c.lat&&x.lat<=p.lat,z=T.lng>=c.lng&&x.lng<=p.lng;return C&&z},overlaps:function(a){a=Ee(a);var c=this._southWest,p=this._northEast,x=a.getSouthWest(),T=a.getNorthEast(),C=T.lat>c.lat&&x.lat<p.lat,z=T.lng>c.lng&&x.lng<p.lng;return C&&z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,c){return a?(a=Ee(a),this._southWest.equals(a.getSouthWest(),c)&&this._northEast.equals(a.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ee(a,c){return a instanceof ve?a:new ve(a,c)}function Ce(a,c,p){if(isNaN(a)||isNaN(c))throw new Error("Invalid LatLng object: ("+a+", "+c+")");this.lat=+a,this.lng=+c,p!==void 0&&(this.alt=+p)}Ce.prototype={equals:function(a,c){if(!a)return!1;a=we(a);var p=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return p<=(c===void 0?1e-9:c)},toString:function(a){return"LatLng("+I(this.lat,a)+", "+I(this.lng,a)+")"},distanceTo:function(a){return it.distance(this,we(a))},wrap:function(){return it.wrapLatLng(this)},toBounds:function(a){var c=180*a/40075017,p=c/Math.cos(Math.PI/180*this.lat);return Ee([this.lat-c,this.lng-p],[this.lat+c,this.lng+p])},clone:function(){return new Ce(this.lat,this.lng,this.alt)}};function we(a,c,p){return a instanceof Ce?a:ce(a)&&typeof a[0]!="object"?a.length===3?new Ce(a[0],a[1],a[2]):a.length===2?new Ce(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new Ce(a.lat,"lng"in a?a.lng:a.lon,a.alt):c===void 0?null:new Ce(a,c,p)}var St={latLngToPoint:function(a,c){var p=this.projection.project(a),x=this.scale(c);return this.transformation._transform(p,x)},pointToLatLng:function(a,c){var p=this.scale(c),x=this.transformation.untransform(a,p);return this.projection.unproject(x)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var c=this.projection.bounds,p=this.scale(a),x=this.transformation.transform(c.min,p),T=this.transformation.transform(c.max,p);return new ae(x,T)},infinite:!1,wrapLatLng:function(a){var c=this.wrapLng?E(a.lng,this.wrapLng,!0):a.lng,p=this.wrapLat?E(a.lat,this.wrapLat,!0):a.lat,x=a.alt;return new Ce(p,c,x)},wrapLatLngBounds:function(a){var c=a.getCenter(),p=this.wrapLatLng(c),x=c.lat-p.lat,T=c.lng-p.lng;if(x===0&&T===0)return a;var C=a.getSouthWest(),z=a.getNorthEast(),Q=new Ce(C.lat-x,C.lng-T),re=new Ce(z.lat-x,z.lng-T);return new ve(Q,re)}},it=l({},St,{wrapLng:[-180,180],R:6371e3,distance:function(a,c){var p=Math.PI/180,x=a.lat*p,T=c.lat*p,C=Math.sin((c.lat-a.lat)*p/2),z=Math.sin((c.lng-a.lng)*p/2),Q=C*C+Math.cos(x)*Math.cos(T)*z*z,re=2*Math.atan2(Math.sqrt(Q),Math.sqrt(1-Q));return this.R*re}}),si=6378137,hs={R:si,MAX_LATITUDE:85.0511287798,project:function(a){var c=Math.PI/180,p=this.MAX_LATITUDE,x=Math.max(Math.min(p,a.lat),-p),T=Math.sin(x*c);return new he(this.R*a.lng*c,this.R*Math.log((1+T)/(1-T))/2)},unproject:function(a){var c=180/Math.PI;return new Ce((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*c,a.x*c/this.R)},bounds:(function(){var a=si*Math.PI;return new ae([-a,-a],[a,a])})()};function Dr(a,c,p,x){if(ce(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=c,this._c=p,this._d=x}Dr.prototype={transform:function(a,c){return this._transform(a.clone(),c)},_transform:function(a,c){return c=c||1,a.x=c*(this._a*a.x+this._b),a.y=c*(this._c*a.y+this._d),a},untransform:function(a,c){return c=c||1,new he((a.x/c-this._b)/this._a,(a.y/c-this._d)/this._c)}};function Fi(a,c,p,x){return new Dr(a,c,p,x)}var cr=l({},it,{code:"EPSG:3857",projection:hs,transformation:(function(){var a=.5/(Math.PI*hs.R);return Fi(a,.5,-a,.5)})()}),ta=l({},cr,{code:"EPSG:900913"});function sl(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function na(a,c){var p="",x,T,C,z,Q,re;for(x=0,C=a.length;x<C;x++){for(Q=a[x],T=0,z=Q.length;T<z;T++)re=Q[T],p+=(T?"L":"M")+re.x+" "+re.y;p+=c?je.svg?"z":"x":""}return p||"M0 0"}var fn=document.documentElement.style,ds="ActiveXObject"in window,Wt=ds&&!document.addEventListener,Kt="msLaunchUri"in navigator&&!("documentMode"in document),wi=mn("webkit"),al=mn("android"),ia=mn("android 2")||mn("android 3"),Rc=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),fs=al&&mn("Google")&&Rc<537&&!("AudioNode"in window),Hi=!!window.opera,sn=!Kt&&mn("chrome"),qn=mn("gecko")&&!wi&&!Hi&&!ds,An=!sn&&mn("safari"),ol=mn("phantom"),fo="OTransition"in fn,ll=navigator.platform.indexOf("Win")===0,Ei=ds&&"transition"in fn,qi="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ia,ai="MozPerspective"in fn,oi=!window.L_DISABLE_3D&&(Ei||qi||ai)&&!fo&&!ol,li=typeof orientation<"u"||mn("mobile"),ra=li&&wi,mo=li&&qi,ur=!window.PointerEvent&&window.MSPointerEvent,ms=!!(window.PointerEvent||ur),Lt="ontouchstart"in window||!!window.TouchEvent,cl=!window.L_NO_TOUCH&&(Lt||ms),Mr=li&&Hi,Vr=li&&qn,po=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,go=(function(){var a=!1;try{var c=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",N,c),window.removeEventListener("testPassiveEventSupport",N,c)}catch{}return a})(),hr=(function(){return!!document.createElement("canvas").getContext})(),yo=!!(document.createElementNS&&sl("svg").createSVGRect),Gi=!!yo&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Vt=!yo&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var c=a.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}})(),an=navigator.platform.indexOf("Mac")===0,dr=navigator.platform.indexOf("Linux")===0;function mn(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var je={ie:ds,ielt9:Wt,edge:Kt,webkit:wi,android:al,android23:ia,androidStock:fs,opera:Hi,chrome:sn,gecko:qn,safari:An,phantom:ol,opera12:fo,win:ll,ie3d:Ei,webkit3d:qi,gecko3d:ai,any3d:oi,mobile:li,mobileWebkit:ra,mobileWebkit3d:mo,msPointer:ur,pointer:ms,touch:cl,touchNative:Lt,mobileOpera:Mr,mobileGecko:Vr,retina:po,passiveEvents:go,canvas:hr,svg:yo,vml:Vt,inlineSvg:Gi,mac:an,linux:dr},ul=je.msPointer?"MSPointerDown":"pointerdown",ci=je.msPointer?"MSPointerMove":"pointermove",fr=je.msPointer?"MSPointerUp":"pointerup",ps=je.msPointer?"MSPointerCancel":"pointercancel",ui={touchstart:ul,touchmove:ci,touchend:fr,touchcancel:ps},Ti={touchstart:sa,touchmove:Zn,touchend:Zn,touchcancel:Zn},Gn={},mr=!1;function Ut(a,c,p){return c==="touchstart"&&ys(),Ti[c]?(p=Ti[c].bind(this,p),a.addEventListener(ui[c],p,!1),p):(console.warn("wrong event specified:",c),N)}function hl(a,c,p){if(!ui[c]){console.warn("wrong event specified:",c);return}a.removeEventListener(ui[c],p,!1)}function gs(a){Gn[a.pointerId]=a}function Zi(a){Gn[a.pointerId]&&(Gn[a.pointerId]=a)}function Si(a){delete Gn[a.pointerId]}function ys(){mr||(document.addEventListener(ul,gs,!0),document.addEventListener(ci,Zi,!0),document.addEventListener(fr,Si,!0),document.addEventListener(ps,Si,!0),mr=!0)}function Zn(a,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var p in Gn)c.touches.push(Gn[p]);c.changedTouches=[c],a(c)}}function sa(a,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&Pt(c),Zn(a,c)}function Ic(a){var c={},p,x;for(x in a)p=a[x],c[x]=p&&p.bind?p.bind(a):p;return a=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var _s=200;function vs(a,c){a.addEventListener("dblclick",c);var p=0,x;function T(C){if(C.detail!==1){x=C.detail;return}if(!(C.pointerType==="mouse"||C.sourceCapabilities&&!C.sourceCapabilities.firesTouchEvents)){var z=oa(C);if(!(z.some(function(re){return re instanceof HTMLLabelElement&&re.attributes.for})&&!z.some(function(re){return re instanceof HTMLInputElement||re instanceof HTMLSelectElement}))){var Q=Date.now();Q-p<=_s?(x++,x===2&&c(Ic(C))):x=1,p=Q}}}return a.addEventListener("click",T),{dblclick:c,simDblclick:T}}function hi(a,c){a.removeEventListener("dblclick",c.dblclick),a.removeEventListener("click",c.simDblclick)}var pr=Ur(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Wi=Ur(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ki=Wi==="webkitTransition"||Wi==="OTransition"?Wi+"End":"transitionend";function xs(a){return typeof a=="string"?document.getElementById(a):a}function Yi(a,c){var p=a.style[c]||a.currentStyle&&a.currentStyle[c];if((!p||p==="auto")&&document.defaultView){var x=document.defaultView.getComputedStyle(a,null);p=x?x[c]:null}return p==="auto"?null:p}function at(a,c,p){var x=document.createElement(a);return x.className=c||"",p&&p.appendChild(x),x}function ut(a){var c=a.parentNode;c&&c.removeChild(a)}function bt(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Wn(a){var c=a.parentNode;c&&c.lastChild!==a&&c.appendChild(a)}function di(a){var c=a.parentNode;c&&c.firstChild!==a&&c.insertBefore(a,c.firstChild)}function $i(a,c){if(a.classList!==void 0)return a.classList.contains(c);var p=zt(a);return p.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(p)}function Ne(a,c){if(a.classList!==void 0)for(var p=U(c),x=0,T=p.length;x<T;x++)a.classList.add(p[x]);else if(!$i(a,c)){var C=zt(a);gr(a,(C?C+" ":"")+c)}}function yt(a,c){a.classList!==void 0?a.classList.remove(c):gr(a,Z((" "+zt(a)+" ").replace(" "+c+" "," ")))}function gr(a,c){a.className.baseVal===void 0?a.className=c:a.className.baseVal=c}function zt(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function pn(a,c){"opacity"in a.style?a.style.opacity=c:"filter"in a.style&&_o(a,c)}function _o(a,c){var p=!1,x="DXImageTransform.Microsoft.Alpha";try{p=a.filters.item(x)}catch{if(c===1)return}c=Math.round(c*100),p?(p.Enabled=c!==100,p.Opacity=c):a.style.filter+=" progid:"+x+"(opacity="+c+")"}function Ur(a){for(var c=document.documentElement.style,p=0;p<a.length;p++)if(a[p]in c)return a[p];return!1}function Ln(a,c,p){var x=c||new he(0,0);a.style[pr]=(je.ie3d?"translate("+x.x+"px,"+x.y+"px)":"translate3d("+x.x+"px,"+x.y+"px,0)")+(p?" scale("+p+")":"")}function jt(a,c){a._leaflet_pos=c,je.any3d?Ln(a,c):(a.style.left=c.x+"px",a.style.top=c.y+"px")}function Qi(a){return a._leaflet_pos||new he(0,0)}var gn,Kn,bs;if("onselectstart"in document)gn=function(){ze(window,"selectstart",Pt)},Kn=function(){ht(window,"selectstart",Pt)};else{var yr=Ur(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);gn=function(){if(yr){var a=document.documentElement.style;bs=a[yr],a[yr]="none"}},Kn=function(){yr&&(document.documentElement.style[yr]=bs,bs=void 0)}}function zr(){ze(window,"dragstart",Pt)}function aa(){ht(window,"dragstart",Pt)}var ws,Yn;function Es(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Br(),ws=a,Yn=a.style.outlineStyle,a.style.outlineStyle="none",ze(window,"keydown",Br))}function Br(){ws&&(ws.style.outlineStyle=Yn,ws=void 0,Yn=void 0,ht(window,"keydown",Br))}function _r(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function on(a){var c=a.getBoundingClientRect();return{x:c.width/a.offsetWidth||1,y:c.height/a.offsetHeight||1,boundingClientRect:c}}var dl={__proto__:null,TRANSFORM:pr,TRANSITION:Wi,TRANSITION_END:Ki,get:xs,getStyle:Yi,create:at,remove:ut,empty:bt,toFront:Wn,toBack:di,hasClass:$i,addClass:Ne,removeClass:yt,setClass:gr,getClass:zt,setOpacity:pn,testProp:Ur,setTransform:Ln,setPosition:jt,getPosition:Qi,get disableTextSelection(){return gn},get enableTextSelection(){return Kn},disableImageDrag:zr,enableImageDrag:aa,preventOutline:Es,restoreOutline:Br,getSizedParentNode:_r,getScale:on};function ze(a,c,p,x){if(c&&typeof c=="object")for(var T in c)Xi(a,T,c[T],p);else{c=U(c);for(var C=0,z=c.length;C<z;C++)Xi(a,c[C],p,x)}return this}var yn="_leaflet_events";function ht(a,c,p,x){if(arguments.length===1)_n(a),delete a[yn];else if(c&&typeof c=="object")for(var T in c)On(a,T,c[T],p);else if(c=U(c),arguments.length===2)_n(a,function(Q){return Ae(c,Q)!==-1});else for(var C=0,z=c.length;C<z;C++)On(a,c[C],p,x);return this}function _n(a,c){for(var p in a[yn]){var x=p.split(/\d/)[0];(!c||c(x))&&On(a,x,null,null,p)}}var Ai={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Xi(a,c,p,x){var T=c+v(p)+(x?"_"+v(x):"");if(a[yn]&&a[yn][T])return this;var C=function(Q){return p.call(x||a,Q||window.event)},z=C;!je.touchNative&&je.pointer&&c.indexOf("touch")===0?C=Ut(a,c,C):je.touch&&c==="dblclick"?C=vs(a,C):"addEventListener"in a?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?a.addEventListener(Ai[c]||c,C,je.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(C=function(Q){Q=Q||window.event,vr(a,Q)&&z(Q)},a.addEventListener(Ai[c],C,!1)):a.addEventListener(c,z,!1):a.attachEvent("on"+c,C),a[yn]=a[yn]||{},a[yn][T]=C}function On(a,c,p,x,T){T=T||c+v(p)+(x?"_"+v(x):"");var C=a[yn]&&a[yn][T];if(!C)return this;!je.touchNative&&je.pointer&&c.indexOf("touch")===0?hl(a,c,C):je.touch&&c==="dblclick"?hi(a,C):"removeEventListener"in a?a.removeEventListener(Ai[c]||c,C,!1):a.detachEvent("on"+c,C),a[yn][T]=null}function dt(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Fr(a){return Xi(a,"wheel",dt),this}function Hr(a){return ze(a,"mousedown touchstart dblclick contextmenu",dt),a._leaflet_disable_click=!0,this}function Pt(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function $n(a){return Pt(a),dt(a),this}function oa(a){if(a.composedPath)return a.composedPath();for(var c=[],p=a.target;p;)c.push(p),p=p.parentNode;return c}function qt(a,c){if(!c)return new he(a.clientX,a.clientY);var p=on(c),x=p.boundingClientRect;return new he((a.clientX-x.left)/p.x-c.clientLeft,(a.clientY-x.top)/p.y-c.clientTop)}var vn=je.linux&&je.chrome?window.devicePixelRatio:je.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function qr(a){return je.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/vn:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function vr(a,c){var p=c.relatedTarget;if(!p)return!0;try{for(;p&&p!==a;)p=p.parentNode}catch{return!1}return p!==a}var Ts={__proto__:null,on:ze,off:ht,stopPropagation:dt,disableScrollPropagation:Fr,disableClickPropagation:Hr,preventDefault:Pt,stop:$n,getPropagationPath:oa,getMousePosition:qt,getWheelDelta:qr,isExternalTarget:vr,addListener:ze,removeListener:ht},Ss=me.extend({run:function(a,c,p,x){this.stop(),this._el=a,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(x||.5,.2),this._startPos=Qi(a),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=M(this._animate,this),this._step()},_step:function(a){var c=+new Date-this._startTime,p=this._duration*1e3;c<p?this._runFrame(this._easeOut(c/p),a):(this._runFrame(1),this._complete())},_runFrame:function(a,c){var p=this._startPos.add(this._offset.multiplyBy(a));c&&p._round(),jt(this._el,p),this.fire("step")},_complete:function(){q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),$e=me.extend({options:{crs:cr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,c){c=K(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(we(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Wi&&je.any3d&&!je.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ze(this._proxy,Ki,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,c,p){if(c=c===void 0?this._zoom:this._limitZoom(c),a=this._limitCenter(we(a),c,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=l({animate:p.animate},p.zoom),p.pan=l({animate:p.animate,duration:p.duration},p.pan));var x=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,c,p.zoom):this._tryAnimatedPan(a,p.pan);if(x)return clearTimeout(this._sizeTimer),this}return this._resetView(a,c,p.pan&&p.pan.noMoveStart),this},setZoom:function(a,c){return this._loaded?this.setView(this.getCenter(),a,{zoom:c}):(this._zoom=a,this)},zoomIn:function(a,c){return a=a||(je.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,c)},zoomOut:function(a,c){return a=a||(je.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,c)},setZoomAround:function(a,c,p){var x=this.getZoomScale(c),T=this.getSize().divideBy(2),C=a instanceof he?a:this.latLngToContainerPoint(a),z=C.subtract(T).multiplyBy(1-1/x),Q=this.containerPointToLatLng(T.add(z));return this.setView(Q,c,{zoom:p})},_getBoundsCenterZoom:function(a,c){c=c||{},a=a.getBounds?a.getBounds():Ee(a);var p=k(c.paddingTopLeft||c.padding||[0,0]),x=k(c.paddingBottomRight||c.padding||[0,0]),T=this.getBoundsZoom(a,!1,p.add(x));if(T=typeof c.maxZoom=="number"?Math.min(c.maxZoom,T):T,T===1/0)return{center:a.getCenter(),zoom:T};var C=x.subtract(p).divideBy(2),z=this.project(a.getSouthWest(),T),Q=this.project(a.getNorthEast(),T),re=this.unproject(z.add(Q).divideBy(2).add(C),T);return{center:re,zoom:T}},fitBounds:function(a,c){if(a=Ee(a),!a.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(a,c);return this.setView(p.center,p.zoom,c)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,c){return this.setView(a,this._zoom,{pan:c})},panBy:function(a,c){if(a=k(a).round(),c=c||{},!a.x&&!a.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ss,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){Ne(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,p,c.duration||.25,c.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,c,p){if(p=p||{},p.animate===!1||!je.any3d)return this.setView(a,c,p);this._stop();var x=this.project(this.getCenter()),T=this.project(a),C=this.getSize(),z=this._zoom;a=we(a),c=c===void 0?z:c;var Q=Math.max(C.x,C.y),re=Q*this.getZoomScale(z,c),ye=T.distanceTo(x)||1,Te=1.42,Ie=Te*Te;function Le(kt){var ir=kt?-1:1,Er=kt?re:Q,Yr=re*re-Q*Q+ir*Ie*Ie*ye*ye,Tr=2*Er*Ie*ye,Oo=Yr/Tr,Sl=Math.sqrt(Oo*Oo+1)-Oo,ko=Sl<1e-9?-18:Math.log(Sl);return ko}function We(kt){return(Math.exp(kt)-Math.exp(-kt))/2}function Nt(kt){return(Math.exp(kt)+Math.exp(-kt))/2}function Bt(kt){return We(kt)/Nt(kt)}var bn=Le(0);function mi(kt){return Q*(Nt(bn)/Nt(bn+Te*kt))}function vh(kt){return Q*(Nt(bn)*Bt(bn+Te*kt)-We(bn))/Ie}function xh(kt){return 1-Math.pow(1-kt,1.5)}var Lo=Date.now(),Ta=(Le(1)-bn)/Te,bh=p.duration?1e3*p.duration:1e3*Ta*.8;function Sa(){var kt=(Date.now()-Lo)/bh,ir=xh(kt)*Ta;kt<=1?(this._flyToFrame=M(Sa,this),this._move(this.unproject(x.add(T.subtract(x).multiplyBy(vh(ir)/ye)),z),this.getScaleZoom(Q/mi(ir),z),{flyTo:!0})):this._move(a,c)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),Sa.call(this),this},flyToBounds:function(a,c){var p=this._getBoundsCenterZoom(a,c);return this.flyTo(p.center,p.zoom,c)},setMaxBounds:function(a){return a=Ee(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var c=this.options.minZoom;return this.options.minZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var c=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,c){this._enforcingBounds=!0;var p=this.getCenter(),x=this._limitCenter(p,this._zoom,Ee(a));return p.equals(x)||this.panTo(x,c),this._enforcingBounds=!1,this},panInside:function(a,c){c=c||{};var p=k(c.paddingTopLeft||c.padding||[0,0]),x=k(c.paddingBottomRight||c.padding||[0,0]),T=this.project(this.getCenter()),C=this.project(a),z=this.getPixelBounds(),Q=_e([z.min.add(p),z.max.subtract(x)]),re=Q.getSize();if(!Q.contains(C)){this._enforcingBounds=!0;var ye=C.subtract(Q.getCenter()),Te=Q.extend(C).getSize().subtract(re);T.x+=ye.x<0?-Te.x:Te.x,T.y+=ye.y<0?-Te.y:Te.y,this.panTo(this.unproject(T),c),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=l({animate:!1,pan:!0},a===!0?{animate:!0}:a);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),x=c.divideBy(2).round(),T=p.divideBy(2).round(),C=x.subtract(T);return!C.x&&!C.y?this:(a.animate&&a.pan?this.panBy(C):(a.pan&&this._rawPanBy(C),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=l({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=f(this._handleGeolocationResponse,this),p=f(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,p,a):navigator.geolocation.getCurrentPosition(c,p,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var c=a.code,p=a.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var c=a.coords.latitude,p=a.coords.longitude,x=new Ce(c,p),T=x.toBounds(a.coords.accuracy*2),C=this._locateOptions;if(C.setView){var z=this.getBoundsZoom(T);this.setView(x,C.maxZoom?Math.min(z,C.maxZoom):z)}var Q={latlng:x,bounds:T,timestamp:a.timestamp};for(var re in a.coords)typeof a.coords[re]=="number"&&(Q[re]=a.coords[re]);this.fire("locationfound",Q)}},addHandler:function(a,c){if(!c)return this;var p=this[a]=new c(this);return this._handlers.push(p),this.options[a]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ut(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)ut(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,c){var p="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),x=at("div",p,c||this._mapPane);return a&&(this._panes[a]=x),x},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),c=this.unproject(a.getBottomLeft()),p=this.unproject(a.getTopRight());return new ve(c,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,c,p){a=Ee(a),p=k(p||[0,0]);var x=this.getZoom()||0,T=this.getMinZoom(),C=this.getMaxZoom(),z=a.getNorthWest(),Q=a.getSouthEast(),re=this.getSize().subtract(p),ye=_e(this.project(Q,x),this.project(z,x)).getSize(),Te=je.any3d?this.options.zoomSnap:1,Ie=re.x/ye.x,Le=re.y/ye.y,We=c?Math.max(Ie,Le):Math.min(Ie,Le);return x=this.getScaleZoom(We,x),Te&&(x=Math.round(x/(Te/100))*(Te/100),x=c?Math.ceil(x/Te)*Te:Math.floor(x/Te)*Te),Math.max(T,Math.min(C,x))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new he(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,c){var p=this._getTopLeftPoint(a,c);return new ae(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,c){var p=this.options.crs;return c=c===void 0?this._zoom:c,p.scale(a)/p.scale(c)},getScaleZoom:function(a,c){var p=this.options.crs;c=c===void 0?this._zoom:c;var x=p.zoom(a*p.scale(c));return isNaN(x)?1/0:x},project:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(we(a),c)},unproject:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(k(a),c)},layerPointToLatLng:function(a){var c=k(a).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(a){var c=this.project(we(a))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(we(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(Ee(a))},distance:function(a,c){return this.options.crs.distance(we(a),we(c))},containerPointToLayerPoint:function(a){return k(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return k(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var c=this.containerPointToLayerPoint(k(a));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(we(a)))},mouseEventToContainerPoint:function(a){return qt(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var c=this._container=xs(a);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ze(c,"scroll",this._onScroll,this),this._containerId=v(c)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&je.any3d,Ne(a,"leaflet-container"+(je.touch?" leaflet-touch":"")+(je.retina?" leaflet-retina":"")+(je.ielt9?" leaflet-oldie":"")+(je.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=Yi(a,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),jt(this._mapPane,new he(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ne(a.markerPane,"leaflet-zoom-hide"),Ne(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,c,p){jt(this._mapPane,new he(0,0));var x=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var T=this._zoom!==c;this._moveStart(T,p)._move(a,c)._moveEnd(T),this.fire("viewreset"),x&&this.fire("load")},_moveStart:function(a,c){return a&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(a,c,p,x){c===void 0&&(c=this._zoom);var T=this._zoom!==c;return this._zoom=c,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),x?p&&p.pinch&&this.fire("zoom",p):((T||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){jt(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[v(this._container)]=this;var c=a?ht:ze;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),je.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){q(this._resizeRequest),this._resizeRequest=M(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,c){for(var p=[],x,T=c==="mouseout"||c==="mouseover",C=a.target||a.srcElement,z=!1;C;){if(x=this._targets[v(C)],x&&(c==="click"||c==="preclick")&&this._draggableMoved(x)){z=!0;break}if(x&&x.listens(c,!0)&&(T&&!vr(C,a)||(p.push(x),T))||C===this._container)break;C=C.parentNode}return!p.length&&!z&&!T&&this.listens(c,!0)&&(p=[this]),p},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var c=a.target||a.srcElement;if(!(!this._loaded||c._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(c))){var p=a.type;p==="mousedown"&&Es(c),this._fireDOMEvent(a,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,c,p){if(a.type==="click"){var x=l({},a);x.type="preclick",this._fireDOMEvent(x,x.type,p)}var T=this._findEventTargets(a,c);if(p){for(var C=[],z=0;z<p.length;z++)p[z].listens(c,!0)&&C.push(p[z]);T=C.concat(T)}if(T.length){c==="contextmenu"&&Pt(a);var Q=T[0],re={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var ye=Q.getLatLng&&(!Q._radius||Q._radius<=10);re.containerPoint=ye?this.latLngToContainerPoint(Q.getLatLng()):this.mouseEventToContainerPoint(a),re.layerPoint=this.containerPointToLayerPoint(re.containerPoint),re.latlng=ye?Q.getLatLng():this.layerPointToLatLng(re.layerPoint)}for(z=0;z<T.length;z++)if(T[z].fire(c,re,!0),re.originalEvent._stopped||T[z].options.bubblingMouseEvents===!1&&Ae(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,c=this._handlers.length;a<c;a++)this._handlers[a].disable()},whenReady:function(a,c){return this._loaded?a.call(c||this,{target:this}):this.on("load",a,c),this},_getMapPanePos:function(){return Qi(this._mapPane)||new he(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,c){var p=a&&c!==void 0?this._getNewPixelOrigin(a,c):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,c){var p=this.getSize()._divideBy(2);return this.project(a,c)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,c,p){var x=this._getNewPixelOrigin(p,c);return this.project(a,c)._subtract(x)},_latLngBoundsToNewLayerBounds:function(a,c,p){var x=this._getNewPixelOrigin(p,c);return _e([this.project(a.getSouthWest(),c)._subtract(x),this.project(a.getNorthWest(),c)._subtract(x),this.project(a.getSouthEast(),c)._subtract(x),this.project(a.getNorthEast(),c)._subtract(x)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,c,p){if(!p)return a;var x=this.project(a,c),T=this.getSize().divideBy(2),C=new ae(x.subtract(T),x.add(T)),z=this._getBoundsOffset(C,p,c);return Math.abs(z.x)<=1&&Math.abs(z.y)<=1?a:this.unproject(x.add(z),c)},_limitOffset:function(a,c){if(!c)return a;var p=this.getPixelBounds(),x=new ae(p.min.add(a),p.max.add(a));return a.add(this._getBoundsOffset(x,c))},_getBoundsOffset:function(a,c,p){var x=_e(this.project(c.getNorthEast(),p),this.project(c.getSouthWest(),p)),T=x.min.subtract(a.min),C=x.max.subtract(a.max),z=this._rebound(T.x,-C.x),Q=this._rebound(T.y,-C.y);return new he(z,Q)},_rebound:function(a,c){return a+c>0?Math.round(a-c)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(c))},_limitZoom:function(a){var c=this.getMinZoom(),p=this.getMaxZoom(),x=je.any3d?this.options.zoomSnap:1;return x&&(a=Math.round(a/x)*x),Math.max(c,Math.min(p,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){yt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,c){var p=this._getCenterOffset(a)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,c),!0)},_createAnimProxy:function(){var a=this._proxy=at("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(c){var p=pr,x=this._proxy.style[p];Ln(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),x===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ut(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),c=this.getZoom();Ln(this._proxy,this.project(a,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,c,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var x=this.getZoomScale(c),T=this._getCenterOffset(a)._divideBy(1-1/x);return p.animate!==!0&&!this.getSize().contains(T)?!1:(M(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(a,c,!0)},this),!0)},_animateZoom:function(a,c,p,x){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=c,Ne(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:c,noUpdate:x}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&yt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ji(a,c){return new $e(a,c)}var ln=He.extend({options:{position:"topright"},initialize:function(a){K(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var c=this._map;return c&&c.removeControl(this),this.options.position=a,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var c=this._container=this.onAdd(a),p=this.getPosition(),x=a._controlCorners[p];return Ne(c,"leaflet-control"),p.indexOf("bottom")!==-1?x.insertBefore(c,x.firstChild):x.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ut(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Ni=function(a){return new ln(a)};$e.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},c="leaflet-",p=this._controlContainer=at("div",c+"control-container",this._container);function x(T,C){var z=c+T+" "+c+C;a[T+C]=at("div",z,p)}x("top","left"),x("top","right"),x("bottom","left"),x("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)ut(this._controlCorners[a]);ut(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var fl=ln.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,c,p,x){return p<x?-1:x<p?1:0}},initialize:function(a,c,p){K(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var x in a)this._addLayer(a[x],x);for(x in c)this._addLayer(c[x],x,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return ln.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,c){return this._addLayer(a,c),this._map?this._update():this},addOverlay:function(a,c){return this._addLayer(a,c,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var c=this._getLayer(v(a));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Ne(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Ne(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):yt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return yt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",c=this._container=at("div",a),p=this.options.collapsed;c.setAttribute("aria-haspopup",!0),Hr(c),Fr(c);var x=this._section=at("section",a+"-list");p&&(this._map.on("click",this.collapse,this),ze(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var T=this._layersLink=at("a",a+"-toggle",c);T.href="#",T.title="Layers",T.setAttribute("role","button"),ze(T,{keydown:function(C){C.keyCode===13&&this._expandSafely()},click:function(C){Pt(C),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=at("div",a+"-base",x),this._separator=at("div",a+"-separator",x),this._overlaysList=at("div",a+"-overlays",x),c.appendChild(x)},_getLayer:function(a){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&v(this._layers[c].layer)===a)return this._layers[c]},_addLayer:function(a,c,p){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:c,overlay:p}),this.options.sortLayers&&this._layers.sort(f(function(x,T){return this.options.sortFunction(x.layer,T.layer,x.name,T.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;bt(this._baseLayersList),bt(this._overlaysList),this._layerControlInputs=[];var a,c,p,x,T=0;for(p=0;p<this._layers.length;p++)x=this._layers[p],this._addItem(x),c=c||x.overlay,a=a||!x.overlay,T+=x.overlay?0:1;return this.options.hideSingleBase&&(a=a&&T>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=c&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var c=this._getLayer(v(a.target)),p=c.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;p&&this._map.fire(p,c)},_createRadioElement:function(a,c){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(c?' checked="checked"':"")+"/>",x=document.createElement("div");return x.innerHTML=p,x.firstChild},_addItem:function(a){var c=document.createElement("label"),p=this._map.hasLayer(a.layer),x;a.overlay?(x=document.createElement("input"),x.type="checkbox",x.className="leaflet-control-layers-selector",x.defaultChecked=p):x=this._createRadioElement("leaflet-base-layers_"+v(this),p),this._layerControlInputs.push(x),x.layerId=v(a.layer),ze(x,"click",this._onInputClick,this);var T=document.createElement("span");T.innerHTML=" "+a.name;var C=document.createElement("span");c.appendChild(C),C.appendChild(x),C.appendChild(T);var z=a.overlay?this._overlaysList:this._baseLayersList;return z.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,c,p,x=[],T=[];this._handlingClick=!0;for(var C=a.length-1;C>=0;C--)c=a[C],p=this._getLayer(c.layerId).layer,c.checked?x.push(p):c.checked||T.push(p);for(C=0;C<T.length;C++)this._map.hasLayer(T[C])&&this._map.removeLayer(T[C]);for(C=0;C<x.length;C++)this._map.hasLayer(x[C])||this._map.addLayer(x[C]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,c,p,x=this._map.getZoom(),T=a.length-1;T>=0;T--)c=a[T],p=this._getLayer(c.layerId).layer,c.disabled=p.options.minZoom!==void 0&&x<p.options.minZoom||p.options.maxZoom!==void 0&&x>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,ze(a,"click",Pt),this.expand();var c=this;setTimeout(function(){ht(a,"click",Pt),c._preventClick=!1})}}),ml=function(a,c,p){return new fl(a,c,p)},xr=ln.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var c="leaflet-control-zoom",p=at("div",c+" leaflet-bar"),x=this.options;return this._zoomInButton=this._createButton(x.zoomInText,x.zoomInTitle,c+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(x.zoomOutText,x.zoomOutTitle,c+"-out",p,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,c,p,x,T){var C=at("a",p,x);return C.innerHTML=a,C.href="#",C.title=c,C.setAttribute("role","button"),C.setAttribute("aria-label",c),Hr(C),ze(C,"click",$n),ze(C,"click",T,this),ze(C,"click",this._refocusOnMap,this),C},_updateDisabled:function(){var a=this._map,c="leaflet-disabled";yt(this._zoomInButton,c),yt(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Ne(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Ne(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});$e.mergeOptions({zoomControl:!0}),$e.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new xr,this.addControl(this.zoomControl))});var la=function(a){return new xr(a)},vo=ln.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var c="leaflet-control-scale",p=at("div",c),x=this.options;return this._addScales(x,c+"-line",p),a.on(x.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),p},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,c,p){a.metric&&(this._mScale=at("div",c,p)),a.imperial&&(this._iScale=at("div",c,p))},_update:function(){var a=this._map,c=a.getSize().y/2,p=a.distance(a.containerPointToLatLng([0,c]),a.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(p)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var c=this._getRoundNum(a),p=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,p,c/a)},_updateImperial:function(a){var c=a*3.2808399,p,x,T;c>5280?(p=c/5280,x=this._getRoundNum(p),this._updateScale(this._iScale,x+" mi",x/p)):(T=this._getRoundNum(c),this._updateScale(this._iScale,T+" ft",T/c))},_updateScale:function(a,c,p){a.style.width=Math.round(this.options.maxWidth*p)+"px",a.innerHTML=c},_getRoundNum:function(a){var c=Math.pow(10,(Math.floor(a)+"").length-1),p=a/c;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,c*p}}),xo=function(a){return new vo(a)},bo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ca=ln.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(je.inlineSvg?bo+" ":"")+"Leaflet</a>"},initialize:function(a){K(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=at("div","leaflet-control-attribution"),Hr(this._container);for(var c in a._layers)a._layers[c].getAttribution&&this.addAttribution(a._layers[c].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var c in this._attributions)this._attributions[c]&&a.push(c);var p=[];this.options.prefix&&p.push(this.options.prefix),a.length&&p.push(a.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});$e.mergeOptions({attributionControl:!0}),$e.addInitHook(function(){this.options.attributionControl&&new ca().addTo(this)});var ua=function(a){return new ca(a)};ln.Layers=fl,ln.Zoom=xr,ln.Scale=vo,ln.Attribution=ca,Ni.layers=ml,Ni.zoom=la,Ni.scale=xo,Ni.attribution=ua;var kn=He.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});kn.addTo=function(a,c){return a.addHandler(c,this),this};var pl={Events:Y},er=je.touch?"touchstart mousedown":"mousedown",Ci=me.extend({options:{clickTolerance:3},initialize:function(a,c,p,x){K(this,x),this._element=a,this._dragStartTarget=c||a,this._preventOutline=p},enable:function(){this._enabled||(ze(this._dragStartTarget,er,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ci._dragging===this&&this.finishDrag(!0),ht(this._dragStartTarget,er,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!$i(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Ci._dragging===this&&this.finishDrag();return}if(!(Ci._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Ci._dragging=this,this._preventOutline&&Es(this._element),zr(),gn(),!this._moving)){this.fire("down");var c=a.touches?a.touches[0]:a,p=_r(this._element);this._startPoint=new he(c.clientX,c.clientY),this._startPos=Qi(this._element),this._parentScale=on(p);var x=a.type==="mousedown";ze(document,x?"mousemove":"touchmove",this._onMove,this),ze(document,x?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var c=a.touches&&a.touches.length===1?a.touches[0]:a,p=new he(c.clientX,c.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,Pt(a),this._moved||(this.fire("dragstart"),this._moved=!0,Ne(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ne(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),jt(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){yt(document.body,"leaflet-dragging"),this._lastTarget&&(yt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ht(document,"mousemove touchmove",this._onMove,this),ht(document,"mouseup touchend touchcancel",this._onUp,this),aa(),Kn();var c=this._moved&&this._moving;this._moving=!1,Ci._dragging=!1,c&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function wo(a,c,p){var x,T=[1,4,2,8],C,z,Q,re,ye,Te,Ie,Le;for(C=0,Te=a.length;C<Te;C++)a[C]._code=ne(a[C],c);for(Q=0;Q<4;Q++){for(Ie=T[Q],x=[],C=0,Te=a.length,z=Te-1;C<Te;z=C++)re=a[C],ye=a[z],re._code&Ie?ye._code&Ie||(Le=X(ye,re,Ie,c,p),Le._code=ne(Le,c),x.push(Le)):(ye._code&Ie&&(Le=X(ye,re,Ie,c,p),Le._code=ne(Le,c),x.push(Le)),x.push(re));a=x}return a}function As(a,c){var p,x,T,C,z,Q,re,ye,Te;if(!a||a.length===0)throw new Error("latlngs not passed");tt(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Ie=we([0,0]),Le=Ee(a),We=Le.getNorthWest().distanceTo(Le.getSouthWest())*Le.getNorthEast().distanceTo(Le.getNorthWest());We<1700&&(Ie=ha(a));var Nt=a.length,Bt=[];for(p=0;p<Nt;p++){var bn=we(a[p]);Bt.push(c.project(we([bn.lat-Ie.lat,bn.lng-Ie.lng])))}for(Q=re=ye=0,p=0,x=Nt-1;p<Nt;x=p++)T=Bt[p],C=Bt[x],z=T.y*C.x-C.y*T.x,re+=(T.x+C.x)*z,ye+=(T.y+C.y)*z,Q+=z*3;Q===0?Te=Bt[0]:Te=[re/Q,ye/Q];var mi=c.unproject(k(Te));return we([mi.lat+Ie.lat,mi.lng+Ie.lng])}function ha(a){for(var c=0,p=0,x=0,T=0;T<a.length;T++){var C=we(a[T]);c+=C.lat,p+=C.lng,x++}return we([c/x,p/x])}var da={__proto__:null,clipPolygon:wo,polygonCenter:As,centroid:ha};function xn(a,c){if(!c||!a.length)return a.slice();var p=c*c;return a=w(a,p),a=Gr(a,p),a}function fa(a,c,p){return Math.sqrt(Be(a,c,p,!0))}function gl(a,c,p){return Be(a,c,p)}function Gr(a,c){var p=a.length,x=typeof Uint8Array<"u"?Uint8Array:Array,T=new x(p);T[0]=T[p-1]=1,m(a,T,c,0,p-1);var C,z=[];for(C=0;C<p;C++)T[C]&&z.push(a[C]);return z}function m(a,c,p,x,T){var C=0,z,Q,re;for(Q=x+1;Q<=T-1;Q++)re=Be(a[Q],a[x],a[T],!0),re>C&&(z=Q,C=re);C>p&&(c[z]=1,m(a,c,p,x,z),m(a,c,p,z,T))}function w(a,c){for(var p=[a[0]],x=1,T=0,C=a.length;x<C;x++)be(a[x],a[T])>c&&(p.push(a[x]),T=x);return T<C-1&&p.push(a[C-1]),p}var S;function j(a,c,p,x,T){var C=x?S:ne(a,p),z=ne(c,p),Q,re,ye;for(S=z;;){if(!(C|z))return[a,c];if(C&z)return!1;Q=C||z,re=X(a,c,Q,p,T),ye=ne(re,p),Q===C?(a=re,C=ye):(c=re,z=ye)}}function X(a,c,p,x,T){var C=c.x-a.x,z=c.y-a.y,Q=x.min,re=x.max,ye,Te;return p&8?(ye=a.x+C*(re.y-a.y)/z,Te=re.y):p&4?(ye=a.x+C*(Q.y-a.y)/z,Te=Q.y):p&2?(ye=re.x,Te=a.y+z*(re.x-a.x)/C):p&1&&(ye=Q.x,Te=a.y+z*(Q.x-a.x)/C),new he(ye,Te,T)}function ne(a,c){var p=0;return a.x<c.min.x?p|=1:a.x>c.max.x&&(p|=2),a.y<c.min.y?p|=4:a.y>c.max.y&&(p|=8),p}function be(a,c){var p=c.x-a.x,x=c.y-a.y;return p*p+x*x}function Be(a,c,p,x){var T=c.x,C=c.y,z=p.x-T,Q=p.y-C,re=z*z+Q*Q,ye;return re>0&&(ye=((a.x-T)*z+(a.y-C)*Q)/re,ye>1?(T=p.x,C=p.y):ye>0&&(T+=z*ye,C+=Q*ye)),z=a.x-T,Q=a.y-C,x?z*z+Q*Q:new he(T,C)}function tt(a){return!ce(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function pt(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),tt(a)}function Ot(a,c){var p,x,T,C,z,Q,re,ye;if(!a||a.length===0)throw new Error("latlngs not passed");tt(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Te=we([0,0]),Ie=Ee(a),Le=Ie.getNorthWest().distanceTo(Ie.getSouthWest())*Ie.getNorthEast().distanceTo(Ie.getNorthWest());Le<1700&&(Te=ha(a));var We=a.length,Nt=[];for(p=0;p<We;p++){var Bt=we(a[p]);Nt.push(c.project(we([Bt.lat-Te.lat,Bt.lng-Te.lng])))}for(p=0,x=0;p<We-1;p++)x+=Nt[p].distanceTo(Nt[p+1])/2;if(x===0)ye=Nt[0];else for(p=0,C=0;p<We-1;p++)if(z=Nt[p],Q=Nt[p+1],T=z.distanceTo(Q),C+=T,C>x){re=(C-x)/T,ye=[Q.x-re*(Q.x-z.x),Q.y-re*(Q.y-z.y)];break}var bn=c.unproject(k(ye));return we([bn.lat+Te.lat,bn.lng+Te.lng])}var Qn={__proto__:null,simplify:xn,pointToSegmentDistance:fa,closestPointOnSegment:gl,clipSegment:j,_getEdgeIntersection:X,_getBitCode:ne,_sqClosestPointOnSegment:Be,isFlat:tt,_flat:pt,polylineCenter:Ot},fi={project:function(a){return new he(a.lng,a.lat)},unproject:function(a){return new Ce(a.y,a.x)},bounds:new ae([-180,-90],[180,90])},Xn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ae([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var c=Math.PI/180,p=this.R,x=a.lat*c,T=this.R_MINOR/p,C=Math.sqrt(1-T*T),z=C*Math.sin(x),Q=Math.tan(Math.PI/4-x/2)/Math.pow((1-z)/(1+z),C/2);return x=-p*Math.log(Math.max(Q,1e-10)),new he(a.lng*c*p,x)},unproject:function(a){for(var c=180/Math.PI,p=this.R,x=this.R_MINOR/p,T=Math.sqrt(1-x*x),C=Math.exp(-a.y/p),z=Math.PI/2-2*Math.atan(C),Q=0,re=.1,ye;Q<15&&Math.abs(re)>1e-7;Q++)ye=T*Math.sin(z),ye=Math.pow((1-ye)/(1+ye),T/2),re=Math.PI/2-2*Math.atan(C*ye)-z,z+=re;return new Ce(z*c,a.x*c/p)}},Ri={__proto__:null,LonLat:fi,Mercator:Xn,SphericalMercator:hs},Ii=l({},it,{code:"EPSG:3395",projection:Xn,transformation:(function(){var a=.5/(Math.PI*Xn.R);return Fi(a,.5,-a,.5)})()}),ma=l({},it,{code:"EPSG:4326",projection:fi,transformation:Fi(1/180,1,-1/180,.5)}),Mf=l({},St,{projection:fi,transformation:Fi(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,c){var p=c.lng-a.lng,x=c.lat-a.lat;return Math.sqrt(p*p+x*x)},infinite:!0});St.Earth=it,St.EPSG3395=Ii,St.EPSG3857=cr,St.EPSG900913=ta,St.EPSG4326=ma,St.Simple=Mf;var ji=me.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[v(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[v(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var c=a.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var p=this.getEvents();c.on(p,this),this.once("remove",function(){c.off(p,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});$e.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var c=v(a);return this._layers[c]?this:(this._layers[c]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var c=v(a);return this._layers[c]?(this._loaded&&a.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return v(a)in this._layers},eachLayer:function(a,c){for(var p in this._layers)a.call(c,this._layers[p]);return this},_addLayers:function(a){a=a?ce(a)?a:[a]:[];for(var c=0,p=a.length;c<p;c++)this.addLayer(a[c])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[v(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var c=v(a);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,c=-1/0,p=this._getZoomSpan();for(var x in this._zoomBoundLayers){var T=this._zoomBoundLayers[x].options;a=T.minZoom===void 0?a:Math.min(a,T.minZoom),c=T.maxZoom===void 0?c:Math.max(c,T.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=a===1/0?void 0:a,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ns=ji.extend({initialize:function(a,c){K(this,c),this._layers={};var p,x;if(a)for(p=0,x=a.length;p<x;p++)this.addLayer(a[p])},addLayer:function(a){var c=this.getLayerId(a);return this._layers[c]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var c=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(a){var c=typeof a=="number"?a:this.getLayerId(a);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var c=Array.prototype.slice.call(arguments,1),p,x;for(p in this._layers)x=this._layers[p],x[a]&&x[a].apply(x,c);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,c){for(var p in this._layers)a.call(c,this._layers[p]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return v(a)}}),dh=function(a,c){return new Ns(a,c)},Jn=Ns.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Ns.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Ns.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new ve;for(var c in this._layers){var p=this._layers[c];a.extend(p.getBounds?p.getBounds():p.getLatLng())}return a}}),Eo=function(a,c){return new Jn(a,c)},pa=He.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){K(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,c){var p=this._getIconUrl(a);if(!p){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var x=this._createImg(p,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(x,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),x},_setIconStyles:function(a,c){var p=this.options,x=p[c+"Size"];typeof x=="number"&&(x=[x,x]);var T=k(x),C=k(c==="shadow"&&p.shadowAnchor||p.iconAnchor||T&&T.divideBy(2,!0));a.className="leaflet-marker-"+c+" "+(p.className||""),C&&(a.style.marginLeft=-C.x+"px",a.style.marginTop=-C.y+"px"),T&&(a.style.width=T.x+"px",a.style.height=T.y+"px")},_createImg:function(a,c){return c=c||document.createElement("img"),c.src=a,c},_getIconUrl:function(a){return je.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function yl(a){return new pa(a)}var ga=pa.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof ga.imagePath!="string"&&(ga.imagePath=this._detectIconPath()),(this.options.imagePath||ga.imagePath)+pa.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var c=function(p,x,T){var C=x.exec(p);return C&&C[T]};return a=c(a,/^url\((['"])?(.+)\1\)$/,2),a&&c(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=at("div","leaflet-default-icon-path",document.body),c=Yi(a,"background-image")||Yi(a,"backgroundImage");if(document.body.removeChild(a),c=this._stripUrl(c),c)return c;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),jc=kn.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Ci(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ne(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&yt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var c=this._marker,p=c._map,x=this._marker.options.autoPanSpeed,T=this._marker.options.autoPanPadding,C=Qi(c._icon),z=p.getPixelBounds(),Q=p.getPixelOrigin(),re=_e(z.min._subtract(Q).add(T),z.max._subtract(Q).subtract(T));if(!re.contains(C)){var ye=k((Math.max(re.max.x,C.x)-re.max.x)/(z.max.x-re.max.x)-(Math.min(re.min.x,C.x)-re.min.x)/(z.min.x-re.min.x),(Math.max(re.max.y,C.y)-re.max.y)/(z.max.y-re.max.y)-(Math.min(re.min.y,C.y)-re.min.y)/(z.min.y-re.min.y)).multiplyBy(x);p.panBy(ye,{animate:!1}),this._draggable._newPos._add(ye),this._draggable._startPos._add(ye),jt(c._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=M(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(q(this._panRequest),this._panRequest=M(this._adjustPan.bind(this,a)))},_onDrag:function(a){var c=this._marker,p=c._shadow,x=Qi(c._icon),T=c._map.layerPointToLatLng(x);p&&jt(p,x),c._latlng=T,a.latlng=T,a.oldLatLng=this._oldLatLng,c.fire("move",a).fire("drag",a)},_onDragEnd:function(a){q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),ya=ji.extend({options:{icon:new ga,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,c){K(this,c),this._latlng=we(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var c=this._latlng;return this._latlng=we(a),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=a.icon.createIcon(this._icon),x=!1;p!==this._icon&&(this._icon&&this._removeIcon(),x=!0,a.title&&(p.title=a.title),p.tagName==="IMG"&&(p.alt=a.alt||"")),Ne(p,c),a.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ze(p,"focus",this._panOnFocus,this);var T=a.icon.createShadow(this._shadow),C=!1;T!==this._shadow&&(this._removeShadow(),C=!0),T&&(Ne(T,c),T.alt=""),this._shadow=T,a.opacity<1&&this._updateOpacity(),x&&this.getPane().appendChild(this._icon),this._initInteraction(),T&&C&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ht(this._icon,"focus",this._panOnFocus,this),ut(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ut(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&jt(this._icon,a),this._shadow&&jt(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Ne(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),jc)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new jc(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&pn(this._icon,a),this._shadow&&pn(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var c=this.options.icon.options,p=c.iconSize?k(c.iconSize):k(0,0),x=c.iconAnchor?k(c.iconAnchor):k(0,0);a.panInside(this._latlng,{paddingTopLeft:x,paddingBottomRight:p.subtract(x)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Pc(a,c){return new ya(a,c)}var br=ji.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return K(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),To=br.extend({options:{fill:!0,radius:10},initialize:function(a,c){K(this,c),this._latlng=we(a),this._radius=this.options.radius},setLatLng:function(a){var c=this._latlng;return this._latlng=we(a),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var c=a&&a.radius||this._radius;return br.prototype.setStyle.call(this,a),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,c=this._radiusY||a,p=this._clickTolerance(),x=[a+p,c+p];this._pxBounds=new ae(this._point.subtract(x),this._point.add(x))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function fh(a,c){return new To(a,c)}var Lc=To.extend({initialize:function(a,c,p){if(typeof c=="number"&&(c=l({},p,{radius:c})),K(this,c),this._latlng=we(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new ve(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:br.prototype.setStyle,_project:function(){var a=this._latlng.lng,c=this._latlng.lat,p=this._map,x=p.options.crs;if(x.distance===it.distance){var T=Math.PI/180,C=this._mRadius/it.R/T,z=p.project([c+C,a]),Q=p.project([c-C,a]),re=z.add(Q).divideBy(2),ye=p.unproject(re).lat,Te=Math.acos((Math.cos(C*T)-Math.sin(c*T)*Math.sin(ye*T))/(Math.cos(c*T)*Math.cos(ye*T)))/T;(isNaN(Te)||Te===0)&&(Te=C/Math.cos(Math.PI/180*c)),this._point=re.subtract(p.getPixelOrigin()),this._radius=isNaN(Te)?0:re.x-p.project([ye,a-Te]).x,this._radiusY=re.y-z.y}else{var Ie=x.unproject(x.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(Ie).x}this._updateBounds()}});function Vf(a,c,p){return new Lc(a,c,p)}var wr=br.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,c){K(this,c),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var c=1/0,p=null,x=Be,T,C,z=0,Q=this._parts.length;z<Q;z++)for(var re=this._parts[z],ye=1,Te=re.length;ye<Te;ye++){T=re[ye-1],C=re[ye];var Ie=x(a,T,C,!0);Ie<c&&(c=Ie,p=x(a,T,C))}return p&&(p.distance=Math.sqrt(c)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ot(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,c){return c=c||this._defaultShape(),a=we(a),c.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new ve,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return tt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var c=[],p=tt(a),x=0,T=a.length;x<T;x++)p?(c[x]=we(a[x]),this._bounds.extend(c[x])):c[x]=this._convertLatLngs(a[x]);return c},_project:function(){var a=new ae;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),c=new he(a,a);this._rawPxBounds&&(this._pxBounds=new ae([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(a,c,p){var x=a[0]instanceof Ce,T=a.length,C,z;if(x){for(z=[],C=0;C<T;C++)z[C]=this._map.latLngToLayerPoint(a[C]),p.extend(z[C]);c.push(z)}else for(C=0;C<T;C++)this._projectLatlngs(a[C],c,p)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,p,x,T,C,z,Q,re;for(p=0,T=0,C=this._rings.length;p<C;p++)for(re=this._rings[p],x=0,z=re.length;x<z-1;x++)Q=j(re[x],re[x+1],a,x,!0),Q&&(c[T]=c[T]||[],c[T].push(Q[0]),(Q[1]!==re[x+1]||x===z-2)&&(c[T].push(Q[1]),T++))}},_simplifyPoints:function(){for(var a=this._parts,c=this.options.smoothFactor,p=0,x=a.length;p<x;p++)a[p]=xn(a[p],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,c){var p,x,T,C,z,Q,re=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(p=0,C=this._parts.length;p<C;p++)for(Q=this._parts[p],x=0,z=Q.length,T=z-1;x<z;T=x++)if(!(!c&&x===0)&&fa(a,Q[T],Q[x])<=re)return!0;return!1}});function Uf(a,c){return new wr(a,c)}wr._flat=pt;var _a=wr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return As(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var c=wr.prototype._convertLatLngs.call(this,a),p=c.length;return p>=2&&c[0]instanceof Ce&&c[0].equals(c[p-1])&&c.pop(),c},_setLatLngs:function(a){wr.prototype._setLatLngs.call(this,a),tt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return tt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,c=this.options.weight,p=new he(c,c);if(a=new ae(a.min.subtract(p),a.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var x=0,T=this._rings.length,C;x<T;x++)C=wo(this._rings[x],a,!0),C.length&&this._parts.push(C)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var c=!1,p,x,T,C,z,Q,re,ye;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(C=0,re=this._parts.length;C<re;C++)for(p=this._parts[C],z=0,ye=p.length,Q=ye-1;z<ye;Q=z++)x=p[z],T=p[Q],x.y>a.y!=T.y>a.y&&a.x<(T.x-x.x)*(a.y-x.y)/(T.y-x.y)+x.x&&(c=!c);return c||wr.prototype._containsPoint.call(this,a,!0)}});function ei(a,c){return new _a(a,c)}var ti=Jn.extend({initialize:function(a,c){K(this,c),this._layers={},a&&this.addData(a)},addData:function(a){var c=ce(a)?a:a.features,p,x,T;if(c){for(p=0,x=c.length;p<x;p++)T=c[p],(T.geometries||T.geometry||T.features||T.coordinates)&&this.addData(T);return this}var C=this.options;if(C.filter&&!C.filter(a))return this;var z=So(a,C);return z?(z.feature=va(a),z.defaultOptions=z.options,this.resetStyle(z),C.onEachFeature&&C.onEachFeature(a,z),this.addLayer(z)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=l({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(c){this._setLayerStyle(c,a)},this)},_setLayerStyle:function(a,c){a.setStyle&&(typeof c=="function"&&(c=c(a.feature)),a.setStyle(c))}});function So(a,c){var p=a.type==="Feature"?a.geometry:a,x=p?p.coordinates:null,T=[],C=c&&c.pointToLayer,z=c&&c.coordsToLatLng||_l,Q,re,ye,Te;if(!x&&!p)return null;switch(p.type){case"Point":return Q=z(x),Oc(C,a,Q,c);case"MultiPoint":for(ye=0,Te=x.length;ye<Te;ye++)Q=z(x[ye]),T.push(Oc(C,a,Q,c));return new Jn(T);case"LineString":case"MultiLineString":return re=Ao(x,p.type==="LineString"?0:1,z),new wr(re,c);case"Polygon":case"MultiPolygon":return re=Ao(x,p.type==="Polygon"?1:2,z),new _a(re,c);case"GeometryCollection":for(ye=0,Te=p.geometries.length;ye<Te;ye++){var Ie=So({geometry:p.geometries[ye],type:"Feature",properties:a.properties},c);Ie&&T.push(Ie)}return new Jn(T);case"FeatureCollection":for(ye=0,Te=p.features.length;ye<Te;ye++){var Le=So(p.features[ye],c);Le&&T.push(Le)}return new Jn(T);default:throw new Error("Invalid GeoJSON object.")}}function Oc(a,c,p,x){return a?a(c,p):new ya(p,x&&x.markersInheritOptions&&x)}function _l(a){return new Ce(a[1],a[0],a[2])}function Ao(a,c,p){for(var x=[],T=0,C=a.length,z;T<C;T++)z=c?Ao(a[T],c-1,p):(p||_l)(a[T]),x.push(z);return x}function No(a,c){return a=we(a),a.alt!==void 0?[I(a.lng,c),I(a.lat,c),I(a.alt,c)]:[I(a.lng,c),I(a.lat,c)]}function vl(a,c,p,x){for(var T=[],C=0,z=a.length;C<z;C++)T.push(c?vl(a[C],tt(a[C])?0:c-1,p,x):No(a[C],x));return!c&&p&&T.length>0&&T.push(T[0].slice()),T}function Pi(a,c){return a.feature?l({},a.feature,{geometry:c}):va(c)}function va(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Cs={toGeoJSON:function(a){return Pi(this,{type:"Point",coordinates:No(this.getLatLng(),a)})}};ya.include(Cs),Lc.include(Cs),To.include(Cs),wr.include({toGeoJSON:function(a){var c=!tt(this._latlngs),p=vl(this._latlngs,c?1:0,!1,a);return Pi(this,{type:(c?"Multi":"")+"LineString",coordinates:p})}}),_a.include({toGeoJSON:function(a){var c=!tt(this._latlngs),p=c&&!tt(this._latlngs[0]),x=vl(this._latlngs,p?2:c?1:0,!0,a);return c||(x=[x]),Pi(this,{type:(p?"Multi":"")+"Polygon",coordinates:x})}}),Ns.include({toMultiPoint:function(a){var c=[];return this.eachLayer(function(p){c.push(p.toGeoJSON(a).geometry.coordinates)}),Pi(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(a){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(a);var p=c==="GeometryCollection",x=[];return this.eachLayer(function(T){if(T.toGeoJSON){var C=T.toGeoJSON(a);if(p)x.push(C.geometry);else{var z=va(C);z.type==="FeatureCollection"?x.push.apply(x,z.features):x.push(z)}}}),p?Pi(this,{geometries:x,type:"GeometryCollection"}):{type:"FeatureCollection",features:x}}});function xl(a,c){return new ti(a,c)}var mh=xl,tr=ji.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,c,p){this._url=a,this._bounds=Ee(c),K(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ne(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ut(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Wn(this._image),this},bringToBack:function(){return this._map&&di(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=Ee(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",c=this._image=a?this._url:at("img");if(Ne(c,"leaflet-image-layer"),this._zoomAnimated&&Ne(c,"leaflet-zoom-animated"),this.options.className&&Ne(c,this.options.className),c.onselectstart=N,c.onmousemove=N,c.onload=f(this.fire,this,"load"),c.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(a){var c=this._map.getZoomScale(a.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Ln(this._image,p,c)},_reset:function(){var a=this._image,c=new ae(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=c.getSize();jt(a,c.min),a.style.width=p.x+"px",a.style.height=p.y+"px"},_updateOpacity:function(){pn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),xa=function(a,c,p){return new tr(a,c,p)},bl=tr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",c=this._image=a?this._url:at("video");if(Ne(c,"leaflet-image-layer"),this._zoomAnimated&&Ne(c,"leaflet-zoom-animated"),this.options.className&&Ne(c,this.options.className),c.onselectstart=N,c.onmousemove=N,c.onloadeddata=f(this.fire,this,"load"),a){for(var p=c.getElementsByTagName("source"),x=[],T=0;T<p.length;T++)x.push(p[T].src);this._url=p.length>0?x:[c.src];return}ce(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var C=0;C<this._url.length;C++){var z=at("source");z.src=this._url[C],c.appendChild(z)}}});function ph(a,c,p){return new bl(a,c,p)}var Zr=tr.extend({_initImage:function(){var a=this._image=this._url;Ne(a,"leaflet-image-layer"),this._zoomAnimated&&Ne(a,"leaflet-zoom-animated"),this.options.className&&Ne(a,this.options.className),a.onselectstart=N,a.onmousemove=N}});function gh(a,c,p){return new Zr(a,c,p)}var Li=ji.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,c){a&&(a instanceof Ce||ce(a))?(this._latlng=we(a),K(this,c)):(K(this,a),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&pn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&pn(this._container,1),this.bringToFront(),this.options.interactive&&(Ne(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(pn(this._container,0),this._removeTimeout=setTimeout(f(ut,void 0,this._container),200)):ut(this._container),this.options.interactive&&(yt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=we(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Wn(this._container),this},bringToBack:function(){return this._map&&di(this._container),this},_prepareOpen:function(a){var c=this._source;if(!c._map)return!1;if(c instanceof Jn){c=null;var p=this._source._layers;for(var x in p)if(p[x]._map){c=p[x];break}if(!c)return!1;this._source=c}if(!a)if(c.getCenter)a=c.getCenter();else if(c.getLatLng)a=c.getLatLng();else if(c.getBounds)a=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")a.innerHTML=c;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),c=k(this.options.offset),p=this._getAnchor();this._zoomAnimated?jt(this._container,a.add(p)):c=c.add(a).add(p);var x=this._containerBottom=-c.y,T=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=x+"px",this._container.style.left=T+"px"}},_getAnchor:function(){return[0,0]}});$e.include({_initOverlay:function(a,c,p,x){var T=c;return T instanceof a||(T=new a(x).setContent(c)),p&&T.setLatLng(p),T}}),ji.include({_initOverlay:function(a,c,p,x){var T=p;return T instanceof a?(K(T,x),T._source=this):(T=c&&!x?c:new a(x,this),T.setContent(p)),T}});var Co=Li.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Li.prototype.openOn.call(this,a)},onAdd:function(a){Li.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof br||this._source.on("preclick",dt))},onRemove:function(a){Li.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof br||this._source.off("preclick",dt))},getEvents:function(){var a=Li.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",c=this._container=at("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=at("div",a+"-content-wrapper",c);if(this._contentNode=at("div",a+"-content",p),Hr(c),Fr(this._contentNode),ze(c,"contextmenu",dt),this._tipContainer=at("div",a+"-tip-container",c),this._tip=at("div",a+"-tip",this._tipContainer),this.options.closeButton){var x=this._closeButton=at("a",a+"-close-button",c);x.setAttribute("role","button"),x.setAttribute("aria-label","Close popup"),x.href="#close",x.innerHTML='<span aria-hidden="true">&#215;</span>',ze(x,"click",function(T){Pt(T),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,c=a.style;c.width="",c.whiteSpace="nowrap";var p=a.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),c.width=p+1+"px",c.whiteSpace="",c.height="";var x=a.offsetHeight,T=this.options.maxHeight,C="leaflet-popup-scrolled";T&&x>T?(c.height=T+"px",Ne(a,C)):yt(a,C),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),p=this._getAnchor();jt(this._container,c.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,c=parseInt(Yi(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+c,x=this._containerWidth,T=new he(this._containerLeft,-p-this._containerBottom);T._add(Qi(this._container));var C=a.layerPointToContainerPoint(T),z=k(this.options.autoPanPadding),Q=k(this.options.autoPanPaddingTopLeft||z),re=k(this.options.autoPanPaddingBottomRight||z),ye=a.getSize(),Te=0,Ie=0;C.x+x+re.x>ye.x&&(Te=C.x+x-ye.x+re.x),C.x-Te-Q.x<0&&(Te=C.x-Q.x),C.y+p+re.y>ye.y&&(Ie=C.y+p-ye.y+re.y),C.y-Ie-Q.y<0&&(Ie=C.y-Q.y),(Te||Ie)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([Te,Ie]))}},_getAnchor:function(){return k(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),zf=function(a,c){return new Co(a,c)};$e.mergeOptions({closePopupOnClick:!0}),$e.include({openPopup:function(a,c,p){return this._initOverlay(Co,a,c,p).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),ji.include({bindPopup:function(a,c){return this._popup=this._initOverlay(Co,this._popup,a,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Jn||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){$n(a);var c=a.layer||a.target;if(this._popup._source===c&&!(c instanceof br)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=c,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var wl=Li.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Li.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Li.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Li.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",c=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=at("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var c,p,x=this._map,T=this._container,C=x.latLngToContainerPoint(x.getCenter()),z=x.layerPointToContainerPoint(a),Q=this.options.direction,re=T.offsetWidth,ye=T.offsetHeight,Te=k(this.options.offset),Ie=this._getAnchor();Q==="top"?(c=re/2,p=ye):Q==="bottom"?(c=re/2,p=0):Q==="center"?(c=re/2,p=ye/2):Q==="right"?(c=0,p=ye/2):Q==="left"?(c=re,p=ye/2):z.x<C.x?(Q="right",c=0,p=ye/2):(Q="left",c=re+(Te.x+Ie.x)*2,p=ye/2),a=a.subtract(k(c,p,!0)).add(Te).add(Ie),yt(T,"leaflet-tooltip-right"),yt(T,"leaflet-tooltip-left"),yt(T,"leaflet-tooltip-top"),yt(T,"leaflet-tooltip-bottom"),Ne(T,"leaflet-tooltip-"+Q),jt(T,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&pn(this._container,a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(c)},_getAnchor:function(){return k(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Bf=function(a,c){return new wl(a,c)};$e.include({openTooltip:function(a,c,p){return this._initOverlay(wl,a,c,p).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),ji.include({bindTooltip:function(a,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(wl,this._tooltip,a,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var c=a?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[c](p),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Jn||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&(ze(c,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),ze(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var c=a.latlng,p,x;this._tooltip.options.sticky&&a.originalEvent&&(p=this._map.mouseEventToContainerPoint(a.originalEvent),x=this._map.containerPointToLayerPoint(p),c=this._map.layerPointToLatLng(x)),this._tooltip.setLatLng(c)}});var kc=pa.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var c=a&&a.tagName==="DIV"?a:document.createElement("div"),p=this.options;if(p.html instanceof Element?(bt(c),c.appendChild(p.html)):c.innerHTML=p.html!==!1?p.html:"",p.bgPos){var x=k(p.bgPos);c.style.backgroundPosition=-x.x+"px "+-x.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function yh(a){return new kc(a)}pa.Default=ga;var Rs=ji.extend({options:{tileSize:256,opacity:1,updateWhenIdle:je.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){K(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),ut(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Wn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(di(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=b(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof he?a:new he(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var c=this.getPane().children,p=-a(-1/0,1/0),x=0,T=c.length,C;x<T;x++)C=c[x].style.zIndex,c[x]!==this._container&&C&&(p=a(p,+C));isFinite(p)&&(this.options.zIndex=p+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!je.ielt9){pn(this._container,this.options.opacity);var a=+new Date,c=!1,p=!1;for(var x in this._tiles){var T=this._tiles[x];if(!(!T.current||!T.loaded)){var C=Math.min(1,(a-T.loaded)/200);pn(T.el,C),C<1?c=!0:(T.active?p=!0:this._onOpaqueTile(T),T.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),c&&(q(this._fadeFrame),this._fadeFrame=M(this._updateOpacity,this))}},_onOpaqueTile:N,_initContainer:function(){this._container||(this._container=at("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,c=this.options.maxZoom;if(a!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===a?(this._levels[p].el.style.zIndex=c-Math.abs(a-p),this._onUpdateLevel(p)):(ut(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var x=this._levels[a],T=this._map;return x||(x=this._levels[a]={},x.el=at("div","leaflet-tile-container leaflet-zoom-animated",this._container),x.el.style.zIndex=c,x.origin=T.project(T.unproject(T.getPixelOrigin()),a).round(),x.zoom=a,this._setZoomTransform(x,T.getCenter(),T.getZoom()),N(x.el.offsetWidth),this._onCreateLevel(x)),this._level=x,x}},_onUpdateLevel:N,_onRemoveLevel:N,_onCreateLevel:N,_pruneTiles:function(){if(this._map){var a,c,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)c=this._tiles[a],c.retain=c.current;for(a in this._tiles)if(c=this._tiles[a],c.current&&!c.active){var x=c.coords;this._retainParent(x.x,x.y,x.z,x.z-5)||this._retainChildren(x.x,x.y,x.z,x.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var c in this._tiles)this._tiles[c].coords.z===a&&this._removeTile(c)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)ut(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,c,p,x){var T=Math.floor(a/2),C=Math.floor(c/2),z=p-1,Q=new he(+T,+C);Q.z=+z;var re=this._tileCoordsToKey(Q),ye=this._tiles[re];return ye&&ye.active?(ye.retain=!0,!0):(ye&&ye.loaded&&(ye.retain=!0),z>x?this._retainParent(T,C,z,x):!1)},_retainChildren:function(a,c,p,x){for(var T=2*a;T<2*a+2;T++)for(var C=2*c;C<2*c+2;C++){var z=new he(T,C);z.z=p+1;var Q=this._tileCoordsToKey(z),re=this._tiles[Q];if(re&&re.active){re.retain=!0;continue}else re&&re.loaded&&(re.retain=!0);p+1<x&&this._retainChildren(T,C,p+1,x)}},_resetView:function(a){var c=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var c=this.options;return c.minNativeZoom!==void 0&&a<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<a?c.maxNativeZoom:a},_setView:function(a,c,p,x){var T=Math.round(c);this.options.maxZoom!==void 0&&T>this.options.maxZoom||this.options.minZoom!==void 0&&T<this.options.minZoom?T=void 0:T=this._clampZoom(T);var C=this.options.updateWhenZooming&&T!==this._tileZoom;(!x||C)&&(this._tileZoom=T,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),T!==void 0&&this._update(a),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(a,c)},_setZoomTransforms:function(a,c){for(var p in this._levels)this._setZoomTransform(this._levels[p],a,c)},_setZoomTransform:function(a,c,p){var x=this._map.getZoomScale(p,a.zoom),T=a.origin.multiplyBy(x).subtract(this._map._getNewPixelOrigin(c,p)).round();je.any3d?Ln(a.el,T,x):jt(a.el,T)},_resetGrid:function(){var a=this._map,c=a.options.crs,p=this._tileSize=this.getTileSize(),x=this._tileZoom,T=this._map.getPixelWorldBounds(this._tileZoom);T&&(this._globalTileRange=this._pxBoundsToTileRange(T)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,c.wrapLng[0]],x).x/p.x),Math.ceil(a.project([0,c.wrapLng[1]],x).x/p.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([c.wrapLat[0],0],x).y/p.x),Math.ceil(a.project([c.wrapLat[1],0],x).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var c=this._map,p=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),x=c.getZoomScale(p,this._tileZoom),T=c.project(a,this._tileZoom).floor(),C=c.getSize().divideBy(x*2);return new ae(T.subtract(C),T.add(C))},_update:function(a){var c=this._map;if(c){var p=this._clampZoom(c.getZoom());if(a===void 0&&(a=c.getCenter()),this._tileZoom!==void 0){var x=this._getTiledPixelBounds(a),T=this._pxBoundsToTileRange(x),C=T.getCenter(),z=[],Q=this.options.keepBuffer,re=new ae(T.getBottomLeft().subtract([Q,-Q]),T.getTopRight().add([Q,-Q]));if(!(isFinite(T.min.x)&&isFinite(T.min.y)&&isFinite(T.max.x)&&isFinite(T.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ye in this._tiles){var Te=this._tiles[ye].coords;(Te.z!==this._tileZoom||!re.contains(new he(Te.x,Te.y)))&&(this._tiles[ye].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(a,p);return}for(var Ie=T.min.y;Ie<=T.max.y;Ie++)for(var Le=T.min.x;Le<=T.max.x;Le++){var We=new he(Le,Ie);if(We.z=this._tileZoom,!!this._isValidTile(We)){var Nt=this._tiles[this._tileCoordsToKey(We)];Nt?Nt.current=!0:z.push(We)}}if(z.sort(function(bn,mi){return bn.distanceTo(C)-mi.distanceTo(C)}),z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Bt=document.createDocumentFragment();for(Le=0;Le<z.length;Le++)this._addTile(z[Le],Bt);this._level.el.appendChild(Bt)}}}},_isValidTile:function(a){var c=this._map.options.crs;if(!c.infinite){var p=this._globalTileRange;if(!c.wrapLng&&(a.x<p.min.x||a.x>p.max.x)||!c.wrapLat&&(a.y<p.min.y||a.y>p.max.y))return!1}if(!this.options.bounds)return!0;var x=this._tileCoordsToBounds(a);return Ee(this.options.bounds).overlaps(x)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var c=this._map,p=this.getTileSize(),x=a.scaleBy(p),T=x.add(p),C=c.unproject(x,a.z),z=c.unproject(T,a.z);return[C,z]},_tileCoordsToBounds:function(a){var c=this._tileCoordsToNwSe(a),p=new ve(c[0],c[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var c=a.split(":"),p=new he(+c[0],+c[1]);return p.z=+c[2],p},_removeTile:function(a){var c=this._tiles[a];c&&(ut(c.el),delete this._tiles[a],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Ne(a,"leaflet-tile");var c=this.getTileSize();a.style.width=c.x+"px",a.style.height=c.y+"px",a.onselectstart=N,a.onmousemove=N,je.ielt9&&this.options.opacity<1&&pn(a,this.options.opacity)},_addTile:function(a,c){var p=this._getTilePos(a),x=this._tileCoordsToKey(a),T=this.createTile(this._wrapCoords(a),f(this._tileReady,this,a));this._initTile(T),this.createTile.length<2&&M(f(this._tileReady,this,a,null,T)),jt(T,p),this._tiles[x]={el:T,coords:a,current:!0},c.appendChild(T),this.fire("tileloadstart",{tile:T,coords:a})},_tileReady:function(a,c,p){c&&this.fire("tileerror",{error:c,tile:p,coords:a});var x=this._tileCoordsToKey(a);p=this._tiles[x],p&&(p.loaded=+new Date,this._map._fadeAnimated?(pn(p.el,0),q(this._fadeFrame),this._fadeFrame=M(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),c||(Ne(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),je.ielt9||!this._map._fadeAnimated?M(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var c=new he(this._wrapX?E(a.x,this._wrapX):a.x,this._wrapY?E(a.y,this._wrapY):a.y);return c.z=a.z,c},_pxBoundsToTileRange:function(a){var c=this.getTileSize();return new ae(a.min.unscaleBy(c).floor(),a.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function Oi(a){return new Rs(a)}var Is=Rs.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,c){this._url=a,c=K(this,c),c.detectRetina&&je.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,c){return this._url===a&&c===void 0&&(c=!0),this._url=a,c||this.redraw(),this},createTile:function(a,c){var p=document.createElement("img");return ze(p,"load",f(this._tileOnLoad,this,c,p)),ze(p,"error",f(this._tileOnError,this,c,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(a),p},getTileUrl:function(a){var c={r:je.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-a.y;this.options.tms&&(c.y=p),c["-y"]=p}return le(this._url,l(c,this.options))},_tileOnLoad:function(a,c){je.ielt9?setTimeout(f(a,this,null,c),0):a(null,c)},_tileOnError:function(a,c,p){var x=this.options.errorTileUrl;x&&c.getAttribute("src")!==x&&(c.src=x),a(p,c)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,c=this.options.maxZoom,p=this.options.zoomReverse,x=this.options.zoomOffset;return p&&(a=c-a),a+x},_getSubdomain:function(a){var c=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var a,c;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(c=this._tiles[a].el,c.onload=N,c.onerror=N,!c.complete)){c.src=xe;var p=this._tiles[a].coords;ut(c),delete this._tiles[a],this.fire("tileabort",{tile:c,coords:p})}},_removeTile:function(a){var c=this._tiles[a];if(c)return c.el.setAttribute("src",xe),Rs.prototype._removeTile.call(this,a)},_tileReady:function(a,c,p){if(!(!this._map||p&&p.getAttribute("src")===xe))return Rs.prototype._tileReady.call(this,a,c,p)}});function ni(a,c){return new Is(a,c)}var ii=Is.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,c){this._url=a;var p=l({},this.defaultWmsParams);for(var x in c)x in this.options||(p[x]=c[x]);c=K(this,c);var T=c.detectRetina&&je.retina?2:1,C=this.getTileSize();p.width=C.x*T,p.height=C.y*T,this.wmsParams=p},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,Is.prototype.onAdd.call(this,a)},getTileUrl:function(a){var c=this._tileCoordsToNwSe(a),p=this._crs,x=_e(p.project(c[0]),p.project(c[1])),T=x.min,C=x.max,z=(this._wmsVersion>=1.3&&this._crs===ma?[T.y,T.x,C.y,C.x]:[T.x,T.y,C.x,C.y]).join(","),Q=Is.prototype.getTileUrl.call(this,a);return Q+H(this.wmsParams,Q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+z},setParams:function(a,c){return l(this.wmsParams,a),c||this.redraw(),this}});function ba(a,c){return new ii(a,c)}Is.WMS=ii,ni.wms=ba;var ki=ji.extend({options:{padding:.1},initialize:function(a){K(this,a),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ne(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,c){var p=this._map.getZoomScale(c,this._zoom),x=this._map.getSize().multiplyBy(.5+this.options.padding),T=this._map.project(this._center,c),C=x.multiplyBy(-p).add(T).subtract(this._map._getNewPixelOrigin(a,c));je.any3d?Ln(this._container,C,p):jt(this._container,C)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,c=this._map.getSize(),p=this._map.containerPointToLayerPoint(c.multiplyBy(-a)).round();this._bounds=new ae(p,p.add(c.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ro=ki.extend({options:{tolerance:0},getEvents:function(){var a=ki.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ki.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");ze(a,"mousemove",this._onMouseMove,this),ze(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ze(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){q(this._redrawRequest),delete this._ctx,ut(this._container),ht(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var c in this._layers)a=this._layers[c],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ki.prototype._update.call(this);var a=this._bounds,c=this._container,p=a.getSize(),x=je.retina?2:1;jt(c,a.min),c.width=x*p.x,c.height=x*p.y,c.style.width=p.x+"px",c.style.height=p.y+"px",je.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){ki.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[v(a)]=a;var c=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var c=a._order,p=c.next,x=c.prev;p?p.prev=x:this._drawLast=x,x?x.next=p:this._drawFirst=p,delete a._order,delete this._layers[v(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var c=a.options.dashArray.split(/[, ]+/),p=[],x,T;for(T=0;T<c.length;T++){if(x=Number(c[T]),isNaN(x))return;p.push(x)}a.options._dashArray=p}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||M(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var c=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ae,this._redrawBounds.extend(a._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(a._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var c=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,c=this._redrawBounds;if(this._ctx.save(),c){var p=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var x=this._drawFirst;x;x=x.next)a=x.layer,(!c||a._pxBounds&&a._pxBounds.intersects(c))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,c){if(this._drawing){var p,x,T,C,z=a._parts,Q=z.length,re=this._ctx;if(Q){for(re.beginPath(),p=0;p<Q;p++){for(x=0,T=z[p].length;x<T;x++)C=z[p][x],re[x?"lineTo":"moveTo"](C.x,C.y);c&&re.closePath()}this._fillStroke(re,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var c=a._point,p=this._ctx,x=Math.max(Math.round(a._radius),1),T=(Math.max(Math.round(a._radiusY),1)||x)/x;T!==1&&(p.save(),p.scale(1,T)),p.beginPath(),p.arc(c.x,c.y/T,x,0,Math.PI*2,!1),T!==1&&p.restore(),this._fillStroke(p,a)}},_fillStroke:function(a,c){var p=c.options;p.fill&&(a.globalAlpha=p.fillOpacity,a.fillStyle=p.fillColor||p.color,a.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(a.setLineDash&&a.setLineDash(c.options&&c.options._dashArray||[]),a.globalAlpha=p.opacity,a.lineWidth=p.weight,a.strokeStyle=p.color,a.lineCap=p.lineCap,a.lineJoin=p.lineJoin,a.stroke())},_onClick:function(a){for(var c=this._map.mouseEventToLayerPoint(a),p,x,T=this._drawFirst;T;T=T.next)p=T.layer,p.options.interactive&&p._containsPoint(c)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(p))&&(x=p);this._fireEvent(x?[x]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,c)}},_handleMouseOut:function(a){var c=this._hoveredLayer;c&&(yt(this._container,"leaflet-interactive"),this._fireEvent([c],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,c){if(!this._mouseHoverThrottled){for(var p,x,T=this._drawFirst;T;T=T.next)p=T.layer,p.options.interactive&&p._containsPoint(c)&&(x=p);x!==this._hoveredLayer&&(this._handleMouseOut(a),x&&(Ne(this._container,"leaflet-interactive"),this._fireEvent([x],a,"mouseover"),this._hoveredLayer=x)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,c,p){this._map._fireDOMEvent(c,p||c.type,a)},_bringToFront:function(a){var c=a._order;if(c){var p=c.next,x=c.prev;if(p)p.prev=x;else return;x?x.next=p:p&&(this._drawFirst=p),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(a)}},_bringToBack:function(a){var c=a._order;if(c){var p=c.next,x=c.prev;if(x)x.next=p;else return;p?p.prev=x:x&&(this._drawLast=x),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(a)}}});function Io(a){return je.canvas?new Ro(a):null}var js=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),wa={_initContainer:function(){this._container=at("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ki.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var c=a._container=js("shape");Ne(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",a._path=js("path"),c.appendChild(a._path),this._updateStyle(a),this._layers[v(a)]=a},_addPath:function(a){var c=a._container;this._container.appendChild(c),a.options.interactive&&a.addInteractiveTarget(c)},_removePath:function(a){var c=a._container;ut(c),a.removeInteractiveTarget(c),delete this._layers[v(a)]},_updateStyle:function(a){var c=a._stroke,p=a._fill,x=a.options,T=a._container;T.stroked=!!x.stroke,T.filled=!!x.fill,x.stroke?(c||(c=a._stroke=js("stroke")),T.appendChild(c),c.weight=x.weight+"px",c.color=x.color,c.opacity=x.opacity,x.dashArray?c.dashStyle=ce(x.dashArray)?x.dashArray.join(" "):x.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=x.lineCap.replace("butt","flat"),c.joinstyle=x.lineJoin):c&&(T.removeChild(c),a._stroke=null),x.fill?(p||(p=a._fill=js("fill")),T.appendChild(p),p.color=x.fillColor||x.color,p.opacity=x.fillOpacity):p&&(T.removeChild(p),a._fill=null)},_updateCircle:function(a){var c=a._point.round(),p=Math.round(a._radius),x=Math.round(a._radiusY||p);this._setPath(a,a._empty()?"M0 0":"AL "+c.x+","+c.y+" "+p+","+x+" 0,"+65535*360)},_setPath:function(a,c){a._path.v=c},_bringToFront:function(a){Wn(a._container)},_bringToBack:function(a){di(a._container)}},jo=je.vml?js:sl,Wr=ki.extend({_initContainer:function(){this._container=jo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=jo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ut(this._container),ht(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ki.prototype._update.call(this);var a=this._bounds,c=a.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,p.setAttribute("width",c.x),p.setAttribute("height",c.y)),jt(p,a.min),p.setAttribute("viewBox",[a.min.x,a.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(a){var c=a._path=jo("path");a.options.className&&Ne(c,a.options.className),a.options.interactive&&Ne(c,"leaflet-interactive"),this._updateStyle(a),this._layers[v(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){ut(a._path),a.removeInteractiveTarget(a._path),delete this._layers[v(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var c=a._path,p=a.options;c&&(p.stroke?(c.setAttribute("stroke",p.color),c.setAttribute("stroke-opacity",p.opacity),c.setAttribute("stroke-width",p.weight),c.setAttribute("stroke-linecap",p.lineCap),c.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?c.setAttribute("stroke-dasharray",p.dashArray):c.removeAttribute("stroke-dasharray"),p.dashOffset?c.setAttribute("stroke-dashoffset",p.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),p.fill?(c.setAttribute("fill",p.fillColor||p.color),c.setAttribute("fill-opacity",p.fillOpacity),c.setAttribute("fill-rule",p.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(a,c){this._setPath(a,na(a._parts,c))},_updateCircle:function(a){var c=a._point,p=Math.max(Math.round(a._radius),1),x=Math.max(Math.round(a._radiusY),1)||p,T="a"+p+","+x+" 0 1,0 ",C=a._empty()?"M0 0":"M"+(c.x-p)+","+c.y+T+p*2+",0 "+T+-p*2+",0 ";this._setPath(a,C)},_setPath:function(a,c){a._path.setAttribute("d",c)},_bringToFront:function(a){Wn(a._path)},_bringToBack:function(a){di(a._path)}});je.vml&&Wr.include(wa);function Ps(a){return je.svg||je.vml?new Wr(a):null}$e.include({getRenderer:function(a){var c=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var c=this._paneRenderers[a];return c===void 0&&(c=this._createRenderer({pane:a}),this._paneRenderers[a]=c),c},_createRenderer:function(a){return this.options.preferCanvas&&Io(a)||Ps(a)}});var _h=_a.extend({initialize:function(a,c){_a.prototype.initialize.call(this,this._boundsToLatLngs(a),c)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=Ee(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function ri(a,c){return new _h(a,c)}Wr.create=jo,Wr.pointsToPath=na,ti.geometryToLayer=So,ti.coordsToLatLng=_l,ti.coordsToLatLngs=Ao,ti.latLngToCoords=No,ti.latLngsToCoords=vl,ti.getFeature=Pi,ti.asFeature=va,$e.mergeOptions({boxZoom:!0});var El=kn.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){ze(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ht(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ut(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),gn(),zr(),this._startPoint=this._map.mouseEventToContainerPoint(a),ze(document,{contextmenu:$n,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=at("div","leaflet-zoom-box",this._container),Ne(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var c=new ae(this._point,this._startPoint),p=c.getSize();jt(this._box,c.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(ut(this._box),yt(this._container,"leaflet-crosshair")),Kn(),aa(),ht(document,{contextmenu:$n,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var c=new ve(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});$e.addInitHook("addHandler","boxZoom",El),$e.mergeOptions({doubleClickZoom:!0});var nr=kn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var c=this._map,p=c.getZoom(),x=c.options.zoomDelta,T=a.originalEvent.shiftKey?p-x:p+x;c.options.doubleClickZoom==="center"?c.setZoom(T):c.setZoomAround(a.containerPoint,T)}});$e.addInitHook("addHandler","doubleClickZoom",nr),$e.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Dc=kn.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Ci(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Ne(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){yt(this._map._container,"leaflet-grab"),yt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=Ee(this._map.options.maxBounds);this._offsetLimit=_e(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var c=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(c),this._prunePositions(c)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,c){return a-(a-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;a.x<c.min.x&&(a.x=this._viscousLimit(a.x,c.min.x)),a.y<c.min.y&&(a.y=this._viscousLimit(a.y,c.min.y)),a.x>c.max.x&&(a.x=this._viscousLimit(a.x,c.max.x)),a.y>c.max.y&&(a.y=this._viscousLimit(a.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,c=Math.round(a/2),p=this._initialWorldOffset,x=this._draggable._newPos.x,T=(x-c+p)%a+c-p,C=(x+c+p)%a-c-p,z=Math.abs(T+p)<Math.abs(C+p)?T:C;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=z},_onDragEnd:function(a){var c=this._map,p=c.options,x=!p.inertia||a.noInertia||this._times.length<2;if(c.fire("dragend",a),x)c.fire("moveend");else{this._prunePositions(+new Date);var T=this._lastPos.subtract(this._positions[0]),C=(this._lastTime-this._times[0])/1e3,z=p.easeLinearity,Q=T.multiplyBy(z/C),re=Q.distanceTo([0,0]),ye=Math.min(p.inertiaMaxSpeed,re),Te=Q.multiplyBy(ye/re),Ie=ye/(p.inertiaDeceleration*z),Le=Te.multiplyBy(-Ie/2).round();!Le.x&&!Le.y?c.fire("moveend"):(Le=c._limitOffset(Le,c.options.maxBounds),M(function(){c.panBy(Le,{duration:Ie,easeLinearity:z,noMoveStart:!0,animate:!0})}))}}});$e.addInitHook("addHandler","dragging",Dc),$e.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Po=kn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),ze(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ht(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,c=document.documentElement,p=a.scrollTop||c.scrollTop,x=a.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(x,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var c=this._panKeys={},p=this.keyCodes,x,T;for(x=0,T=p.left.length;x<T;x++)c[p.left[x]]=[-1*a,0];for(x=0,T=p.right.length;x<T;x++)c[p.right[x]]=[a,0];for(x=0,T=p.down.length;x<T;x++)c[p.down[x]]=[0,a];for(x=0,T=p.up.length;x<T;x++)c[p.up[x]]=[0,-1*a]},_setZoomDelta:function(a){var c=this._zoomKeys={},p=this.keyCodes,x,T;for(x=0,T=p.zoomIn.length;x<T;x++)c[p.zoomIn[x]]=a;for(x=0,T=p.zoomOut.length;x<T;x++)c[p.zoomOut[x]]=-a},_addHooks:function(){ze(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ht(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var c=a.keyCode,p=this._map,x;if(c in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(x=this._panKeys[c],a.shiftKey&&(x=k(x).multiplyBy(3)),p.options.maxBounds&&(x=p._limitOffset(k(x),p.options.maxBounds)),p.options.worldCopyJump){var T=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(x)));p.panTo(T)}else p.panBy(x)}else if(c in this._zoomKeys)p.setZoom(p.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;$n(a)}}});$e.addInitHook("addHandler","keyboard",Po),$e.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Kr=kn.extend({addHooks:function(){ze(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ht(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var c=qr(a),p=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var x=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),x),$n(a)},_performZoom:function(){var a=this._map,c=a.getZoom(),p=this._map.options.zoomSnap||0;a._stop();var x=this._delta/(this._map.options.wheelPxPerZoomLevel*4),T=4*Math.log(2/(1+Math.exp(-Math.abs(x))))/Math.LN2,C=p?Math.ceil(T/p)*p:T,z=a._limitZoom(c+(this._delta>0?C:-C))-c;this._delta=0,this._startTime=null,z&&(a.options.scrollWheelZoom==="center"?a.setZoom(c+z):a.setZoomAround(this._lastMousePos,c+z))}});$e.addInitHook("addHandler","scrollWheelZoom",Kr);var Mc=600;$e.mergeOptions({tapHold:je.touchNative&&je.safari&&je.mobile,tapTolerance:15});var Tl=kn.extend({addHooks:function(){ze(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ht(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var c=a.touches[0];this._startPos=this._newPos=new he(c.clientX,c.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(ze(document,"touchend",Pt),ze(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),Mc),ze(document,"touchend touchcancel contextmenu",this._cancel,this),ze(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){ht(document,"touchend",Pt),ht(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),ht(document,"touchend touchcancel contextmenu",this._cancel,this),ht(document,"touchmove",this._onMove,this)},_onMove:function(a){var c=a.touches[0];this._newPos=new he(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,c){var p=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});p._simulated=!0,c.target.dispatchEvent(p)}});$e.addInitHook("addHandler","tapHold",Tl),$e.mergeOptions({touchZoom:je.touch,bounceAtZoomLimits:!0});var Ls=kn.extend({addHooks:function(){Ne(this._map._container,"leaflet-touch-zoom"),ze(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){yt(this._map._container,"leaflet-touch-zoom"),ht(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var c=this._map;if(!(!a.touches||a.touches.length!==2||c._animatingZoom||this._zooming)){var p=c.mouseEventToContainerPoint(a.touches[0]),x=c.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(p.add(x)._divideBy(2))),this._startDist=p.distanceTo(x),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),ze(document,"touchmove",this._onTouchMove,this),ze(document,"touchend touchcancel",this._onTouchEnd,this),Pt(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var c=this._map,p=c.mouseEventToContainerPoint(a.touches[0]),x=c.mouseEventToContainerPoint(a.touches[1]),T=p.distanceTo(x)/this._startDist;if(this._zoom=c.getScaleZoom(T,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&T<1||this._zoom>c.getMaxZoom()&&T>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,T===1)return}else{var C=p._add(x)._divideBy(2)._subtract(this._centerPoint);if(T===1&&C.x===0&&C.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(C),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),q(this._animRequest);var z=f(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=M(z,this,!0),Pt(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,q(this._animRequest),ht(document,"touchmove",this._onTouchMove,this),ht(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});$e.addInitHook("addHandler","touchZoom",Ls),$e.BoxZoom=El,$e.DoubleClickZoom=nr,$e.Drag=Dc,$e.Keyboard=Po,$e.ScrollWheelZoom=Kr,$e.TapHold=Tl,$e.TouchZoom=Ls,t.Bounds=ae,t.Browser=je,t.CRS=St,t.Canvas=Ro,t.Circle=Lc,t.CircleMarker=To,t.Class=He,t.Control=ln,t.DivIcon=kc,t.DivOverlay=Li,t.DomEvent=Ts,t.DomUtil=dl,t.Draggable=Ci,t.Evented=me,t.FeatureGroup=Jn,t.GeoJSON=ti,t.GridLayer=Rs,t.Handler=kn,t.Icon=pa,t.ImageOverlay=tr,t.LatLng=Ce,t.LatLngBounds=ve,t.Layer=ji,t.LayerGroup=Ns,t.LineUtil=Qn,t.Map=$e,t.Marker=ya,t.Mixin=pl,t.Path=br,t.Point=he,t.PolyUtil=da,t.Polygon=_a,t.Polyline=wr,t.Popup=Co,t.PosAnimation=Ss,t.Projection=Ri,t.Rectangle=_h,t.Renderer=ki,t.SVG=Wr,t.SVGOverlay=Zr,t.TileLayer=Is,t.Tooltip=wl,t.Transformation=Dr,t.Util=V,t.VideoOverlay=bl,t.bind=f,t.bounds=_e,t.canvas=Io,t.circle=Vf,t.circleMarker=fh,t.control=Ni,t.divIcon=yh,t.extend=l,t.featureGroup=Eo,t.geoJSON=xl,t.geoJson=mh,t.gridLayer=Oi,t.icon=yl,t.imageOverlay=xa,t.latLng=we,t.latLngBounds=Ee,t.layerGroup=dh,t.map=Ji,t.marker=Pc,t.point=k,t.polygon=ei,t.polyline=Uf,t.popup=zf,t.rectangle=ri,t.setOptions=K,t.stamp=v,t.svg=Ps,t.svgOverlay=gh,t.tileLayer=ni,t.tooltip=Bf,t.transformation=Fi,t.version=s,t.videoOverlay=ph;var Ea=window.L;t.noConflict=function(){return window.L=Ea,this},window.L=t}))})(Cu,Cu.exports)),Cu.exports}var oh=YP();const Ac=Tb(oh);function Ey(i,e,t){return Object.freeze({instance:i,context:e,container:t})}function Ty(i,e){return e==null?function(s,l){const h=G.useRef(void 0);return h.current||(h.current=i(s,l)),h}:function(s,l){const h=G.useRef(void 0);h.current||(h.current=i(s,l));const f=G.useRef(s),{instance:_}=h.current;return G.useEffect(function(){f.current!==s&&(e(_,s,f.current),f.current=s)},[_,s,e]),h}}function $P(i,e){G.useEffect(function(){return(e.layerContainer??e.map).addLayer(i.instance),function(){e.layerContainer?.removeLayer(i.instance),e.map.removeLayer(i.instance)}},[e,i])}function NE(i){return function(t){const s=by(),l=i(wy(t,s),s);return SE(s.map,t.attribution),AE(l.current,t.eventHandlers),$P(l.current,s),l}}function QP(i,e){const t=Ty(i,e),s=NE(t);return qP(s)}function XP(i,e){const t=Ty(i),s=WP(t,e);return GP(s)}function JP(i,e){const t=Ty(i,e),s=NE(t);return ZP(s)}function eL(i,e,t){const{opacity:s,zIndex:l}=e;s!=null&&s!==t.opacity&&i.setOpacity(s),l!=null&&l!==t.zIndex&&i.setZIndex(l)}function tL(){return by().map}function nL(i){const e=tL();return G.useEffect(function(){return e.on(i),function(){e.off(i)}},[e,i]),e}function iL({bounds:i,boundsOptions:e,center:t,children:s,className:l,id:h,placeholder:f,style:_,whenReady:v,zoom:b,...E},N){const[I]=G.useState({className:l,id:h,style:_}),[Z,U]=G.useState(null),K=G.useRef(void 0);G.useImperativeHandle(N,()=>Z?.map??null,[Z]);const H=G.useCallback(le=>{if(le!==null&&!K.current){const ce=new oh.Map(le,E);K.current=ce,t!=null&&b!=null?ce.setView(t,b):i!=null&&ce.fitBounds(i,e),v!=null&&ce.whenReady(v),U(FP(ce))}},[]);G.useEffect(()=>()=>{Z?.map.remove()},[Z]);const oe=Z?Mp.createElement(xy,{value:Z},s):f??null;return Mp.createElement("div",{...I,ref:H},oe)}const CE=G.forwardRef(iL),RE=QP(function({position:e,...t},s){const l=new oh.Marker(e,t);return Ey(l,HP(s,{overlayContainer:l}))},function(e,t,s){t.position!==s.position&&e.setLatLng(t.position),t.icon!=null&&t.icon!==s.icon&&e.setIcon(t.icon),t.zIndexOffset!=null&&t.zIndexOffset!==s.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),t.opacity!=null&&t.opacity!==s.opacity&&e.setOpacity(t.opacity),e.dragging!=null&&t.draggable!==s.draggable&&(t.draggable===!0?e.dragging.enable():e.dragging.disable())}),IE=XP(function(e,t){const s=new oh.Popup(e,t.overlayContainer);return Ey(s,t)},function(e,t,{position:s},l){G.useEffect(function(){const{instance:f}=e;function _(b){b.popup===f&&(f.update(),l(!0))}function v(b){b.popup===f&&l(!1)}return t.map.on({popupopen:_,popupclose:v}),t.overlayContainer==null?(s!=null&&f.setLatLng(s),f.openOn(t.map)):t.overlayContainer.bindPopup(f),function(){t.map.off({popupopen:_,popupclose:v}),t.overlayContainer?.unbindPopup(),t.map.removeLayer(f)}},[e,t,l,s])}),jE=JP(function({url:e,...t},s){const l=new oh.TileLayer(e,wy(t,s));return Ey(l,s)},function(e,t,s){eL(e,t,s);const{url:l}=t;l!=null&&l!==s.url&&e.setUrl(l)});function PE(i,e){return function(){return i.apply(e,arguments)}}const{toString:rL}=Object.prototype,{getPrototypeOf:Sy}=Object,{iterator:Pf,toStringTag:LE}=Symbol,Lf=(i=>e=>{const t=rL.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),kr=i=>(i=i.toLowerCase(),e=>Lf(e)===i),Of=i=>e=>typeof e===i,{isArray:Nc}=Array,hc=Of("undefined");function lh(i){return i!==null&&!hc(i)&&i.constructor!==null&&!hc(i.constructor)&&xi(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const OE=kr("ArrayBuffer");function sL(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&OE(i.buffer),e}const aL=Of("string"),xi=Of("function"),kE=Of("number"),ch=i=>i!==null&&typeof i=="object",oL=i=>i===!0||i===!1,kd=i=>{if(Lf(i)!=="object")return!1;const e=Sy(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(LE in i)&&!(Pf in i)},lL=i=>{if(!ch(i)||lh(i))return!1;try{return Object.keys(i).length===0&&Object.getPrototypeOf(i)===Object.prototype}catch{return!1}},cL=kr("Date"),uL=kr("File"),hL=kr("Blob"),dL=kr("FileList"),fL=i=>ch(i)&&xi(i.pipe),mL=i=>{let e;return i&&(typeof FormData=="function"&&i instanceof FormData||xi(i.append)&&((e=Lf(i))==="formdata"||e==="object"&&xi(i.toString)&&i.toString()==="[object FormData]"))},pL=kr("URLSearchParams"),[gL,yL,_L,vL]=["ReadableStream","Request","Response","Headers"].map(kr),xL=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function uh(i,e,{allOwnKeys:t=!1}={}){if(i===null||typeof i>"u")return;let s,l;if(typeof i!="object"&&(i=[i]),Nc(i))for(s=0,l=i.length;s<l;s++)e.call(null,i[s],s,i);else{if(lh(i))return;const h=t?Object.getOwnPropertyNames(i):Object.keys(i),f=h.length;let _;for(s=0;s<f;s++)_=h[s],e.call(null,i[_],_,i)}}function DE(i,e){if(lh(i))return null;e=e.toLowerCase();const t=Object.keys(i);let s=t.length,l;for(;s-- >0;)if(l=t[s],e===l.toLowerCase())return l;return null}const Go=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ME=i=>!hc(i)&&i!==Go;function pg(){const{caseless:i,skipUndefined:e}=ME(this)&&this||{},t={},s=(l,h)=>{const f=i&&DE(t,h)||h;kd(t[f])&&kd(l)?t[f]=pg(t[f],l):kd(l)?t[f]=pg({},l):Nc(l)?t[f]=l.slice():(!e||!hc(l))&&(t[f]=l)};for(let l=0,h=arguments.length;l<h;l++)arguments[l]&&uh(arguments[l],s);return t}const bL=(i,e,t,{allOwnKeys:s}={})=>(uh(e,(l,h)=>{t&&xi(l)?i[h]=PE(l,t):i[h]=l},{allOwnKeys:s}),i),wL=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),EL=(i,e,t,s)=>{i.prototype=Object.create(e.prototype,s),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),t&&Object.assign(i.prototype,t)},TL=(i,e,t,s)=>{let l,h,f;const _={};if(e=e||{},i==null)return e;do{for(l=Object.getOwnPropertyNames(i),h=l.length;h-- >0;)f=l[h],(!s||s(f,i,e))&&!_[f]&&(e[f]=i[f],_[f]=!0);i=t!==!1&&Sy(i)}while(i&&(!t||t(i,e))&&i!==Object.prototype);return e},SL=(i,e,t)=>{i=String(i),(t===void 0||t>i.length)&&(t=i.length),t-=e.length;const s=i.indexOf(e,t);return s!==-1&&s===t},AL=i=>{if(!i)return null;if(Nc(i))return i;let e=i.length;if(!kE(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=i[e];return t},NL=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&Sy(Uint8Array)),CL=(i,e)=>{const s=(i&&i[Pf]).call(i);let l;for(;(l=s.next())&&!l.done;){const h=l.value;e.call(i,h[0],h[1])}},RL=(i,e)=>{let t;const s=[];for(;(t=i.exec(e))!==null;)s.push(t);return s},IL=kr("HTMLFormElement"),jL=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,l){return s.toUpperCase()+l}),ob=(({hasOwnProperty:i})=>(e,t)=>i.call(e,t))(Object.prototype),PL=kr("RegExp"),VE=(i,e)=>{const t=Object.getOwnPropertyDescriptors(i),s={};uh(t,(l,h)=>{let f;(f=e(l,h,i))!==!1&&(s[h]=f||l)}),Object.defineProperties(i,s)},LL=i=>{VE(i,(e,t)=>{if(xi(i)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=i[t];if(xi(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},OL=(i,e)=>{const t={},s=l=>{l.forEach(h=>{t[h]=!0})};return Nc(i)?s(i):s(String(i).split(e)),t},kL=()=>{},DL=(i,e)=>i!=null&&Number.isFinite(i=+i)?i:e;function ML(i){return!!(i&&xi(i.append)&&i[LE]==="FormData"&&i[Pf])}const VL=i=>{const e=new Array(10),t=(s,l)=>{if(ch(s)){if(e.indexOf(s)>=0)return;if(lh(s))return s;if(!("toJSON"in s)){e[l]=s;const h=Nc(s)?[]:{};return uh(s,(f,_)=>{const v=t(f,l+1);!hc(v)&&(h[_]=v)}),e[l]=void 0,h}}return s};return t(i,0)},UL=kr("AsyncFunction"),zL=i=>i&&(ch(i)||xi(i))&&xi(i.then)&&xi(i.catch),UE=((i,e)=>i?setImmediate:e?((t,s)=>(Go.addEventListener("message",({source:l,data:h})=>{l===Go&&h===t&&s.length&&s.shift()()},!1),l=>{s.push(l),Go.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",xi(Go.postMessage)),BL=typeof queueMicrotask<"u"?queueMicrotask.bind(Go):typeof process<"u"&&process.nextTick||UE,FL=i=>i!=null&&xi(i[Pf]),se={isArray:Nc,isArrayBuffer:OE,isBuffer:lh,isFormData:mL,isArrayBufferView:sL,isString:aL,isNumber:kE,isBoolean:oL,isObject:ch,isPlainObject:kd,isEmptyObject:lL,isReadableStream:gL,isRequest:yL,isResponse:_L,isHeaders:vL,isUndefined:hc,isDate:cL,isFile:uL,isBlob:hL,isRegExp:PL,isFunction:xi,isStream:fL,isURLSearchParams:pL,isTypedArray:NL,isFileList:dL,forEach:uh,merge:pg,extend:bL,trim:xL,stripBOM:wL,inherits:EL,toFlatObject:TL,kindOf:Lf,kindOfTest:kr,endsWith:SL,toArray:AL,forEachEntry:CL,matchAll:RL,isHTMLForm:IL,hasOwnProperty:ob,hasOwnProp:ob,reduceDescriptors:VE,freezeMethods:LL,toObjectSet:OL,toCamelCase:jL,noop:kL,toFiniteNumber:DL,findKey:DE,global:Go,isContextDefined:ME,isSpecCompliantForm:ML,toJSONObject:VL,isAsyncFn:UL,isThenable:zL,setImmediate:UE,asap:BL,isIterable:FL};function Qe(i,e,t,s,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),l&&(this.response=l,this.status=l.status?l.status:null)}se.inherits(Qe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.status}}});const zE=Qe.prototype,BE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{BE[i]={value:i}});Object.defineProperties(Qe,BE);Object.defineProperty(zE,"isAxiosError",{value:!0});Qe.from=(i,e,t,s,l,h)=>{const f=Object.create(zE);se.toFlatObject(i,f,function(E){return E!==Error.prototype},b=>b!=="isAxiosError");const _=i&&i.message?i.message:"Error",v=e==null&&i?i.code:e;return Qe.call(f,_,v,t,s,l),i&&f.cause==null&&Object.defineProperty(f,"cause",{value:i,configurable:!0}),f.name=i&&i.name||"Error",h&&Object.assign(f,h),f};const HL=null;function gg(i){return se.isPlainObject(i)||se.isArray(i)}function FE(i){return se.endsWith(i,"[]")?i.slice(0,-2):i}function lb(i,e,t){return i?i.concat(e).map(function(l,h){return l=FE(l),!t&&h?"["+l+"]":l}).join(t?".":""):e}function qL(i){return se.isArray(i)&&!i.some(gg)}const GL=se.toFlatObject(se,{},null,function(e){return/^is[A-Z]/.test(e)});function kf(i,e,t){if(!se.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,t=se.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(K,H){return!se.isUndefined(H[K])});const s=t.metaTokens,l=t.visitor||E,h=t.dots,f=t.indexes,v=(t.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(e);if(!se.isFunction(l))throw new TypeError("visitor must be a function");function b(U){if(U===null)return"";if(se.isDate(U))return U.toISOString();if(se.isBoolean(U))return U.toString();if(!v&&se.isBlob(U))throw new Qe("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(U)||se.isTypedArray(U)?v&&typeof Blob=="function"?new Blob([U]):Buffer.from(U):U}function E(U,K,H){let oe=U;if(U&&!H&&typeof U=="object"){if(se.endsWith(K,"{}"))K=s?K:K.slice(0,-2),U=JSON.stringify(U);else if(se.isArray(U)&&qL(U)||(se.isFileList(U)||se.endsWith(K,"[]"))&&(oe=se.toArray(U)))return K=FE(K),oe.forEach(function(ce,Ae){!(se.isUndefined(ce)||ce===null)&&e.append(f===!0?lb([K],Ae,h):f===null?K:K+"[]",b(ce))}),!1}return gg(U)?!0:(e.append(lb(H,K,h),b(U)),!1)}const N=[],I=Object.assign(GL,{defaultVisitor:E,convertValue:b,isVisitable:gg});function Z(U,K){if(!se.isUndefined(U)){if(N.indexOf(U)!==-1)throw Error("Circular reference detected in "+K.join("."));N.push(U),se.forEach(U,function(oe,le){(!(se.isUndefined(oe)||oe===null)&&l.call(e,oe,se.isString(le)?le.trim():le,K,I))===!0&&Z(oe,K?K.concat(le):[le])}),N.pop()}}if(!se.isObject(i))throw new TypeError("data must be an object");return Z(i),e}function cb(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Ay(i,e){this._pairs=[],i&&kf(i,this,e)}const HE=Ay.prototype;HE.append=function(e,t){this._pairs.push([e,t])};HE.toString=function(e){const t=e?function(s){return e.call(this,s,cb)}:cb;return this._pairs.map(function(l){return t(l[0])+"="+t(l[1])},"").join("&")};function ZL(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function qE(i,e,t){if(!e)return i;const s=t&&t.encode||ZL;se.isFunction(t)&&(t={serialize:t});const l=t&&t.serialize;let h;if(l?h=l(e,t):h=se.isURLSearchParams(e)?e.toString():new Ay(e,t).toString(s),h){const f=i.indexOf("#");f!==-1&&(i=i.slice(0,f)),i+=(i.indexOf("?")===-1?"?":"&")+h}return i}class ub{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){se.forEach(this.handlers,function(s){s!==null&&e(s)})}}const GE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},WL=typeof URLSearchParams<"u"?URLSearchParams:Ay,KL=typeof FormData<"u"?FormData:null,YL=typeof Blob<"u"?Blob:null,$L={isBrowser:!0,classes:{URLSearchParams:WL,FormData:KL,Blob:YL},protocols:["http","https","file","blob","url","data"]},Ny=typeof window<"u"&&typeof document<"u",yg=typeof navigator=="object"&&navigator||void 0,QL=Ny&&(!yg||["ReactNative","NativeScript","NS"].indexOf(yg.product)<0),XL=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",JL=Ny&&window.location.href||"http://localhost",eO=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ny,hasStandardBrowserEnv:QL,hasStandardBrowserWebWorkerEnv:XL,navigator:yg,origin:JL},Symbol.toStringTag,{value:"Module"})),Fn={...eO,...$L};function tO(i,e){return kf(i,new Fn.classes.URLSearchParams,{visitor:function(t,s,l,h){return Fn.isNode&&se.isBuffer(t)?(this.append(s,t.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)},...e})}function nO(i){return se.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function iO(i){const e={},t=Object.keys(i);let s;const l=t.length;let h;for(s=0;s<l;s++)h=t[s],e[h]=i[h];return e}function ZE(i){function e(t,s,l,h){let f=t[h++];if(f==="__proto__")return!0;const _=Number.isFinite(+f),v=h>=t.length;return f=!f&&se.isArray(l)?l.length:f,v?(se.hasOwnProp(l,f)?l[f]=[l[f],s]:l[f]=s,!_):((!l[f]||!se.isObject(l[f]))&&(l[f]=[]),e(t,s,l[f],h)&&se.isArray(l[f])&&(l[f]=iO(l[f])),!_)}if(se.isFormData(i)&&se.isFunction(i.entries)){const t={};return se.forEachEntry(i,(s,l)=>{e(nO(s),l,t,0)}),t}return null}function rO(i,e,t){if(se.isString(i))try{return(e||JSON.parse)(i),se.trim(i)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(i)}const hh={transitional:GE,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",l=s.indexOf("application/json")>-1,h=se.isObject(e);if(h&&se.isHTMLForm(e)&&(e=new FormData(e)),se.isFormData(e))return l?JSON.stringify(ZE(e)):e;if(se.isArrayBuffer(e)||se.isBuffer(e)||se.isStream(e)||se.isFile(e)||se.isBlob(e)||se.isReadableStream(e))return e;if(se.isArrayBufferView(e))return e.buffer;if(se.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let _;if(h){if(s.indexOf("application/x-www-form-urlencoded")>-1)return tO(e,this.formSerializer).toString();if((_=se.isFileList(e))||s.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return kf(_?{"files[]":e}:e,v&&new v,this.formSerializer)}}return h||l?(t.setContentType("application/json",!1),rO(e)):e}],transformResponse:[function(e){const t=this.transitional||hh.transitional,s=t&&t.forcedJSONParsing,l=this.responseType==="json";if(se.isResponse(e)||se.isReadableStream(e))return e;if(e&&se.isString(e)&&(s&&!this.responseType||l)){const f=!(t&&t.silentJSONParsing)&&l;try{return JSON.parse(e,this.parseReviver)}catch(_){if(f)throw _.name==="SyntaxError"?Qe.from(_,Qe.ERR_BAD_RESPONSE,this,null,this.response):_}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fn.classes.FormData,Blob:Fn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],i=>{hh.headers[i]={}});const sO=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),aO=i=>{const e={};let t,s,l;return i&&i.split(`
`).forEach(function(f){l=f.indexOf(":"),t=f.substring(0,l).trim().toLowerCase(),s=f.substring(l+1).trim(),!(!t||e[t]&&sO[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},hb=Symbol("internals");function xu(i){return i&&String(i).trim().toLowerCase()}function Dd(i){return i===!1||i==null?i:se.isArray(i)?i.map(Dd):String(i)}function oO(i){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(i);)e[s[1]]=s[2];return e}const lO=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function Op(i,e,t,s,l){if(se.isFunction(s))return s.call(this,e,t);if(l&&(e=t),!!se.isString(e)){if(se.isString(s))return e.indexOf(s)!==-1;if(se.isRegExp(s))return s.test(e)}}function cO(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function uO(i,e){const t=se.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(i,s+t,{value:function(l,h,f){return this[s].call(this,e,l,h,f)},configurable:!0})})}let bi=class{constructor(e){e&&this.set(e)}set(e,t,s){const l=this;function h(_,v,b){const E=xu(v);if(!E)throw new Error("header name must be a non-empty string");const N=se.findKey(l,E);(!N||l[N]===void 0||b===!0||b===void 0&&l[N]!==!1)&&(l[N||v]=Dd(_))}const f=(_,v)=>se.forEach(_,(b,E)=>h(b,E,v));if(se.isPlainObject(e)||e instanceof this.constructor)f(e,t);else if(se.isString(e)&&(e=e.trim())&&!lO(e))f(aO(e),t);else if(se.isObject(e)&&se.isIterable(e)){let _={},v,b;for(const E of e){if(!se.isArray(E))throw TypeError("Object iterator must return a key-value pair");_[b=E[0]]=(v=_[b])?se.isArray(v)?[...v,E[1]]:[v,E[1]]:E[1]}f(_,t)}else e!=null&&h(t,e,s);return this}get(e,t){if(e=xu(e),e){const s=se.findKey(this,e);if(s){const l=this[s];if(!t)return l;if(t===!0)return oO(l);if(se.isFunction(t))return t.call(this,l,s);if(se.isRegExp(t))return t.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=xu(e),e){const s=se.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||Op(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let l=!1;function h(f){if(f=xu(f),f){const _=se.findKey(s,f);_&&(!t||Op(s,s[_],_,t))&&(delete s[_],l=!0)}}return se.isArray(e)?e.forEach(h):h(e),l}clear(e){const t=Object.keys(this);let s=t.length,l=!1;for(;s--;){const h=t[s];(!e||Op(this,this[h],h,e,!0))&&(delete this[h],l=!0)}return l}normalize(e){const t=this,s={};return se.forEach(this,(l,h)=>{const f=se.findKey(s,h);if(f){t[f]=Dd(l),delete t[h];return}const _=e?cO(h):String(h).trim();_!==h&&delete t[h],t[_]=Dd(l),s[_]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return se.forEach(this,(s,l)=>{s!=null&&s!==!1&&(t[l]=e&&se.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(l=>s.set(l)),s}static accessor(e){const s=(this[hb]=this[hb]={accessors:{}}).accessors,l=this.prototype;function h(f){const _=xu(f);s[_]||(uO(l,f),s[_]=!0)}return se.isArray(e)?e.forEach(h):h(e),this}};bi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);se.reduceDescriptors(bi.prototype,({value:i},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>i,set(s){this[t]=s}}});se.freezeMethods(bi);function kp(i,e){const t=this||hh,s=e||t,l=bi.from(s.headers);let h=s.data;return se.forEach(i,function(_){h=_.call(t,h,l.normalize(),e?e.status:void 0)}),l.normalize(),h}function WE(i){return!!(i&&i.__CANCEL__)}function Cc(i,e,t){Qe.call(this,i??"canceled",Qe.ERR_CANCELED,e,t),this.name="CanceledError"}se.inherits(Cc,Qe,{__CANCEL__:!0});function KE(i,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?i(t):e(new Qe("Request failed with status code "+t.status,[Qe.ERR_BAD_REQUEST,Qe.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function hO(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function dO(i,e){i=i||10;const t=new Array(i),s=new Array(i);let l=0,h=0,f;return e=e!==void 0?e:1e3,function(v){const b=Date.now(),E=s[h];f||(f=b),t[l]=v,s[l]=b;let N=h,I=0;for(;N!==l;)I+=t[N++],N=N%i;if(l=(l+1)%i,l===h&&(h=(h+1)%i),b-f<e)return;const Z=E&&b-E;return Z?Math.round(I*1e3/Z):void 0}}function fO(i,e){let t=0,s=1e3/e,l,h;const f=(b,E=Date.now())=>{t=E,l=null,h&&(clearTimeout(h),h=null),i(...b)};return[(...b)=>{const E=Date.now(),N=E-t;N>=s?f(b,E):(l=b,h||(h=setTimeout(()=>{h=null,f(l)},s-N)))},()=>l&&f(l)]}const sf=(i,e,t=3)=>{let s=0;const l=dO(50,250);return fO(h=>{const f=h.loaded,_=h.lengthComputable?h.total:void 0,v=f-s,b=l(v),E=f<=_;s=f;const N={loaded:f,total:_,progress:_?f/_:void 0,bytes:v,rate:b||void 0,estimated:b&&_&&E?(_-f)/b:void 0,event:h,lengthComputable:_!=null,[e?"download":"upload"]:!0};i(N)},t)},db=(i,e)=>{const t=i!=null;return[s=>e[0]({lengthComputable:t,total:i,loaded:s}),e[1]]},fb=i=>(...e)=>se.asap(()=>i(...e)),mO=Fn.hasStandardBrowserEnv?((i,e)=>t=>(t=new URL(t,Fn.origin),i.protocol===t.protocol&&i.host===t.host&&(e||i.port===t.port)))(new URL(Fn.origin),Fn.navigator&&/(msie|trident)/i.test(Fn.navigator.userAgent)):()=>!0,pO=Fn.hasStandardBrowserEnv?{write(i,e,t,s,l,h){const f=[i+"="+encodeURIComponent(e)];se.isNumber(t)&&f.push("expires="+new Date(t).toGMTString()),se.isString(s)&&f.push("path="+s),se.isString(l)&&f.push("domain="+l),h===!0&&f.push("secure"),document.cookie=f.join("; ")},read(i){const e=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gO(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function yO(i,e){return e?i.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):i}function YE(i,e,t){let s=!gO(e);return i&&(s||t==!1)?yO(i,e):e}const mb=i=>i instanceof bi?{...i}:i;function el(i,e){e=e||{};const t={};function s(b,E,N,I){return se.isPlainObject(b)&&se.isPlainObject(E)?se.merge.call({caseless:I},b,E):se.isPlainObject(E)?se.merge({},E):se.isArray(E)?E.slice():E}function l(b,E,N,I){if(se.isUndefined(E)){if(!se.isUndefined(b))return s(void 0,b,N,I)}else return s(b,E,N,I)}function h(b,E){if(!se.isUndefined(E))return s(void 0,E)}function f(b,E){if(se.isUndefined(E)){if(!se.isUndefined(b))return s(void 0,b)}else return s(void 0,E)}function _(b,E,N){if(N in e)return s(b,E);if(N in i)return s(void 0,b)}const v={url:h,method:h,data:h,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:_,headers:(b,E,N)=>l(mb(b),mb(E),N,!0)};return se.forEach(Object.keys({...i,...e}),function(E){const N=v[E]||l,I=N(i[E],e[E],E);se.isUndefined(I)&&N!==_||(t[E]=I)}),t}const $E=i=>{const e=el({},i);let{data:t,withXSRFToken:s,xsrfHeaderName:l,xsrfCookieName:h,headers:f,auth:_}=e;if(e.headers=f=bi.from(f),e.url=qE(YE(e.baseURL,e.url,e.allowAbsoluteUrls),i.params,i.paramsSerializer),_&&f.set("Authorization","Basic "+btoa((_.username||"")+":"+(_.password?unescape(encodeURIComponent(_.password)):""))),se.isFormData(t)){if(Fn.hasStandardBrowserEnv||Fn.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if(se.isFunction(t.getHeaders)){const v=t.getHeaders(),b=["content-type","content-length"];Object.entries(v).forEach(([E,N])=>{b.includes(E.toLowerCase())&&f.set(E,N)})}}if(Fn.hasStandardBrowserEnv&&(s&&se.isFunction(s)&&(s=s(e)),s||s!==!1&&mO(e.url))){const v=l&&h&&pO.read(h);v&&f.set(l,v)}return e},_O=typeof XMLHttpRequest<"u",vO=_O&&function(i){return new Promise(function(t,s){const l=$E(i);let h=l.data;const f=bi.from(l.headers).normalize();let{responseType:_,onUploadProgress:v,onDownloadProgress:b}=l,E,N,I,Z,U;function K(){Z&&Z(),U&&U(),l.cancelToken&&l.cancelToken.unsubscribe(E),l.signal&&l.signal.removeEventListener("abort",E)}let H=new XMLHttpRequest;H.open(l.method.toUpperCase(),l.url,!0),H.timeout=l.timeout;function oe(){if(!H)return;const ce=bi.from("getAllResponseHeaders"in H&&H.getAllResponseHeaders()),xe={data:!_||_==="text"||_==="json"?H.responseText:H.response,status:H.status,statusText:H.statusText,headers:ce,config:i,request:H};KE(function(F){t(F),K()},function(F){s(F),K()},xe),H=null}"onloadend"in H?H.onloadend=oe:H.onreadystatechange=function(){!H||H.readyState!==4||H.status===0&&!(H.responseURL&&H.responseURL.indexOf("file:")===0)||setTimeout(oe)},H.onabort=function(){H&&(s(new Qe("Request aborted",Qe.ECONNABORTED,i,H)),H=null)},H.onerror=function(Ae){const xe=Ae&&Ae.message?Ae.message:"Network Error",Ve=new Qe(xe,Qe.ERR_NETWORK,i,H);Ve.event=Ae||null,s(Ve),H=null},H.ontimeout=function(){let Ae=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const xe=l.transitional||GE;l.timeoutErrorMessage&&(Ae=l.timeoutErrorMessage),s(new Qe(Ae,xe.clarifyTimeoutError?Qe.ETIMEDOUT:Qe.ECONNABORTED,i,H)),H=null},h===void 0&&f.setContentType(null),"setRequestHeader"in H&&se.forEach(f.toJSON(),function(Ae,xe){H.setRequestHeader(xe,Ae)}),se.isUndefined(l.withCredentials)||(H.withCredentials=!!l.withCredentials),_&&_!=="json"&&(H.responseType=l.responseType),b&&([I,U]=sf(b,!0),H.addEventListener("progress",I)),v&&H.upload&&([N,Z]=sf(v),H.upload.addEventListener("progress",N),H.upload.addEventListener("loadend",Z)),(l.cancelToken||l.signal)&&(E=ce=>{H&&(s(!ce||ce.type?new Cc(null,i,H):ce),H.abort(),H=null)},l.cancelToken&&l.cancelToken.subscribe(E),l.signal&&(l.signal.aborted?E():l.signal.addEventListener("abort",E)));const le=hO(l.url);if(le&&Fn.protocols.indexOf(le)===-1){s(new Qe("Unsupported protocol "+le+":",Qe.ERR_BAD_REQUEST,i));return}H.send(h||null)})},xO=(i,e)=>{const{length:t}=i=i?i.filter(Boolean):[];if(e||t){let s=new AbortController,l;const h=function(b){if(!l){l=!0,_();const E=b instanceof Error?b:this.reason;s.abort(E instanceof Qe?E:new Cc(E instanceof Error?E.message:E))}};let f=e&&setTimeout(()=>{f=null,h(new Qe(`timeout ${e} of ms exceeded`,Qe.ETIMEDOUT))},e);const _=()=>{i&&(f&&clearTimeout(f),f=null,i.forEach(b=>{b.unsubscribe?b.unsubscribe(h):b.removeEventListener("abort",h)}),i=null)};i.forEach(b=>b.addEventListener("abort",h));const{signal:v}=s;return v.unsubscribe=()=>se.asap(_),v}},bO=function*(i,e){let t=i.byteLength;if(t<e){yield i;return}let s=0,l;for(;s<t;)l=s+e,yield i.slice(s,l),s=l},wO=async function*(i,e){for await(const t of EO(i))yield*bO(t,e)},EO=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const e=i.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},pb=(i,e,t,s)=>{const l=wO(i,e);let h=0,f,_=v=>{f||(f=!0,s&&s(v))};return new ReadableStream({async pull(v){try{const{done:b,value:E}=await l.next();if(b){_(),v.close();return}let N=E.byteLength;if(t){let I=h+=N;t(I)}v.enqueue(new Uint8Array(E))}catch(b){throw _(b),b}},cancel(v){return _(v),l.return()}},{highWaterMark:2})},gb=64*1024,{isFunction:wd}=se,TO=(({Request:i,Response:e})=>({Request:i,Response:e}))(se.global),{ReadableStream:yb,TextEncoder:_b}=se.global,vb=(i,...e)=>{try{return!!i(...e)}catch{return!1}},SO=i=>{i=se.merge.call({skipUndefined:!0},TO,i);const{fetch:e,Request:t,Response:s}=i,l=e?wd(e):typeof fetch=="function",h=wd(t),f=wd(s);if(!l)return!1;const _=l&&wd(yb),v=l&&(typeof _b=="function"?(U=>K=>U.encode(K))(new _b):async U=>new Uint8Array(await new t(U).arrayBuffer())),b=h&&_&&vb(()=>{let U=!1;const K=new t(Fn.origin,{body:new yb,method:"POST",get duplex(){return U=!0,"half"}}).headers.has("Content-Type");return U&&!K}),E=f&&_&&vb(()=>se.isReadableStream(new s("").body)),N={stream:E&&(U=>U.body)};l&&["text","arrayBuffer","blob","formData","stream"].forEach(U=>{!N[U]&&(N[U]=(K,H)=>{let oe=K&&K[U];if(oe)return oe.call(K);throw new Qe(`Response type '${U}' is not supported`,Qe.ERR_NOT_SUPPORT,H)})});const I=async U=>{if(U==null)return 0;if(se.isBlob(U))return U.size;if(se.isSpecCompliantForm(U))return(await new t(Fn.origin,{method:"POST",body:U}).arrayBuffer()).byteLength;if(se.isArrayBufferView(U)||se.isArrayBuffer(U))return U.byteLength;if(se.isURLSearchParams(U)&&(U=U+""),se.isString(U))return(await v(U)).byteLength},Z=async(U,K)=>{const H=se.toFiniteNumber(U.getContentLength());return H??I(K)};return async U=>{let{url:K,method:H,data:oe,signal:le,cancelToken:ce,timeout:Ae,onDownloadProgress:xe,onUploadProgress:Ve,responseType:F,headers:O,withCredentials:D="same-origin",fetchOptions:P}=$E(U),M=e||fetch;F=F?(F+"").toLowerCase():"text";let q=xO([le,ce&&ce.toAbortSignal()],Ae),V=null;const He=q&&q.unsubscribe&&(()=>{q.unsubscribe()});let Oe;try{if(Ve&&b&&H!=="get"&&H!=="head"&&(Oe=await Z(O,oe))!==0){let ae=new t(K,{method:"POST",body:oe,duplex:"half"}),_e;if(se.isFormData(oe)&&(_e=ae.headers.get("content-type"))&&O.setContentType(_e),ae.body){const[ve,Ee]=db(Oe,sf(fb(Ve)));oe=pb(ae.body,gb,ve,Ee)}}se.isString(D)||(D=D?"include":"omit");const Y=h&&"credentials"in t.prototype,me={...P,signal:q,method:H.toUpperCase(),headers:O.normalize().toJSON(),body:oe,duplex:"half",credentials:Y?D:void 0};V=h&&new t(K,me);let he=await(h?M(V,P):M(K,me));const ke=E&&(F==="stream"||F==="response");if(E&&(xe||ke&&He)){const ae={};["status","statusText","headers"].forEach(Ce=>{ae[Ce]=he[Ce]});const _e=se.toFiniteNumber(he.headers.get("content-length")),[ve,Ee]=xe&&db(_e,sf(fb(xe),!0))||[];he=new s(pb(he.body,gb,ve,()=>{Ee&&Ee(),He&&He()}),ae)}F=F||"text";let k=await N[se.findKey(N,F)||"text"](he,U);return!ke&&He&&He(),await new Promise((ae,_e)=>{KE(ae,_e,{data:k,headers:bi.from(he.headers),status:he.status,statusText:he.statusText,config:U,request:V})})}catch(Y){throw He&&He(),Y&&Y.name==="TypeError"&&/Load failed|fetch/i.test(Y.message)?Object.assign(new Qe("Network Error",Qe.ERR_NETWORK,U,V),{cause:Y.cause||Y}):Qe.from(Y,Y&&Y.code,U,V)}}},AO=new Map,QE=i=>{let e=i?i.env:{};const{fetch:t,Request:s,Response:l}=e,h=[s,l,t];let f=h.length,_=f,v,b,E=AO;for(;_--;)v=h[_],b=E.get(v),b===void 0&&E.set(v,b=_?new Map:SO(e)),E=b;return b};QE();const _g={http:HL,xhr:vO,fetch:{get:QE}};se.forEach(_g,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const xb=i=>`- ${i}`,NO=i=>se.isFunction(i)||i===null||i===!1,XE={getAdapter:(i,e)=>{i=se.isArray(i)?i:[i];const{length:t}=i;let s,l;const h={};for(let f=0;f<t;f++){s=i[f];let _;if(l=s,!NO(s)&&(l=_g[(_=String(s)).toLowerCase()],l===void 0))throw new Qe(`Unknown adapter '${_}'`);if(l&&(se.isFunction(l)||(l=l.get(e))))break;h[_||"#"+f]=l}if(!l){const f=Object.entries(h).map(([v,b])=>`adapter ${v} `+(b===!1?"is not supported by the environment":"is not available in the build"));let _=t?f.length>1?`since :
`+f.map(xb).join(`
`):" "+xb(f[0]):"as no adapter specified";throw new Qe("There is no suitable adapter to dispatch the request "+_,"ERR_NOT_SUPPORT")}return l},adapters:_g};function Dp(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new Cc(null,i)}function bb(i){return Dp(i),i.headers=bi.from(i.headers),i.data=kp.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),XE.getAdapter(i.adapter||hh.adapter,i)(i).then(function(s){return Dp(i),s.data=kp.call(i,i.transformResponse,s),s.headers=bi.from(s.headers),s},function(s){return WE(s)||(Dp(i),s&&s.response&&(s.response.data=kp.call(i,i.transformResponse,s.response),s.response.headers=bi.from(s.response.headers))),Promise.reject(s)})}const JE="1.12.2",Df={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{Df[i]=function(s){return typeof s===i||"a"+(e<1?"n ":" ")+i}});const wb={};Df.transitional=function(e,t,s){function l(h,f){return"[Axios v"+JE+"] Transitional option '"+h+"'"+f+(s?". "+s:"")}return(h,f,_)=>{if(e===!1)throw new Qe(l(f," has been removed"+(t?" in "+t:"")),Qe.ERR_DEPRECATED);return t&&!wb[f]&&(wb[f]=!0,console.warn(l(f," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(h,f,_):!0}};Df.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function CO(i,e,t){if(typeof i!="object")throw new Qe("options must be an object",Qe.ERR_BAD_OPTION_VALUE);const s=Object.keys(i);let l=s.length;for(;l-- >0;){const h=s[l],f=e[h];if(f){const _=i[h],v=_===void 0||f(_,h,i);if(v!==!0)throw new Qe("option "+h+" must be "+v,Qe.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Qe("Unknown option "+h,Qe.ERR_BAD_OPTION)}}const Md={assertOptions:CO,validators:Df},es=Md.validators;let Wo=class{constructor(e){this.defaults=e||{},this.interceptors={request:new ub,response:new ub}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const h=l.stack?l.stack.replace(/^.+\n/,""):"";try{s.stack?h&&!String(s.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+h):s.stack=h}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=el(this.defaults,t);const{transitional:s,paramsSerializer:l,headers:h}=t;s!==void 0&&Md.assertOptions(s,{silentJSONParsing:es.transitional(es.boolean),forcedJSONParsing:es.transitional(es.boolean),clarifyTimeoutError:es.transitional(es.boolean)},!1),l!=null&&(se.isFunction(l)?t.paramsSerializer={serialize:l}:Md.assertOptions(l,{encode:es.function,serialize:es.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Md.assertOptions(t,{baseUrl:es.spelling("baseURL"),withXsrfToken:es.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let f=h&&se.merge(h.common,h[t.method]);h&&se.forEach(["delete","get","head","post","put","patch","common"],U=>{delete h[U]}),t.headers=bi.concat(f,h);const _=[];let v=!0;this.interceptors.request.forEach(function(K){typeof K.runWhen=="function"&&K.runWhen(t)===!1||(v=v&&K.synchronous,_.unshift(K.fulfilled,K.rejected))});const b=[];this.interceptors.response.forEach(function(K){b.push(K.fulfilled,K.rejected)});let E,N=0,I;if(!v){const U=[bb.bind(this),void 0];for(U.unshift(..._),U.push(...b),I=U.length,E=Promise.resolve(t);N<I;)E=E.then(U[N++],U[N++]);return E}I=_.length;let Z=t;for(;N<I;){const U=_[N++],K=_[N++];try{Z=U(Z)}catch(H){K.call(this,H);break}}try{E=bb.call(this,Z)}catch(U){return Promise.reject(U)}for(N=0,I=b.length;N<I;)E=E.then(b[N++],b[N++]);return E}getUri(e){e=el(this.defaults,e);const t=YE(e.baseURL,e.url,e.allowAbsoluteUrls);return qE(t,e.params,e.paramsSerializer)}};se.forEach(["delete","get","head","options"],function(e){Wo.prototype[e]=function(t,s){return this.request(el(s||{},{method:e,url:t,data:(s||{}).data}))}});se.forEach(["post","put","patch"],function(e){function t(s){return function(h,f,_){return this.request(el(_||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:h,data:f}))}}Wo.prototype[e]=t(),Wo.prototype[e+"Form"]=t(!0)});let RO=class eT{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(h){t=h});const s=this;this.promise.then(l=>{if(!s._listeners)return;let h=s._listeners.length;for(;h-- >0;)s._listeners[h](l);s._listeners=null}),this.promise.then=l=>{let h;const f=new Promise(_=>{s.subscribe(_),h=_}).then(l);return f.cancel=function(){s.unsubscribe(h)},f},e(function(h,f,_){s.reason||(s.reason=new Cc(h,f,_),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new eT(function(l){e=l}),cancel:e}}};function IO(i){return function(t){return i.apply(null,t)}}function jO(i){return se.isObject(i)&&i.isAxiosError===!0}const vg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(vg).forEach(([i,e])=>{vg[e]=i});function tT(i){const e=new Wo(i),t=PE(Wo.prototype.request,e);return se.extend(t,Wo.prototype,e,{allOwnKeys:!0}),se.extend(t,e,null,{allOwnKeys:!0}),t.create=function(l){return tT(el(i,l))},t}const Zt=tT(hh);Zt.Axios=Wo;Zt.CanceledError=Cc;Zt.CancelToken=RO;Zt.isCancel=WE;Zt.VERSION=JE;Zt.toFormData=kf;Zt.AxiosError=Qe;Zt.Cancel=Zt.CanceledError;Zt.all=function(e){return Promise.all(e)};Zt.spread=IO;Zt.isAxiosError=jO;Zt.mergeConfig=el;Zt.AxiosHeaders=bi;Zt.formToJSON=i=>ZE(se.isHTMLForm(i)?new FormData(i):i);Zt.getAdapter=XE.getAdapter;Zt.HttpStatusCode=vg;Zt.default=Zt;const{Axios:ZO,AxiosError:WO,CanceledError:KO,isCancel:YO,CancelToken:$O,VERSION:QO,all:XO,Cancel:JO,isAxiosError:e3,spread:t3,toFormData:n3,AxiosHeaders:i3,HttpStatusCode:r3,formToJSON:s3,getAdapter:a3,mergeConfig:o3}=Zt;delete Ac.Icon.Default.prototype._getIconUrl;Ac.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const PO=()=>{const{cartItems:i,cartTotal:e,clearCart:t}=jf(),s=tl(),l=G.useRef(),h=Sc.currentUser,[f,_]=G.useState(!1),[v,b]=G.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",state:"",pincode:"",country:"India"}),[E,N]=G.useState(null),[I,Z]=G.useState(!1),[U,K]=G.useState("card"),[H,oe]=G.useState([12.2253,79.0747]),[le,ce]=G.useState(5),[Ae,xe]=G.useState("satellite"),Ve=new Ac.Icon({iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41]}),F=Oe=>{const{name:Y,value:me}=Oe.target;b({...v,[Y]:me})},O=async(Oe,Y)=>{try{const he=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${Oe}&lon=${Y}&zoom=18&addressdetails=1`)).json();if(he?.address){const ke=he.address;return{address:`${ke.road||""} ${ke.house_number||""} ${ke.neighbourhood||""}`.trim(),city:ke.city||ke.town||ke.village||ke.county||"",state:ke.state||"",pincode:ke.postcode||"",country:ke.country||"India"}}}catch(me){throw console.error("Reverse geocoding error:",me),new Error("Could not fetch location details.")}},D=async(Oe,Y)=>{try{const me=await O(Oe,Y);b(he=>({...he,...me}))}catch(me){alert(me.message)}},P=()=>{if(!navigator.geolocation){alert("Geolocation not supported by your browser");return}Z(!0),navigator.geolocation.getCurrentPosition(async Oe=>{const{latitude:Y,longitude:me}=Oe.coords;N({lat:Y,lng:me}),oe([Y,me]),ce(16);try{await D(Y,me)}catch{}finally{Z(!1)}},Oe=>{console.error("Geolocation error:",Oe);let Y="Location access failed.";switch(Oe.code){case Oe.PERMISSION_DENIED:Y="Location access denied. Please allow location access and try again.";break;case Oe.POSITION_UNAVAILABLE:Y="Location information unavailable.";break;case Oe.TIMEOUT:Y="Location request timed out.";break}alert(Y),Z(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})},M=async Oe=>{const{lat:Y,lng:me}=Oe.latlng;N({lat:Y,lng:me}),oe([Y,me]);try{await D(Y,me)}catch{}},q=()=>(nL({click:M}),null),V=async Oe=>{if(Oe.preventDefault(),!E){alert("Please set a delivery location.");return}_(!0);try{const{data:Y}=await Zt.post("http://localhost:5000/create-order",{amount:e,currency:"INR"}),{orderId:me,keyId:he,amount:ke}=Y;await sb(Zu(Ws,"orders"),{userId:h?.uid,items:i,amount:e,currency:"INR",status:"created",razorpayOrderId:me,createdAt:fg()});const k={key:he,amount:ke,currency:"INR",name:"Your Shop",description:"Order Payment",order_id:me,handler:async function(_e){try{(await Zt.post("http://localhost:5000/verify-payment",{razorpayOrderId:_e.razorpay_order_id,razorpayPaymentId:_e.razorpay_payment_id,razorpaySignature:_e.razorpay_signature})).data.success?(await sb(Zu(Ws,"payments"),{userId:h?.uid,orderId:me,paymentId:_e.razorpay_payment_id,signature:_e.razorpay_signature,createdAt:fg()}),t(),s("/orderconfirmation",{state:{orderId:me,payment:"online"}})):alert("Payment verification failed!")}catch(ve){console.error("Verify error:",ve),alert("Verification failed.")}finally{_(!1)}},prefill:{name:`${v.firstName} ${v.lastName}`,email:v.email,contact:v.phone},theme:{color:"#22c55e"}};new window.Razorpay(k).open()}catch(Y){console.error("Order error:",Y),alert("Failed to start payment."),_(!1)}};if(i.length===0)return d.jsx("div",{className:"container mx-auto px-4 py-12",children:d.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[d.jsx("div",{className:"text-6xl mb-6",children:""}),d.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Your cart is empty"}),d.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"There's nothing to checkout. Add some items to your cart first."}),d.jsx(et,{to:"/cart",className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-8 rounded-lg transition",children:"Back to Cart"})]})});const He={satellite:{url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",attribution:"&copy; Google Satellite",subdomains:["mt0","mt1","mt2","mt3"]},hybrid:{url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",attribution:"&copy; Google Hybrid",subdomains:["mt0","mt1","mt2","mt3"]},street:{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"&copy; OpenStreetMap contributors"},detailed:{url:"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",attribution:"&copy; OpenStreetMap contributors, Tiles style by Humanitarian OpenStreetMap Team"}};return d.jsxs("div",{className:"container mx-auto px-4 py-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-center text-gray-800 mb-8",children:"Checkout"}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[d.jsx("div",{children:d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Order Summary"}),d.jsx("div",{className:"space-y-4",children:i.map(Oe=>d.jsxs("div",{className:"flex items-center border-b border-gray-100 pb-4",children:[d.jsx("img",{src:Oe.image,alt:Oe.name,className:"w-16 h-16 object-cover rounded-lg"}),d.jsxs("div",{className:"ml-4 flex-grow",children:[d.jsx("h3",{className:"font-medium text-gray-800",children:Oe.name}),d.jsxs("p",{className:"text-green-600 font-bold",children:["",Oe.price,"  ",Oe.quantity]})]}),d.jsx("div",{className:"ml-4",children:d.jsxs("p",{className:"font-bold text-green-600",children:["",Oe.price*Oe.quantity]})})]},Oe.id))}),d.jsxs("div",{className:"border-t border-gray-200 mt-4 pt-4",children:[d.jsxs("div",{className:"flex justify-between mb-2",children:[d.jsx("span",{children:"Subtotal"}),d.jsxs("span",{children:["",e]})]}),d.jsxs("div",{className:"flex justify-between mb-2",children:[d.jsx("span",{children:"Delivery Fee"}),d.jsx("span",{className:"text-green-600",children:"Free"})]}),d.jsxs("div",{className:"flex justify-between font-bold text-lg mt-2 pt-2 border-t border-gray-200",children:[d.jsx("span",{children:"Total"}),d.jsxs("span",{children:["",e]})]})]})]})}),d.jsx("div",{children:d.jsxs("form",{onSubmit:V,className:"bg-white rounded-lg shadow-md p-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Shipping Information"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),d.jsx("input",{type:"text",name:"firstName",value:v.firstName,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),d.jsx("input",{type:"text",name:"lastName",value:v.lastName,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),d.jsx("input",{type:"email",name:"email",value:v.email,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),d.jsx("input",{type:"tel",name:"phone",value:v.phone,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsxs("div",{className:"flex justify-between items-center mb-3",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Delivery Location"}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs("select",{value:Ae,onChange:Oe=>xe(Oe.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1",children:[d.jsx("option",{value:"satellite",children:"Satellite"}),d.jsx("option",{value:"street",children:"Street"})]}),d.jsx("button",{type:"button",onClick:P,disabled:I,className:"text-sm bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded flex items-center",children:I?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-1 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Detecting..."]}):d.jsxs(d.Fragment,{children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Use my location"]})})]})]}),d.jsx("div",{className:"mb-4 border rounded-lg overflow-hidden",children:d.jsxs(CE,{center:H,zoom:le,style:{height:"300px",width:"100%"},ref:l,children:[d.jsx(jE,{attribution:He[Ae].attribution,url:He[Ae].url,subdomains:He[Ae].subdomains}),d.jsx(q,{}),E&&d.jsx(RE,{position:[E.lat,E.lng],icon:Ve,children:d.jsx(IE,{children:d.jsxs("div",{className:"text-sm",children:[d.jsx("strong",{children:"Delivery Location"}),d.jsx("br",{}),v.address&&`${v.address}, `,v.city&&`${v.city}, `,v.state&&`${v.state} - `,v.pincode]})})})]})}),d.jsx("p",{className:"text-xs text-gray-500 mb-2",children:" Click on the map to set your delivery location manually"}),d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),d.jsx("input",{type:"text",name:"address",value:v.address,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0,placeholder:"Street address"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),d.jsx("input",{type:"text",name:"city",value:v.city,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),d.jsx("input",{type:"text",name:"state",value:v.state,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pincode"}),d.jsx("input",{type:"text",name:"pincode",value:v.pincode,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0,pattern:"[0-9]{6}",title:"6-digit pincode"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),d.jsx("input",{type:"text",name:"country",value:v.country,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]})]}),d.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Payment Method"}),d.jsxs("div",{className:"mb-6 space-y-3",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"card",name:"paymentMethod",type:"radio",value:"card",checked:U==="card",onChange:()=>K("card"),className:"h-4 w-4 text-green-600 focus:ring-green-500"}),d.jsx("label",{htmlFor:"card",className:"ml-3 block text-sm font-medium text-gray-700",children:"Credit/Debit Card"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"upi",name:"paymentMethod",type:"radio",value:"upi",checked:U==="upi",onChange:()=>K("upi"),className:"h-4 w-4 text-green-600 focus:ring-green-500"}),d.jsx("label",{htmlFor:"upi",className:"ml-3 block text-sm font-medium text-gray-700",children:"UPI"})]})]}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsx(et,{to:"/cart",className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-3 px-6 rounded-lg transition text-center",children:"Back to Cart"}),d.jsxs("button",{type:"submit",className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg transition",children:["Pay ",e]})]})]})})]})]})},LO=()=>{const[i,e]=G.useState(!1);G.useEffect(()=>{const l=()=>{window.scrollY>300?e(!0):e(!1)};return window.addEventListener("scroll",l),()=>window.removeEventListener("scroll",l)},[]);const t=()=>{window.scrollTo({top:0,behavior:"smooth"})},s=()=>{const l="918807239379",f=encodeURIComponent("I want fruit bunch"),_=`https://wa.me/${l}?text=${f}`;window.open(_,"_blank")};return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed bottom-6 right-6 z-50 w-14 h-14 bg-green-500 rounded-full flex items-center justify-center shadow-lg cursor-pointer hover:bg-green-600 transition-transform transform hover:scale-110",onClick:s,children:d.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.864 3.49"})})}),i&&d.jsx("div",{className:"fixed bottom-24 right-7 z-50 w-12 h-12 bg-gray-700 rounded-full flex items-center justify-center shadow-lg cursor-pointer hover:bg-gray-800 transition-all duration-300 opacity-80 hover:opacity-100",onClick:t,children:d.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 15l7-7 7 7"})})})]})},OO=()=>{const[i,e]=G.useState(""),[t,s]=G.useState(!1),[l,h]=G.useState(!1),f=async _=>{_.preventDefault(),h(!0);try{await PC(Sc,i),console.log("Password reset email sent to:",i),s(!0)}catch(v){console.error("Password reset error:",v.message),alert(v.message)}finally{h(!1)}};return d.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-100 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[d.jsx("div",{className:"absolute -top-20 -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),d.jsx("div",{className:"absolute top-40 -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),d.jsx("div",{className:"absolute -bottom-20 left-40 w-72 h-72 bg-teal-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-4000"}),d.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-2xl shadow-lg z-10 transform transition-all duration-500 hover:shadow-xl",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"mx-auto h-16 w-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),d.jsx("h2",{className:"mt-2 text-3xl font-bold text-gray-900",children:"Reset your password"}),d.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",d.jsx(et,{to:"/login",className:"font-medium text-green-600 hover:text-green-500 transition-colors duration-300",children:"return to sign in"})]})]}),t?d.jsxs("div",{className:"text-center py-6",children:[d.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),d.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"Check your email"}),d.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["We've sent a password reset link to ",d.jsx("span",{className:"font-medium text-green-600",children:i})]}),d.jsx("div",{className:"mt-6",children:d.jsx("button",{onClick:()=>s(!1),className:"text-sm font-medium text-green-600 hover:text-green-500 transition-colors duration-300",children:"Didn't receive the email? Click to resend"})}),d.jsx("div",{className:"mt-4",children:d.jsxs(et,{to:"/login",className:"inline-flex items-center text-sm font-medium text-green-600 hover:text-green-500 transition-colors duration-300",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to sign in"]})})]}):d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Enter your email address and we'll send you a link to reset your password."}),d.jsxs("form",{className:"mt-8 space-y-6",onSubmit:f,children:[d.jsx("div",{className:"rounded-md shadow-sm",children:d.jsxs("div",{className:"relative",children:[d.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),d.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Email address",value:i,onChange:_=>e(_.target.value)}),d.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none opacity-0 peer-focus:opacity-100 transition-opacity duration-300",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]})}),d.jsx("div",{children:d.jsxs("button",{type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",disabled:l,children:[l?d.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,l?"Sending...":"Send reset link"]})})]})]})]})]})},Eb=oE(),kO=()=>{const[i,e]=G.useState(null),[t,s]=G.useState(!0),[l,h]=G.useState([]),[f,_]=G.useState(null),[v,b]=G.useState("profile"),E=tl();return G.useEffect(()=>{const N=localStorage.getItem("user");if(N){const I=JSON.parse(N);e(I),(async()=>{try{const U=Zu(Eb,"orders"),K=gE(U,aP("userId","==",I.uid)),oe=(await dg(K)).docs.map(le=>({id:le.id,...le.data()}));if(h(oe),oe.length>0){const le=oe[0],ce=le.createdAt?.toDate?.()||new Date,Ae=new Date(ce);Ae.setDate(ce.getDate()+26);const xe=new Date;if(xe>Ae)_(null);else{const F=Math.max(0,Math.ceil((Ae-xe)/864e5));_({plan:le.items?.[0]?.name||"Standard",product:le.items?.[0]?.description||"Subscription",status:le.status,startDate:ce.toISOString(),expiryDate:Ae.toISOString(),price:`${le.amount}`,daysLeft:F})}}}catch(U){console.error("Error fetching orders:",U)}})()}s(!1)},[Eb]),t?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):i?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 py-8 px-4",children:d.jsxs("div",{className:"max-w-6xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"Profile Settings"}),d.jsx("p",{className:"text-gray-600",children:"Manage your account information and preferences"})]}),d.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[d.jsx("div",{className:"md:col-span-1",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 sticky top-8",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsxs("div",{className:"relative inline-block",children:[d.jsx("img",{src:`https://ui-avatars.com/api/?background=10b981&color=fff&size=128&name=${encodeURIComponent(i.name)}&bold=true`,alt:"Profile",className:"w-24 h-24 rounded-full mx-auto border-4 border-white shadow-lg"}),d.jsx("div",{className:"absolute bottom-2 right-2 w-6 h-6 bg-green-500 border-2 border-white rounded-full"})]}),d.jsx("h2",{className:"text-xl font-semibold mt-4 text-gray-900",children:i.name}),d.jsx("p",{className:"text-gray-600 text-sm",children:i.email})]}),d.jsxs("nav",{className:"space-y-2",children:[d.jsxs("button",{onClick:()=>b("profile"),className:`flex items-center space-x-3 p-3 rounded-lg w-full text-left ${v==="profile"?"bg-green-50 text-green-600":"text-gray-700 hover:bg-gray-50"}`,children:[d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),d.jsx("span",{className:"font-medium",children:"Profile"})]}),d.jsxs("button",{onClick:()=>b("subscription"),className:`flex items-center space-x-3 p-3 rounded-lg w-full text-left ${v==="subscription"?"bg-green-50 text-green-600":"text-gray-700 hover:bg-gray-50"}`,children:[d.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),d.jsx("span",{children:"Subscription"})]})]})]})}),d.jsx("div",{className:"md:col-span-3",children:v==="subscription"?d.jsxs(d.Fragment,{children:[f?d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden mb-8",children:[d.jsx("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 p-6",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Current Subscription"}),d.jsx("p",{className:"text-green-100",children:"Active plan with premium features"})]}),d.jsx("div",{className:"bg-white text-green-600 px-4 py-2 rounded-full font-semibold",children:f.plan})]})}),d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:d.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),d.jsx("h4",{className:"font-semibold text-gray-900",children:"Product"}),d.jsxs("p",{className:"text-gray-600 text-sm",children:[f.product,"..more"]})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:d.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),d.jsx("h4",{className:"font-semibold text-gray-900",children:"Expiry Date"}),d.jsx("p",{className:"text-gray-600 text-sm",children:new Date(f.expiryDate).toLocaleDateString()})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:d.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),d.jsx("h4",{className:"font-semibold text-gray-900",children:"Price"}),d.jsx("p",{className:"text-gray-600 text-sm",children:f.price})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:d.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3"})})}),d.jsx("h4",{className:"font-semibold text-gray-900",children:"Days Left"}),d.jsxs("p",{className:"text-gray-600 text-sm",children:[f.daysLeft," days"]})]})]}),d.jsxs("div",{className:"flex gap-4 mt-6",children:[d.jsxs("button",{onClick:()=>E("/subscription"),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg transition duration-200 flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Renew Subscription"]}),d.jsxs("button",{onClick:()=>E("/subscription"),className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-6 py-2 rounded-lg transition duration-200 flex items-center",children:[d.jsxs("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Change Plan"]})]})]})]}):d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-6 mb-8 text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-red-700 mb-2",children:"Subscription Expired"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Your subscription has expired. Please renew to continue enjoying premium features."}),d.jsx("button",{onClick:()=>E("/subscription"),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg transition duration-200",children:"Renew Now"})]}),d.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden mb-8",children:d.jsxs("div",{className:"p-6 border-b border-gray-100",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order History"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-50",children:[d.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"#"}),d.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plan"}),d.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),d.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),d.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-200",children:l.map((N,I)=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-4 py-3 text-sm font-medium text-green-600",children:I+1}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:N.items?.[0]?.name}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:N.items?.[0]?.description}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:new Date(N.createdAt?.toDate?.()).toLocaleDateString()}),d.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:["Rs: ",N.amount]})]},N.id))})]})})]})})]}):d.jsx(d.Fragment,{children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[d.jsxs("div",{className:"p-6 border-b border-gray-100",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Personal Information"}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),d.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:i.name})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),d.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:i.email})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Member Since"}),d.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Status"}),d.jsxs("div",{className:"p-3 bg-green-50 text-green-700 rounded-lg border border-green-200 flex items-center",children:[d.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Active"]})]})]})]}),d.jsxs("div",{className:"p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Actions"}),d.jsxs("div",{className:"flex flex-wrap gap-4",children:[d.jsxs("button",{onClick:()=>E("/forgot-password"),className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-6 py-2 rounded-lg transition duration-200 flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Change Password"]}),d.jsxs("button",{onClick:()=>{const N=Dw();UC(N).then(()=>{localStorage.removeItem("user"),window.location.href="/login"}).catch(I=>{console.error("Logout error:",I)})},className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg transition duration-200 flex items-center ml-auto",children:[d.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})]})]})]})})})]})]})}):d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 flex items-center justify-center",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:d.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),d.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Authentication Required"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Please login to view your profile"}),d.jsx("a",{href:"/login",className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg transition duration-200",children:"Go to Login"})]})})},DO=()=>{const i=Or(),{orderId:e,payment:t}=i.state||{},[s,l]=G.useState(null),[h,f]=G.useState(!0);return G.useEffect(()=>{if(!e)return;(async()=>{try{const v=Ec(Ws,"orders",e),b=await _y(v);b.exists()&&l(b.data())}catch(v){console.error("Error fetching order:",v)}finally{f(!1)}})()},[e]),e?d.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:d.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-8 max-w-xl mx-auto",children:[d.jsx("h1",{className:"text-3xl font-bold text-green-600 mb-4",children:" Order Confirmed!"}),d.jsxs("p",{className:"text-gray-700 mb-6",children:["Thank you for your purchase. Your payment was"," ",d.jsx("span",{className:"font-semibold",children:t?.toUpperCase()})," and your order has been successfully placed."]}),d.jsxs("div",{className:"bg-gray-50 border rounded p-4 mb-6 text-left",children:[d.jsxs("p",{className:"mb-2",children:[d.jsx("span",{className:"font-semibold",children:"Order ID:"})," ",e]}),h?d.jsx("p",{className:"text-gray-500",children:"Loading order details..."}):s?d.jsxs(d.Fragment,{children:[d.jsxs("p",{className:"mb-1",children:[d.jsx("span",{className:"font-semibold",children:"Amount:"})," ",s.amount]}),d.jsxs("p",{className:"mb-1",children:[d.jsx("span",{className:"font-semibold",children:"Status:"})," ",s.status]}),d.jsxs("p",{className:"mb-1",children:[d.jsx("span",{className:"font-semibold",children:"Currency:"})," ",s.currency]}),d.jsxs("p",{className:"mb-1",children:[d.jsx("span",{className:"font-semibold",children:"Date:"})," ",s.createdAt?.toDate?s.createdAt.toDate().toLocaleString():"N/A"]})]}):d.jsx("p",{className:"text-red-500",children:"Order details not found."})]}),d.jsxs("div",{className:"flex justify-center space-x-4",children:[d.jsx(et,{to:"/",className:"bg-green-600 text-white px-5 py-2 rounded hover:bg-green-700",children:"Continue Shopping"}),d.jsx(et,{to:"/orders",className:"bg-gray-600 text-white px-5 py-2 rounded hover:bg-gray-700",children:"View My Orders"})]})]})}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-xl font-bold text-red-500",children:"Invalid order confirmation"}),d.jsx(et,{to:"/",className:"text-green-600 underline",children:"Go back to Home"})]})};delete Ac.Icon.Default.prototype._getIconUrl;Ac.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const MO=()=>{const[i,e]=G.useState("subscriptions"),[t,s]=G.useState([]),[l,h]=G.useState([]),[f,_]=G.useState(!0),[v,b]=G.useState(null),[E,N]=G.useState(!1),[I,Z]=G.useState({}),[U,K]=G.useState(new Date().toISOString().split("T")[0]),H=new Ac.Icon({iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41]});G.useEffect(()=>{oe()},[]),G.useEffect(()=>{i==="attendance"&&le()},[i,U]);const oe=async()=>{try{_(!0);const P=gE(Zu(Ws,"orders"),oP("createdAt","desc")),q=(await dg(P)).docs.map(Y=>({id:Y.id,...Y.data(),createdAt:Y.data().createdAt?.toDate?.()||new Date}));h(q);const Oe=(await dg(Zu(Ws,"users"))).docs.map(Y=>({id:Y.id,...Y.data()})).map(Y=>{const me=q.filter(ke=>ke.userId===Y.id),he=me.length>0?{...me[0],daysLeft:ce(me[0].createdAt),status:Ae(me[0].createdAt)}:null;return{user:Y,orders:me,activeSubscription:he,totalOrders:me.length,totalSpent:me.reduce((ke,k)=>ke+(k.amount||0),0)}});s(Oe)}catch(P){console.error("Error fetching data:",P)}finally{_(!1)}},le=async()=>{try{const P=l.filter(q=>q.createdAt.toISOString().split("T")[0]===U),M={date:U,totalOrders:P.length,delivered:P.filter(q=>q.deliveryStatus==="delivered").length,notDelivered:P.filter(q=>!q.deliveryStatus||q.deliveryStatus==="pending"||q.deliveryStatus==="not_delivered").length,orders:P};Z(M)}catch(P){console.error("Error fetching attendance data:",P)}},ce=P=>{const M=new Date(P);M.setDate(M.getDate()+26);const V=Math.ceil((M-new Date)/(1e3*60*60*24));return Math.max(0,V)},Ae=P=>{const M=ce(P);return M===0?"expired":M<=7?"expiring_soon":"active"},xe=async(P,M)=>{try{const q=Ec(Ws,"orders",P);await hP(q,{deliveryStatus:M,updatedAt:It.now()}),h(V=>V.map(He=>He.id===P?{...He,deliveryStatus:M}:He)),v?.id===P&&b(V=>({...V,deliveryStatus:M})),alert(`Delivery status updated to ${M}`)}catch(q){console.error("Error updating delivery status:",q),alert("Error updating delivery status")}},Ve=async P=>{try{alert(`Cancelled delivery for user ${P} for today`)}catch(M){console.error("Error cancelling delivery:",M)}},F=async P=>{try{alert(`Marked leave for user ${P} for today`)}catch(M){console.error("Error marking leave:",M)}},O=P=>{b(P),N(!0)},D=P=>{const q={active:{color:"bg-green-100 text-green-800",label:"Active"},expiring_soon:{color:"bg-yellow-100 text-yellow-800",label:"Expiring Soon"},expired:{color:"bg-red-100 text-red-800",label:"Expired"},delivered:{color:"bg-green-100 text-green-800",label:"Delivered"},pending:{color:"bg-yellow-100 text-yellow-800",label:"Pending"},not_delivered:{color:"bg-red-100 text-red-800",label:"Not Delivered"}}[P]||{color:"bg-gray-100 text-gray-800",label:P};return d.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${q.color}`,children:q.label})};return f?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsx("div",{className:"bg-white shadow-sm border-b",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center py-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Panel"}),d.jsx("p",{className:"text-gray-600",children:"Manage subscriptions, orders, and deliveries"})]}),d.jsx("div",{className:"text-sm text-gray-500",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})})}),d.jsx("div",{className:"bg-white border-b",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsx("nav",{className:"flex space-x-8",children:["subscriptions","orders","attendance","analytics"].map(P=>d.jsx("button",{onClick:()=>e(P),className:`py-4 px-1 border-b-2 font-medium text-sm capitalize ${i===P?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:P.replace("_"," ")},P))})})}),d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i==="subscriptions"&&d.jsxs("div",{className:"bg-white shadow rounded-lg",children:[d.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"User Subscriptions"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Manage all user subscriptions and orders"})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subscription"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Orders"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Spent"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(P=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:d.jsx("img",{className:"h-10 w-10 rounded-full",src:`https://ui-avatars.com/api/?name=${encodeURIComponent(P.user.name||P.user.email)}&background=random`,alt:""})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.user.name||"No Name"}),d.jsx("div",{className:"text-sm text-gray-500",children:P.user.email})]})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:P.activeSubscription?d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-gray-900",children:P.activeSubscription.items?.[0]?.name||"Subscription"}),d.jsxs("div",{className:"text-sm text-gray-500",children:[P.activeSubscription.daysLeft," days left"]})]}):d.jsx("span",{className:"text-sm text-gray-500",children:"No active subscription"})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:P.activeSubscription?D(P.activeSubscription.status):D("expired")}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:P.totalOrders}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["",P.totalSpent]}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[d.jsx("button",{onClick:()=>P.orders.length>0&&O(P.orders[0]),className:"text-blue-600 hover:text-blue-900 mr-3",children:"View Orders"}),d.jsx("button",{onClick:()=>Ve(P.user.id),className:"text-red-600 hover:text-red-900 mr-3",children:"Cancel Today"}),d.jsx("button",{onClick:()=>F(P.user.id),className:"text-orange-600 hover:text-orange-900",children:"Leave Today"})]})]},P.user.id))})]})})]}),i==="orders"&&d.jsxs("div",{className:"bg-white shadow rounded-lg",children:[d.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"All Orders"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Manage order deliveries and status"})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Delivery Status"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(P=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:P.id.slice(-8)}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.find(M=>M.user.id===P.userId)?.user.name||"Unknown User"}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["",P.amount]}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.createdAt.toLocaleDateString()}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:D(P.deliveryStatus||"pending")}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[d.jsx("button",{onClick:()=>O(P),className:"text-blue-600 hover:text-blue-900",children:"View Details"}),d.jsxs("select",{value:P.deliveryStatus||"pending",onChange:M=>xe(P.id,M.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1",children:[d.jsx("option",{value:"pending",children:"Pending"}),d.jsx("option",{value:"delivered",children:"Delivered"}),d.jsx("option",{value:"not_delivered",children:"Not Delivered"})]})]})]},P.id))})]})})]}),i==="attendance"&&d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"bg-white shadow rounded-lg",children:[d.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Daily Attendance"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Track delivery attendance for specific dates"})]}),d.jsx("input",{type:"date",value:U,onChange:P=>K(P.target.value),className:"border border-gray-300 rounded px-3 py-2"})]})}),d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[d.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:I.totalOrders||0}),d.jsx("div",{className:"text-sm text-blue-800",children:"Total Orders"})]}),d.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[d.jsx("div",{className:"text-2xl font-bold text-green-600",children:I.delivered||0}),d.jsx("div",{className:"text-sm text-green-800",children:"Delivered"})]}),d.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[d.jsx("div",{className:"text-2xl font-bold text-red-600",children:I.notDelivered||0}),d.jsx("div",{className:"text-sm text-red-800",children:"Not Delivered"})]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Delivery Status"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:I.orders?.map(P=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:P.id.slice(-8)}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.find(M=>M.user.id===P.userId)?.user.name||"Unknown User"}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:D(P.deliveryStatus||"pending")}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:d.jsxs("select",{value:P.deliveryStatus||"pending",onChange:M=>xe(P.id,M.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1",children:[d.jsx("option",{value:"pending",children:"Pending"}),d.jsx("option",{value:"delivered",children:"Delivered"}),d.jsx("option",{value:"not_delivered",children:"Not Delivered"})]})})]},P.id))})]})})]})]})}),i==="analytics"&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Total Users"}),d.jsx("div",{className:"text-3xl font-bold text-blue-600",children:t.length})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Total Orders"}),d.jsx("div",{className:"text-3xl font-bold text-green-600",children:l.length})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Total Revenue"}),d.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:["",l.reduce((P,M)=>P+(M.amount||0),0)]})]})]})]}),E&&v&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[d.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Order Details"}),d.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Order Information"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Order ID:"}),d.jsx("p",{className:"text-sm text-gray-900",children:v.id})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Amount:"}),d.jsxs("p",{className:"text-sm text-gray-900",children:["",v.amount]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Status:"}),d.jsx("p",{className:"text-sm",children:D(v.deliveryStatus||"pending")})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Order Date:"}),d.jsx("p",{className:"text-sm text-gray-900",children:v.createdAt.toLocaleString()})]})]}),d.jsx("h4",{className:"font-semibold text-gray-900 mt-6 mb-4",children:"Delivery Address"}),d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsx("p",{children:v.shippingAddress?.address}),d.jsxs("p",{children:[v.shippingAddress?.city,", ",v.shippingAddress?.state]}),d.jsxs("p",{children:[v.shippingAddress?.pincode,", ",v.shippingAddress?.country]})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Delivery Location"}),d.jsx("div",{className:"h-64 rounded-lg overflow-hidden",children:d.jsxs(CE,{center:[12.2253,79.0747],zoom:13,style:{height:"100%",width:"100%"},children:[d.jsx(jE,{attribution:" OpenStreetMap contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),v.deliveryLocation&&d.jsx(RE,{position:[v.deliveryLocation.lat,v.deliveryLocation.lng],icon:H,children:d.jsx(IE,{children:"Delivery Location"})})]})}),d.jsxs("div",{className:"mt-4 space-y-3",children:[d.jsx("h4",{className:"font-semibold text-gray-900",children:"Update Delivery Status"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{onClick:()=>xe(v.id,"delivered"),className:"flex-1 bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700",children:"Mark as Delivered"}),d.jsx("button",{onClick:()=>xe(v.id,"not_delivered"),className:"flex-1 bg-red-600 text-white py-2 px-4 rounded hover:bg-red-700",children:"Mark as Not Delivered"})]})]})]})]}),d.jsxs("div",{className:"mt-6",children:[d.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Order Items"}),d.jsx("div",{className:"space-y-3",children:v.items?.map((P,M)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("img",{src:P.image,alt:P.name,className:"w-10 h-10 object-cover rounded"}),d.jsxs("div",{className:"ml-3",children:[d.jsx("p",{className:"font-medium text-gray-900",children:P.name}),d.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",P.quantity]})]})]}),d.jsxs("p",{className:"font-medium text-gray-900",children:["",P.price*P.quantity]})]},M))})]})]})]})})]})},VO=()=>{const[i,e]=G.useState("introduction"),t=[{id:"introduction",title:"Introduction"},{id:"accounts",title:"User Accounts"},{id:"subscriptions",title:"Subscriptions"},{id:"payments",title:"Payments"},{id:"delivery",title:"Delivery Policy"},{id:"cancellations",title:"Cancellations & Refunds"}];return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-8",children:d.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsxs(et,{to:"/",className:"inline-flex items-center text-green-600 hover:text-green-700 mb-6",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Home"]}),d.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Terms & Conditions"}),d.jsxs("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:["Last updated: ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[d.jsx("div",{className:"lg:col-span-1",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg sticky top-8 p-6",children:[d.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Table of Contents"}),d.jsx("nav",{className:"space-y-2",children:t.map(s=>d.jsx("button",{onClick:()=>e(s.id),className:`block w-full text-left px-3 py-2 rounded-lg transition-colors ${i===s.id?"bg-green-50 text-green-700 font-medium":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:s.title},s.id))})]})}),d.jsxs("div",{className:"lg:col-span-3",children:[d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[i==="introduction"&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"1. Introduction"}),d.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[d.jsxs("p",{children:["Welcome to ",d.jsx("strong",{children:"FreshDaily"}),' ("we," "our," or "us"). These Terms and Conditions govern your use of our subscription-based daily delivery service. By accessing or using our services, you agree to be bound by these terms.']}),d.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 my-6",children:[d.jsx("p",{className:"text-blue-800 font-medium",children:"Important:"}),d.jsx("p",{className:"text-blue-700 text-sm mt-1",children:"Please read these terms carefully before using our services. If you disagree with any part of these terms, you may not access our services."})]}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-6",children:"1.1 Definitions"}),d.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Service:"})," Our daily delivery subscription service"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"User:"})," Any individual or entity using our services"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Subscription:"})," A recurring service plan with specified duration"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Content:"})," All materials provided through our service"]})]})]})]}),i==="accounts"&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"2. User Accounts"}),d.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2.1 Account Registration"}),d.jsx("p",{children:"To use our services, you must register for an account by providing accurate and complete information. You are responsible for maintaining the confidentiality of your account credentials."}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2.2 Account Security"}),d.jsx("p",{children:"You must notify us immediately of any unauthorized use of your account. We reserve the right to suspend or terminate accounts that violate these terms."}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2.3 Age Requirement"}),d.jsx("p",{children:"You must be at least 18 years old to use our services. By registering, you represent that you meet this age requirement."})]})]}),i==="subscriptions"&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"3. Subscriptions"}),d.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"3.1 Subscription Plans"}),d.jsx("p",{children:"We offer various subscription plans with different durations and features. All subscriptions automatically renew unless canceled before the renewal date."}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"3.2 Subscription Period"}),d.jsx("p",{children:"Each subscription period is 26 days. The service will automatically renew for subsequent 26-day periods unless canceled."}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"3.3 Cancellation Policy"}),d.jsx("p",{children:"You may cancel your subscription at any time. Cancellations will take effect at the end of the current billing period."}),d.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-4 my-6",children:[d.jsx("p",{className:"text-yellow-800 font-medium",children:"Note:"}),d.jsx("p",{className:"text-yellow-700 text-sm mt-1",children:"Canceling your subscription does not entitle you to a refund for the current period."})]})]})]}),i==="payments"&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"4. Payments"}),d.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"4.1 Payment Methods"}),d.jsx("p",{children:"We accept various payment methods including credit/debit cards, UPI, and other electronic payment systems. All payments are processed through secure third-party payment gateways."}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"4.2 Billing Cycle"}),d.jsx("p",{children:"Payments are charged at the beginning of each subscription period. You will receive a notification before each renewal."}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"4.3 Price Changes"}),d.jsx("p",{children:"We reserve the right to change subscription prices. Existing subscribers will be notified 30 days in advance of any price changes."})]})]}),i==="delivery"&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"5. Delivery Policy"}),d.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"5.1 Delivery Areas"}),d.jsx("p",{children:"We currently deliver to specified areas within our service coverage. Delivery availability may vary based on your location."}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"5.2 Delivery Times"}),d.jsx("p",{children:"Deliveries are made daily within specified time windows. While we strive for punctuality, delivery times may vary due to unforeseen circumstances."}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"5.3 Delivery Issues"}),d.jsx("p",{children:"If you encounter any delivery issues, please contact our support team within 24 hours of the scheduled delivery time."})]})]}),i==="cancellations"&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"6. Cancellations & Refunds"}),d.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"6.1 Subscription Cancellation"}),d.jsx("p",{children:"You may cancel your subscription at any time through your account dashboard. The cancellation will take effect at the end of your current billing period."}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"6.2 Refund Policy"}),d.jsx("p",{children:"We offer refunds only under specific circumstances:"}),d.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[d.jsx("li",{children:"Service interruption for more than 3 consecutive days"}),d.jsx("li",{children:"Technical issues preventing service access"}),d.jsx("li",{children:"Duplicate payments"})]}),d.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 my-6",children:[d.jsx("p",{className:"text-red-800 font-medium",children:"No Refunds For:"}),d.jsxs("ul",{className:"text-red-700 text-sm mt-1 list-disc list-inside ml-4",children:[d.jsx("li",{children:"Change of mind after subscription"}),d.jsx("li",{children:"Non-usage of service during active period"}),d.jsx("li",{children:"Partial month usage"})]})]})]})]}),d.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("button",{onClick:()=>{const s=t.findIndex(l=>l.id===i);s>0&&e(t[s-1].id)},className:"flex items-center text-green-600 hover:text-green-700",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous Section"]}),d.jsxs("button",{onClick:()=>{const s=t.findIndex(l=>l.id===i);s<t.length-1&&e(t[s+1].id)},className:"flex items-center text-green-600 hover:text-green-700",children:["Next Section",d.jsx("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})})]}),d.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mt-6",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Acceptance of Terms"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"By using our services, you acknowledge that you have read, understood, and agree to be bound by these Terms and Conditions."}),d.jsx("div",{className:"flex justify-center space-x-4",children:d.jsx(et,{to:"/privacypolicy",className:"bg-gray-200 hover:bg-gray-300 text-gray-800 px-6 py-2 rounded-lg transition",children:"Privacy Policy"})})]})})]})]})]})})},UO=()=>{const[i,e]=G.useState("overview"),t=[{id:"overview",title:"Overview"},{id:"information",title:"Information We Collect"},{id:"usage",title:"How We Use Information"},{id:"sharing",title:"Information Sharing"},{id:"cookies",title:"Cookies & Tracking"}];return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 py-8",children:d.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsxs(et,{to:"/",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-6",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Home"]}),d.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Privacy Policy"}),d.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"We are committed to protecting your privacy and ensuring transparency about how we handle your personal information."}),d.jsxs("div",{className:"mt-4 text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[d.jsx("div",{className:"lg:col-span-1",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg sticky top-8 p-6",children:[d.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Quick Navigation"}),d.jsx("nav",{className:"space-y-2",children:t.map(s=>d.jsx("button",{onClick:()=>e(s.id),className:`block w-full text-left px-3 py-2 rounded-lg transition-colors ${i===s.id?"bg-blue-50 text-blue-700 font-medium":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:s.title},s.id))}),d.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[d.jsx("h4",{className:"font-semibold text-blue-900 text-sm mb-2",children:"Questions?"}),d.jsxs("p",{className:"text-blue-700 text-xs",children:["Contact our privacy team at"," ",d.jsx("a",{href:"mailto:privacy@freshdaily.com",className:"underline",children:"privacy@freshdaily.com"})]})]})]})}),d.jsxs("div",{className:"lg:col-span-3",children:[d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[i==="overview"&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"1. Overview"}),d.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[d.jsxs("p",{children:["At ",d.jsx("strong",{children:"FreshDaily"}),", we are committed to protecting your privacy and ensuring the security of your personal information. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our services."]}),d.jsxs("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 my-6",children:[d.jsx("p",{className:"text-green-800 font-medium",children:"Our Commitment:"}),d.jsxs("ul",{className:"text-green-700 text-sm mt-1 list-disc list-inside ml-4",children:[d.jsx("li",{children:"We never sell your personal information"}),d.jsx("li",{children:"We minimize data collection to what's necessary"}),d.jsx("li",{children:"We implement robust security measures"}),d.jsx("li",{children:"We are transparent about our practices"})]})]}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-6",children:"1.1 Scope"}),d.jsx("p",{children:'This policy applies to all information collected through our website, mobile applications, and services (collectively, the "Services").'})]})]}),i==="information"&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"2. Information We Collect"}),d.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2.1 Personal Information"}),d.jsx("p",{children:"We collect information that identifies you as an individual:"}),d.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Contact Information:"})," Name, email address, phone number"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Account Information:"})," Username, password, profile details"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Payment Information:"})," Billing address, payment method details"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Delivery Information:"})," Shipping address, location data"]})]}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2.2 Usage Information"}),d.jsx("p",{children:"We automatically collect information about your interaction with our Services:"}),d.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[d.jsx("li",{children:"IP address and device information"}),d.jsx("li",{children:"Browser type and version"}),d.jsx("li",{children:"Pages visited and time spent"}),d.jsx("li",{children:"Subscription usage patterns"})]}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2.3 Location Information"}),d.jsx("p",{children:"With your permission, we collect precise location data to provide delivery services and improve user experience."})]})]}),i==="usage"&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"3. How We Use Your Information"}),d.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-6",children:[d.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[d.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Service Provision"}),d.jsxs("ul",{className:"text-blue-700 text-sm space-y-1 list-disc list-inside ml-2",children:[d.jsx("li",{children:"Process subscriptions and payments"}),d.jsx("li",{children:"Schedule and manage deliveries"}),d.jsx("li",{children:"Provide customer support"}),d.jsx("li",{children:"Send service notifications"})]})]}),d.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[d.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"Service Improvement"}),d.jsxs("ul",{className:"text-green-700 text-sm space-y-1 list-disc list-inside ml-2",children:[d.jsx("li",{children:"Analyze usage patterns"}),d.jsx("li",{children:"Improve service quality"}),d.jsx("li",{children:"Develop new features"}),d.jsx("li",{children:"Personalize user experience"})]})]})]}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"3.1 Legal Bases for Processing"}),d.jsx("p",{children:"We process your information based on:"}),d.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Contractual necessity:"})," To provide the services you requested"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Legal compliance:"})," To meet regulatory requirements"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Legitimate interests:"})," To improve our services"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Consent:"})," For specific purposes where required"]})]})]})]}),i==="sharing"&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"4. Information Sharing & Disclosure"}),d.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-6",children:[d.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-4",children:d.jsx("p",{className:"text-yellow-800 font-medium",children:"We do not sell your personal information to third parties."})}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"4.1 Service Providers"}),d.jsx("p",{children:"We share information with trusted service providers who assist in our operations:"}),d.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[d.jsx("li",{children:"Payment processors (Razorpay, Stripe)"}),d.jsx("li",{children:"Delivery and logistics partners"}),d.jsx("li",{children:"Cloud storage providers (Firebase)"}),d.jsx("li",{children:"Customer support platforms"})]}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"4.2 Legal Requirements"}),d.jsx("p",{children:"We may disclose information when required by law or to:"}),d.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[d.jsx("li",{children:"Comply with legal processes"}),d.jsx("li",{children:"Protect our rights and property"}),d.jsx("li",{children:"Prevent fraud or security issues"}),d.jsx("li",{children:"Protect the safety of our users"})]})]})]}),i==="cookies"&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"5. Cookies & Tracking Technologies"}),d.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"5.1 Types of Cookies We Use"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),d.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Purpose"}),d.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Duration"})]})}),d.jsxs("tbody",{className:"divide-y divide-gray-200",children:[d.jsxs("tr",{children:[d.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:"Essential"}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:"Basic website functionality"}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:"Session"})]}),d.jsxs("tr",{children:[d.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:"Analytics"}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:"Service improvement"}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:"2 years"})]}),d.jsxs("tr",{children:[d.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:"Preferences"}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:"Remember your settings"}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:"1 year"})]})]})]})}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"5.2 Managing Cookies"}),d.jsx("p",{children:"You can control cookie settings through your browser. However, disabling essential cookies may affect service functionality."})]})]}),i==="rights"&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"7. Your Privacy Rights"}),d.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-6",children:[d.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Access & Portability"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Request a copy of your personal data in a machine-readable format"})]}),d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Correction"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Update or correct inaccurate personal information"})]}),d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Deletion"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Request deletion of your personal data under certain conditions"})]}),d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Objection"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Object to processing of your personal data for specific purposes"})]})]}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"7.1 Exercising Your Rights"}),d.jsxs("p",{children:["To exercise any of these rights, please contact us at"," ",d.jsx("a",{href:"mailto:privacy@freshdaily.com",className:"text-blue-600 underline",children:"privacy@freshdaily.com"}),". We will respond to your request within 30 days."]})]})]}),d.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("button",{onClick:()=>{const s=t.findIndex(l=>l.id===i);s>0&&e(t[s-1].id)},className:"flex items-center text-blue-600 hover:text-blue-700",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous Section"]}),d.jsxs("button",{onClick:()=>{const s=t.findIndex(l=>l.id===i);s<t.length-1&&e(t[s+1].id)},className:"flex items-center text-blue-600 hover:text-blue-700",children:["Next Section",d.jsx("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})})]}),d.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mt-6",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Contact Our Privacy Team"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"If you have any questions about this Privacy Policy or our data practices, please contact us."}),d.jsxs("div",{className:"flex justify-center space-x-4",children:[d.jsx("a",{href:"mailto:fruitbunch.tvm@gmail.com",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition",children:"Email Privacy Team"}),d.jsx(et,{to:"/termsandconditions",className:"bg-gray-200 hover:bg-gray-300 text-gray-800 px-6 py-2 rounded-lg transition",children:"View Terms"})]})]})})]})]})]})})};function zO(){return d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx(xP,{}),d.jsx("main",{className:"flex-grow",children:d.jsx(pS,{})}),d.jsx(bP,{}),d.jsx(LO,{})]})}function BO(){return d.jsx(_P,{children:d.jsx(zS,{basename:"/fruitbunch",children:d.jsxs(yS,{children:[d.jsxs(Un,{element:d.jsx(zO,{}),children:[d.jsx(Un,{path:"/",element:d.jsx(AP,{})}),d.jsx(Un,{path:"/subscription",element:d.jsx(LP,{})}),d.jsx(Un,{path:"/corporate",element:d.jsx(OP,{})}),d.jsx(Un,{path:"/about",element:d.jsx(MP,{})}),d.jsx(Un,{path:"/cart",element:d.jsx(zP,{})}),d.jsx(Un,{path:"/profile",element:d.jsx(kO,{})}),d.jsx(Un,{path:"/orderconfirmation",element:d.jsx(DO,{})}),d.jsx(Un,{path:"/checkout",element:d.jsx(mP,{children:d.jsx(PO,{})})})]}),d.jsx(Un,{path:"/admin",element:d.jsx(pP,{children:d.jsx(MO,{})})}),d.jsx(Un,{path:"/termsandconditions",element:d.jsx(VO,{})}),d.jsx(Un,{path:"/privacypolicy",element:d.jsx(UO,{})}),d.jsx(Un,{path:"/login",element:d.jsx(VP,{})}),d.jsx(Un,{path:"/signup",element:d.jsx(UP,{})}),d.jsx(Un,{path:"/forgot-password",element:d.jsx(OO,{})})]})})})}T2.createRoot(document.getElementById("root")).render(d.jsx(G.StrictMode,{children:d.jsx(BO,{})}));
