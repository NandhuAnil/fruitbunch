(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();function bE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Og={exports:{}},sh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jb;function GR(){if(Jb)return sh;Jb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,c){var u=null;if(c!==void 0&&(u=""+c),a.key!==void 0&&(u=""+a.key),"key"in a){c={};for(var p in a)p!=="key"&&(c[p]=a[p])}else c=a;return a=c.ref,{$$typeof:t,type:i,key:u,ref:a!==void 0?a:null,props:c}}return sh.Fragment=e,sh.jsx=n,sh.jsxs=n,sh}var ew;function ZR(){return ew||(ew=1,Og.exports=GR()),Og.exports}var f=ZR(),kg={exports:{}},Je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw;function WR(){if(tw)return Je;tw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),T=Symbol.iterator;function A(H){return H===null||typeof H!="object"?null:(H=T&&H[T]||H["@@iterator"],typeof H=="function"?H:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,F={};function k(H,ce,xe){this.props=H,this.context=ce,this.refs=F,this.updater=xe||D}k.prototype.isReactComponent={},k.prototype.setState=function(H,ce){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ce,"setState")},k.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function $(){}$.prototype=k.prototype;function Y(H,ce,xe){this.props=H,this.context=ce,this.refs=F,this.updater=xe||D}var X=Y.prototype=new $;X.constructor=Y,j(X,k.prototype),X.isPureReactComponent=!0;var ve=Array.isArray,he={H:null,A:null,T:null,S:null,V:null},we=Object.prototype.hasOwnProperty;function z(H,ce,xe,be,Se,Re){return xe=Re.ref,{$$typeof:t,type:H,key:ce,ref:xe!==void 0?xe:null,props:Re}}function M(H,ce){return z(H.type,ce,void 0,void 0,void 0,H.props)}function B(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function O(H){var ce={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(xe){return ce[xe]})}var U=/\/+/g;function W(H,ce){return typeof H=="object"&&H!==null&&H.key!=null?O(""+H.key):ce.toString(36)}function q(){}function Be(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(q,q):(H.status="pending",H.then(function(ce){H.status==="pending"&&(H.status="fulfilled",H.value=ce)},function(ce){H.status==="pending"&&(H.status="rejected",H.reason=ce)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function Me(H,ce,xe,be,Se){var Re=typeof H;(Re==="undefined"||Re==="boolean")&&(H=null);var Ee=!1;if(H===null)Ee=!0;else switch(Re){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(H.$$typeof){case t:case e:Ee=!0;break;case x:return Ee=H._init,Me(Ee(H._payload),ce,xe,be,Se)}}if(Ee)return Se=Se(H),Ee=be===""?"."+W(H,0):be,ve(Se)?(xe="",Ee!=null&&(xe=Ee.replace(U,"$&/")+"/"),Me(Se,ce,xe,"",function(mi){return mi})):Se!=null&&(B(Se)&&(Se=M(Se,xe+(Se.key==null||H&&H.key===Se.key?"":(""+Se.key).replace(U,"$&/")+"/")+Ee)),ce.push(Se)),1;Ee=0;var At=be===""?".":be+":";if(ve(H))for(var st=0;st<H.length;st++)be=H[st],Re=At+W(be,st),Ee+=Me(be,ce,xe,Re,Se);else if(st=A(H),typeof st=="function")for(H=st.call(H),st=0;!(be=H.next()).done;)be=be.value,Re=At+W(be,st++),Ee+=Me(be,ce,xe,Re,Se);else if(Re==="object"){if(typeof H.then=="function")return Me(Be(H),ce,xe,be,Se);throw ce=String(H),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function Q(H,ce,xe){if(H==null)return H;var be=[],Se=0;return Me(H,be,"","",function(Re){return ce.call(xe,Re,Se++)}),be}function ue(H){if(H._status===-1){var ce=H._result;ce=ce(),ce.then(function(xe){(H._status===0||H._status===-1)&&(H._status=1,H._result=xe)},function(xe){(H._status===0||H._status===-1)&&(H._status=2,H._result=xe)}),H._status===-1&&(H._status=0,H._result=ce)}if(H._status===1)return H._result.default;throw H._result}var de=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function je(){}return Je.Children={map:Q,forEach:function(H,ce,xe){Q(H,function(){ce.apply(this,arguments)},xe)},count:function(H){var ce=0;return Q(H,function(){ce++}),ce},toArray:function(H){return Q(H,function(ce){return ce})||[]},only:function(H){if(!B(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Je.Component=k,Je.Fragment=n,Je.Profiler=a,Je.PureComponent=Y,Je.StrictMode=i,Je.Suspense=y,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,Je.__COMPILER_RUNTIME={__proto__:null,c:function(H){return he.H.useMemoCache(H)}},Je.cache=function(H){return function(){return H.apply(null,arguments)}},Je.cloneElement=function(H,ce,xe){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var be=j({},H.props),Se=H.key,Re=void 0;if(ce!=null)for(Ee in ce.ref!==void 0&&(Re=void 0),ce.key!==void 0&&(Se=""+ce.key),ce)!we.call(ce,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&ce.ref===void 0||(be[Ee]=ce[Ee]);var Ee=arguments.length-2;if(Ee===1)be.children=xe;else if(1<Ee){for(var At=Array(Ee),st=0;st<Ee;st++)At[st]=arguments[st+2];be.children=At}return z(H.type,Se,void 0,void 0,Re,be)},Je.createContext=function(H){return H={$$typeof:u,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:c,_context:H},H},Je.createElement=function(H,ce,xe){var be,Se={},Re=null;if(ce!=null)for(be in ce.key!==void 0&&(Re=""+ce.key),ce)we.call(ce,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(Se[be]=ce[be]);var Ee=arguments.length-2;if(Ee===1)Se.children=xe;else if(1<Ee){for(var At=Array(Ee),st=0;st<Ee;st++)At[st]=arguments[st+2];Se.children=At}if(H&&H.defaultProps)for(be in Ee=H.defaultProps,Ee)Se[be]===void 0&&(Se[be]=Ee[be]);return z(H,Re,void 0,void 0,null,Se)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(H){return{$$typeof:p,render:H}},Je.isValidElement=B,Je.lazy=function(H){return{$$typeof:x,_payload:{_status:-1,_result:H},_init:ue}},Je.memo=function(H,ce){return{$$typeof:_,type:H,compare:ce===void 0?null:ce}},Je.startTransition=function(H){var ce=he.T,xe={};he.T=xe;try{var be=H(),Se=he.S;Se!==null&&Se(xe,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(je,de)}catch(Re){de(Re)}finally{he.T=ce}},Je.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},Je.use=function(H){return he.H.use(H)},Je.useActionState=function(H,ce,xe){return he.H.useActionState(H,ce,xe)},Je.useCallback=function(H,ce){return he.H.useCallback(H,ce)},Je.useContext=function(H){return he.H.useContext(H)},Je.useDebugValue=function(){},Je.useDeferredValue=function(H,ce){return he.H.useDeferredValue(H,ce)},Je.useEffect=function(H,ce,xe){var be=he.H;if(typeof xe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return be.useEffect(H,ce)},Je.useId=function(){return he.H.useId()},Je.useImperativeHandle=function(H,ce,xe){return he.H.useImperativeHandle(H,ce,xe)},Je.useInsertionEffect=function(H,ce){return he.H.useInsertionEffect(H,ce)},Je.useLayoutEffect=function(H,ce){return he.H.useLayoutEffect(H,ce)},Je.useMemo=function(H,ce){return he.H.useMemo(H,ce)},Je.useOptimistic=function(H,ce){return he.H.useOptimistic(H,ce)},Je.useReducer=function(H,ce,xe){return he.H.useReducer(H,ce,xe)},Je.useRef=function(H){return he.H.useRef(H)},Je.useState=function(H){return he.H.useState(H)},Je.useSyncExternalStore=function(H,ce,xe){return he.H.useSyncExternalStore(H,ce,xe)},Je.useTransition=function(){return he.H.useTransition()},Je.version="19.1.1",Je}var nw;function E0(){return nw||(nw=1,kg.exports=WR()),kg.exports}var V=E0();const xy=bE(V);var Vg={exports:{}},rh={},Bg={exports:{}},Ug={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iw;function KR(){return iw||(iw=1,(function(t){function e(Q,ue){var de=Q.length;Q.push(ue);e:for(;0<de;){var je=de-1>>>1,H=Q[je];if(0<a(H,ue))Q[je]=ue,Q[de]=H,de=je;else break e}}function n(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var ue=Q[0],de=Q.pop();if(de!==ue){Q[0]=de;e:for(var je=0,H=Q.length,ce=H>>>1;je<ce;){var xe=2*(je+1)-1,be=Q[xe],Se=xe+1,Re=Q[Se];if(0>a(be,de))Se<H&&0>a(Re,be)?(Q[je]=Re,Q[Se]=de,je=Se):(Q[je]=be,Q[xe]=de,je=xe);else if(Se<H&&0>a(Re,de))Q[je]=Re,Q[Se]=de,je=Se;else break e}}return ue}function a(Q,ue){var de=Q.sortIndex-ue.sortIndex;return de!==0?de:Q.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,p=u.now();t.unstable_now=function(){return u.now()-p}}var y=[],_=[],x=1,T=null,A=3,D=!1,j=!1,F=!1,k=!1,$=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function ve(Q){for(var ue=n(_);ue!==null;){if(ue.callback===null)i(_);else if(ue.startTime<=Q)i(_),ue.sortIndex=ue.expirationTime,e(y,ue);else break;ue=n(_)}}function he(Q){if(F=!1,ve(Q),!j)if(n(y)!==null)j=!0,we||(we=!0,W());else{var ue=n(_);ue!==null&&Me(he,ue.startTime-Q)}}var we=!1,z=-1,M=5,B=-1;function O(){return k?!0:!(t.unstable_now()-B<M)}function U(){if(k=!1,we){var Q=t.unstable_now();B=Q;var ue=!0;try{e:{j=!1,F&&(F=!1,Y(z),z=-1),D=!0;var de=A;try{t:{for(ve(Q),T=n(y);T!==null&&!(T.expirationTime>Q&&O());){var je=T.callback;if(typeof je=="function"){T.callback=null,A=T.priorityLevel;var H=je(T.expirationTime<=Q);if(Q=t.unstable_now(),typeof H=="function"){T.callback=H,ve(Q),ue=!0;break t}T===n(y)&&i(y),ve(Q)}else i(y);T=n(y)}if(T!==null)ue=!0;else{var ce=n(_);ce!==null&&Me(he,ce.startTime-Q),ue=!1}}break e}finally{T=null,A=de,D=!1}ue=void 0}}finally{ue?W():we=!1}}}var W;if(typeof X=="function")W=function(){X(U)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,Be=q.port2;q.port1.onmessage=U,W=function(){Be.postMessage(null)}}else W=function(){$(U,0)};function Me(Q,ue){z=$(function(){Q(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_next=function(Q){switch(A){case 1:case 2:case 3:var ue=3;break;default:ue=A}var de=A;A=ue;try{return Q()}finally{A=de}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(Q,ue){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var de=A;A=Q;try{return ue()}finally{A=de}},t.unstable_scheduleCallback=function(Q,ue,de){var je=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?je+de:je):de=je,Q){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=de+H,Q={id:x++,callback:ue,priorityLevel:Q,startTime:de,expirationTime:H,sortIndex:-1},de>je?(Q.sortIndex=de,e(_,Q),n(y)===null&&Q===n(_)&&(F?(Y(z),z=-1):F=!0,Me(he,de-je))):(Q.sortIndex=H,e(y,Q),j||D||(j=!0,we||(we=!0,W()))),Q},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(Q){var ue=A;return function(){var de=A;A=ue;try{return Q.apply(this,arguments)}finally{A=de}}}})(Ug)),Ug}var sw;function $R(){return sw||(sw=1,Bg.exports=KR()),Bg.exports}var zg={exports:{}},qn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rw;function YR(){if(rw)return qn;rw=1;var t=E0();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)_+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function c(y,_,x){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:y,containerInfo:_,implementation:x}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,qn.createPortal=function(y,_){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,x)},qn.flushSync=function(y){var _=u.T,x=i.p;try{if(u.T=null,i.p=2,y)return y()}finally{u.T=_,i.p=x,i.d.f()}},qn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,i.d.C(y,_))},qn.prefetchDNS=function(y){typeof y=="string"&&i.d.D(y)},qn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var x=_.as,T=p(x,_.crossOrigin),A=typeof _.integrity=="string"?_.integrity:void 0,D=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;x==="style"?i.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:D}):x==="script"&&i.d.X(y,{crossOrigin:T,integrity:A,fetchPriority:D,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},qn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var x=p(_.as,_.crossOrigin);i.d.M(y,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&i.d.M(y)},qn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var x=_.as,T=p(x,_.crossOrigin);i.d.L(y,x,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},qn.preloadModule=function(y,_){if(typeof y=="string")if(_){var x=p(_.as,_.crossOrigin);i.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else i.d.m(y)},qn.requestFormReset=function(y){i.d.r(y)},qn.unstable_batchedUpdates=function(y,_){return y(_)},qn.useFormState=function(y,_,x){return u.H.useFormState(y,_,x)},qn.useFormStatus=function(){return u.H.useHostTransitionStatus()},qn.version="19.1.1",qn}var aw;function wE(){if(aw)return zg.exports;aw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zg.exports=YR(),zg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ow;function XR(){if(ow)return rh;ow=1;var t=$R(),e=E0(),n=wE();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function c(s){var r=s,l=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(l=r.return),s=r.return;while(s)}return r.tag===3?l:null}function u(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function p(s){if(c(s)!==s)throw Error(i(188))}function y(s){var r=s.alternate;if(!r){if(r=c(s),r===null)throw Error(i(188));return r!==s?null:s}for(var l=s,d=r;;){var v=l.return;if(v===null)break;var b=v.alternate;if(b===null){if(d=v.return,d!==null){l=d;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===l)return p(v),s;if(b===d)return p(v),r;b=b.sibling}throw Error(i(188))}if(l.return!==d.return)l=v,d=b;else{for(var C=!1,P=v.child;P;){if(P===l){C=!0,l=v,d=b;break}if(P===d){C=!0,d=v,l=b;break}P=P.sibling}if(!C){for(P=b.child;P;){if(P===l){C=!0,l=b,d=v;break}if(P===d){C=!0,d=b,l=v;break}P=P.sibling}if(!C)throw Error(i(189))}}if(l.alternate!==d)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:r}function _(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=_(s),r!==null)return r;s=s.sibling}return null}var x=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),X=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function W(s){return s===null||typeof s!="object"?null:(s=U&&s[U]||s["@@iterator"],typeof s=="function"?s:null)}var q=Symbol.for("react.client.reference");function Be(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===q?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case j:return"Fragment";case k:return"Profiler";case F:return"StrictMode";case he:return"Suspense";case we:return"SuspenseList";case B:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case D:return"Portal";case X:return(s.displayName||"Context")+".Provider";case Y:return(s._context.displayName||"Context")+".Consumer";case ve:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case z:return r=s.displayName||null,r!==null?r:Be(s.type)||"Memo";case M:r=s._payload,s=s._init;try{return Be(s(r))}catch{}}return null}var Me=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},je=[],H=-1;function ce(s){return{current:s}}function xe(s){0>H||(s.current=je[H],je[H]=null,H--)}function be(s,r){H++,je[H]=s.current,s.current=r}var Se=ce(null),Re=ce(null),Ee=ce(null),At=ce(null);function st(s,r){switch(be(Ee,r),be(Re,s),be(Se,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?Nb(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=Nb(r),s=Cb(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}xe(Se),be(Se,s)}function mi(){xe(Se),xe(Re),xe(Ee)}function Rr(s){s.memoizedState!==null&&be(At,s);var r=Se.current,l=Cb(r,s.type);r!==l&&(be(Re,s),be(Se,l))}function Qs(s){Re.current===s&&(xe(Se),xe(Re)),At.current===s&&(xe(At),Ju._currentValue=de)}var Ji=Object.prototype.hasOwnProperty,Es=t.unstable_scheduleCallback,ba=t.unstable_cancelCallback,Ml=t.unstable_shouldYield,wa=t.unstable_requestPaint,_n=t.unstable_now,Pr=t.unstable_getCurrentPriorityLevel,Xt=t.unstable_ImmediatePriority,Qt=t.unstable_UserBlockingPriority,Li=t.unstable_NormalPriority,Ol=t.unstable_LowPriority,Ta=t.unstable_IdlePriority,gu=t.log,jr=t.unstable_setDisableYieldValue,es=null,hn=null;function Qn(s){if(typeof gu=="function"&&jr(s),hn&&typeof hn.setStrictMode=="function")try{hn.setStrictMode(es,s)}catch{}}var In=Math.clz32?Math.clz32:Vl,kl=Math.log,ko=Math.LN2;function Vl(s){return s>>>=0,s===0?32:31-(kl(s)/ko|0)|0}var Di=256,ts=4194304;function pi(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function gi(s,r,l){var d=s.pendingLanes;if(d===0)return 0;var v=0,b=s.suspendedLanes,C=s.pingedLanes;s=s.warmLanes;var P=d&134217727;return P!==0?(d=P&~b,d!==0?v=pi(d):(C&=P,C!==0?v=pi(C):l||(l=P&~s,l!==0&&(v=pi(l))))):(P=d&~b,P!==0?v=pi(P):C!==0?v=pi(C):l||(l=d&~s,l!==0&&(v=pi(l)))),v===0?0:r!==0&&r!==v&&(r&b)===0&&(b=v&-v,l=r&-r,b>=l||b===32&&(l&4194048)!==0)?r:v}function yi(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Ea(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vo(){var s=Di;return Di<<=1,(Di&4194048)===0&&(Di=256),s}function Ss(){var s=ts;return ts<<=1,(ts&62914560)===0&&(ts=4194304),s}function Ir(s){for(var r=[],l=0;31>l;l++)r.push(s);return r}function Dt(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Bl(s,r,l,d,v,b){var C=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var P=s.entanglements,Z=s.expirationTimes,ie=s.hiddenUpdates;for(l=C&~l;0<l;){var fe=31-In(l),ge=1<<fe;P[fe]=0,Z[fe]=-1;var se=ie[fe];if(se!==null)for(ie[fe]=null,fe=0;fe<se.length;fe++){var ae=se[fe];ae!==null&&(ae.lane&=-536870913)}l&=~ge}d!==0&&Js(s,d,0),b!==0&&v===0&&s.tag!==0&&(s.suspendedLanes|=b&~(C&~r))}function Js(s,r,l){s.pendingLanes|=r,s.suspendedLanes&=~r;var d=31-In(r);s.entangledLanes|=r,s.entanglements[d]=s.entanglements[d]|1073741824|l&4194090}function er(s,r){var l=s.entangledLanes|=r;for(s=s.entanglements;l;){var d=31-In(l),v=1<<d;v&r|s[d]&r&&(s[d]|=r),l&=~v}}function Bo(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Uo(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function As(){var s=ue.p;return s!==0?s:(s=window.event,s===void 0?32:Wb(s.type))}function zo(s,r){var l=ue.p;try{return ue.p=s,r()}finally{ue.p=l}}var ns=Math.random().toString(36).slice(2),Ut="__reactFiber$"+ns,dn="__reactProps$"+ns,Ns="__reactContainer$"+ns,xn="__reactEvents$"+ns,Le="__reactListeners$"+ns,Ul="__reactHandles$"+ns,vi="__reactResources$"+ns,Cs="__reactMarker$"+ns;function Lr(s){delete s[Ut],delete s[dn],delete s[xn],delete s[Le],delete s[Ul]}function _i(s){var r=s[Ut];if(r)return r;for(var l=s.parentNode;l;){if(r=l[Ns]||l[Ut]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(s=Ib(s);s!==null;){if(l=s[Ut])return l;s=Ib(s)}return r}s=l,l=s.parentNode}return null}function Mi(s){if(s=s[Ut]||s[Ns]){var r=s.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return s}return null}function Jn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Rs(s){var r=s[vi];return r||(r=s[vi]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function zt(s){s[Cs]=!0}var zl=new Set,Dr={};function is(s,r){Oi(s,r),Oi(s+"Capture",r)}function Oi(s,r){for(Dr[s]=r,s=0;s<r.length;s++)zl.add(r[s])}var Mr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ei={},Sa={};function yu(s){return Ji.call(Sa,s)?!0:Ji.call(ei,s)?!1:Mr.test(s)?Sa[s]=!0:(ei[s]=!0,!1)}function Or(s,r,l){if(yu(r))if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var d=r.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+l)}}function kr(s,r,l){if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+l)}}function xi(s,r,l,d){if(d===null)s.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(r,l,""+d)}}var Ps,ss;function rs(s){if(Ps===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);Ps=r&&r[1]||"",ss=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ps+s+ss}var Vr=!1;function as(s,r){if(!s||Vr)return"";Vr=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(r){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(ae){var se=ae}Reflect.construct(s,[],ge)}else{try{ge.call()}catch(ae){se=ae}s.call(ge.prototype)}}else{try{throw Error()}catch(ae){se=ae}(ge=s())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(ae){if(ae&&se&&typeof ae.stack=="string")return[ae.stack,se.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),C=b[0],P=b[1];if(C&&P){var Z=C.split(`
`),ie=P.split(`
`);for(v=d=0;d<Z.length&&!Z[d].includes("DetermineComponentFrameRoot");)d++;for(;v<ie.length&&!ie[v].includes("DetermineComponentFrameRoot");)v++;if(d===Z.length||v===ie.length)for(d=Z.length-1,v=ie.length-1;1<=d&&0<=v&&Z[d]!==ie[v];)v--;for(;1<=d&&0<=v;d--,v--)if(Z[d]!==ie[v]){if(d!==1||v!==1)do if(d--,v--,0>v||Z[d]!==ie[v]){var fe=`
`+Z[d].replace(" at new "," at ");return s.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",s.displayName)),fe}while(1<=d&&0<=v);break}}}finally{Vr=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?rs(l):""}function ot(s){switch(s.tag){case 26:case 27:case 5:return rs(s.type);case 16:return rs("Lazy");case 13:return rs("Suspense");case 19:return rs("SuspenseList");case 0:case 15:return as(s.type,!1);case 11:return as(s.type.render,!1);case 1:return as(s.type,!0);case 31:return rs("Activity");default:return""}}function ht(s){try{var r="";do r+=ot(s),s=s.return;while(s);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function wt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ti(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function bi(s){var r=ti(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,r),d=""+s[r];if(!s.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var v=l.get,b=l.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return v.call(this)},set:function(C){d=""+C,b.call(this,C)}}),Object.defineProperty(s,r,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(C){d=""+C},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function os(s){s._valueTracker||(s._valueTracker=bi(s))}function Ce(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var l=r.getValue(),d="";return s&&(d=ti(s)?s.checked?"true":"false":s.value),s=d,s!==l?(r.setValue(s),!0):!1}function vt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var js=/[\n"\\]/g;function Ft(s){return s.replace(js,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function bn(s,r,l,d,v,b,C,P){s.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.type=C:s.removeAttribute("type"),r!=null?C==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+wt(r)):s.value!==""+wt(r)&&(s.value=""+wt(r)):C!=="submit"&&C!=="reset"||s.removeAttribute("value"),r!=null?tr(s,C,wt(r)):l!=null?tr(s,C,wt(l)):d!=null&&s.removeAttribute("value"),v==null&&b!=null&&(s.defaultChecked=!!b),v!=null&&(s.checked=v&&typeof v!="function"&&typeof v!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?s.name=""+wt(P):s.removeAttribute("name")}function Fo(s,r,l,d,v,b,C,P){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.type=b),r!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||r!=null))return;l=l!=null?""+wt(l):"",r=r!=null?""+wt(r):l,P||r===s.value||(s.value=r),s.defaultValue=r}d=d??v,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=P?s.checked:!!d,s.defaultChecked=!!d,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(s.name=C)}function tr(s,r,l){r==="number"&&vt(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Un(s,r,l,d){if(s=s.options,r){r={};for(var v=0;v<l.length;v++)r["$"+l[v]]=!0;for(l=0;l<s.length;l++)v=r.hasOwnProperty("$"+s[l].value),s[l].selected!==v&&(s[l].selected=v),v&&d&&(s[l].defaultSelected=!0)}else{for(l=""+wt(l),r=null,v=0;v<s.length;v++){if(s[v].value===l){s[v].selected=!0,d&&(s[v].defaultSelected=!0);return}r!==null||s[v].disabled||(r=s[v])}r!==null&&(r.selected=!0)}}function It(s,r,l){if(r!=null&&(r=""+wt(r),r!==s.value&&(s.value=r),l==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=l!=null?""+wt(l):""}function ls(s,r,l,d){if(r==null){if(d!=null){if(l!=null)throw Error(i(92));if(Me(d)){if(1<d.length)throw Error(i(93));d=d[0]}l=d}l==null&&(l=""),r=l}l=wt(r),s.defaultValue=l,d=s.textContent,d===l&&d!==""&&d!==null&&(s.value=d)}function wn(s,r){if(r){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=r;return}}s.textContent=r}var ni=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Br(s,r,l){var d=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":d?s.setProperty(r,l):typeof l!="number"||l===0||ni.has(r)?r==="float"?s.cssFloat=l:s[r]=(""+l).trim():s[r]=l+"px"}function Is(s,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||r!=null&&r.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var v in r)d=r[v],r.hasOwnProperty(v)&&l[v]!==d&&Br(s,v,d)}else for(var b in r)r.hasOwnProperty(b)&&Br(s,b,r[b])}function nr(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Aa=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ur=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ii(s){return Ur.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var zr=null;function ir(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ls=null,fn=null;function Fl(s){var r=Mi(s);if(r&&(s=r.stateNode)){var l=s[dn]||null;e:switch(s=r.stateNode,r.type){case"input":if(bn(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ft(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var d=l[r];if(d!==s&&d.form===s.form){var v=d[dn]||null;if(!v)throw Error(i(90));bn(d,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(r=0;r<l.length;r++)d=l[r],d.form===s.form&&Ce(d)}break e;case"textarea":It(s,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&Un(s,!!l.multiple,r,!1)}}}var ze=!1;function Tn(s,r,l){if(ze)return s(r,l);ze=!0;try{var d=s(r);return d}finally{if(ze=!1,(Ls!==null||fn!==null)&&(Qd(),Ls&&(r=Ls,s=fn,fn=Ls=null,Fl(r),s)))for(r=0;r<s.length;r++)Fl(s[r])}}function dt(s,r){var l=s.stateNode;if(l===null)return null;var d=l[dn]||null;if(d===null)return null;l=d[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ki=!1;if(En)try{var cs={};Object.defineProperty(cs,"passive",{get:function(){ki=!0}}),window.addEventListener("test",cs,cs),window.removeEventListener("test",cs,cs)}catch{ki=!1}var zn=null,ft=null,sr=null;function rr(){if(sr)return sr;var s,r=ft,l=r.length,d,v="value"in zn?zn.value:zn.textContent,b=v.length;for(s=0;s<l&&r[s]===v[s];s++);var C=l-s;for(d=1;d<=C&&r[l-d]===v[b-d];d++);return sr=v.slice(s,1<d?1-d:void 0)}function Lt(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function si(){return!0}function Na(){return!1}function Wt(s){function r(l,d,v,b,C){this._reactName=l,this._targetInst=v,this.type=d,this.nativeEvent=b,this.target=C,this.currentTarget=null;for(var P in s)s.hasOwnProperty(P)&&(l=s[P],this[P]=l?l(b):b[P]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?si:Na,this.isPropagationStopped=Na,this}return x(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),r}var Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ar=Wt(Sn),Ds=x({},Sn,{view:0,detail:0}),Fr=Wt(Ds),Hr,Xe,us,mn=x({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==us&&(us&&s.type==="mousemove"?(Hr=s.screenX-us.screenX,Xe=s.screenY-us.screenY):Xe=Hr=0,us=s),Hr)},movementY:function(s){return"movementY"in s?s.movementY:Xe}}),Vi=Wt(mn),Hl=x({},mn,{dataTransfer:0}),ql=Wt(Hl),Ms=x({},Ds,{relatedTarget:0}),Ca=Wt(Ms),Ho=x({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0}),qo=Wt(Ho),Go=x({},Sn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ra=Wt(Go),Pa=x({},Sn,{data:0}),Fn=Wt(Pa),Gl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zo(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Bi[s])?!!r[s]:!1}function qr(){return Zo}var ja=x({},Ds,{key:function(s){if(s.key){var r=Gl[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Lt(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?hs[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qr,charCode:function(s){return s.type==="keypress"?Lt(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Lt(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ia=Wt(ja),An=x({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),La=Wt(An),Zl=x({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qr}),or=Wt(Zl),m=x({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),E=Wt(m),N=x({},mn,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),I=Wt(N),te=x({},Sn,{newState:0,oldState:0}),re=Wt(te),Te=[9,13,27,32],Fe=En&&"CompositionEvent"in window,nt=null;En&&"documentMode"in document&&(nt=document.documentMode);var gt=En&&"TextEvent"in window&&!nt,Mt=En&&(!Fe||nt&&8<nt&&11>=nt),ri=" ",wi=!1;function ai(s,r){switch(s){case"keyup":return Te.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ui(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var zi=!1;function Da(s,r){switch(s){case"compositionend":return Ui(r);case"keypress":return r.which!==32?null:(wi=!0,ri);case"textInput":return s=r.data,s===ri&&wi?null:s;default:return null}}function rp(s,r){if(zi)return s==="compositionend"||!Fe&&ai(s,r)?(s=rr(),sr=ft=zn=null,zi=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Mt&&r.locale!=="ko"?null:r.data;default:return null}}var Fi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gr(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!Fi[s.type]:r==="textarea"}function gd(s,r,l,d){Ls?fn?fn.push(d):fn=[d]:Ls=d,r=rf(r,"onChange"),0<r.length&&(l=new ar("onChange","change",null,l,d),s.push({event:l,listeners:r}))}var oi=null,Wo=null;function Ma(s){wb(s,0)}function Wl(s){var r=Jn(s);if(Ce(r))return s}function Oa(s,r){if(s==="change")return r}var vu=!1;if(En){var ka;if(En){var _u="oninput"in document;if(!_u){var Os=document.createElement("div");Os.setAttribute("oninput","return;"),_u=typeof Os.oninput=="function"}ka=_u}else ka=!1;vu=ka&&(!document.documentMode||9<document.documentMode)}function Ko(){oi&&(oi.detachEvent("onpropertychange",yd),Wo=oi=null)}function yd(s){if(s.propertyName==="value"&&Wl(Wo)){var r=[];gd(r,Wo,s,ir(s)),Tn(Ma,r)}}function xu(s,r,l){s==="focusin"?(Ko(),oi=r,Wo=l,oi.attachEvent("onpropertychange",yd)):s==="focusout"&&Ko()}function ap(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Wl(Wo)}function ks(s,r){if(s==="click")return Wl(r)}function op(s,r){if(s==="input"||s==="change")return Wl(r)}function Va(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var li=typeof Object.is=="function"?Object.is:Va;function ci(s,r){if(li(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var l=Object.keys(s),d=Object.keys(r);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var v=l[d];if(!Ji.call(r,v)||!li(s[v],r[v]))return!1}return!0}function $o(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function bu(s,r){var l=$o(s);s=0;for(var d;l;){if(l.nodeType===3){if(d=s+l.textContent.length,s<=r&&d>=r)return{node:l,offset:r-s};s=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=$o(l)}}function Kl(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?Kl(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function Yo(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=vt(s.document);r instanceof s.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)s=r.contentWindow;else break;r=vt(s.document)}return r}function Xo(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var $l=En&&"documentMode"in document&&11>=document.documentMode,Hi=null,Ba=null,Zr=null,Yl=!1;function vd(s,r,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Yl||Hi==null||Hi!==vt(d)||(d=Hi,"selectionStart"in d&&Xo(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Zr&&ci(Zr,d)||(Zr=d,d=rf(Ba,"onSelect"),0<d.length&&(r=new ar("onSelect","select",null,r,l),s.push({event:r,listeners:d}),r.target=Hi)))}function ds(s,r){var l={};return l[s.toLowerCase()]=r.toLowerCase(),l["Webkit"+s]="webkit"+r,l["Moz"+s]="moz"+r,l}var Ua={animationend:ds("Animation","AnimationEnd"),animationiteration:ds("Animation","AnimationIteration"),animationstart:ds("Animation","AnimationStart"),transitionrun:ds("Transition","TransitionRun"),transitionstart:ds("Transition","TransitionStart"),transitioncancel:ds("Transition","TransitionCancel"),transitionend:ds("Transition","TransitionEnd")},Xl={},_d={};En&&(_d=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function lr(s){if(Xl[s])return Xl[s];if(!Ua[s])return s;var r=Ua[s],l;for(l in r)if(r.hasOwnProperty(l)&&l in _d)return Xl[s]=r[l];return s}var xd=lr("animationend"),qi=lr("animationiteration"),Qo=lr("animationstart"),lp=lr("transitionrun"),Ql=lr("transitionstart"),cp=lr("transitioncancel"),wu=lr("transitionend"),bd=new Map,Wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wr.push("scrollEnd");function Gi(s,r){bd.set(s,r),is(r,[s])}var Kr=new WeakMap;function ui(s,r){if(typeof s=="object"&&s!==null){var l=Kr.get(s);return l!==void 0?l:(r={value:s,source:r,stack:ht(r)},Kr.set(s,r),r)}return{value:s,source:r,stack:ht(r)}}var hi=[],za=0,Zi=0;function Jo(){for(var s=za,r=Zi=za=0;r<s;){var l=hi[r];hi[r++]=null;var d=hi[r];hi[r++]=null;var v=hi[r];hi[r++]=null;var b=hi[r];if(hi[r++]=null,d!==null&&v!==null){var C=d.pending;C===null?v.next=v:(v.next=C.next,C.next=v),d.pending=v}b!==0&&tl(l,v,b)}}function el(s,r,l,d){hi[za++]=s,hi[za++]=r,hi[za++]=l,hi[za++]=d,Zi|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function $r(s,r,l,d){return el(s,r,l,d),cr(s)}function Fa(s,r){return el(s,null,null,r),cr(s)}function tl(s,r,l){s.lanes|=l;var d=s.alternate;d!==null&&(d.lanes|=l);for(var v=!1,b=s.return;b!==null;)b.childLanes|=l,d=b.alternate,d!==null&&(d.childLanes|=l),b.tag===22&&(s=b.stateNode,s===null||s._visibility&1||(v=!0)),s=b,b=b.return;return s.tag===3?(b=s.stateNode,v&&r!==null&&(v=31-In(l),s=b.hiddenUpdates,d=s[v],d===null?s[v]=[r]:d.push(r),r.lane=l|536870912),b):null}function cr(s){if(50<Gu)throw Gu=0,ag=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var Yr={};function wd(s,r,l,d){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function di(s,r,l,d){return new wd(s,r,l,d)}function Jl(s){return s=s.prototype,!(!s||!s.isReactComponent)}function fs(s,r){var l=s.alternate;return l===null?(l=di(s.tag,r,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=r,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,r=s.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function Tu(s,r){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,r=l.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function nl(s,r,l,d,v,b){var C=0;if(d=s,typeof s=="function")Jl(s)&&(C=1);else if(typeof s=="string")C=IR(s,l,Se.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case B:return s=di(31,l,r,v),s.elementType=B,s.lanes=b,s;case j:return ur(l.children,v,b,r);case F:C=8,v|=24;break;case k:return s=di(12,l,r,v|2),s.elementType=k,s.lanes=b,s;case he:return s=di(13,l,r,v),s.elementType=he,s.lanes=b,s;case we:return s=di(19,l,r,v),s.elementType=we,s.lanes=b,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case $:case X:C=10;break e;case Y:C=9;break e;case ve:C=11;break e;case z:C=14;break e;case M:C=16,d=null;break e}C=29,l=Error(i(130,s===null?"null":typeof s,"")),d=null}return r=di(C,l,r,v),r.elementType=s,r.type=d,r.lanes=b,r}function ur(s,r,l,d){return s=di(7,s,d,r),s.lanes=l,s}function Eu(s,r,l){return s=di(6,s,null,r),s.lanes=l,s}function ec(s,r,l){return r=di(4,s.children!==null?s.children:[],s.key,r),r.lanes=l,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var Xr=[],Ha=0,o=null,h=0,g=[],w=0,S=null,R=1,G="";function ee(s,r){Xr[Ha++]=h,Xr[Ha++]=o,o=s,h=r}function oe(s,r,l){g[w++]=R,g[w++]=G,g[w++]=S,S=s;var d=R;s=G;var v=32-In(d)-1;d&=~(1<<v),l+=1;var b=32-In(r)+v;if(30<b){var C=v-v%5;b=(d&(1<<C)-1).toString(32),d>>=C,v-=C,R=1<<32-In(r)+v|l<<v|d,G=b+s}else R=1<<b|l<<v|d,G=s}function _e(s){s.return!==null&&(ee(s,1),oe(s,1,0))}function Ae(s){for(;s===o;)o=Xr[--Ha],Xr[Ha]=null,h=Xr[--Ha],Xr[Ha]=null;for(;s===S;)S=g[--w],g[w]=null,G=g[--w],g[w]=null,R=g[--w],g[w]=null}var Ie=null,Oe=null,Ke=!1,Ct=null,Ht=!1,Nn=Error(i(519));function Ti(s){var r=Error(i(418,""));throw Ga(ui(r,s)),Nn}function Td(s){var r=s.stateNode,l=s.type,d=s.memoizedProps;switch(r[Ut]=s,r[dn]=d,l){case"dialog":at("cancel",r),at("close",r);break;case"iframe":case"object":case"embed":at("load",r);break;case"video":case"audio":for(l=0;l<Wu.length;l++)at(Wu[l],r);break;case"source":at("error",r);break;case"img":case"image":case"link":at("error",r),at("load",r);break;case"details":at("toggle",r);break;case"input":at("invalid",r),Fo(r,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),os(r);break;case"select":at("invalid",r);break;case"textarea":at("invalid",r),ls(r,d.value,d.defaultValue,d.children),os(r)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||d.suppressHydrationWarning===!0||Ab(r.textContent,l)?(d.popover!=null&&(at("beforetoggle",r),at("toggle",r)),d.onScroll!=null&&at("scroll",r),d.onScrollEnd!=null&&at("scrollend",r),d.onClick!=null&&(r.onclick=af),r=!0):r=!1,r||Ti(s)}function Ed(s){for(Ie=s.return;Ie;)switch(Ie.tag){case 5:case 13:Ht=!1;return;case 27:case 3:Ht=!0;return;default:Ie=Ie.return}}function il(s){if(s!==Ie)return!1;if(!Ke)return Ed(s),Ke=!0,!1;var r=s.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||wg(s.type,s.memoizedProps)),l=!l),l&&Oe&&Ti(s),Ed(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,r=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(r===0){Oe=zs(s.nextSibling);break e}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;s=s.nextSibling}Oe=null}}else r===27?(r=Oe,ao(s.type)?(s=Ag,Ag=null,Oe=s):Oe=r):Oe=Ie?zs(s.stateNode.nextSibling):null;return!0}function qa(){Oe=Ie=null,Ke=!1}function Sd(){var s=Ct;return s!==null&&(Ai===null?Ai=s:Ai.push.apply(Ai,s),Ct=null),s}function Ga(s){Ct===null?Ct=[s]:Ct.push(s)}var Ot=ce(null),ms=null,Vs=null;function hr(s,r,l){be(Ot,r._currentValue),r._currentValue=l}function Bs(s){s._currentValue=Ot.current,xe(Ot)}function sl(s,r,l){for(;s!==null;){var d=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,d!==null&&(d.childLanes|=r)):d!==null&&(d.childLanes&r)!==r&&(d.childLanes|=r),s===l)break;s=s.return}}function tc(s,r,l,d){var v=s.child;for(v!==null&&(v.return=s);v!==null;){var b=v.dependencies;if(b!==null){var C=v.child;b=b.firstContext;e:for(;b!==null;){var P=b;b=v;for(var Z=0;Z<r.length;Z++)if(P.context===r[Z]){b.lanes|=l,P=b.alternate,P!==null&&(P.lanes|=l),sl(b.return,l,s),d||(C=null);break e}b=P.next}}else if(v.tag===18){if(C=v.return,C===null)throw Error(i(341));C.lanes|=l,b=C.alternate,b!==null&&(b.lanes|=l),sl(C,l,s),C=null}else C=v.child;if(C!==null)C.return=v;else for(C=v;C!==null;){if(C===s){C=null;break}if(v=C.sibling,v!==null){v.return=C.return,C=v;break}C=C.return}v=C}}function rl(s,r,l,d){s=null;for(var v=r,b=!1;v!==null;){if(!b){if((v.flags&524288)!==0)b=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var C=v.alternate;if(C===null)throw Error(i(387));if(C=C.memoizedProps,C!==null){var P=v.type;li(v.pendingProps.value,C.value)||(s!==null?s.push(P):s=[P])}}else if(v===At.current){if(C=v.alternate,C===null)throw Error(i(387));C.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(s!==null?s.push(Ju):s=[Ju])}v=v.return}s!==null&&tc(r,s,l,d),r.flags|=262144}function Ad(s){for(s=s.firstContext;s!==null;){if(!li(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function al(s){ms=s,Vs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Hn(s){return d_(ms,s)}function Nd(s,r){return ms===null&&al(s),d_(s,r)}function d_(s,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},Vs===null){if(s===null)throw Error(i(308));Vs=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Vs=Vs.next=r;return l}var jC=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(l,d){s.push(d)}};this.abort=function(){r.aborted=!0,s.forEach(function(l){return l()})}},IC=t.unstable_scheduleCallback,LC=t.unstable_NormalPriority,pn={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function up(){return{controller:new jC,data:new Map,refCount:0}}function Su(s){s.refCount--,s.refCount===0&&IC(LC,function(){s.controller.abort()})}var Au=null,hp=0,nc=0,ic=null;function DC(s,r){if(Au===null){var l=Au=[];hp=0,nc=fg(),ic={status:"pending",value:void 0,then:function(d){l.push(d)}}}return hp++,r.then(f_,f_),r}function f_(){if(--hp===0&&Au!==null){ic!==null&&(ic.status="fulfilled");var s=Au;Au=null,nc=0,ic=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function MC(s,r){var l=[],d={status:"pending",value:null,reason:null,then:function(v){l.push(v)}};return s.then(function(){d.status="fulfilled",d.value=r;for(var v=0;v<l.length;v++)(0,l[v])(r)},function(v){for(d.status="rejected",d.reason=v,v=0;v<l.length;v++)(0,l[v])(void 0)}),d}var m_=Q.S;Q.S=function(s,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&DC(s,r),m_!==null&&m_(s,r)};var ol=ce(null);function dp(){var s=ol.current;return s!==null?s:Rt.pooledCache}function Cd(s,r){r===null?be(ol,ol.current):be(ol,r.pool)}function p_(){var s=dp();return s===null?null:{parent:pn._currentValue,pool:s}}var Nu=Error(i(460)),g_=Error(i(474)),Rd=Error(i(542)),fp={then:function(){}};function y_(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Pd(){}function v_(s,r,l){switch(l=s[l],l===void 0?s.push(r):l!==r&&(r.then(Pd,Pd),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,x_(s),s;default:if(typeof r.status=="string")r.then(Pd,Pd);else{if(s=Rt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(d){if(r.status==="pending"){var v=r;v.status="fulfilled",v.value=d}},function(d){if(r.status==="pending"){var v=r;v.status="rejected",v.reason=d}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,x_(s),s}throw Cu=r,Nu}}var Cu=null;function __(){if(Cu===null)throw Error(i(459));var s=Cu;return Cu=null,s}function x_(s){if(s===Nu||s===Rd)throw Error(i(483))}var Za=!1;function mp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pp(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Wa(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ka(s,r,l){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(xt&2)!==0){var v=d.pending;return v===null?r.next=r:(r.next=v.next,v.next=r),d.pending=r,r=cr(s),tl(s,null,l),r}return el(s,d,r,l),cr(s)}function Ru(s,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var d=r.lanes;d&=s.pendingLanes,l|=d,r.lanes=l,er(s,l)}}function gp(s,r){var l=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var v=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?v=b=C:b=b.next=C,l=l.next}while(l!==null);b===null?v=b=r:b=b.next=r}else v=b=r;l={baseState:d.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=r:s.next=r,l.lastBaseUpdate=r}var yp=!1;function Pu(){if(yp){var s=ic;if(s!==null)throw s}}function ju(s,r,l,d){yp=!1;var v=s.updateQueue;Za=!1;var b=v.firstBaseUpdate,C=v.lastBaseUpdate,P=v.shared.pending;if(P!==null){v.shared.pending=null;var Z=P,ie=Z.next;Z.next=null,C===null?b=ie:C.next=ie,C=Z;var fe=s.alternate;fe!==null&&(fe=fe.updateQueue,P=fe.lastBaseUpdate,P!==C&&(P===null?fe.firstBaseUpdate=ie:P.next=ie,fe.lastBaseUpdate=Z))}if(b!==null){var ge=v.baseState;C=0,fe=ie=Z=null,P=b;do{var se=P.lane&-536870913,ae=se!==P.lane;if(ae?(mt&se)===se:(d&se)===se){se!==0&&se===nc&&(yp=!0),fe!==null&&(fe=fe.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var Ze=s,Ue=P;se=r;var St=l;switch(Ue.tag){case 1:if(Ze=Ue.payload,typeof Ze=="function"){ge=Ze.call(St,ge,se);break e}ge=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=Ue.payload,se=typeof Ze=="function"?Ze.call(St,ge,se):Ze,se==null)break e;ge=x({},ge,se);break e;case 2:Za=!0}}se=P.callback,se!==null&&(s.flags|=64,ae&&(s.flags|=8192),ae=v.callbacks,ae===null?v.callbacks=[se]:ae.push(se))}else ae={lane:se,tag:P.tag,payload:P.payload,callback:P.callback,next:null},fe===null?(ie=fe=ae,Z=ge):fe=fe.next=ae,C|=se;if(P=P.next,P===null){if(P=v.shared.pending,P===null)break;ae=P,P=ae.next,ae.next=null,v.lastBaseUpdate=ae,v.shared.pending=null}}while(!0);fe===null&&(Z=ge),v.baseState=Z,v.firstBaseUpdate=ie,v.lastBaseUpdate=fe,b===null&&(v.shared.lanes=0),no|=C,s.lanes=C,s.memoizedState=ge}}function b_(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function w_(s,r){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)b_(l[s],r)}var sc=ce(null),jd=ce(0);function T_(s,r){s=sa,be(jd,s),be(sc,r),sa=s|r.baseLanes}function vp(){be(jd,sa),be(sc,sc.current)}function _p(){sa=jd.current,xe(sc),xe(jd)}var $a=0,et=null,Tt=null,rn=null,Id=!1,rc=!1,ll=!1,Ld=0,Iu=0,ac=null,OC=0;function Jt(){throw Error(i(321))}function xp(s,r){if(r===null)return!1;for(var l=0;l<r.length&&l<s.length;l++)if(!li(s[l],r[l]))return!1;return!0}function bp(s,r,l,d,v,b){return $a=b,et=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=s===null||s.memoizedState===null?ax:ox,ll=!1,b=l(d,v),ll=!1,rc&&(b=S_(r,l,d,v)),E_(s),b}function E_(s){Q.H=Bd;var r=Tt!==null&&Tt.next!==null;if($a=0,rn=Tt=et=null,Id=!1,Iu=0,ac=null,r)throw Error(i(300));s===null||Cn||(s=s.dependencies,s!==null&&Ad(s)&&(Cn=!0))}function S_(s,r,l,d){et=s;var v=0;do{if(rc&&(ac=null),Iu=0,rc=!1,25<=v)throw Error(i(301));if(v+=1,rn=Tt=null,s.updateQueue!=null){var b=s.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}Q.H=HC,b=r(l,d)}while(rc);return b}function kC(){var s=Q.H,r=s.useState()[0];return r=typeof r.then=="function"?Lu(r):r,s=s.useState()[0],(Tt!==null?Tt.memoizedState:null)!==s&&(et.flags|=1024),r}function wp(){var s=Ld!==0;return Ld=0,s}function Tp(s,r,l){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~l}function Ep(s){if(Id){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Id=!1}$a=0,rn=Tt=et=null,rc=!1,Iu=Ld=0,ac=null}function Ei(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?et.memoizedState=rn=s:rn=rn.next=s,rn}function an(){if(Tt===null){var s=et.alternate;s=s!==null?s.memoizedState:null}else s=Tt.next;var r=rn===null?et.memoizedState:rn.next;if(r!==null)rn=r,Tt=s;else{if(s===null)throw et.alternate===null?Error(i(467)):Error(i(310));Tt=s,s={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},rn===null?et.memoizedState=rn=s:rn=rn.next=s}return rn}function Sp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lu(s){var r=Iu;return Iu+=1,ac===null&&(ac=[]),s=v_(ac,s,r),r=et,(rn===null?r.memoizedState:rn.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?ax:ox),s}function Dd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Lu(s);if(s.$$typeof===X)return Hn(s)}throw Error(i(438,String(s)))}function Ap(s){var r=null,l=et.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var d=et.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(r={data:d.data.map(function(v){return v.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=Sp(),et.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(s),d=0;d<s;d++)l[d]=O;return r.index++,l}function Qr(s,r){return typeof r=="function"?r(s):r}function Md(s){var r=an();return Np(r,Tt,s)}function Np(s,r,l){var d=s.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=l;var v=s.baseQueue,b=d.pending;if(b!==null){if(v!==null){var C=v.next;v.next=b.next,b.next=C}r.baseQueue=v=b,d.pending=null}if(b=s.baseState,v===null)s.memoizedState=b;else{r=v.next;var P=C=null,Z=null,ie=r,fe=!1;do{var ge=ie.lane&-536870913;if(ge!==ie.lane?(mt&ge)===ge:($a&ge)===ge){var se=ie.revertLane;if(se===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),ge===nc&&(fe=!0);else if(($a&se)===se){ie=ie.next,se===nc&&(fe=!0);continue}else ge={lane:0,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},Z===null?(P=Z=ge,C=b):Z=Z.next=ge,et.lanes|=se,no|=se;ge=ie.action,ll&&l(b,ge),b=ie.hasEagerState?ie.eagerState:l(b,ge)}else se={lane:ge,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},Z===null?(P=Z=se,C=b):Z=Z.next=se,et.lanes|=ge,no|=ge;ie=ie.next}while(ie!==null&&ie!==r);if(Z===null?C=b:Z.next=P,!li(b,s.memoizedState)&&(Cn=!0,fe&&(l=ic,l!==null)))throw l;s.memoizedState=b,s.baseState=C,s.baseQueue=Z,d.lastRenderedState=b}return v===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function Cp(s){var r=an(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var d=l.dispatch,v=l.pending,b=r.memoizedState;if(v!==null){l.pending=null;var C=v=v.next;do b=s(b,C.action),C=C.next;while(C!==v);li(b,r.memoizedState)||(Cn=!0),r.memoizedState=b,r.baseQueue===null&&(r.baseState=b),l.lastRenderedState=b}return[b,d]}function A_(s,r,l){var d=et,v=an(),b=Ke;if(b){if(l===void 0)throw Error(i(407));l=l()}else l=r();var C=!li((Tt||v).memoizedState,l);C&&(v.memoizedState=l,Cn=!0),v=v.queue;var P=R_.bind(null,d,v,s);if(Du(2048,8,P,[s]),v.getSnapshot!==r||C||rn!==null&&rn.memoizedState.tag&1){if(d.flags|=2048,oc(9,Od(),C_.bind(null,d,v,l,r),null),Rt===null)throw Error(i(349));b||($a&124)!==0||N_(d,r,l)}return l}function N_(s,r,l){s.flags|=16384,s={getSnapshot:r,value:l},r=et.updateQueue,r===null?(r=Sp(),et.updateQueue=r,r.stores=[s]):(l=r.stores,l===null?r.stores=[s]:l.push(s))}function C_(s,r,l,d){r.value=l,r.getSnapshot=d,P_(r)&&j_(s)}function R_(s,r,l){return l(function(){P_(r)&&j_(s)})}function P_(s){var r=s.getSnapshot;s=s.value;try{var l=r();return!li(s,l)}catch{return!0}}function j_(s){var r=Fa(s,2);r!==null&&Xi(r,s,2)}function Rp(s){var r=Ei();if(typeof s=="function"){var l=s;if(s=l(),ll){Qn(!0);try{l()}finally{Qn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:s},r}function I_(s,r,l,d){return s.baseState=l,Np(s,Tt,typeof d=="function"?d:Qr)}function VC(s,r,l,d,v){if(Vd(s))throw Error(i(485));if(s=r.action,s!==null){var b={payload:v,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){b.listeners.push(C)}};Q.T!==null?l(!0):b.isTransition=!1,d(b),l=r.pending,l===null?(b.next=r.pending=b,L_(r,b)):(b.next=l.next,r.pending=l.next=b)}}function L_(s,r){var l=r.action,d=r.payload,v=s.state;if(r.isTransition){var b=Q.T,C={};Q.T=C;try{var P=l(v,d),Z=Q.S;Z!==null&&Z(C,P),D_(s,r,P)}catch(ie){Pp(s,r,ie)}finally{Q.T=b}}else try{b=l(v,d),D_(s,r,b)}catch(ie){Pp(s,r,ie)}}function D_(s,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){M_(s,r,d)},function(d){return Pp(s,r,d)}):M_(s,r,l)}function M_(s,r,l){r.status="fulfilled",r.value=l,O_(r),s.state=l,r=s.pending,r!==null&&(l=r.next,l===r?s.pending=null:(l=l.next,r.next=l,L_(s,l)))}function Pp(s,r,l){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do r.status="rejected",r.reason=l,O_(r),r=r.next;while(r!==d)}s.action=null}function O_(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function k_(s,r){return r}function V_(s,r){if(Ke){var l=Rt.formState;if(l!==null){e:{var d=et;if(Ke){if(Oe){t:{for(var v=Oe,b=Ht;v.nodeType!==8;){if(!b){v=null;break t}if(v=zs(v.nextSibling),v===null){v=null;break t}}b=v.data,v=b==="F!"||b==="F"?v:null}if(v){Oe=zs(v.nextSibling),d=v.data==="F!";break e}}Ti(d)}d=!1}d&&(r=l[0])}}return l=Ei(),l.memoizedState=l.baseState=r,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:k_,lastRenderedState:r},l.queue=d,l=ix.bind(null,et,d),d.dispatch=l,d=Rp(!1),b=Mp.bind(null,et,!1,d.queue),d=Ei(),v={state:r,dispatch:null,action:s,pending:null},d.queue=v,l=VC.bind(null,et,v,b,l),v.dispatch=l,d.memoizedState=s,[r,l,!1]}function B_(s){var r=an();return U_(r,Tt,s)}function U_(s,r,l){if(r=Np(s,r,k_)[0],s=Md(Qr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var d=Lu(r)}catch(C){throw C===Nu?Rd:C}else d=r;r=an();var v=r.queue,b=v.dispatch;return l!==r.memoizedState&&(et.flags|=2048,oc(9,Od(),BC.bind(null,v,l),null)),[d,b,s]}function BC(s,r){s.action=r}function z_(s){var r=an(),l=Tt;if(l!==null)return U_(r,l,s);an(),r=r.memoizedState,l=an();var d=l.queue.dispatch;return l.memoizedState=s,[r,d,!1]}function oc(s,r,l,d){return s={tag:s,create:l,deps:d,inst:r,next:null},r=et.updateQueue,r===null&&(r=Sp(),et.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=s.next=s:(d=l.next,l.next=s,s.next=d,r.lastEffect=s),s}function Od(){return{destroy:void 0,resource:void 0}}function F_(){return an().memoizedState}function kd(s,r,l,d){var v=Ei();d=d===void 0?null:d,et.flags|=s,v.memoizedState=oc(1|r,Od(),l,d)}function Du(s,r,l,d){var v=an();d=d===void 0?null:d;var b=v.memoizedState.inst;Tt!==null&&d!==null&&xp(d,Tt.memoizedState.deps)?v.memoizedState=oc(r,b,l,d):(et.flags|=s,v.memoizedState=oc(1|r,b,l,d))}function H_(s,r){kd(8390656,8,s,r)}function q_(s,r){Du(2048,8,s,r)}function G_(s,r){return Du(4,2,s,r)}function Z_(s,r){return Du(4,4,s,r)}function W_(s,r){if(typeof r=="function"){s=s();var l=r(s);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function K_(s,r,l){l=l!=null?l.concat([s]):null,Du(4,4,W_.bind(null,r,s),l)}function jp(){}function $_(s,r){var l=an();r=r===void 0?null:r;var d=l.memoizedState;return r!==null&&xp(r,d[1])?d[0]:(l.memoizedState=[s,r],s)}function Y_(s,r){var l=an();r=r===void 0?null:r;var d=l.memoizedState;if(r!==null&&xp(r,d[1]))return d[0];if(d=s(),ll){Qn(!0);try{s()}finally{Qn(!1)}}return l.memoizedState=[d,r],d}function Ip(s,r,l){return l===void 0||($a&1073741824)!==0?s.memoizedState=r:(s.memoizedState=l,s=Jx(),et.lanes|=s,no|=s,l)}function X_(s,r,l,d){return li(l,r)?l:sc.current!==null?(s=Ip(s,l,d),li(s,r)||(Cn=!0),s):($a&42)===0?(Cn=!0,s.memoizedState=l):(s=Jx(),et.lanes|=s,no|=s,r)}function Q_(s,r,l,d,v){var b=ue.p;ue.p=b!==0&&8>b?b:8;var C=Q.T,P={};Q.T=P,Mp(s,!1,r,l);try{var Z=v(),ie=Q.S;if(ie!==null&&ie(P,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var fe=MC(Z,d);Mu(s,r,fe,Yi(s))}else Mu(s,r,d,Yi(s))}catch(ge){Mu(s,r,{then:function(){},status:"rejected",reason:ge},Yi())}finally{ue.p=b,Q.T=C}}function UC(){}function Lp(s,r,l,d){if(s.tag!==5)throw Error(i(476));var v=J_(s).queue;Q_(s,v,r,de,l===null?UC:function(){return ex(s),l(d)})}function J_(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:de},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:l},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function ex(s){var r=J_(s).next.queue;Mu(s,r,{},Yi())}function Dp(){return Hn(Ju)}function tx(){return an().memoizedState}function nx(){return an().memoizedState}function zC(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var l=Yi();s=Wa(l);var d=Ka(r,s,l);d!==null&&(Xi(d,r,l),Ru(d,r,l)),r={cache:up()},s.payload=r;return}r=r.return}}function FC(s,r,l){var d=Yi();l={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Vd(s)?sx(r,l):(l=$r(s,r,l,d),l!==null&&(Xi(l,s,d),rx(l,r,d)))}function ix(s,r,l){var d=Yi();Mu(s,r,l,d)}function Mu(s,r,l,d){var v={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Vd(s))sx(r,v);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=r.lastRenderedReducer,b!==null))try{var C=r.lastRenderedState,P=b(C,l);if(v.hasEagerState=!0,v.eagerState=P,li(P,C))return el(s,r,v,0),Rt===null&&Jo(),!1}catch{}finally{}if(l=$r(s,r,v,d),l!==null)return Xi(l,s,d),rx(l,r,d),!0}return!1}function Mp(s,r,l,d){if(d={lane:2,revertLane:fg(),action:d,hasEagerState:!1,eagerState:null,next:null},Vd(s)){if(r)throw Error(i(479))}else r=$r(s,l,d,2),r!==null&&Xi(r,s,2)}function Vd(s){var r=s.alternate;return s===et||r!==null&&r===et}function sx(s,r){rc=Id=!0;var l=s.pending;l===null?r.next=r:(r.next=l.next,l.next=r),s.pending=r}function rx(s,r,l){if((l&4194048)!==0){var d=r.lanes;d&=s.pendingLanes,l|=d,r.lanes=l,er(s,l)}}var Bd={readContext:Hn,use:Dd,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useLayoutEffect:Jt,useInsertionEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useSyncExternalStore:Jt,useId:Jt,useHostTransitionStatus:Jt,useFormState:Jt,useActionState:Jt,useOptimistic:Jt,useMemoCache:Jt,useCacheRefresh:Jt},ax={readContext:Hn,use:Dd,useCallback:function(s,r){return Ei().memoizedState=[s,r===void 0?null:r],s},useContext:Hn,useEffect:H_,useImperativeHandle:function(s,r,l){l=l!=null?l.concat([s]):null,kd(4194308,4,W_.bind(null,r,s),l)},useLayoutEffect:function(s,r){return kd(4194308,4,s,r)},useInsertionEffect:function(s,r){kd(4,2,s,r)},useMemo:function(s,r){var l=Ei();r=r===void 0?null:r;var d=s();if(ll){Qn(!0);try{s()}finally{Qn(!1)}}return l.memoizedState=[d,r],d},useReducer:function(s,r,l){var d=Ei();if(l!==void 0){var v=l(r);if(ll){Qn(!0);try{l(r)}finally{Qn(!1)}}}else v=r;return d.memoizedState=d.baseState=v,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:v},d.queue=s,s=s.dispatch=FC.bind(null,et,s),[d.memoizedState,s]},useRef:function(s){var r=Ei();return s={current:s},r.memoizedState=s},useState:function(s){s=Rp(s);var r=s.queue,l=ix.bind(null,et,r);return r.dispatch=l,[s.memoizedState,l]},useDebugValue:jp,useDeferredValue:function(s,r){var l=Ei();return Ip(l,s,r)},useTransition:function(){var s=Rp(!1);return s=Q_.bind(null,et,s.queue,!0,!1),Ei().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,l){var d=et,v=Ei();if(Ke){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),Rt===null)throw Error(i(349));(mt&124)!==0||N_(d,r,l)}v.memoizedState=l;var b={value:l,getSnapshot:r};return v.queue=b,H_(R_.bind(null,d,b,s),[s]),d.flags|=2048,oc(9,Od(),C_.bind(null,d,b,l,r),null),l},useId:function(){var s=Ei(),r=Rt.identifierPrefix;if(Ke){var l=G,d=R;l=(d&~(1<<32-In(d)-1)).toString(32)+l,r="«"+r+"R"+l,l=Ld++,0<l&&(r+="H"+l.toString(32)),r+="»"}else l=OC++,r="«"+r+"r"+l.toString(32)+"»";return s.memoizedState=r},useHostTransitionStatus:Dp,useFormState:V_,useActionState:V_,useOptimistic:function(s){var r=Ei();r.memoizedState=r.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=Mp.bind(null,et,!0,l),l.dispatch=r,[s,r]},useMemoCache:Ap,useCacheRefresh:function(){return Ei().memoizedState=zC.bind(null,et)}},ox={readContext:Hn,use:Dd,useCallback:$_,useContext:Hn,useEffect:q_,useImperativeHandle:K_,useInsertionEffect:G_,useLayoutEffect:Z_,useMemo:Y_,useReducer:Md,useRef:F_,useState:function(){return Md(Qr)},useDebugValue:jp,useDeferredValue:function(s,r){var l=an();return X_(l,Tt.memoizedState,s,r)},useTransition:function(){var s=Md(Qr)[0],r=an().memoizedState;return[typeof s=="boolean"?s:Lu(s),r]},useSyncExternalStore:A_,useId:tx,useHostTransitionStatus:Dp,useFormState:B_,useActionState:B_,useOptimistic:function(s,r){var l=an();return I_(l,Tt,s,r)},useMemoCache:Ap,useCacheRefresh:nx},HC={readContext:Hn,use:Dd,useCallback:$_,useContext:Hn,useEffect:q_,useImperativeHandle:K_,useInsertionEffect:G_,useLayoutEffect:Z_,useMemo:Y_,useReducer:Cp,useRef:F_,useState:function(){return Cp(Qr)},useDebugValue:jp,useDeferredValue:function(s,r){var l=an();return Tt===null?Ip(l,s,r):X_(l,Tt.memoizedState,s,r)},useTransition:function(){var s=Cp(Qr)[0],r=an().memoizedState;return[typeof s=="boolean"?s:Lu(s),r]},useSyncExternalStore:A_,useId:tx,useHostTransitionStatus:Dp,useFormState:z_,useActionState:z_,useOptimistic:function(s,r){var l=an();return Tt!==null?I_(l,Tt,s,r):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Ap,useCacheRefresh:nx},lc=null,Ou=0;function Ud(s){var r=Ou;return Ou+=1,lc===null&&(lc=[]),v_(lc,s,r)}function ku(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function zd(s,r){throw r.$$typeof===T?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function lx(s){var r=s._init;return r(s._payload)}function cx(s){function r(J,K){if(s){var ne=J.deletions;ne===null?(J.deletions=[K],J.flags|=16):ne.push(K)}}function l(J,K){if(!s)return null;for(;K!==null;)r(J,K),K=K.sibling;return null}function d(J){for(var K=new Map;J!==null;)J.key!==null?K.set(J.key,J):K.set(J.index,J),J=J.sibling;return K}function v(J,K){return J=fs(J,K),J.index=0,J.sibling=null,J}function b(J,K,ne){return J.index=ne,s?(ne=J.alternate,ne!==null?(ne=ne.index,ne<K?(J.flags|=67108866,K):ne):(J.flags|=67108866,K)):(J.flags|=1048576,K)}function C(J){return s&&J.alternate===null&&(J.flags|=67108866),J}function P(J,K,ne,me){return K===null||K.tag!==6?(K=Eu(ne,J.mode,me),K.return=J,K):(K=v(K,ne),K.return=J,K)}function Z(J,K,ne,me){var De=ne.type;return De===j?fe(J,K,ne.props.children,me,ne.key):K!==null&&(K.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===M&&lx(De)===K.type)?(K=v(K,ne.props),ku(K,ne),K.return=J,K):(K=nl(ne.type,ne.key,ne.props,null,J.mode,me),ku(K,ne),K.return=J,K)}function ie(J,K,ne,me){return K===null||K.tag!==4||K.stateNode.containerInfo!==ne.containerInfo||K.stateNode.implementation!==ne.implementation?(K=ec(ne,J.mode,me),K.return=J,K):(K=v(K,ne.children||[]),K.return=J,K)}function fe(J,K,ne,me,De){return K===null||K.tag!==7?(K=ur(ne,J.mode,me,De),K.return=J,K):(K=v(K,ne),K.return=J,K)}function ge(J,K,ne){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Eu(""+K,J.mode,ne),K.return=J,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case A:return ne=nl(K.type,K.key,K.props,null,J.mode,ne),ku(ne,K),ne.return=J,ne;case D:return K=ec(K,J.mode,ne),K.return=J,K;case M:var me=K._init;return K=me(K._payload),ge(J,K,ne)}if(Me(K)||W(K))return K=ur(K,J.mode,ne,null),K.return=J,K;if(typeof K.then=="function")return ge(J,Ud(K),ne);if(K.$$typeof===X)return ge(J,Nd(J,K),ne);zd(J,K)}return null}function se(J,K,ne,me){var De=K!==null?K.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return De!==null?null:P(J,K,""+ne,me);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case A:return ne.key===De?Z(J,K,ne,me):null;case D:return ne.key===De?ie(J,K,ne,me):null;case M:return De=ne._init,ne=De(ne._payload),se(J,K,ne,me)}if(Me(ne)||W(ne))return De!==null?null:fe(J,K,ne,me,null);if(typeof ne.then=="function")return se(J,K,Ud(ne),me);if(ne.$$typeof===X)return se(J,K,Nd(J,ne),me);zd(J,ne)}return null}function ae(J,K,ne,me,De){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return J=J.get(ne)||null,P(K,J,""+me,De);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case A:return J=J.get(me.key===null?ne:me.key)||null,Z(K,J,me,De);case D:return J=J.get(me.key===null?ne:me.key)||null,ie(K,J,me,De);case M:var it=me._init;return me=it(me._payload),ae(J,K,ne,me,De)}if(Me(me)||W(me))return J=J.get(ne)||null,fe(K,J,me,De,null);if(typeof me.then=="function")return ae(J,K,ne,Ud(me),De);if(me.$$typeof===X)return ae(J,K,ne,Nd(K,me),De);zd(K,me)}return null}function Ze(J,K,ne,me){for(var De=null,it=null,ke=K,He=K=0,Pn=null;ke!==null&&He<ne.length;He++){ke.index>He?(Pn=ke,ke=null):Pn=ke.sibling;var yt=se(J,ke,ne[He],me);if(yt===null){ke===null&&(ke=Pn);break}s&&ke&&yt.alternate===null&&r(J,ke),K=b(yt,K,He),it===null?De=yt:it.sibling=yt,it=yt,ke=Pn}if(He===ne.length)return l(J,ke),Ke&&ee(J,He),De;if(ke===null){for(;He<ne.length;He++)ke=ge(J,ne[He],me),ke!==null&&(K=b(ke,K,He),it===null?De=ke:it.sibling=ke,it=ke);return Ke&&ee(J,He),De}for(ke=d(ke);He<ne.length;He++)Pn=ae(ke,J,He,ne[He],me),Pn!==null&&(s&&Pn.alternate!==null&&ke.delete(Pn.key===null?He:Pn.key),K=b(Pn,K,He),it===null?De=Pn:it.sibling=Pn,it=Pn);return s&&ke.forEach(function(ho){return r(J,ho)}),Ke&&ee(J,He),De}function Ue(J,K,ne,me){if(ne==null)throw Error(i(151));for(var De=null,it=null,ke=K,He=K=0,Pn=null,yt=ne.next();ke!==null&&!yt.done;He++,yt=ne.next()){ke.index>He?(Pn=ke,ke=null):Pn=ke.sibling;var ho=se(J,ke,yt.value,me);if(ho===null){ke===null&&(ke=Pn);break}s&&ke&&ho.alternate===null&&r(J,ke),K=b(ho,K,He),it===null?De=ho:it.sibling=ho,it=ho,ke=Pn}if(yt.done)return l(J,ke),Ke&&ee(J,He),De;if(ke===null){for(;!yt.done;He++,yt=ne.next())yt=ge(J,yt.value,me),yt!==null&&(K=b(yt,K,He),it===null?De=yt:it.sibling=yt,it=yt);return Ke&&ee(J,He),De}for(ke=d(ke);!yt.done;He++,yt=ne.next())yt=ae(ke,J,He,yt.value,me),yt!==null&&(s&&yt.alternate!==null&&ke.delete(yt.key===null?He:yt.key),K=b(yt,K,He),it===null?De=yt:it.sibling=yt,it=yt);return s&&ke.forEach(function(qR){return r(J,qR)}),Ke&&ee(J,He),De}function St(J,K,ne,me){if(typeof ne=="object"&&ne!==null&&ne.type===j&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case A:e:{for(var De=ne.key;K!==null;){if(K.key===De){if(De=ne.type,De===j){if(K.tag===7){l(J,K.sibling),me=v(K,ne.props.children),me.return=J,J=me;break e}}else if(K.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===M&&lx(De)===K.type){l(J,K.sibling),me=v(K,ne.props),ku(me,ne),me.return=J,J=me;break e}l(J,K);break}else r(J,K);K=K.sibling}ne.type===j?(me=ur(ne.props.children,J.mode,me,ne.key),me.return=J,J=me):(me=nl(ne.type,ne.key,ne.props,null,J.mode,me),ku(me,ne),me.return=J,J=me)}return C(J);case D:e:{for(De=ne.key;K!==null;){if(K.key===De)if(K.tag===4&&K.stateNode.containerInfo===ne.containerInfo&&K.stateNode.implementation===ne.implementation){l(J,K.sibling),me=v(K,ne.children||[]),me.return=J,J=me;break e}else{l(J,K);break}else r(J,K);K=K.sibling}me=ec(ne,J.mode,me),me.return=J,J=me}return C(J);case M:return De=ne._init,ne=De(ne._payload),St(J,K,ne,me)}if(Me(ne))return Ze(J,K,ne,me);if(W(ne)){if(De=W(ne),typeof De!="function")throw Error(i(150));return ne=De.call(ne),Ue(J,K,ne,me)}if(typeof ne.then=="function")return St(J,K,Ud(ne),me);if(ne.$$typeof===X)return St(J,K,Nd(J,ne),me);zd(J,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,K!==null&&K.tag===6?(l(J,K.sibling),me=v(K,ne),me.return=J,J=me):(l(J,K),me=Eu(ne,J.mode,me),me.return=J,J=me),C(J)):l(J,K)}return function(J,K,ne,me){try{Ou=0;var De=St(J,K,ne,me);return lc=null,De}catch(ke){if(ke===Nu||ke===Rd)throw ke;var it=di(29,ke,null,J.mode);return it.lanes=me,it.return=J,it}finally{}}}var cc=cx(!0),ux=cx(!1),ps=ce(null),dr=null;function Ya(s){var r=s.alternate;be(gn,gn.current&1),be(ps,s),dr===null&&(r===null||sc.current!==null||r.memoizedState!==null)&&(dr=s)}function hx(s){if(s.tag===22){if(be(gn,gn.current),be(ps,s),dr===null){var r=s.alternate;r!==null&&r.memoizedState!==null&&(dr=s)}}else Xa()}function Xa(){be(gn,gn.current),be(ps,ps.current)}function Jr(s){xe(ps),dr===s&&(dr=null),xe(gn)}var gn=ce(0);function Fd(s){for(var r=s;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Sg(l)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Op(s,r,l,d){r=s.memoizedState,l=l(d,r),l=l==null?r:x({},r,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var kp={enqueueSetState:function(s,r,l){s=s._reactInternals;var d=Yi(),v=Wa(d);v.payload=r,l!=null&&(v.callback=l),r=Ka(s,v,d),r!==null&&(Xi(r,s,d),Ru(r,s,d))},enqueueReplaceState:function(s,r,l){s=s._reactInternals;var d=Yi(),v=Wa(d);v.tag=1,v.payload=r,l!=null&&(v.callback=l),r=Ka(s,v,d),r!==null&&(Xi(r,s,d),Ru(r,s,d))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var l=Yi(),d=Wa(l);d.tag=2,r!=null&&(d.callback=r),r=Ka(s,d,l),r!==null&&(Xi(r,s,l),Ru(r,s,l))}};function dx(s,r,l,d,v,b,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,b,C):r.prototype&&r.prototype.isPureReactComponent?!ci(l,d)||!ci(v,b):!0}function fx(s,r,l,d){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,d),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,d),r.state!==s&&kp.enqueueReplaceState(r,r.state,null)}function cl(s,r){var l=r;if("ref"in r){l={};for(var d in r)d!=="ref"&&(l[d]=r[d])}if(s=s.defaultProps){l===r&&(l=x({},l));for(var v in s)l[v]===void 0&&(l[v]=s[v])}return l}var Hd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function mx(s){Hd(s)}function px(s){console.error(s)}function gx(s){Hd(s)}function qd(s,r){try{var l=s.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(d){setTimeout(function(){throw d})}}function yx(s,r,l){try{var d=s.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Vp(s,r,l){return l=Wa(l),l.tag=3,l.payload={element:null},l.callback=function(){qd(s,r)},l}function vx(s){return s=Wa(s),s.tag=3,s}function _x(s,r,l,d){var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var b=d.value;s.payload=function(){return v(b)},s.callback=function(){yx(r,l,d)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(s.callback=function(){yx(r,l,d),typeof v!="function"&&(io===null?io=new Set([this]):io.add(this));var P=d.stack;this.componentDidCatch(d.value,{componentStack:P!==null?P:""})})}function qC(s,r,l,d,v){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(r=l.alternate,r!==null&&rl(r,l,v,!0),l=ps.current,l!==null){switch(l.tag){case 13:return dr===null?lg():l.alternate===null&&Kt===0&&(Kt=3),l.flags&=-257,l.flags|=65536,l.lanes=v,d===fp?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([d]):r.add(d),ug(s,d,v)),!1;case 22:return l.flags|=65536,d===fp?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([d]):l.add(d)),ug(s,d,v)),!1}throw Error(i(435,l.tag))}return ug(s,d,v),lg(),!1}if(Ke)return r=ps.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=v,d!==Nn&&(s=Error(i(422),{cause:d}),Ga(ui(s,l)))):(d!==Nn&&(r=Error(i(423),{cause:d}),Ga(ui(r,l))),s=s.current.alternate,s.flags|=65536,v&=-v,s.lanes|=v,d=ui(d,l),v=Vp(s.stateNode,d,v),gp(s,v),Kt!==4&&(Kt=2)),!1;var b=Error(i(520),{cause:d});if(b=ui(b,l),qu===null?qu=[b]:qu.push(b),Kt!==4&&(Kt=2),r===null)return!0;d=ui(d,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,s=v&-v,l.lanes|=s,s=Vp(l.stateNode,d,s),gp(l,s),!1;case 1:if(r=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(io===null||!io.has(b))))return l.flags|=65536,v&=-v,l.lanes|=v,v=vx(v),_x(v,s,l,d),gp(l,v),!1}l=l.return}while(l!==null);return!1}var xx=Error(i(461)),Cn=!1;function Ln(s,r,l,d){r.child=s===null?ux(r,null,l,d):cc(r,s.child,l,d)}function bx(s,r,l,d,v){l=l.render;var b=r.ref;if("ref"in d){var C={};for(var P in d)P!=="ref"&&(C[P]=d[P])}else C=d;return al(r),d=bp(s,r,l,C,b,v),P=wp(),s!==null&&!Cn?(Tp(s,r,v),ea(s,r,v)):(Ke&&P&&_e(r),r.flags|=1,Ln(s,r,d,v),r.child)}function wx(s,r,l,d,v){if(s===null){var b=l.type;return typeof b=="function"&&!Jl(b)&&b.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=b,Tx(s,r,b,d,v)):(s=nl(l.type,null,d,r,r.mode,v),s.ref=r.ref,s.return=r,r.child=s)}if(b=s.child,!Zp(s,v)){var C=b.memoizedProps;if(l=l.compare,l=l!==null?l:ci,l(C,d)&&s.ref===r.ref)return ea(s,r,v)}return r.flags|=1,s=fs(b,d),s.ref=r.ref,s.return=r,r.child=s}function Tx(s,r,l,d,v){if(s!==null){var b=s.memoizedProps;if(ci(b,d)&&s.ref===r.ref)if(Cn=!1,r.pendingProps=d=b,Zp(s,v))(s.flags&131072)!==0&&(Cn=!0);else return r.lanes=s.lanes,ea(s,r,v)}return Bp(s,r,l,d,v)}function Ex(s,r,l){var d=r.pendingProps,v=d.children,b=s!==null?s.memoizedState:null;if(d.mode==="hidden"){if((r.flags&128)!==0){if(d=b!==null?b.baseLanes|l:l,s!==null){for(v=r.child=s.child,b=0;v!==null;)b=b|v.lanes|v.childLanes,v=v.sibling;r.childLanes=b&~d}else r.childLanes=0,r.child=null;return Sx(s,r,d,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Cd(r,b!==null?b.cachePool:null),b!==null?T_(r,b):vp(),hx(r);else return r.lanes=r.childLanes=536870912,Sx(s,r,b!==null?b.baseLanes|l:l,l)}else b!==null?(Cd(r,b.cachePool),T_(r,b),Xa(),r.memoizedState=null):(s!==null&&Cd(r,null),vp(),Xa());return Ln(s,r,v,l),r.child}function Sx(s,r,l,d){var v=dp();return v=v===null?null:{parent:pn._currentValue,pool:v},r.memoizedState={baseLanes:l,cachePool:v},s!==null&&Cd(r,null),vp(),hx(r),s!==null&&rl(s,r,d,!0),null}function Gd(s,r){var l=r.ref;if(l===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(r.flags|=4194816)}}function Bp(s,r,l,d,v){return al(r),l=bp(s,r,l,d,void 0,v),d=wp(),s!==null&&!Cn?(Tp(s,r,v),ea(s,r,v)):(Ke&&d&&_e(r),r.flags|=1,Ln(s,r,l,v),r.child)}function Ax(s,r,l,d,v,b){return al(r),r.updateQueue=null,l=S_(r,d,l,v),E_(s),d=wp(),s!==null&&!Cn?(Tp(s,r,b),ea(s,r,b)):(Ke&&d&&_e(r),r.flags|=1,Ln(s,r,l,b),r.child)}function Nx(s,r,l,d,v){if(al(r),r.stateNode===null){var b=Yr,C=l.contextType;typeof C=="object"&&C!==null&&(b=Hn(C)),b=new l(d,b),r.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=kp,r.stateNode=b,b._reactInternals=r,b=r.stateNode,b.props=d,b.state=r.memoizedState,b.refs={},mp(r),C=l.contextType,b.context=typeof C=="object"&&C!==null?Hn(C):Yr,b.state=r.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(Op(r,l,C,d),b.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(C=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),C!==b.state&&kp.enqueueReplaceState(b,b.state,null),ju(r,d,b,v),Pu(),b.state=r.memoizedState),typeof b.componentDidMount=="function"&&(r.flags|=4194308),d=!0}else if(s===null){b=r.stateNode;var P=r.memoizedProps,Z=cl(l,P);b.props=Z;var ie=b.context,fe=l.contextType;C=Yr,typeof fe=="object"&&fe!==null&&(C=Hn(fe));var ge=l.getDerivedStateFromProps;fe=typeof ge=="function"||typeof b.getSnapshotBeforeUpdate=="function",P=r.pendingProps!==P,fe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(P||ie!==C)&&fx(r,b,d,C),Za=!1;var se=r.memoizedState;b.state=se,ju(r,d,b,v),Pu(),ie=r.memoizedState,P||se!==ie||Za?(typeof ge=="function"&&(Op(r,l,ge,d),ie=r.memoizedState),(Z=Za||dx(r,l,Z,d,se,ie,C))?(fe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(r.flags|=4194308)):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=d,r.memoizedState=ie),b.props=d,b.state=ie,b.context=C,d=Z):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),d=!1)}else{b=r.stateNode,pp(s,r),C=r.memoizedProps,fe=cl(l,C),b.props=fe,ge=r.pendingProps,se=b.context,ie=l.contextType,Z=Yr,typeof ie=="object"&&ie!==null&&(Z=Hn(ie)),P=l.getDerivedStateFromProps,(ie=typeof P=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(C!==ge||se!==Z)&&fx(r,b,d,Z),Za=!1,se=r.memoizedState,b.state=se,ju(r,d,b,v),Pu();var ae=r.memoizedState;C!==ge||se!==ae||Za||s!==null&&s.dependencies!==null&&Ad(s.dependencies)?(typeof P=="function"&&(Op(r,l,P,d),ae=r.memoizedState),(fe=Za||dx(r,l,fe,d,se,ae,Z)||s!==null&&s.dependencies!==null&&Ad(s.dependencies))?(ie||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,ae,Z),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,ae,Z)),typeof b.componentDidUpdate=="function"&&(r.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof b.componentDidUpdate!="function"||C===s.memoizedProps&&se===s.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&se===s.memoizedState||(r.flags|=1024),r.memoizedProps=d,r.memoizedState=ae),b.props=d,b.state=ae,b.context=Z,d=fe):(typeof b.componentDidUpdate!="function"||C===s.memoizedProps&&se===s.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&se===s.memoizedState||(r.flags|=1024),d=!1)}return b=d,Gd(s,r),d=(r.flags&128)!==0,b||d?(b=r.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:b.render(),r.flags|=1,s!==null&&d?(r.child=cc(r,s.child,null,v),r.child=cc(r,null,l,v)):Ln(s,r,l,v),r.memoizedState=b.state,s=r.child):s=ea(s,r,v),s}function Cx(s,r,l,d){return qa(),r.flags|=256,Ln(s,r,l,d),r.child}var Up={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zp(s){return{baseLanes:s,cachePool:p_()}}function Fp(s,r,l){return s=s!==null?s.childLanes&~l:0,r&&(s|=gs),s}function Rx(s,r,l){var d=r.pendingProps,v=!1,b=(r.flags&128)!==0,C;if((C=b)||(C=s!==null&&s.memoizedState===null?!1:(gn.current&2)!==0),C&&(v=!0,r.flags&=-129),C=(r.flags&32)!==0,r.flags&=-33,s===null){if(Ke){if(v?Ya(r):Xa(),Ke){var P=Oe,Z;if(Z=P){e:{for(Z=P,P=Ht;Z.nodeType!==8;){if(!P){P=null;break e}if(Z=zs(Z.nextSibling),Z===null){P=null;break e}}P=Z}P!==null?(r.memoizedState={dehydrated:P,treeContext:S!==null?{id:R,overflow:G}:null,retryLane:536870912,hydrationErrors:null},Z=di(18,null,null,0),Z.stateNode=P,Z.return=r,r.child=Z,Ie=r,Oe=null,Z=!0):Z=!1}Z||Ti(r)}if(P=r.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return Sg(P)?r.lanes=32:r.lanes=536870912,null;Jr(r)}return P=d.children,d=d.fallback,v?(Xa(),v=r.mode,P=Zd({mode:"hidden",children:P},v),d=ur(d,v,l,null),P.return=r,d.return=r,P.sibling=d,r.child=P,v=r.child,v.memoizedState=zp(l),v.childLanes=Fp(s,C,l),r.memoizedState=Up,d):(Ya(r),Hp(r,P))}if(Z=s.memoizedState,Z!==null&&(P=Z.dehydrated,P!==null)){if(b)r.flags&256?(Ya(r),r.flags&=-257,r=qp(s,r,l)):r.memoizedState!==null?(Xa(),r.child=s.child,r.flags|=128,r=null):(Xa(),v=d.fallback,P=r.mode,d=Zd({mode:"visible",children:d.children},P),v=ur(v,P,l,null),v.flags|=2,d.return=r,v.return=r,d.sibling=v,r.child=d,cc(r,s.child,null,l),d=r.child,d.memoizedState=zp(l),d.childLanes=Fp(s,C,l),r.memoizedState=Up,r=v);else if(Ya(r),Sg(P)){if(C=P.nextSibling&&P.nextSibling.dataset,C)var ie=C.dgst;C=ie,d=Error(i(419)),d.stack="",d.digest=C,Ga({value:d,source:null,stack:null}),r=qp(s,r,l)}else if(Cn||rl(s,r,l,!1),C=(l&s.childLanes)!==0,Cn||C){if(C=Rt,C!==null&&(d=l&-l,d=(d&42)!==0?1:Bo(d),d=(d&(C.suspendedLanes|l))!==0?0:d,d!==0&&d!==Z.retryLane))throw Z.retryLane=d,Fa(s,d),Xi(C,s,d),xx;P.data==="$?"||lg(),r=qp(s,r,l)}else P.data==="$?"?(r.flags|=192,r.child=s.child,r=null):(s=Z.treeContext,Oe=zs(P.nextSibling),Ie=r,Ke=!0,Ct=null,Ht=!1,s!==null&&(g[w++]=R,g[w++]=G,g[w++]=S,R=s.id,G=s.overflow,S=r),r=Hp(r,d.children),r.flags|=4096);return r}return v?(Xa(),v=d.fallback,P=r.mode,Z=s.child,ie=Z.sibling,d=fs(Z,{mode:"hidden",children:d.children}),d.subtreeFlags=Z.subtreeFlags&65011712,ie!==null?v=fs(ie,v):(v=ur(v,P,l,null),v.flags|=2),v.return=r,d.return=r,d.sibling=v,r.child=d,d=v,v=r.child,P=s.child.memoizedState,P===null?P=zp(l):(Z=P.cachePool,Z!==null?(ie=pn._currentValue,Z=Z.parent!==ie?{parent:ie,pool:ie}:Z):Z=p_(),P={baseLanes:P.baseLanes|l,cachePool:Z}),v.memoizedState=P,v.childLanes=Fp(s,C,l),r.memoizedState=Up,d):(Ya(r),l=s.child,s=l.sibling,l=fs(l,{mode:"visible",children:d.children}),l.return=r,l.sibling=null,s!==null&&(C=r.deletions,C===null?(r.deletions=[s],r.flags|=16):C.push(s)),r.child=l,r.memoizedState=null,l)}function Hp(s,r){return r=Zd({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Zd(s,r){return s=di(22,s,null,r),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function qp(s,r,l){return cc(r,s.child,null,l),s=Hp(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function Px(s,r,l){s.lanes|=r;var d=s.alternate;d!==null&&(d.lanes|=r),sl(s.return,r,l)}function Gp(s,r,l,d,v){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:v}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=d,b.tail=l,b.tailMode=v)}function jx(s,r,l){var d=r.pendingProps,v=d.revealOrder,b=d.tail;if(Ln(s,r,d.children,l),d=gn.current,(d&2)!==0)d=d&1|2,r.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Px(s,l,r);else if(s.tag===19)Px(s,l,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}switch(be(gn,d),v){case"forwards":for(l=r.child,v=null;l!==null;)s=l.alternate,s!==null&&Fd(s)===null&&(v=l),l=l.sibling;l=v,l===null?(v=r.child,r.child=null):(v=l.sibling,l.sibling=null),Gp(r,!1,v,l,b);break;case"backwards":for(l=null,v=r.child,r.child=null;v!==null;){if(s=v.alternate,s!==null&&Fd(s)===null){r.child=v;break}s=v.sibling,v.sibling=l,l=v,v=s}Gp(r,!0,l,null,b);break;case"together":Gp(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ea(s,r,l){if(s!==null&&(r.dependencies=s.dependencies),no|=r.lanes,(l&r.childLanes)===0)if(s!==null){if(rl(s,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,l=fs(s,s.pendingProps),r.child=l,l.return=r;s.sibling!==null;)s=s.sibling,l=l.sibling=fs(s,s.pendingProps),l.return=r;l.sibling=null}return r.child}function Zp(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Ad(s)))}function GC(s,r,l){switch(r.tag){case 3:st(r,r.stateNode.containerInfo),hr(r,pn,s.memoizedState.cache),qa();break;case 27:case 5:Rr(r);break;case 4:st(r,r.stateNode.containerInfo);break;case 10:hr(r,r.type,r.memoizedProps.value);break;case 13:var d=r.memoizedState;if(d!==null)return d.dehydrated!==null?(Ya(r),r.flags|=128,null):(l&r.child.childLanes)!==0?Rx(s,r,l):(Ya(r),s=ea(s,r,l),s!==null?s.sibling:null);Ya(r);break;case 19:var v=(s.flags&128)!==0;if(d=(l&r.childLanes)!==0,d||(rl(s,r,l,!1),d=(l&r.childLanes)!==0),v){if(d)return jx(s,r,l);r.flags|=128}if(v=r.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),be(gn,gn.current),d)break;return null;case 22:case 23:return r.lanes=0,Ex(s,r,l);case 24:hr(r,pn,s.memoizedState.cache)}return ea(s,r,l)}function Ix(s,r,l){if(s!==null)if(s.memoizedProps!==r.pendingProps)Cn=!0;else{if(!Zp(s,l)&&(r.flags&128)===0)return Cn=!1,GC(s,r,l);Cn=(s.flags&131072)!==0}else Cn=!1,Ke&&(r.flags&1048576)!==0&&oe(r,h,r.index);switch(r.lanes=0,r.tag){case 16:e:{s=r.pendingProps;var d=r.elementType,v=d._init;if(d=v(d._payload),r.type=d,typeof d=="function")Jl(d)?(s=cl(d,s),r.tag=1,r=Nx(null,r,d,s,l)):(r.tag=0,r=Bp(null,r,d,s,l));else{if(d!=null){if(v=d.$$typeof,v===ve){r.tag=11,r=bx(null,r,d,s,l);break e}else if(v===z){r.tag=14,r=wx(null,r,d,s,l);break e}}throw r=Be(d)||d,Error(i(306,r,""))}}return r;case 0:return Bp(s,r,r.type,r.pendingProps,l);case 1:return d=r.type,v=cl(d,r.pendingProps),Nx(s,r,d,v,l);case 3:e:{if(st(r,r.stateNode.containerInfo),s===null)throw Error(i(387));d=r.pendingProps;var b=r.memoizedState;v=b.element,pp(s,r),ju(r,d,null,l);var C=r.memoizedState;if(d=C.cache,hr(r,pn,d),d!==b.cache&&tc(r,[pn],l,!0),Pu(),d=C.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:C.cache},r.updateQueue.baseState=b,r.memoizedState=b,r.flags&256){r=Cx(s,r,d,l);break e}else if(d!==v){v=ui(Error(i(424)),r),Ga(v),r=Cx(s,r,d,l);break e}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Oe=zs(s.firstChild),Ie=r,Ke=!0,Ct=null,Ht=!0,l=ux(r,null,d,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(qa(),d===v){r=ea(s,r,l);break e}Ln(s,r,d,l)}r=r.child}return r;case 26:return Gd(s,r),s===null?(l=Ob(r.type,null,r.pendingProps,null))?r.memoizedState=l:Ke||(l=r.type,s=r.pendingProps,d=of(Ee.current).createElement(l),d[Ut]=r,d[dn]=s,Mn(d,l,s),zt(d),r.stateNode=d):r.memoizedState=Ob(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return Rr(r),s===null&&Ke&&(d=r.stateNode=Lb(r.type,r.pendingProps,Ee.current),Ie=r,Ht=!0,v=Oe,ao(r.type)?(Ag=v,Oe=zs(d.firstChild)):Oe=v),Ln(s,r,r.pendingProps.children,l),Gd(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Ke&&((v=d=Oe)&&(d=_R(d,r.type,r.pendingProps,Ht),d!==null?(r.stateNode=d,Ie=r,Oe=zs(d.firstChild),Ht=!1,v=!0):v=!1),v||Ti(r)),Rr(r),v=r.type,b=r.pendingProps,C=s!==null?s.memoizedProps:null,d=b.children,wg(v,b)?d=null:C!==null&&wg(v,C)&&(r.flags|=32),r.memoizedState!==null&&(v=bp(s,r,kC,null,null,l),Ju._currentValue=v),Gd(s,r),Ln(s,r,d,l),r.child;case 6:return s===null&&Ke&&((s=l=Oe)&&(l=xR(l,r.pendingProps,Ht),l!==null?(r.stateNode=l,Ie=r,Oe=null,s=!0):s=!1),s||Ti(r)),null;case 13:return Rx(s,r,l);case 4:return st(r,r.stateNode.containerInfo),d=r.pendingProps,s===null?r.child=cc(r,null,d,l):Ln(s,r,d,l),r.child;case 11:return bx(s,r,r.type,r.pendingProps,l);case 7:return Ln(s,r,r.pendingProps,l),r.child;case 8:return Ln(s,r,r.pendingProps.children,l),r.child;case 12:return Ln(s,r,r.pendingProps.children,l),r.child;case 10:return d=r.pendingProps,hr(r,r.type,d.value),Ln(s,r,d.children,l),r.child;case 9:return v=r.type._context,d=r.pendingProps.children,al(r),v=Hn(v),d=d(v),r.flags|=1,Ln(s,r,d,l),r.child;case 14:return wx(s,r,r.type,r.pendingProps,l);case 15:return Tx(s,r,r.type,r.pendingProps,l);case 19:return jx(s,r,l);case 31:return d=r.pendingProps,l=r.mode,d={mode:d.mode,children:d.children},s===null?(l=Zd(d,l),l.ref=r.ref,r.child=l,l.return=r,r=l):(l=fs(s.child,d),l.ref=r.ref,r.child=l,l.return=r,r=l),r;case 22:return Ex(s,r,l);case 24:return al(r),d=Hn(pn),s===null?(v=dp(),v===null&&(v=Rt,b=up(),v.pooledCache=b,b.refCount++,b!==null&&(v.pooledCacheLanes|=l),v=b),r.memoizedState={parent:d,cache:v},mp(r),hr(r,pn,v)):((s.lanes&l)!==0&&(pp(s,r),ju(r,null,null,l),Pu()),v=s.memoizedState,b=r.memoizedState,v.parent!==d?(v={parent:d,cache:d},r.memoizedState=v,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=v),hr(r,pn,d)):(d=b.cache,hr(r,pn,d),d!==v.cache&&tc(r,[pn],l,!0))),Ln(s,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function ta(s){s.flags|=4}function Lx(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!zb(r)){if(r=ps.current,r!==null&&((mt&4194048)===mt?dr!==null:(mt&62914560)!==mt&&(mt&536870912)===0||r!==dr))throw Cu=fp,g_;s.flags|=8192}}function Wd(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Ss():536870912,s.lanes|=r,fc|=r)}function Vu(s,r){if(!Ke)switch(s.tailMode){case"hidden":r=s.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function qt(s){var r=s.alternate!==null&&s.alternate.child===s.child,l=0,d=0;if(r)for(var v=s.child;v!==null;)l|=v.lanes|v.childLanes,d|=v.subtreeFlags&65011712,d|=v.flags&65011712,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)l|=v.lanes|v.childLanes,d|=v.subtreeFlags,d|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=d,s.childLanes=l,r}function ZC(s,r,l){var d=r.pendingProps;switch(Ae(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(r),null;case 1:return qt(r),null;case 3:return l=r.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),r.memoizedState.cache!==d&&(r.flags|=2048),Bs(pn),mi(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(il(r)?ta(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Sd())),qt(r),null;case 26:return l=r.memoizedState,s===null?(ta(r),l!==null?(qt(r),Lx(r,l)):(qt(r),r.flags&=-16777217)):l?l!==s.memoizedState?(ta(r),qt(r),Lx(r,l)):(qt(r),r.flags&=-16777217):(s.memoizedProps!==d&&ta(r),qt(r),r.flags&=-16777217),null;case 27:Qs(r),l=Ee.current;var v=r.type;if(s!==null&&r.stateNode!=null)s.memoizedProps!==d&&ta(r);else{if(!d){if(r.stateNode===null)throw Error(i(166));return qt(r),null}s=Se.current,il(r)?Td(r):(s=Lb(v,d,l),r.stateNode=s,ta(r))}return qt(r),null;case 5:if(Qs(r),l=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==d&&ta(r);else{if(!d){if(r.stateNode===null)throw Error(i(166));return qt(r),null}if(s=Se.current,il(r))Td(r);else{switch(v=of(Ee.current),s){case 1:s=v.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=v.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=v.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=v.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=v.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof d.is=="string"?v.createElement("select",{is:d.is}):v.createElement("select"),d.multiple?s.multiple=!0:d.size&&(s.size=d.size);break;default:s=typeof d.is=="string"?v.createElement(l,{is:d.is}):v.createElement(l)}}s[Ut]=r,s[dn]=d;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)s.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=s;e:switch(Mn(s,l,d),l){case"button":case"input":case"select":case"textarea":s=!!d.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ta(r)}}return qt(r),r.flags&=-16777217,null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==d&&ta(r);else{if(typeof d!="string"&&r.stateNode===null)throw Error(i(166));if(s=Ee.current,il(r)){if(s=r.stateNode,l=r.memoizedProps,d=null,v=Ie,v!==null)switch(v.tag){case 27:case 5:d=v.memoizedProps}s[Ut]=r,s=!!(s.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||Ab(s.nodeValue,l)),s||Ti(r)}else s=of(s).createTextNode(d),s[Ut]=r,r.stateNode=s}return qt(r),null;case 13:if(d=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(v=il(r),d!==null&&d.dehydrated!==null){if(s===null){if(!v)throw Error(i(318));if(v=r.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[Ut]=r}else qa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;qt(r),v=!1}else v=Sd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=v),v=!0;if(!v)return r.flags&256?(Jr(r),r):(Jr(r),null)}if(Jr(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=d!==null,s=s!==null&&s.memoizedState!==null,l){d=r.child,v=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(v=d.alternate.memoizedState.cachePool.pool);var b=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==v&&(d.flags|=2048)}return l!==s&&l&&(r.child.flags|=8192),Wd(r,r.updateQueue),qt(r),null;case 4:return mi(),s===null&&yg(r.stateNode.containerInfo),qt(r),null;case 10:return Bs(r.type),qt(r),null;case 19:if(xe(gn),v=r.memoizedState,v===null)return qt(r),null;if(d=(r.flags&128)!==0,b=v.rendering,b===null)if(d)Vu(v,!1);else{if(Kt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(b=Fd(s),b!==null){for(r.flags|=128,Vu(v,!1),s=b.updateQueue,r.updateQueue=s,Wd(r,s),r.subtreeFlags=0,s=l,l=r.child;l!==null;)Tu(l,s),l=l.sibling;return be(gn,gn.current&1|2),r.child}s=s.sibling}v.tail!==null&&_n()>Yd&&(r.flags|=128,d=!0,Vu(v,!1),r.lanes=4194304)}else{if(!d)if(s=Fd(b),s!==null){if(r.flags|=128,d=!0,s=s.updateQueue,r.updateQueue=s,Wd(r,s),Vu(v,!0),v.tail===null&&v.tailMode==="hidden"&&!b.alternate&&!Ke)return qt(r),null}else 2*_n()-v.renderingStartTime>Yd&&l!==536870912&&(r.flags|=128,d=!0,Vu(v,!1),r.lanes=4194304);v.isBackwards?(b.sibling=r.child,r.child=b):(s=v.last,s!==null?s.sibling=b:r.child=b,v.last=b)}return v.tail!==null?(r=v.tail,v.rendering=r,v.tail=r.sibling,v.renderingStartTime=_n(),r.sibling=null,s=gn.current,be(gn,d?s&1|2:s&1),r):(qt(r),null);case 22:case 23:return Jr(r),_p(),d=r.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(r.flags|=8192):d&&(r.flags|=8192),d?(l&536870912)!==0&&(r.flags&128)===0&&(qt(r),r.subtreeFlags&6&&(r.flags|=8192)):qt(r),l=r.updateQueue,l!==null&&Wd(r,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==l&&(r.flags|=2048),s!==null&&xe(ol),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Bs(pn),qt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function WC(s,r){switch(Ae(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Bs(pn),mi(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Qs(r),null;case 13:if(Jr(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));qa()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return xe(gn),null;case 4:return mi(),null;case 10:return Bs(r.type),null;case 22:case 23:return Jr(r),_p(),s!==null&&xe(ol),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Bs(pn),null;case 25:return null;default:return null}}function Dx(s,r){switch(Ae(r),r.tag){case 3:Bs(pn),mi();break;case 26:case 27:case 5:Qs(r);break;case 4:mi();break;case 13:Jr(r);break;case 19:xe(gn);break;case 10:Bs(r.type);break;case 22:case 23:Jr(r),_p(),s!==null&&xe(ol);break;case 24:Bs(pn)}}function Bu(s,r){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var v=d.next;l=v;do{if((l.tag&s)===s){d=void 0;var b=l.create,C=l.inst;d=b(),C.destroy=d}l=l.next}while(l!==v)}}catch(P){Nt(r,r.return,P)}}function Qa(s,r,l){try{var d=r.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var b=v.next;d=b;do{if((d.tag&s)===s){var C=d.inst,P=C.destroy;if(P!==void 0){C.destroy=void 0,v=r;var Z=l,ie=P;try{ie()}catch(fe){Nt(v,Z,fe)}}}d=d.next}while(d!==b)}}catch(fe){Nt(r,r.return,fe)}}function Mx(s){var r=s.updateQueue;if(r!==null){var l=s.stateNode;try{w_(r,l)}catch(d){Nt(s,s.return,d)}}}function Ox(s,r,l){l.props=cl(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(d){Nt(s,r,d)}}function Uu(s,r){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof l=="function"?s.refCleanup=l(d):l.current=d}}catch(v){Nt(s,r,v)}}function fr(s,r){var l=s.ref,d=s.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(v){Nt(s,r,v)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(v){Nt(s,r,v)}else l.current=null}function kx(s){var r=s.type,l=s.memoizedProps,d=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(v){Nt(s,s.return,v)}}function Wp(s,r,l){try{var d=s.stateNode;mR(d,s.type,l,r),d[dn]=r}catch(v){Nt(s,s.return,v)}}function Vx(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ao(s.type)||s.tag===4}function Kp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Vx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ao(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function $p(s,r,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(s),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=af));else if(d!==4&&(d===27&&ao(s.type)&&(l=s.stateNode,r=null),s=s.child,s!==null))for($p(s,r,l),s=s.sibling;s!==null;)$p(s,r,l),s=s.sibling}function Kd(s,r,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,r?l.insertBefore(s,r):l.appendChild(s);else if(d!==4&&(d===27&&ao(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Kd(s,r,l),s=s.sibling;s!==null;)Kd(s,r,l),s=s.sibling}function Bx(s){var r=s.stateNode,l=s.memoizedProps;try{for(var d=s.type,v=r.attributes;v.length;)r.removeAttributeNode(v[0]);Mn(r,d,l),r[Ut]=s,r[dn]=l}catch(b){Nt(s,s.return,b)}}var na=!1,en=!1,Yp=!1,Ux=typeof WeakSet=="function"?WeakSet:Set,Rn=null;function KC(s,r){if(s=s.containerInfo,xg=ff,s=Yo(s),Xo(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var v=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var C=0,P=-1,Z=-1,ie=0,fe=0,ge=s,se=null;t:for(;;){for(var ae;ge!==l||v!==0&&ge.nodeType!==3||(P=C+v),ge!==b||d!==0&&ge.nodeType!==3||(Z=C+d),ge.nodeType===3&&(C+=ge.nodeValue.length),(ae=ge.firstChild)!==null;)se=ge,ge=ae;for(;;){if(ge===s)break t;if(se===l&&++ie===v&&(P=C),se===b&&++fe===d&&(Z=C),(ae=ge.nextSibling)!==null)break;ge=se,se=ge.parentNode}ge=ae}l=P===-1||Z===-1?null:{start:P,end:Z}}else l=null}l=l||{start:0,end:0}}else l=null;for(bg={focusedElem:s,selectionRange:l},ff=!1,Rn=r;Rn!==null;)if(r=Rn,s=r.child,(r.subtreeFlags&1024)!==0&&s!==null)s.return=r,Rn=s;else for(;Rn!==null;){switch(r=Rn,b=r.alternate,s=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&b!==null){s=void 0,l=r,v=b.memoizedProps,b=b.memoizedState,d=l.stateNode;try{var Ze=cl(l.type,v,l.elementType===l.type);s=d.getSnapshotBeforeUpdate(Ze,b),d.__reactInternalSnapshotBeforeUpdate=s}catch(Ue){Nt(l,l.return,Ue)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,l=s.nodeType,l===9)Eg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Eg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Rn=s;break}Rn=r.return}}function zx(s,r,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:Ja(s,l),d&4&&Bu(5,l);break;case 1:if(Ja(s,l),d&4)if(s=l.stateNode,r===null)try{s.componentDidMount()}catch(C){Nt(l,l.return,C)}else{var v=cl(l.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(v,r,s.__reactInternalSnapshotBeforeUpdate)}catch(C){Nt(l,l.return,C)}}d&64&&Mx(l),d&512&&Uu(l,l.return);break;case 3:if(Ja(s,l),d&64&&(s=l.updateQueue,s!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{w_(s,r)}catch(C){Nt(l,l.return,C)}}break;case 27:r===null&&d&4&&Bx(l);case 26:case 5:Ja(s,l),r===null&&d&4&&kx(l),d&512&&Uu(l,l.return);break;case 12:Ja(s,l);break;case 13:Ja(s,l),d&4&&qx(s,l),d&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=iR.bind(null,l),bR(s,l))));break;case 22:if(d=l.memoizedState!==null||na,!d){r=r!==null&&r.memoizedState!==null||en,v=na;var b=en;na=d,(en=r)&&!b?eo(s,l,(l.subtreeFlags&8772)!==0):Ja(s,l),na=v,en=b}break;case 30:break;default:Ja(s,l)}}function Fx(s){var r=s.alternate;r!==null&&(s.alternate=null,Fx(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&Lr(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var kt=null,Si=!1;function ia(s,r,l){for(l=l.child;l!==null;)Hx(s,r,l),l=l.sibling}function Hx(s,r,l){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(es,l)}catch{}switch(l.tag){case 26:en||fr(l,r),ia(s,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:en||fr(l,r);var d=kt,v=Si;ao(l.type)&&(kt=l.stateNode,Si=!1),ia(s,r,l),$u(l.stateNode),kt=d,Si=v;break;case 5:en||fr(l,r);case 6:if(d=kt,v=Si,kt=null,ia(s,r,l),kt=d,Si=v,kt!==null)if(Si)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(l.stateNode)}catch(b){Nt(l,r,b)}else try{kt.removeChild(l.stateNode)}catch(b){Nt(l,r,b)}break;case 18:kt!==null&&(Si?(s=kt,jb(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),ih(s)):jb(kt,l.stateNode));break;case 4:d=kt,v=Si,kt=l.stateNode.containerInfo,Si=!0,ia(s,r,l),kt=d,Si=v;break;case 0:case 11:case 14:case 15:en||Qa(2,l,r),en||Qa(4,l,r),ia(s,r,l);break;case 1:en||(fr(l,r),d=l.stateNode,typeof d.componentWillUnmount=="function"&&Ox(l,r,d)),ia(s,r,l);break;case 21:ia(s,r,l);break;case 22:en=(d=en)||l.memoizedState!==null,ia(s,r,l),en=d;break;default:ia(s,r,l)}}function qx(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{ih(s)}catch(l){Nt(r,r.return,l)}}function $C(s){switch(s.tag){case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new Ux),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new Ux),r;default:throw Error(i(435,s.tag))}}function Xp(s,r){var l=$C(s);r.forEach(function(d){var v=sR.bind(null,s,d);l.has(d)||(l.add(d),d.then(v,v))})}function Wi(s,r){var l=r.deletions;if(l!==null)for(var d=0;d<l.length;d++){var v=l[d],b=s,C=r,P=C;e:for(;P!==null;){switch(P.tag){case 27:if(ao(P.type)){kt=P.stateNode,Si=!1;break e}break;case 5:kt=P.stateNode,Si=!1;break e;case 3:case 4:kt=P.stateNode.containerInfo,Si=!0;break e}P=P.return}if(kt===null)throw Error(i(160));Hx(b,C,v),kt=null,Si=!1,b=v.alternate,b!==null&&(b.return=null),v.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Gx(r,s),r=r.sibling}var Us=null;function Gx(s,r){var l=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Wi(r,s),Ki(s),d&4&&(Qa(3,s,s.return),Bu(3,s),Qa(5,s,s.return));break;case 1:Wi(r,s),Ki(s),d&512&&(en||l===null||fr(l,l.return)),d&64&&na&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var v=Us;if(Wi(r,s),Ki(s),d&512&&(en||l===null||fr(l,l.return)),d&4){var b=l!==null?l.memoizedState:null;if(d=s.memoizedState,l===null)if(d===null)if(s.stateNode===null){e:{d=s.type,l=s.memoizedProps,v=v.ownerDocument||v;t:switch(d){case"title":b=v.getElementsByTagName("title")[0],(!b||b[Cs]||b[Ut]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=v.createElement(d),v.head.insertBefore(b,v.querySelector("head > title"))),Mn(b,d,l),b[Ut]=s,zt(b),d=b;break e;case"link":var C=Bb("link","href",v).get(d+(l.href||""));if(C){for(var P=0;P<C.length;P++)if(b=C[P],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice(P,1);break t}}b=v.createElement(d),Mn(b,d,l),v.head.appendChild(b);break;case"meta":if(C=Bb("meta","content",v).get(d+(l.content||""))){for(P=0;P<C.length;P++)if(b=C[P],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice(P,1);break t}}b=v.createElement(d),Mn(b,d,l),v.head.appendChild(b);break;default:throw Error(i(468,d))}b[Ut]=s,zt(b),d=b}s.stateNode=d}else Ub(v,s.type,s.stateNode);else s.stateNode=Vb(v,d,s.memoizedProps);else b!==d?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,d===null?Ub(v,s.type,s.stateNode):Vb(v,d,s.memoizedProps)):d===null&&s.stateNode!==null&&Wp(s,s.memoizedProps,l.memoizedProps)}break;case 27:Wi(r,s),Ki(s),d&512&&(en||l===null||fr(l,l.return)),l!==null&&d&4&&Wp(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Wi(r,s),Ki(s),d&512&&(en||l===null||fr(l,l.return)),s.flags&32){v=s.stateNode;try{wn(v,"")}catch(ae){Nt(s,s.return,ae)}}d&4&&s.stateNode!=null&&(v=s.memoizedProps,Wp(s,v,l!==null?l.memoizedProps:v)),d&1024&&(Yp=!0);break;case 6:if(Wi(r,s),Ki(s),d&4){if(s.stateNode===null)throw Error(i(162));d=s.memoizedProps,l=s.stateNode;try{l.nodeValue=d}catch(ae){Nt(s,s.return,ae)}}break;case 3:if(uf=null,v=Us,Us=lf(r.containerInfo),Wi(r,s),Us=v,Ki(s),d&4&&l!==null&&l.memoizedState.isDehydrated)try{ih(r.containerInfo)}catch(ae){Nt(s,s.return,ae)}Yp&&(Yp=!1,Zx(s));break;case 4:d=Us,Us=lf(s.stateNode.containerInfo),Wi(r,s),Ki(s),Us=d;break;case 12:Wi(r,s),Ki(s);break;case 13:Wi(r,s),Ki(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ig=_n()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Xp(s,d)));break;case 22:v=s.memoizedState!==null;var Z=l!==null&&l.memoizedState!==null,ie=na,fe=en;if(na=ie||v,en=fe||Z,Wi(r,s),en=fe,na=ie,Ki(s),d&8192)e:for(r=s.stateNode,r._visibility=v?r._visibility&-2:r._visibility|1,v&&(l===null||Z||na||en||ul(s)),l=null,r=s;;){if(r.tag===5||r.tag===26){if(l===null){Z=l=r;try{if(b=Z.stateNode,v)C=b.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{P=Z.stateNode;var ge=Z.memoizedProps.style,se=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;P.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(ae){Nt(Z,Z.return,ae)}}}else if(r.tag===6){if(l===null){Z=r;try{Z.stateNode.nodeValue=v?"":Z.memoizedProps}catch(ae){Nt(Z,Z.return,ae)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}d&4&&(d=s.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,Xp(s,l))));break;case 19:Wi(r,s),Ki(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Xp(s,d)));break;case 30:break;case 21:break;default:Wi(r,s),Ki(s)}}function Ki(s){var r=s.flags;if(r&2){try{for(var l,d=s.return;d!==null;){if(Vx(d)){l=d;break}d=d.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var v=l.stateNode,b=Kp(s);Kd(s,b,v);break;case 5:var C=l.stateNode;l.flags&32&&(wn(C,""),l.flags&=-33);var P=Kp(s);Kd(s,P,C);break;case 3:case 4:var Z=l.stateNode.containerInfo,ie=Kp(s);$p(s,ie,Z);break;default:throw Error(i(161))}}catch(fe){Nt(s,s.return,fe)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function Zx(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;Zx(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Ja(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)zx(s,r.alternate,r),r=r.sibling}function ul(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Qa(4,r,r.return),ul(r);break;case 1:fr(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&Ox(r,r.return,l),ul(r);break;case 27:$u(r.stateNode);case 26:case 5:fr(r,r.return),ul(r);break;case 22:r.memoizedState===null&&ul(r);break;case 30:ul(r);break;default:ul(r)}s=s.sibling}}function eo(s,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var d=r.alternate,v=s,b=r,C=b.flags;switch(b.tag){case 0:case 11:case 15:eo(v,b,l),Bu(4,b);break;case 1:if(eo(v,b,l),d=b,v=d.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ie){Nt(d,d.return,ie)}if(d=b,v=d.updateQueue,v!==null){var P=d.stateNode;try{var Z=v.shared.hiddenCallbacks;if(Z!==null)for(v.shared.hiddenCallbacks=null,v=0;v<Z.length;v++)b_(Z[v],P)}catch(ie){Nt(d,d.return,ie)}}l&&C&64&&Mx(b),Uu(b,b.return);break;case 27:Bx(b);case 26:case 5:eo(v,b,l),l&&d===null&&C&4&&kx(b),Uu(b,b.return);break;case 12:eo(v,b,l);break;case 13:eo(v,b,l),l&&C&4&&qx(v,b);break;case 22:b.memoizedState===null&&eo(v,b,l),Uu(b,b.return);break;case 30:break;default:eo(v,b,l)}r=r.sibling}}function Qp(s,r){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Su(l))}function Jp(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Su(s))}function mr(s,r,l,d){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Wx(s,r,l,d),r=r.sibling}function Wx(s,r,l,d){var v=r.flags;switch(r.tag){case 0:case 11:case 15:mr(s,r,l,d),v&2048&&Bu(9,r);break;case 1:mr(s,r,l,d);break;case 3:mr(s,r,l,d),v&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Su(s)));break;case 12:if(v&2048){mr(s,r,l,d),s=r.stateNode;try{var b=r.memoizedProps,C=b.id,P=b.onPostCommit;typeof P=="function"&&P(C,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Z){Nt(r,r.return,Z)}}else mr(s,r,l,d);break;case 13:mr(s,r,l,d);break;case 23:break;case 22:b=r.stateNode,C=r.alternate,r.memoizedState!==null?b._visibility&2?mr(s,r,l,d):zu(s,r):b._visibility&2?mr(s,r,l,d):(b._visibility|=2,uc(s,r,l,d,(r.subtreeFlags&10256)!==0)),v&2048&&Qp(C,r);break;case 24:mr(s,r,l,d),v&2048&&Jp(r.alternate,r);break;default:mr(s,r,l,d)}}function uc(s,r,l,d,v){for(v=v&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var b=s,C=r,P=l,Z=d,ie=C.flags;switch(C.tag){case 0:case 11:case 15:uc(b,C,P,Z,v),Bu(8,C);break;case 23:break;case 22:var fe=C.stateNode;C.memoizedState!==null?fe._visibility&2?uc(b,C,P,Z,v):zu(b,C):(fe._visibility|=2,uc(b,C,P,Z,v)),v&&ie&2048&&Qp(C.alternate,C);break;case 24:uc(b,C,P,Z,v),v&&ie&2048&&Jp(C.alternate,C);break;default:uc(b,C,P,Z,v)}r=r.sibling}}function zu(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=s,d=r,v=d.flags;switch(d.tag){case 22:zu(l,d),v&2048&&Qp(d.alternate,d);break;case 24:zu(l,d),v&2048&&Jp(d.alternate,d);break;default:zu(l,d)}r=r.sibling}}var Fu=8192;function hc(s){if(s.subtreeFlags&Fu)for(s=s.child;s!==null;)Kx(s),s=s.sibling}function Kx(s){switch(s.tag){case 26:hc(s),s.flags&Fu&&s.memoizedState!==null&&DR(Us,s.memoizedState,s.memoizedProps);break;case 5:hc(s);break;case 3:case 4:var r=Us;Us=lf(s.stateNode.containerInfo),hc(s),Us=r;break;case 22:s.memoizedState===null&&(r=s.alternate,r!==null&&r.memoizedState!==null?(r=Fu,Fu=16777216,hc(s),Fu=r):hc(s));break;default:hc(s)}}function $x(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Hu(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var d=r[l];Rn=d,Xx(d,s)}$x(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Yx(s),s=s.sibling}function Yx(s){switch(s.tag){case 0:case 11:case 15:Hu(s),s.flags&2048&&Qa(9,s,s.return);break;case 3:Hu(s);break;case 12:Hu(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,$d(s)):Hu(s);break;default:Hu(s)}}function $d(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var d=r[l];Rn=d,Xx(d,s)}$x(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Qa(8,r,r.return),$d(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,$d(r));break;default:$d(r)}s=s.sibling}}function Xx(s,r){for(;Rn!==null;){var l=Rn;switch(l.tag){case 0:case 11:case 15:Qa(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Su(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,Rn=d;else e:for(l=s;Rn!==null;){d=Rn;var v=d.sibling,b=d.return;if(Fx(d),d===l){Rn=null;break e}if(v!==null){v.return=b,Rn=v;break e}Rn=b}}}var YC={getCacheForType:function(s){var r=Hn(pn),l=r.data.get(s);return l===void 0&&(l=s(),r.data.set(s,l)),l}},XC=typeof WeakMap=="function"?WeakMap:Map,xt=0,Rt=null,rt=null,mt=0,bt=0,$i=null,to=!1,dc=!1,eg=!1,sa=0,Kt=0,no=0,hl=0,tg=0,gs=0,fc=0,qu=null,Ai=null,ng=!1,ig=0,Yd=1/0,Xd=null,io=null,Dn=0,so=null,mc=null,pc=0,sg=0,rg=null,Qx=null,Gu=0,ag=null;function Yi(){if((xt&2)!==0&&mt!==0)return mt&-mt;if(Q.T!==null){var s=nc;return s!==0?s:fg()}return As()}function Jx(){gs===0&&(gs=(mt&536870912)===0||Ke?Vo():536870912);var s=ps.current;return s!==null&&(s.flags|=32),gs}function Xi(s,r,l){(s===Rt&&(bt===2||bt===9)||s.cancelPendingCommit!==null)&&(gc(s,0),ro(s,mt,gs,!1)),Dt(s,l),((xt&2)===0||s!==Rt)&&(s===Rt&&((xt&2)===0&&(hl|=l),Kt===4&&ro(s,mt,gs,!1)),pr(s))}function eb(s,r,l){if((xt&6)!==0)throw Error(i(327));var d=!l&&(r&124)===0&&(r&s.expiredLanes)===0||yi(s,r),v=d?eR(s,r):cg(s,r,!0),b=d;do{if(v===0){dc&&!d&&ro(s,r,0,!1);break}else{if(l=s.current.alternate,b&&!QC(l)){v=cg(s,r,!1),b=!1;continue}if(v===2){if(b=r,s.errorRecoveryDisabledLanes&b)var C=0;else C=s.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){r=C;e:{var P=s;v=qu;var Z=P.current.memoizedState.isDehydrated;if(Z&&(gc(P,C).flags|=256),C=cg(P,C,!1),C!==2){if(eg&&!Z){P.errorRecoveryDisabledLanes|=b,hl|=b,v=4;break e}b=Ai,Ai=v,b!==null&&(Ai===null?Ai=b:Ai.push.apply(Ai,b))}v=C}if(b=!1,v!==2)continue}}if(v===1){gc(s,0),ro(s,r,0,!0);break}e:{switch(d=s,b=v,b){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:ro(d,r,gs,!to);break e;case 2:Ai=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(v=ig+300-_n(),10<v)){if(ro(d,r,gs,!to),gi(d,0,!0)!==0)break e;d.timeoutHandle=Rb(tb.bind(null,d,l,Ai,Xd,ng,r,gs,hl,fc,to,b,2,-0,0),v);break e}tb(d,l,Ai,Xd,ng,r,gs,hl,fc,to,b,0,-0,0)}}break}while(!0);pr(s)}function tb(s,r,l,d,v,b,C,P,Z,ie,fe,ge,se,ae){if(s.timeoutHandle=-1,ge=r.subtreeFlags,(ge&8192||(ge&16785408)===16785408)&&(Qu={stylesheets:null,count:0,unsuspend:LR},Kx(r),ge=MR(),ge!==null)){s.cancelPendingCommit=ge(lb.bind(null,s,r,b,l,d,v,C,P,Z,fe,1,se,ae)),ro(s,b,C,!ie);return}lb(s,r,b,l,d,v,C,P,Z)}function QC(s){for(var r=s;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var v=l[d],b=v.getSnapshot;v=v.value;try{if(!li(b(),v))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ro(s,r,l,d){r&=~tg,r&=~hl,s.suspendedLanes|=r,s.pingedLanes&=~r,d&&(s.warmLanes|=r),d=s.expirationTimes;for(var v=r;0<v;){var b=31-In(v),C=1<<b;d[b]=-1,v&=~C}l!==0&&Js(s,l,r)}function Qd(){return(xt&6)===0?(Zu(0),!1):!0}function og(){if(rt!==null){if(bt===0)var s=rt.return;else s=rt,Vs=ms=null,Ep(s),lc=null,Ou=0,s=rt;for(;s!==null;)Dx(s.alternate,s),s=s.return;rt=null}}function gc(s,r){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,gR(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),og(),Rt=s,rt=l=fs(s.current,null),mt=r,bt=0,$i=null,to=!1,dc=yi(s,r),eg=!1,fc=gs=tg=hl=no=Kt=0,Ai=qu=null,ng=!1,(r&8)!==0&&(r|=r&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=r;0<d;){var v=31-In(d),b=1<<v;r|=s[v],d&=~b}return sa=r,Jo(),l}function nb(s,r){et=null,Q.H=Bd,r===Nu||r===Rd?(r=__(),bt=3):r===g_?(r=__(),bt=4):bt=r===xx?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,$i=r,rt===null&&(Kt=1,qd(s,ui(r,s.current)))}function ib(){var s=Q.H;return Q.H=Bd,s===null?Bd:s}function sb(){var s=Q.A;return Q.A=YC,s}function lg(){Kt=4,to||(mt&4194048)!==mt&&ps.current!==null||(dc=!0),(no&134217727)===0&&(hl&134217727)===0||Rt===null||ro(Rt,mt,gs,!1)}function cg(s,r,l){var d=xt;xt|=2;var v=ib(),b=sb();(Rt!==s||mt!==r)&&(Xd=null,gc(s,r)),r=!1;var C=Kt;e:do try{if(bt!==0&&rt!==null){var P=rt,Z=$i;switch(bt){case 8:og(),C=6;break e;case 3:case 2:case 9:case 6:ps.current===null&&(r=!0);var ie=bt;if(bt=0,$i=null,yc(s,P,Z,ie),l&&dc){C=0;break e}break;default:ie=bt,bt=0,$i=null,yc(s,P,Z,ie)}}JC(),C=Kt;break}catch(fe){nb(s,fe)}while(!0);return r&&s.shellSuspendCounter++,Vs=ms=null,xt=d,Q.H=v,Q.A=b,rt===null&&(Rt=null,mt=0,Jo()),C}function JC(){for(;rt!==null;)rb(rt)}function eR(s,r){var l=xt;xt|=2;var d=ib(),v=sb();Rt!==s||mt!==r?(Xd=null,Yd=_n()+500,gc(s,r)):dc=yi(s,r);e:do try{if(bt!==0&&rt!==null){r=rt;var b=$i;t:switch(bt){case 1:bt=0,$i=null,yc(s,r,b,1);break;case 2:case 9:if(y_(b)){bt=0,$i=null,ab(r);break}r=function(){bt!==2&&bt!==9||Rt!==s||(bt=7),pr(s)},b.then(r,r);break e;case 3:bt=7;break e;case 4:bt=5;break e;case 7:y_(b)?(bt=0,$i=null,ab(r)):(bt=0,$i=null,yc(s,r,b,7));break;case 5:var C=null;switch(rt.tag){case 26:C=rt.memoizedState;case 5:case 27:var P=rt;if(!C||zb(C)){bt=0,$i=null;var Z=P.sibling;if(Z!==null)rt=Z;else{var ie=P.return;ie!==null?(rt=ie,Jd(ie)):rt=null}break t}}bt=0,$i=null,yc(s,r,b,5);break;case 6:bt=0,$i=null,yc(s,r,b,6);break;case 8:og(),Kt=6;break e;default:throw Error(i(462))}}tR();break}catch(fe){nb(s,fe)}while(!0);return Vs=ms=null,Q.H=d,Q.A=v,xt=l,rt!==null?0:(Rt=null,mt=0,Jo(),Kt)}function tR(){for(;rt!==null&&!Ml();)rb(rt)}function rb(s){var r=Ix(s.alternate,s,sa);s.memoizedProps=s.pendingProps,r===null?Jd(s):rt=r}function ab(s){var r=s,l=r.alternate;switch(r.tag){case 15:case 0:r=Ax(l,r,r.pendingProps,r.type,void 0,mt);break;case 11:r=Ax(l,r,r.pendingProps,r.type.render,r.ref,mt);break;case 5:Ep(r);default:Dx(l,r),r=rt=Tu(r,sa),r=Ix(l,r,sa)}s.memoizedProps=s.pendingProps,r===null?Jd(s):rt=r}function yc(s,r,l,d){Vs=ms=null,Ep(r),lc=null,Ou=0;var v=r.return;try{if(qC(s,v,r,l,mt)){Kt=1,qd(s,ui(l,s.current)),rt=null;return}}catch(b){if(v!==null)throw rt=v,b;Kt=1,qd(s,ui(l,s.current)),rt=null;return}r.flags&32768?(Ke||d===1?s=!0:dc||(mt&536870912)!==0?s=!1:(to=s=!0,(d===2||d===9||d===3||d===6)&&(d=ps.current,d!==null&&d.tag===13&&(d.flags|=16384))),ob(r,s)):Jd(r)}function Jd(s){var r=s;do{if((r.flags&32768)!==0){ob(r,to);return}s=r.return;var l=ZC(r.alternate,r,sa);if(l!==null){rt=l;return}if(r=r.sibling,r!==null){rt=r;return}rt=r=s}while(r!==null);Kt===0&&(Kt=5)}function ob(s,r){do{var l=WC(s.alternate,s);if(l!==null){l.flags&=32767,rt=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(s=s.sibling,s!==null)){rt=s;return}rt=s=l}while(s!==null);Kt=6,rt=null}function lb(s,r,l,d,v,b,C,P,Z){s.cancelPendingCommit=null;do ef();while(Dn!==0);if((xt&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(b=r.lanes|r.childLanes,b|=Zi,Bl(s,l,b,C,P,Z),s===Rt&&(rt=Rt=null,mt=0),mc=r,so=s,pc=l,sg=b,rg=v,Qx=d,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,rR(Li,function(){return fb(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||d){d=Q.T,Q.T=null,v=ue.p,ue.p=2,C=xt,xt|=4;try{KC(s,r,l)}finally{xt=C,ue.p=v,Q.T=d}}Dn=1,cb(),ub(),hb()}}function cb(){if(Dn===1){Dn=0;var s=so,r=mc,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null;var d=ue.p;ue.p=2;var v=xt;xt|=4;try{Gx(r,s);var b=bg,C=Yo(s.containerInfo),P=b.focusedElem,Z=b.selectionRange;if(C!==P&&P&&P.ownerDocument&&Kl(P.ownerDocument.documentElement,P)){if(Z!==null&&Xo(P)){var ie=Z.start,fe=Z.end;if(fe===void 0&&(fe=ie),"selectionStart"in P)P.selectionStart=ie,P.selectionEnd=Math.min(fe,P.value.length);else{var ge=P.ownerDocument||document,se=ge&&ge.defaultView||window;if(se.getSelection){var ae=se.getSelection(),Ze=P.textContent.length,Ue=Math.min(Z.start,Ze),St=Z.end===void 0?Ue:Math.min(Z.end,Ze);!ae.extend&&Ue>St&&(C=St,St=Ue,Ue=C);var J=bu(P,Ue),K=bu(P,St);if(J&&K&&(ae.rangeCount!==1||ae.anchorNode!==J.node||ae.anchorOffset!==J.offset||ae.focusNode!==K.node||ae.focusOffset!==K.offset)){var ne=ge.createRange();ne.setStart(J.node,J.offset),ae.removeAllRanges(),Ue>St?(ae.addRange(ne),ae.extend(K.node,K.offset)):(ne.setEnd(K.node,K.offset),ae.addRange(ne))}}}}for(ge=[],ae=P;ae=ae.parentNode;)ae.nodeType===1&&ge.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<ge.length;P++){var me=ge[P];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}ff=!!xg,bg=xg=null}finally{xt=v,ue.p=d,Q.T=l}}s.current=r,Dn=2}}function ub(){if(Dn===2){Dn=0;var s=so,r=mc,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=Q.T,Q.T=null;var d=ue.p;ue.p=2;var v=xt;xt|=4;try{zx(s,r.alternate,r)}finally{xt=v,ue.p=d,Q.T=l}}Dn=3}}function hb(){if(Dn===4||Dn===3){Dn=0,wa();var s=so,r=mc,l=pc,d=Qx;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Dn=5:(Dn=0,mc=so=null,db(s,s.pendingLanes));var v=s.pendingLanes;if(v===0&&(io=null),Uo(l),r=r.stateNode,hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(es,r,void 0,(r.current.flags&128)===128)}catch{}if(d!==null){r=Q.T,v=ue.p,ue.p=2,Q.T=null;try{for(var b=s.onRecoverableError,C=0;C<d.length;C++){var P=d[C];b(P.value,{componentStack:P.stack})}}finally{Q.T=r,ue.p=v}}(pc&3)!==0&&ef(),pr(s),v=s.pendingLanes,(l&4194090)!==0&&(v&42)!==0?s===ag?Gu++:(Gu=0,ag=s):Gu=0,Zu(0)}}function db(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Su(r)))}function ef(s){return cb(),ub(),hb(),fb()}function fb(){if(Dn!==5)return!1;var s=so,r=sg;sg=0;var l=Uo(pc),d=Q.T,v=ue.p;try{ue.p=32>l?32:l,Q.T=null,l=rg,rg=null;var b=so,C=pc;if(Dn=0,mc=so=null,pc=0,(xt&6)!==0)throw Error(i(331));var P=xt;if(xt|=4,Yx(b.current),Wx(b,b.current,C,l),xt=P,Zu(0,!1),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(es,b)}catch{}return!0}finally{ue.p=v,Q.T=d,db(s,r)}}function mb(s,r,l){r=ui(l,r),r=Vp(s.stateNode,r,2),s=Ka(s,r,2),s!==null&&(Dt(s,2),pr(s))}function Nt(s,r,l){if(s.tag===3)mb(s,s,l);else for(;r!==null;){if(r.tag===3){mb(r,s,l);break}else if(r.tag===1){var d=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(io===null||!io.has(d))){s=ui(l,s),l=vx(2),d=Ka(r,l,2),d!==null&&(_x(l,d,r,s),Dt(d,2),pr(d));break}}r=r.return}}function ug(s,r,l){var d=s.pingCache;if(d===null){d=s.pingCache=new XC;var v=new Set;d.set(r,v)}else v=d.get(r),v===void 0&&(v=new Set,d.set(r,v));v.has(l)||(eg=!0,v.add(l),s=nR.bind(null,s,r,l),r.then(s,s))}function nR(s,r,l){var d=s.pingCache;d!==null&&d.delete(r),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,Rt===s&&(mt&l)===l&&(Kt===4||Kt===3&&(mt&62914560)===mt&&300>_n()-ig?(xt&2)===0&&gc(s,0):tg|=l,fc===mt&&(fc=0)),pr(s)}function pb(s,r){r===0&&(r=Ss()),s=Fa(s,r),s!==null&&(Dt(s,r),pr(s))}function iR(s){var r=s.memoizedState,l=0;r!==null&&(l=r.retryLane),pb(s,l)}function sR(s,r){var l=0;switch(s.tag){case 13:var d=s.stateNode,v=s.memoizedState;v!==null&&(l=v.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(r),pb(s,l)}function rR(s,r){return Es(s,r)}var tf=null,vc=null,hg=!1,nf=!1,dg=!1,dl=0;function pr(s){s!==vc&&s.next===null&&(vc===null?tf=vc=s:vc=vc.next=s),nf=!0,hg||(hg=!0,oR())}function Zu(s,r){if(!dg&&nf){dg=!0;do for(var l=!1,d=tf;d!==null;){if(s!==0){var v=d.pendingLanes;if(v===0)var b=0;else{var C=d.suspendedLanes,P=d.pingedLanes;b=(1<<31-In(42|s)+1)-1,b&=v&~(C&~P),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,_b(d,b))}else b=mt,b=gi(d,d===Rt?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||yi(d,b)||(l=!0,_b(d,b));d=d.next}while(l);dg=!1}}function aR(){gb()}function gb(){nf=hg=!1;var s=0;dl!==0&&(pR()&&(s=dl),dl=0);for(var r=_n(),l=null,d=tf;d!==null;){var v=d.next,b=yb(d,r);b===0?(d.next=null,l===null?tf=v:l.next=v,v===null&&(vc=l)):(l=d,(s!==0||(b&3)!==0)&&(nf=!0)),d=v}Zu(s)}function yb(s,r){for(var l=s.suspendedLanes,d=s.pingedLanes,v=s.expirationTimes,b=s.pendingLanes&-62914561;0<b;){var C=31-In(b),P=1<<C,Z=v[C];Z===-1?((P&l)===0||(P&d)!==0)&&(v[C]=Ea(P,r)):Z<=r&&(s.expiredLanes|=P),b&=~P}if(r=Rt,l=mt,l=gi(s,s===r?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,l===0||s===r&&(bt===2||bt===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&ba(d),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||yi(s,l)){if(r=l&-l,r===s.callbackPriority)return r;switch(d!==null&&ba(d),Uo(l)){case 2:case 8:l=Qt;break;case 32:l=Li;break;case 268435456:l=Ta;break;default:l=Li}return d=vb.bind(null,s),l=Es(l,d),s.callbackPriority=r,s.callbackNode=l,r}return d!==null&&d!==null&&ba(d),s.callbackPriority=2,s.callbackNode=null,2}function vb(s,r){if(Dn!==0&&Dn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(ef()&&s.callbackNode!==l)return null;var d=mt;return d=gi(s,s===Rt?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(eb(s,d,r),yb(s,_n()),s.callbackNode!=null&&s.callbackNode===l?vb.bind(null,s):null)}function _b(s,r){if(ef())return null;eb(s,r,!0)}function oR(){yR(function(){(xt&6)!==0?Es(Xt,aR):gb()})}function fg(){return dl===0&&(dl=Vo()),dl}function xb(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ii(""+s)}function bb(s,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,s.id&&l.setAttribute("form",s.id),r.parentNode.insertBefore(l,r),s=new FormData(s),l.parentNode.removeChild(l),s}function lR(s,r,l,d,v){if(r==="submit"&&l&&l.stateNode===v){var b=xb((v[dn]||null).action),C=d.submitter;C&&(r=(r=C[dn]||null)?xb(r.formAction):C.getAttribute("formAction"),r!==null&&(b=r,C=null));var P=new ar("action","action",null,d,v);s.push({event:P,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(dl!==0){var Z=C?bb(v,C):new FormData(v);Lp(l,{pending:!0,data:Z,method:v.method,action:b},null,Z)}}else typeof b=="function"&&(P.preventDefault(),Z=C?bb(v,C):new FormData(v),Lp(l,{pending:!0,data:Z,method:v.method,action:b},b,Z))},currentTarget:v}]})}}for(var mg=0;mg<Wr.length;mg++){var pg=Wr[mg],cR=pg.toLowerCase(),uR=pg[0].toUpperCase()+pg.slice(1);Gi(cR,"on"+uR)}Gi(xd,"onAnimationEnd"),Gi(qi,"onAnimationIteration"),Gi(Qo,"onAnimationStart"),Gi("dblclick","onDoubleClick"),Gi("focusin","onFocus"),Gi("focusout","onBlur"),Gi(lp,"onTransitionRun"),Gi(Ql,"onTransitionStart"),Gi(cp,"onTransitionCancel"),Gi(wu,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),is("onBeforeInput",["compositionend","keypress","textInput","paste"]),is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wu));function wb(s,r){r=(r&4)!==0;for(var l=0;l<s.length;l++){var d=s[l],v=d.event;d=d.listeners;e:{var b=void 0;if(r)for(var C=d.length-1;0<=C;C--){var P=d[C],Z=P.instance,ie=P.currentTarget;if(P=P.listener,Z!==b&&v.isPropagationStopped())break e;b=P,v.currentTarget=ie;try{b(v)}catch(fe){Hd(fe)}v.currentTarget=null,b=Z}else for(C=0;C<d.length;C++){if(P=d[C],Z=P.instance,ie=P.currentTarget,P=P.listener,Z!==b&&v.isPropagationStopped())break e;b=P,v.currentTarget=ie;try{b(v)}catch(fe){Hd(fe)}v.currentTarget=null,b=Z}}}}function at(s,r){var l=r[xn];l===void 0&&(l=r[xn]=new Set);var d=s+"__bubble";l.has(d)||(Tb(r,s,2,!1),l.add(d))}function gg(s,r,l){var d=0;r&&(d|=4),Tb(l,s,d,r)}var sf="_reactListening"+Math.random().toString(36).slice(2);function yg(s){if(!s[sf]){s[sf]=!0,zl.forEach(function(l){l!=="selectionchange"&&(hR.has(l)||gg(l,!1,s),gg(l,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[sf]||(r[sf]=!0,gg("selectionchange",!1,r))}}function Tb(s,r,l,d){switch(Wb(r)){case 2:var v=VR;break;case 8:v=BR;break;default:v=jg}l=v.bind(null,r,l,s),v=void 0,!ki||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(v=!0),d?v!==void 0?s.addEventListener(r,l,{capture:!0,passive:v}):s.addEventListener(r,l,!0):v!==void 0?s.addEventListener(r,l,{passive:v}):s.addEventListener(r,l,!1)}function vg(s,r,l,d,v){var b=d;if((r&1)===0&&(r&2)===0&&d!==null)e:for(;;){if(d===null)return;var C=d.tag;if(C===3||C===4){var P=d.stateNode.containerInfo;if(P===v)break;if(C===4)for(C=d.return;C!==null;){var Z=C.tag;if((Z===3||Z===4)&&C.stateNode.containerInfo===v)return;C=C.return}for(;P!==null;){if(C=_i(P),C===null)return;if(Z=C.tag,Z===5||Z===6||Z===26||Z===27){d=b=C;continue e}P=P.parentNode}}d=d.return}Tn(function(){var ie=b,fe=ir(l),ge=[];e:{var se=bd.get(s);if(se!==void 0){var ae=ar,Ze=s;switch(s){case"keypress":if(Lt(l)===0)break e;case"keydown":case"keyup":ae=Ia;break;case"focusin":Ze="focus",ae=Ca;break;case"focusout":Ze="blur",ae=Ca;break;case"beforeblur":case"afterblur":ae=Ca;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Vi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=ql;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=or;break;case xd:case qi:case Qo:ae=qo;break;case wu:ae=E;break;case"scroll":case"scrollend":ae=Fr;break;case"wheel":ae=I;break;case"copy":case"cut":case"paste":ae=Ra;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=La;break;case"toggle":case"beforetoggle":ae=re}var Ue=(r&4)!==0,St=!Ue&&(s==="scroll"||s==="scrollend"),J=Ue?se!==null?se+"Capture":null:se;Ue=[];for(var K=ie,ne;K!==null;){var me=K;if(ne=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||ne===null||J===null||(me=dt(K,J),me!=null&&Ue.push(Ku(K,me,ne))),St)break;K=K.return}0<Ue.length&&(se=new ae(se,Ze,null,l,fe),ge.push({event:se,listeners:Ue}))}}if((r&7)===0){e:{if(se=s==="mouseover"||s==="pointerover",ae=s==="mouseout"||s==="pointerout",se&&l!==zr&&(Ze=l.relatedTarget||l.fromElement)&&(_i(Ze)||Ze[Ns]))break e;if((ae||se)&&(se=fe.window===fe?fe:(se=fe.ownerDocument)?se.defaultView||se.parentWindow:window,ae?(Ze=l.relatedTarget||l.toElement,ae=ie,Ze=Ze?_i(Ze):null,Ze!==null&&(St=c(Ze),Ue=Ze.tag,Ze!==St||Ue!==5&&Ue!==27&&Ue!==6)&&(Ze=null)):(ae=null,Ze=ie),ae!==Ze)){if(Ue=Vi,me="onMouseLeave",J="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(Ue=La,me="onPointerLeave",J="onPointerEnter",K="pointer"),St=ae==null?se:Jn(ae),ne=Ze==null?se:Jn(Ze),se=new Ue(me,K+"leave",ae,l,fe),se.target=St,se.relatedTarget=ne,me=null,_i(fe)===ie&&(Ue=new Ue(J,K+"enter",Ze,l,fe),Ue.target=ne,Ue.relatedTarget=St,me=Ue),St=me,ae&&Ze)t:{for(Ue=ae,J=Ze,K=0,ne=Ue;ne;ne=_c(ne))K++;for(ne=0,me=J;me;me=_c(me))ne++;for(;0<K-ne;)Ue=_c(Ue),K--;for(;0<ne-K;)J=_c(J),ne--;for(;K--;){if(Ue===J||J!==null&&Ue===J.alternate)break t;Ue=_c(Ue),J=_c(J)}Ue=null}else Ue=null;ae!==null&&Eb(ge,se,ae,Ue,!1),Ze!==null&&St!==null&&Eb(ge,St,Ze,Ue,!0)}}e:{if(se=ie?Jn(ie):window,ae=se.nodeName&&se.nodeName.toLowerCase(),ae==="select"||ae==="input"&&se.type==="file")var De=Oa;else if(Gr(se))if(vu)De=op;else{De=ap;var it=xu}else ae=se.nodeName,!ae||ae.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?ie&&nr(ie.elementType)&&(De=Oa):De=ks;if(De&&(De=De(s,ie))){gd(ge,De,l,fe);break e}it&&it(s,se,ie),s==="focusout"&&ie&&se.type==="number"&&ie.memoizedProps.value!=null&&tr(se,"number",se.value)}switch(it=ie?Jn(ie):window,s){case"focusin":(Gr(it)||it.contentEditable==="true")&&(Hi=it,Ba=ie,Zr=null);break;case"focusout":Zr=Ba=Hi=null;break;case"mousedown":Yl=!0;break;case"contextmenu":case"mouseup":case"dragend":Yl=!1,vd(ge,l,fe);break;case"selectionchange":if($l)break;case"keydown":case"keyup":vd(ge,l,fe)}var ke;if(Fe)e:{switch(s){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else zi?ai(s,l)&&(He="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(He="onCompositionStart");He&&(Mt&&l.locale!=="ko"&&(zi||He!=="onCompositionStart"?He==="onCompositionEnd"&&zi&&(ke=rr()):(zn=fe,ft="value"in zn?zn.value:zn.textContent,zi=!0)),it=rf(ie,He),0<it.length&&(He=new Fn(He,s,null,l,fe),ge.push({event:He,listeners:it}),ke?He.data=ke:(ke=Ui(l),ke!==null&&(He.data=ke)))),(ke=gt?Da(s,l):rp(s,l))&&(He=rf(ie,"onBeforeInput"),0<He.length&&(it=new Fn("onBeforeInput","beforeinput",null,l,fe),ge.push({event:it,listeners:He}),it.data=ke)),lR(ge,s,ie,l,fe)}wb(ge,r)})}function Ku(s,r,l){return{instance:s,listener:r,currentTarget:l}}function rf(s,r){for(var l=r+"Capture",d=[];s!==null;){var v=s,b=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||b===null||(v=dt(s,l),v!=null&&d.unshift(Ku(s,v,b)),v=dt(s,r),v!=null&&d.push(Ku(s,v,b))),s.tag===3)return d;s=s.return}return[]}function _c(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Eb(s,r,l,d,v){for(var b=r._reactName,C=[];l!==null&&l!==d;){var P=l,Z=P.alternate,ie=P.stateNode;if(P=P.tag,Z!==null&&Z===d)break;P!==5&&P!==26&&P!==27||ie===null||(Z=ie,v?(ie=dt(l,b),ie!=null&&C.unshift(Ku(l,ie,Z))):v||(ie=dt(l,b),ie!=null&&C.push(Ku(l,ie,Z)))),l=l.return}C.length!==0&&s.push({event:r,listeners:C})}var dR=/\r\n?/g,fR=/\u0000|\uFFFD/g;function Sb(s){return(typeof s=="string"?s:""+s).replace(dR,`
`).replace(fR,"")}function Ab(s,r){return r=Sb(r),Sb(s)===r}function af(){}function Et(s,r,l,d,v,b){switch(l){case"children":typeof d=="string"?r==="body"||r==="textarea"&&d===""||wn(s,d):(typeof d=="number"||typeof d=="bigint")&&r!=="body"&&wn(s,""+d);break;case"className":kr(s,"class",d);break;case"tabIndex":kr(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":kr(s,l,d);break;case"style":Is(s,d,b);break;case"data":if(r!=="object"){kr(s,"data",d);break}case"src":case"href":if(d===""&&(r!=="a"||l!=="href")){s.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(l);break}d=ii(""+d),s.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(r!=="input"&&Et(s,r,"name",v.name,v,null),Et(s,r,"formEncType",v.formEncType,v,null),Et(s,r,"formMethod",v.formMethod,v,null),Et(s,r,"formTarget",v.formTarget,v,null)):(Et(s,r,"encType",v.encType,v,null),Et(s,r,"method",v.method,v,null),Et(s,r,"target",v.target,v,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(l);break}d=ii(""+d),s.setAttribute(l,d);break;case"onClick":d!=null&&(s.onclick=af);break;case"onScroll":d!=null&&at("scroll",s);break;case"onScrollEnd":d!=null&&at("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(l=d.__html,l!=null){if(v.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}l=ii(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(l,""+d):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":d===!0?s.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(l,d):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(l,d):s.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(l):s.setAttribute(l,d);break;case"popover":at("beforetoggle",s),at("toggle",s),Or(s,"popover",d);break;case"xlinkActuate":xi(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":xi(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":xi(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":xi(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":xi(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":xi(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":xi(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":xi(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":xi(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Or(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Aa.get(l)||l,Or(s,l,d))}}function _g(s,r,l,d,v,b){switch(l){case"style":Is(s,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(l=d.__html,l!=null){if(v.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof d=="string"?wn(s,d):(typeof d=="number"||typeof d=="bigint")&&wn(s,""+d);break;case"onScroll":d!=null&&at("scroll",s);break;case"onScrollEnd":d!=null&&at("scrollend",s);break;case"onClick":d!=null&&(s.onclick=af);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(v=l.endsWith("Capture"),r=l.slice(2,v?l.length-7:void 0),b=s[dn]||null,b=b!=null?b[l]:null,typeof b=="function"&&s.removeEventListener(r,b,v),typeof d=="function")){typeof b!="function"&&b!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(r,d,v);break e}l in s?s[l]=d:d===!0?s.setAttribute(l,""):Or(s,l,d)}}}function Mn(s,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",s),at("load",s);var d=!1,v=!1,b;for(b in l)if(l.hasOwnProperty(b)){var C=l[b];if(C!=null)switch(b){case"src":d=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Et(s,r,b,C,l,null)}}v&&Et(s,r,"srcSet",l.srcSet,l,null),d&&Et(s,r,"src",l.src,l,null);return;case"input":at("invalid",s);var P=b=C=v=null,Z=null,ie=null;for(d in l)if(l.hasOwnProperty(d)){var fe=l[d];if(fe!=null)switch(d){case"name":v=fe;break;case"type":C=fe;break;case"checked":Z=fe;break;case"defaultChecked":ie=fe;break;case"value":b=fe;break;case"defaultValue":P=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(i(137,r));break;default:Et(s,r,d,fe,l,null)}}Fo(s,b,P,Z,ie,C,v,!1),os(s);return;case"select":at("invalid",s),d=C=b=null;for(v in l)if(l.hasOwnProperty(v)&&(P=l[v],P!=null))switch(v){case"value":b=P;break;case"defaultValue":C=P;break;case"multiple":d=P;default:Et(s,r,v,P,l,null)}r=b,l=C,s.multiple=!!d,r!=null?Un(s,!!d,r,!1):l!=null&&Un(s,!!d,l,!0);return;case"textarea":at("invalid",s),b=v=d=null;for(C in l)if(l.hasOwnProperty(C)&&(P=l[C],P!=null))switch(C){case"value":d=P;break;case"defaultValue":v=P;break;case"children":b=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(i(91));break;default:Et(s,r,C,P,l,null)}ls(s,d,v,b),os(s);return;case"option":for(Z in l)if(l.hasOwnProperty(Z)&&(d=l[Z],d!=null))switch(Z){case"selected":s.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Et(s,r,Z,d,l,null)}return;case"dialog":at("beforetoggle",s),at("toggle",s),at("cancel",s),at("close",s);break;case"iframe":case"object":at("load",s);break;case"video":case"audio":for(d=0;d<Wu.length;d++)at(Wu[d],s);break;case"image":at("error",s),at("load",s);break;case"details":at("toggle",s);break;case"embed":case"source":case"link":at("error",s),at("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in l)if(l.hasOwnProperty(ie)&&(d=l[ie],d!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Et(s,r,ie,d,l,null)}return;default:if(nr(r)){for(fe in l)l.hasOwnProperty(fe)&&(d=l[fe],d!==void 0&&_g(s,r,fe,d,l,void 0));return}}for(P in l)l.hasOwnProperty(P)&&(d=l[P],d!=null&&Et(s,r,P,d,l,null))}function mR(s,r,l,d){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,b=null,C=null,P=null,Z=null,ie=null,fe=null;for(ae in l){var ge=l[ae];if(l.hasOwnProperty(ae)&&ge!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":Z=ge;default:d.hasOwnProperty(ae)||Et(s,r,ae,null,d,ge)}}for(var se in d){var ae=d[se];if(ge=l[se],d.hasOwnProperty(se)&&(ae!=null||ge!=null))switch(se){case"type":b=ae;break;case"name":v=ae;break;case"checked":ie=ae;break;case"defaultChecked":fe=ae;break;case"value":C=ae;break;case"defaultValue":P=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,r));break;default:ae!==ge&&Et(s,r,se,ae,d,ge)}}bn(s,C,P,Z,ie,fe,b,v);return;case"select":ae=C=P=se=null;for(b in l)if(Z=l[b],l.hasOwnProperty(b)&&Z!=null)switch(b){case"value":break;case"multiple":ae=Z;default:d.hasOwnProperty(b)||Et(s,r,b,null,d,Z)}for(v in d)if(b=d[v],Z=l[v],d.hasOwnProperty(v)&&(b!=null||Z!=null))switch(v){case"value":se=b;break;case"defaultValue":P=b;break;case"multiple":C=b;default:b!==Z&&Et(s,r,v,b,d,Z)}r=P,l=C,d=ae,se!=null?Un(s,!!l,se,!1):!!d!=!!l&&(r!=null?Un(s,!!l,r,!0):Un(s,!!l,l?[]:"",!1));return;case"textarea":ae=se=null;for(P in l)if(v=l[P],l.hasOwnProperty(P)&&v!=null&&!d.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:Et(s,r,P,null,d,v)}for(C in d)if(v=d[C],b=l[C],d.hasOwnProperty(C)&&(v!=null||b!=null))switch(C){case"value":se=v;break;case"defaultValue":ae=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==b&&Et(s,r,C,v,d,b)}It(s,se,ae);return;case"option":for(var Ze in l)if(se=l[Ze],l.hasOwnProperty(Ze)&&se!=null&&!d.hasOwnProperty(Ze))switch(Ze){case"selected":s.selected=!1;break;default:Et(s,r,Ze,null,d,se)}for(Z in d)if(se=d[Z],ae=l[Z],d.hasOwnProperty(Z)&&se!==ae&&(se!=null||ae!=null))switch(Z){case"selected":s.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:Et(s,r,Z,se,d,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in l)se=l[Ue],l.hasOwnProperty(Ue)&&se!=null&&!d.hasOwnProperty(Ue)&&Et(s,r,Ue,null,d,se);for(ie in d)if(se=d[ie],ae=l[ie],d.hasOwnProperty(ie)&&se!==ae&&(se!=null||ae!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,r));break;default:Et(s,r,ie,se,d,ae)}return;default:if(nr(r)){for(var St in l)se=l[St],l.hasOwnProperty(St)&&se!==void 0&&!d.hasOwnProperty(St)&&_g(s,r,St,void 0,d,se);for(fe in d)se=d[fe],ae=l[fe],!d.hasOwnProperty(fe)||se===ae||se===void 0&&ae===void 0||_g(s,r,fe,se,d,ae);return}}for(var J in l)se=l[J],l.hasOwnProperty(J)&&se!=null&&!d.hasOwnProperty(J)&&Et(s,r,J,null,d,se);for(ge in d)se=d[ge],ae=l[ge],!d.hasOwnProperty(ge)||se===ae||se==null&&ae==null||Et(s,r,ge,se,d,ae)}var xg=null,bg=null;function of(s){return s.nodeType===9?s:s.ownerDocument}function Nb(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cb(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function wg(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Tg=null;function pR(){var s=window.event;return s&&s.type==="popstate"?s===Tg?!1:(Tg=s,!0):(Tg=null,!1)}var Rb=typeof setTimeout=="function"?setTimeout:void 0,gR=typeof clearTimeout=="function"?clearTimeout:void 0,Pb=typeof Promise=="function"?Promise:void 0,yR=typeof queueMicrotask=="function"?queueMicrotask:typeof Pb<"u"?function(s){return Pb.resolve(null).then(s).catch(vR)}:Rb;function vR(s){setTimeout(function(){throw s})}function ao(s){return s==="head"}function jb(s,r){var l=r,d=0,v=0;do{var b=l.nextSibling;if(s.removeChild(l),b&&b.nodeType===8)if(l=b.data,l==="/$"){if(0<d&&8>d){l=d;var C=s.ownerDocument;if(l&1&&$u(C.documentElement),l&2&&$u(C.body),l&4)for(l=C.head,$u(l),C=l.firstChild;C;){var P=C.nextSibling,Z=C.nodeName;C[Cs]||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&C.rel.toLowerCase()==="stylesheet"||l.removeChild(C),C=P}}if(v===0){s.removeChild(b),ih(r);return}v--}else l==="$"||l==="$?"||l==="$!"?v++:d=l.charCodeAt(0)-48;else d=0;l=b}while(l);ih(r)}function Eg(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Eg(l),Lr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function _R(s,r,l,d){for(;s.nodeType===1;){var v=l;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[Cs])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(b=s.getAttribute("rel"),b==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(b!==v.rel||s.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||s.getAttribute("title")!==(v.title==null?null:v.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(b=s.getAttribute("src"),(b!==(v.src==null?null:v.src)||s.getAttribute("type")!==(v.type==null?null:v.type)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&b&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var b=v.name==null?null:""+v.name;if(v.type==="hidden"&&s.getAttribute("name")===b)return s}else return s;if(s=zs(s.nextSibling),s===null)break}return null}function xR(s,r,l){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=zs(s.nextSibling),s===null))return null;return s}function Sg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function bR(s,r){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")r();else{var d=function(){r(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function zs(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return s}var Ag=null;function Ib(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return s;r--}else l==="/$"&&r++}s=s.previousSibling}return null}function Lb(s,r,l){switch(r=of(l),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function $u(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);Lr(s)}var ys=new Map,Db=new Set;function lf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ra=ue.d;ue.d={f:wR,r:TR,D:ER,C:SR,L:AR,m:NR,X:RR,S:CR,M:PR};function wR(){var s=ra.f(),r=Qd();return s||r}function TR(s){var r=Mi(s);r!==null&&r.tag===5&&r.type==="form"?ex(r):ra.r(s)}var xc=typeof document>"u"?null:document;function Mb(s,r,l){var d=xc;if(d&&typeof r=="string"&&r){var v=Ft(r);v='link[rel="'+s+'"][href="'+v+'"]',typeof l=="string"&&(v+='[crossorigin="'+l+'"]'),Db.has(v)||(Db.add(v),s={rel:s,crossOrigin:l,href:r},d.querySelector(v)===null&&(r=d.createElement("link"),Mn(r,"link",s),zt(r),d.head.appendChild(r)))}}function ER(s){ra.D(s),Mb("dns-prefetch",s,null)}function SR(s,r){ra.C(s,r),Mb("preconnect",s,r)}function AR(s,r,l){ra.L(s,r,l);var d=xc;if(d&&s&&r){var v='link[rel="preload"][as="'+Ft(r)+'"]';r==="image"&&l&&l.imageSrcSet?(v+='[imagesrcset="'+Ft(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(v+='[imagesizes="'+Ft(l.imageSizes)+'"]')):v+='[href="'+Ft(s)+'"]';var b=v;switch(r){case"style":b=bc(s);break;case"script":b=wc(s)}ys.has(b)||(s=x({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:s,as:r},l),ys.set(b,s),d.querySelector(v)!==null||r==="style"&&d.querySelector(Yu(b))||r==="script"&&d.querySelector(Xu(b))||(r=d.createElement("link"),Mn(r,"link",s),zt(r),d.head.appendChild(r)))}}function NR(s,r){ra.m(s,r);var l=xc;if(l&&s){var d=r&&typeof r.as=="string"?r.as:"script",v='link[rel="modulepreload"][as="'+Ft(d)+'"][href="'+Ft(s)+'"]',b=v;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=wc(s)}if(!ys.has(b)&&(s=x({rel:"modulepreload",href:s},r),ys.set(b,s),l.querySelector(v)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Xu(b)))return}d=l.createElement("link"),Mn(d,"link",s),zt(d),l.head.appendChild(d)}}}function CR(s,r,l){ra.S(s,r,l);var d=xc;if(d&&s){var v=Rs(d).hoistableStyles,b=bc(s);r=r||"default";var C=v.get(b);if(!C){var P={loading:0,preload:null};if(C=d.querySelector(Yu(b)))P.loading=5;else{s=x({rel:"stylesheet",href:s,"data-precedence":r},l),(l=ys.get(b))&&Ng(s,l);var Z=C=d.createElement("link");zt(Z),Mn(Z,"link",s),Z._p=new Promise(function(ie,fe){Z.onload=ie,Z.onerror=fe}),Z.addEventListener("load",function(){P.loading|=1}),Z.addEventListener("error",function(){P.loading|=2}),P.loading|=4,cf(C,r,d)}C={type:"stylesheet",instance:C,count:1,state:P},v.set(b,C)}}}function RR(s,r){ra.X(s,r);var l=xc;if(l&&s){var d=Rs(l).hoistableScripts,v=wc(s),b=d.get(v);b||(b=l.querySelector(Xu(v)),b||(s=x({src:s,async:!0},r),(r=ys.get(v))&&Cg(s,r),b=l.createElement("script"),zt(b),Mn(b,"link",s),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(v,b))}}function PR(s,r){ra.M(s,r);var l=xc;if(l&&s){var d=Rs(l).hoistableScripts,v=wc(s),b=d.get(v);b||(b=l.querySelector(Xu(v)),b||(s=x({src:s,async:!0,type:"module"},r),(r=ys.get(v))&&Cg(s,r),b=l.createElement("script"),zt(b),Mn(b,"link",s),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(v,b))}}function Ob(s,r,l,d){var v=(v=Ee.current)?lf(v):null;if(!v)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=bc(l.href),l=Rs(v).hoistableStyles,d=l.get(r),d||(d={type:"style",instance:null,count:0,state:null},l.set(r,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=bc(l.href);var b=Rs(v).hoistableStyles,C=b.get(s);if(C||(v=v.ownerDocument||v,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(s,C),(b=v.querySelector(Yu(s)))&&!b._p&&(C.instance=b,C.state.loading=5),ys.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ys.set(s,l),b||jR(v,s,l,C.state))),r&&d===null)throw Error(i(528,""));return C}if(r&&d!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=wc(l),l=Rs(v).hoistableScripts,d=l.get(r),d||(d={type:"script",instance:null,count:0,state:null},l.set(r,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function bc(s){return'href="'+Ft(s)+'"'}function Yu(s){return'link[rel="stylesheet"]['+s+"]"}function kb(s){return x({},s,{"data-precedence":s.precedence,precedence:null})}function jR(s,r,l,d){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?d.loading=1:(r=s.createElement("link"),d.preload=r,r.addEventListener("load",function(){return d.loading|=1}),r.addEventListener("error",function(){return d.loading|=2}),Mn(r,"link",l),zt(r),s.head.appendChild(r))}function wc(s){return'[src="'+Ft(s)+'"]'}function Xu(s){return"script[async]"+s}function Vb(s,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var d=s.querySelector('style[data-href~="'+Ft(l.href)+'"]');if(d)return r.instance=d,zt(d),d;var v=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),zt(d),Mn(d,"style",v),cf(d,l.precedence,s),r.instance=d;case"stylesheet":v=bc(l.href);var b=s.querySelector(Yu(v));if(b)return r.state.loading|=4,r.instance=b,zt(b),b;d=kb(l),(v=ys.get(v))&&Ng(d,v),b=(s.ownerDocument||s).createElement("link"),zt(b);var C=b;return C._p=new Promise(function(P,Z){C.onload=P,C.onerror=Z}),Mn(b,"link",d),r.state.loading|=4,cf(b,l.precedence,s),r.instance=b;case"script":return b=wc(l.src),(v=s.querySelector(Xu(b)))?(r.instance=v,zt(v),v):(d=l,(v=ys.get(b))&&(d=x({},l),Cg(d,v)),s=s.ownerDocument||s,v=s.createElement("script"),zt(v),Mn(v,"link",d),s.head.appendChild(v),r.instance=v);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(d=r.instance,r.state.loading|=4,cf(d,l.precedence,s));return r.instance}function cf(s,r,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=d.length?d[d.length-1]:null,b=v,C=0;C<d.length;C++){var P=d[C];if(P.dataset.precedence===r)b=P;else if(b!==v)break}b?b.parentNode.insertBefore(s,b.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(s,r.firstChild))}function Ng(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Cg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var uf=null;function Bb(s,r,l){if(uf===null){var d=new Map,v=uf=new Map;v.set(l,d)}else v=uf,d=v.get(l),d||(d=new Map,v.set(l,d));if(d.has(s))return d;for(d.set(s,null),l=l.getElementsByTagName(s),v=0;v<l.length;v++){var b=l[v];if(!(b[Cs]||b[Ut]||s==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var C=b.getAttribute(r)||"";C=s+C;var P=d.get(C);P?P.push(b):d.set(C,[b])}}return d}function Ub(s,r,l){s=s.ownerDocument||s,s.head.insertBefore(l,r==="title"?s.querySelector("head > title"):null)}function IR(s,r,l){if(l===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function zb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Qu=null;function LR(){}function DR(s,r,l){if(Qu===null)throw Error(i(475));var d=Qu;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var v=bc(l.href),b=s.querySelector(Yu(v));if(b){s=b._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(d.count++,d=hf.bind(d),s.then(d,d)),r.state.loading|=4,r.instance=b,zt(b);return}b=s.ownerDocument||s,l=kb(l),(v=ys.get(v))&&Ng(l,v),b=b.createElement("link"),zt(b);var C=b;C._p=new Promise(function(P,Z){C.onload=P,C.onerror=Z}),Mn(b,"link",l),r.instance=b}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(d.count++,r=hf.bind(d),s.addEventListener("load",r),s.addEventListener("error",r))}}function MR(){if(Qu===null)throw Error(i(475));var s=Qu;return s.stylesheets&&s.count===0&&Rg(s,s.stylesheets),0<s.count?function(r){var l=setTimeout(function(){if(s.stylesheets&&Rg(s,s.stylesheets),s.unsuspend){var d=s.unsuspend;s.unsuspend=null,d()}},6e4);return s.unsuspend=r,function(){s.unsuspend=null,clearTimeout(l)}}:null}function hf(){if(this.count--,this.count===0){if(this.stylesheets)Rg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var df=null;function Rg(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,df=new Map,r.forEach(OR,s),df=null,hf.call(s))}function OR(s,r){if(!(r.state.loading&4)){var l=df.get(s);if(l)var d=l.get(null);else{l=new Map,df.set(s,l);for(var v=s.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<v.length;b++){var C=v[b];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),d=C)}d&&l.set(null,d)}v=r.instance,C=v.getAttribute("data-precedence"),b=l.get(C)||d,b===d&&l.set(null,v),l.set(C,v),this.count++,d=hf.bind(this),v.addEventListener("load",d),v.addEventListener("error",d),b?b.parentNode.insertBefore(v,b.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(v,s.firstChild)),r.state.loading|=4}}var Ju={$$typeof:X,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function kR(s,r,l,d,v,b,C,P){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ir(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ir(0),this.hiddenUpdates=Ir(null),this.identifierPrefix=d,this.onUncaughtError=v,this.onCaughtError=b,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Fb(s,r,l,d,v,b,C,P,Z,ie,fe,ge){return s=new kR(s,r,l,C,P,Z,ie,ge),r=1,b===!0&&(r|=24),b=di(3,null,null,r),s.current=b,b.stateNode=s,r=up(),r.refCount++,s.pooledCache=r,r.refCount++,b.memoizedState={element:d,isDehydrated:l,cache:r},mp(b),s}function Hb(s){return s?(s=Yr,s):Yr}function qb(s,r,l,d,v,b){v=Hb(v),d.context===null?d.context=v:d.pendingContext=v,d=Wa(r),d.payload={element:l},b=b===void 0?null:b,b!==null&&(d.callback=b),l=Ka(s,d,r),l!==null&&(Xi(l,s,r),Ru(l,s,r))}function Gb(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<r?l:r}}function Pg(s,r){Gb(s,r),(s=s.alternate)&&Gb(s,r)}function Zb(s){if(s.tag===13){var r=Fa(s,67108864);r!==null&&Xi(r,s,67108864),Pg(s,67108864)}}var ff=!0;function VR(s,r,l,d){var v=Q.T;Q.T=null;var b=ue.p;try{ue.p=2,jg(s,r,l,d)}finally{ue.p=b,Q.T=v}}function BR(s,r,l,d){var v=Q.T;Q.T=null;var b=ue.p;try{ue.p=8,jg(s,r,l,d)}finally{ue.p=b,Q.T=v}}function jg(s,r,l,d){if(ff){var v=Ig(d);if(v===null)vg(s,r,d,mf,l),Kb(s,d);else if(zR(v,s,r,l,d))d.stopPropagation();else if(Kb(s,d),r&4&&-1<UR.indexOf(s)){for(;v!==null;){var b=Mi(v);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var C=pi(b.pendingLanes);if(C!==0){var P=b;for(P.pendingLanes|=2,P.entangledLanes|=2;C;){var Z=1<<31-In(C);P.entanglements[1]|=Z,C&=~Z}pr(b),(xt&6)===0&&(Yd=_n()+500,Zu(0))}}break;case 13:P=Fa(b,2),P!==null&&Xi(P,b,2),Qd(),Pg(b,2)}if(b=Ig(d),b===null&&vg(s,r,d,mf,l),b===v)break;v=b}v!==null&&d.stopPropagation()}else vg(s,r,d,null,l)}}function Ig(s){return s=ir(s),Lg(s)}var mf=null;function Lg(s){if(mf=null,s=_i(s),s!==null){var r=c(s);if(r===null)s=null;else{var l=r.tag;if(l===13){if(s=u(r),s!==null)return s;s=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return mf=s,null}function Wb(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pr()){case Xt:return 2;case Qt:return 8;case Li:case Ol:return 32;case Ta:return 268435456;default:return 32}default:return 32}}var Dg=!1,oo=null,lo=null,co=null,eh=new Map,th=new Map,uo=[],UR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kb(s,r){switch(s){case"focusin":case"focusout":oo=null;break;case"dragenter":case"dragleave":lo=null;break;case"mouseover":case"mouseout":co=null;break;case"pointerover":case"pointerout":eh.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":th.delete(r.pointerId)}}function nh(s,r,l,d,v,b){return s===null||s.nativeEvent!==b?(s={blockedOn:r,domEventName:l,eventSystemFlags:d,nativeEvent:b,targetContainers:[v]},r!==null&&(r=Mi(r),r!==null&&Zb(r)),s):(s.eventSystemFlags|=d,r=s.targetContainers,v!==null&&r.indexOf(v)===-1&&r.push(v),s)}function zR(s,r,l,d,v){switch(r){case"focusin":return oo=nh(oo,s,r,l,d,v),!0;case"dragenter":return lo=nh(lo,s,r,l,d,v),!0;case"mouseover":return co=nh(co,s,r,l,d,v),!0;case"pointerover":var b=v.pointerId;return eh.set(b,nh(eh.get(b)||null,s,r,l,d,v)),!0;case"gotpointercapture":return b=v.pointerId,th.set(b,nh(th.get(b)||null,s,r,l,d,v)),!0}return!1}function $b(s){var r=_i(s.target);if(r!==null){var l=c(r);if(l!==null){if(r=l.tag,r===13){if(r=u(l),r!==null){s.blockedOn=r,zo(s.priority,function(){if(l.tag===13){var d=Yi();d=Bo(d);var v=Fa(l,d);v!==null&&Xi(v,l,d),Pg(l,d)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function pf(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var l=Ig(s.nativeEvent);if(l===null){l=s.nativeEvent;var d=new l.constructor(l.type,l);zr=d,l.target.dispatchEvent(d),zr=null}else return r=Mi(l),r!==null&&Zb(r),s.blockedOn=l,!1;r.shift()}return!0}function Yb(s,r,l){pf(s)&&l.delete(r)}function FR(){Dg=!1,oo!==null&&pf(oo)&&(oo=null),lo!==null&&pf(lo)&&(lo=null),co!==null&&pf(co)&&(co=null),eh.forEach(Yb),th.forEach(Yb)}function gf(s,r){s.blockedOn===r&&(s.blockedOn=null,Dg||(Dg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,FR)))}var yf=null;function Xb(s){yf!==s&&(yf=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){yf===s&&(yf=null);for(var r=0;r<s.length;r+=3){var l=s[r],d=s[r+1],v=s[r+2];if(typeof d!="function"){if(Lg(d||l)===null)continue;break}var b=Mi(l);b!==null&&(s.splice(r,3),r-=3,Lp(b,{pending:!0,data:v,method:l.method,action:d},d,v))}}))}function ih(s){function r(Z){return gf(Z,s)}oo!==null&&gf(oo,s),lo!==null&&gf(lo,s),co!==null&&gf(co,s),eh.forEach(r),th.forEach(r);for(var l=0;l<uo.length;l++){var d=uo[l];d.blockedOn===s&&(d.blockedOn=null)}for(;0<uo.length&&(l=uo[0],l.blockedOn===null);)$b(l),l.blockedOn===null&&uo.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var v=l[d],b=l[d+1],C=v[dn]||null;if(typeof b=="function")C||Xb(l);else if(C){var P=null;if(b&&b.hasAttribute("formAction")){if(v=b,C=b[dn]||null)P=C.formAction;else if(Lg(v)!==null)continue}else P=C.action;typeof P=="function"?l[d+1]=P:(l.splice(d,3),d-=3),Xb(l)}}}function Mg(s){this._internalRoot=s}vf.prototype.render=Mg.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,d=Yi();qb(l,d,s,r,null,null)},vf.prototype.unmount=Mg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;qb(s.current,2,null,s,null,null),Qd(),r[Ns]=null}};function vf(s){this._internalRoot=s}vf.prototype.unstable_scheduleHydration=function(s){if(s){var r=As();s={blockedOn:null,target:s,priority:r};for(var l=0;l<uo.length&&r!==0&&r<uo[l].priority;l++);uo.splice(l,0,s),l===0&&$b(s)}};var Qb=e.version;if(Qb!=="19.1.1")throw Error(i(527,Qb,"19.1.1"));ue.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=y(r),s=s!==null?_(s):null,s=s===null?null:s.stateNode,s};var HR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_f.isDisabled&&_f.supportsFiber)try{es=_f.inject(HR),hn=_f}catch{}}return rh.createRoot=function(s,r){if(!a(s))throw Error(i(299));var l=!1,d="",v=mx,b=px,C=gx,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(v=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(P=r.unstable_transitionCallbacks)),r=Fb(s,1,!1,null,null,l,d,v,b,C,P,null),s[Ns]=r.current,yg(s),new Mg(r)},rh.hydrateRoot=function(s,r,l){if(!a(s))throw Error(i(299));var d=!1,v="",b=mx,C=px,P=gx,Z=null,ie=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(P=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(Z=l.unstable_transitionCallbacks),l.formState!==void 0&&(ie=l.formState)),r=Fb(s,1,!0,r,l??null,d,v,b,C,P,Z,ie),r.context=Hb(null),l=r.current,d=Yi(),d=Bo(d),v=Wa(d),v.callback=null,Ka(l,v,d),l=d,r.current.lanes=l,Dt(r,l),pr(r),s[Ns]=r.current,yg(s),new vf(r)},rh.version="19.1.1",rh}var lw;function QR(){if(lw)return Vg.exports;lw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Vg.exports=XR(),Vg.exports}var JR=QR();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var cw="popstate";function eP(t={}){function e(i,a){let{pathname:c,search:u,hash:p}=i.location;return by("",{pathname:c,search:u,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:Rh(a)}return nP(e,n,null,t)}function Bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tP(){return Math.random().toString(36).substring(2,10)}function uw(t,e){return{usr:t.state,key:t.key,idx:e}}function by(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Yc(e):e,state:n,key:e&&e.key||i||tP()}}function Rh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Yc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function nP(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:c=!1}=i,u=a.history,p="POP",y=null,_=x();_==null&&(_=0,u.replaceState({...u.state,idx:_},""));function x(){return(u.state||{idx:null}).idx}function T(){p="POP";let k=x(),$=k==null?null:k-_;_=k,y&&y({action:p,location:F.location,delta:$})}function A(k,$){p="PUSH";let Y=by(F.location,k,$);_=x()+1;let X=uw(Y,_),ve=F.createHref(Y);try{u.pushState(X,"",ve)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;a.location.assign(ve)}c&&y&&y({action:p,location:F.location,delta:1})}function D(k,$){p="REPLACE";let Y=by(F.location,k,$);_=x();let X=uw(Y,_),ve=F.createHref(Y);u.replaceState(X,"",ve),c&&y&&y({action:p,location:F.location,delta:0})}function j(k){return iP(k)}let F={get action(){return p},get location(){return t(a,u)},listen(k){if(y)throw new Error("A history only accepts one active listener");return a.addEventListener(cw,T),y=k,()=>{a.removeEventListener(cw,T),y=null}},createHref(k){return e(a,k)},createURL:j,encodeLocation(k){let $=j(k);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:A,replace:D,go(k){return u.go(k)}};return F}function iP(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Bt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Rh(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function TE(t,e,n="/"){return sP(t,e,n,!1)}function sP(t,e,n,i){let a=typeof e=="string"?Yc(e):e,c=da(a.pathname||"/",n);if(c==null)return null;let u=EE(t);rP(u);let p=null;for(let y=0;p==null&&y<u.length;++y){let _=gP(c);p=mP(u[y],_,i)}return p}function EE(t,e=[],n=[],i="",a=!1){let c=(u,p,y=a,_)=>{let x={relativePath:_===void 0?u.path||"":_,caseSensitive:u.caseSensitive===!0,childrenIndex:p,route:u};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(i)&&y)return;Bt(x.relativePath.startsWith(i),`Absolute route path "${x.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(i.length)}let T=la([i,x.relativePath]),A=n.concat(x);u.children&&u.children.length>0&&(Bt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),EE(u.children,e,A,T,y)),!(u.path==null&&!u.index)&&e.push({path:T,score:dP(T,u.index),routesMeta:A})};return t.forEach((u,p)=>{if(u.path===""||!u.path?.includes("?"))c(u,p);else for(let y of SE(u.path))c(u,p,!0,y)}),e}function SE(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),c=n.replace(/\?$/,"");if(i.length===0)return a?[c,""]:[c];let u=SE(i.join("/")),p=[];return p.push(...u.map(y=>y===""?c:[c,y].join("/"))),a&&p.push(...u),p.map(y=>t.startsWith("/")&&y===""?"/":y)}function rP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fP(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var aP=/^:[\w-]+$/,oP=3,lP=2,cP=1,uP=10,hP=-2,hw=t=>t==="*";function dP(t,e){let n=t.split("/"),i=n.length;return n.some(hw)&&(i+=hP),e&&(i+=lP),n.filter(a=>!hw(a)).reduce((a,c)=>a+(aP.test(c)?oP:c===""?cP:uP),i)}function fP(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function mP(t,e,n=!1){let{routesMeta:i}=t,a={},c="/",u=[];for(let p=0;p<i.length;++p){let y=i[p],_=p===i.length-1,x=c==="/"?e:e.slice(c.length)||"/",T=Qf({path:y.relativePath,caseSensitive:y.caseSensitive,end:_},x),A=y.route;if(!T&&_&&n&&!i[i.length-1].route.index&&(T=Qf({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},x)),!T)return null;Object.assign(a,T.params),u.push({params:a,pathname:la([c,T.pathname]),pathnameBase:xP(la([c,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(c=la([c,T.pathnameBase]))}return u}function Qf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=pP(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let c=a[0],u=c.replace(/(.)\/+$/,"$1"),p=a.slice(1);return{params:i.reduce((_,{paramName:x,isOptional:T},A)=>{if(x==="*"){let j=p[A]||"";u=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const D=p[A];return T&&!D?_[x]=void 0:_[x]=(D||"").replace(/%2F/g,"/"),_},{}),pathname:c,pathnameBase:u,pattern:t}}function pP(t,e=!1,n=!0){Gs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,p,y)=>(i.push({paramName:p,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function gP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gs(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function da(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function yP(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?Yc(t):t;return{pathname:n?n.startsWith("/")?n:vP(n,e):e,search:bP(i),hash:wP(a)}}function vP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Fg(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _P(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function S0(t){let e=_P(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function A0(t,e,n,i=!1){let a;typeof t=="string"?a=Yc(t):(a={...t},Bt(!a.pathname||!a.pathname.includes("?"),Fg("?","pathname","search",a)),Bt(!a.pathname||!a.pathname.includes("#"),Fg("#","pathname","hash",a)),Bt(!a.search||!a.search.includes("#"),Fg("#","search","hash",a)));let c=t===""||a.pathname==="",u=c?"/":a.pathname,p;if(u==null)p=n;else{let T=e.length-1;if(!i&&u.startsWith("..")){let A=u.split("/");for(;A[0]==="..";)A.shift(),T-=1;a.pathname=A.join("/")}p=T>=0?e[T]:"/"}let y=yP(a,p),_=u&&u!=="/"&&u.endsWith("/"),x=(c||u===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(_||x)&&(y.pathname+="/"),y}var la=t=>t.join("/").replace(/\/\/+/g,"/"),xP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function TP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var AE=["POST","PUT","PATCH","DELETE"];new Set(AE);var EP=["GET",...AE];new Set(EP);var Xc=V.createContext(null);Xc.displayName="DataRouter";var Em=V.createContext(null);Em.displayName="DataRouterState";V.createContext(!1);var NE=V.createContext({isTransitioning:!1});NE.displayName="ViewTransition";var SP=V.createContext(new Map);SP.displayName="Fetchers";var AP=V.createContext(null);AP.displayName="Await";var Ks=V.createContext(null);Ks.displayName="Navigation";var Wh=V.createContext(null);Wh.displayName="Location";var $s=V.createContext({outlet:null,matches:[],isDataRoute:!1});$s.displayName="Route";var N0=V.createContext(null);N0.displayName="RouteError";function NP(t,{relative:e}={}){Bt(Qc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=V.useContext(Ks),{hash:a,pathname:c,search:u}=Kh(t,{relative:e}),p=c;return n!=="/"&&(p=c==="/"?n:la([n,c])),i.createHref({pathname:p,search:u,hash:a})}function Qc(){return V.useContext(Wh)!=null}function Ys(){return Bt(Qc(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Wh).location}var CE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function RE(t){V.useContext(Ks).static||V.useLayoutEffect(t)}function jl(){let{isDataRoute:t}=V.useContext($s);return t?FP():CP()}function CP(){Bt(Qc(),"useNavigate() may be used only in the context of a <Router> component.");let t=V.useContext(Xc),{basename:e,navigator:n}=V.useContext(Ks),{matches:i}=V.useContext($s),{pathname:a}=Ys(),c=JSON.stringify(S0(i)),u=V.useRef(!1);return RE(()=>{u.current=!0}),V.useCallback((y,_={})=>{if(Gs(u.current,CE),!u.current)return;if(typeof y=="number"){n.go(y);return}let x=A0(y,JSON.parse(c),a,_.relative==="path");t==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:la([e,x.pathname])),(_.replace?n.replace:n.push)(x,_.state,_)},[e,n,c,a,t])}var RP=V.createContext(null);function PP(t){let e=V.useContext($s).outlet;return e&&V.createElement(RP.Provider,{value:t},e)}function Kh(t,{relative:e}={}){let{matches:n}=V.useContext($s),{pathname:i}=Ys(),a=JSON.stringify(S0(n));return V.useMemo(()=>A0(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function jP(t,e){return PE(t,e)}function PE(t,e,n,i,a){Bt(Qc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=V.useContext(Ks),{matches:u}=V.useContext($s),p=u[u.length-1],y=p?p.params:{},_=p?p.pathname:"/",x=p?p.pathnameBase:"/",T=p&&p.route;{let Y=T&&T.path||"";jE(_,!T||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let A=Ys(),D;if(e){let Y=typeof e=="string"?Yc(e):e;Bt(x==="/"||Y.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),D=Y}else D=A;let j=D.pathname||"/",F=j;if(x!=="/"){let Y=x.replace(/^\//,"").split("/");F="/"+j.replace(/^\//,"").split("/").slice(Y.length).join("/")}let k=TE(t,{pathname:F});Gs(T||k!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Gs(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=OP(k&&k.map(Y=>Object.assign({},Y,{params:Object.assign({},y,Y.params),pathname:la([x,c.encodeLocation?c.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?x:la([x,c.encodeLocation?c.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),u,n,i,a);return e&&$?V.createElement(Wh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},$):$}function IP(){let t=zP(),e=TP(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=V.createElement(V.Fragment,null,V.createElement("p",null,"💿 Hey developer 👋"),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:c},"ErrorBoundary")," or"," ",V.createElement("code",{style:c},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:a},n):null,u)}var LP=V.createElement(IP,null),DP=class extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?V.createElement($s.Provider,{value:this.props.routeContext},V.createElement(N0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function MP({routeContext:t,match:e,children:n}){let i=V.useContext(Xc);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement($s.Provider,{value:t},n)}function OP(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,u=n?.errors;if(u!=null){let _=c.findIndex(x=>x.route.id&&u?.[x.route.id]!==void 0);Bt(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,_+1))}let p=!1,y=-1;if(n)for(let _=0;_<c.length;_++){let x=c[_];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(y=_),x.route.id){let{loaderData:T,errors:A}=n,D=x.route.loader&&!T.hasOwnProperty(x.route.id)&&(!A||A[x.route.id]===void 0);if(x.route.lazy||D){p=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}return c.reduceRight((_,x,T)=>{let A,D=!1,j=null,F=null;n&&(A=u&&x.route.id?u[x.route.id]:void 0,j=x.route.errorElement||LP,p&&(y<0&&T===0?(jE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,F=null):y===T&&(D=!0,F=x.route.hydrateFallbackElement||null)));let k=e.concat(c.slice(0,T+1)),$=()=>{let Y;return A?Y=j:D?Y=F:x.route.Component?Y=V.createElement(x.route.Component,null):x.route.element?Y=x.route.element:Y=_,V.createElement(MP,{match:x,routeContext:{outlet:_,matches:k,isDataRoute:n!=null},children:Y})};return n&&(x.route.ErrorBoundary||x.route.errorElement||T===0)?V.createElement(DP,{location:n.location,revalidation:n.revalidation,component:j,error:A,children:$(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:i}):$()},null)}function C0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kP(t){let e=V.useContext(Xc);return Bt(e,C0(t)),e}function VP(t){let e=V.useContext(Em);return Bt(e,C0(t)),e}function BP(t){let e=V.useContext($s);return Bt(e,C0(t)),e}function R0(t){let e=BP(t),n=e.matches[e.matches.length-1];return Bt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function UP(){return R0("useRouteId")}function zP(){let t=V.useContext(N0),e=VP("useRouteError"),n=R0("useRouteError");return t!==void 0?t:e.errors?.[n]}function FP(){let{router:t}=kP("useNavigate"),e=R0("useNavigate"),n=V.useRef(!1);return RE(()=>{n.current=!0}),V.useCallback(async(a,c={})=>{Gs(n.current,CE),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...c}))},[t,e])}var dw={};function jE(t,e,n){!e&&!dw[t]&&(dw[t]=!0,Gs(!1,n))}V.memo(HP);function HP({routes:t,future:e,state:n,unstable_onError:i}){return PE(t,void 0,n,i,e)}function IE({to:t,replace:e,state:n,relative:i}){Bt(Qc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=V.useContext(Ks);Gs(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=V.useContext($s),{pathname:u}=Ys(),p=jl(),y=A0(t,S0(c),u,i==="path"),_=JSON.stringify(y);return V.useEffect(()=>{p(JSON.parse(_),{replace:e,state:n,relative:i})},[p,_,i,e,n]),null}function qP(t){return PP(t.context)}function Zn(t){Bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GP({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:c=!1}){Bt(!Qc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),p=V.useMemo(()=>({basename:u,navigator:a,static:c,future:{}}),[u,a,c]);typeof n=="string"&&(n=Yc(n));let{pathname:y="/",search:_="",hash:x="",state:T=null,key:A="default"}=n,D=V.useMemo(()=>{let j=da(y,u);return j==null?null:{location:{pathname:j,search:_,hash:x,state:T,key:A},navigationType:i}},[u,y,_,x,T,A,i]);return Gs(D!=null,`<Router basename="${u}"> is not able to match the URL "${y}${_}${x}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:V.createElement(Ks.Provider,{value:p},V.createElement(Wh.Provider,{children:e,value:D}))}function ZP({children:t,location:e}){return jP(wy(t),e)}function wy(t,e=[]){let n=[];return V.Children.forEach(t,(i,a)=>{if(!V.isValidElement(i))return;let c=[...e,a];if(i.type===V.Fragment){n.push.apply(n,wy(i.props.children,c));return}Bt(i.type===Zn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Bt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=wy(i.props.children,c)),n.push(u)}),n}var Lf="get",Df="application/x-www-form-urlencoded";function Sm(t){return t!=null&&typeof t.tagName=="string"}function WP(t){return Sm(t)&&t.tagName.toLowerCase()==="button"}function KP(t){return Sm(t)&&t.tagName.toLowerCase()==="form"}function $P(t){return Sm(t)&&t.tagName.toLowerCase()==="input"}function YP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function XP(t,e){return t.button===0&&(!e||e==="_self")&&!YP(t)}var xf=null;function QP(){if(xf===null)try{new FormData(document.createElement("form"),0),xf=!1}catch{xf=!0}return xf}var JP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hg(t){return t!=null&&!JP.has(t)?(Gs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Df}"`),null):t}function ej(t,e){let n,i,a,c,u;if(KP(t)){let p=t.getAttribute("action");i=p?da(p,e):null,n=t.getAttribute("method")||Lf,a=Hg(t.getAttribute("enctype"))||Df,c=new FormData(t)}else if(WP(t)||$P(t)&&(t.type==="submit"||t.type==="image")){let p=t.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=t.getAttribute("formaction")||p.getAttribute("action");if(i=y?da(y,e):null,n=t.getAttribute("formmethod")||p.getAttribute("method")||Lf,a=Hg(t.getAttribute("formenctype"))||Hg(p.getAttribute("enctype"))||Df,c=new FormData(p,t),!QP()){let{name:_,type:x,value:T}=t;if(x==="image"){let A=_?`${_}.`:"";c.append(`${A}x`,"0"),c.append(`${A}y`,"0")}else _&&c.append(_,T)}}else{if(Sm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Lf,i=null,a=Df,u=t}return c&&a==="text/plain"&&(u=c,c=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function P0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tj(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&da(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function nj(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ij(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function sj(t,e,n){let i=await Promise.all(t.map(async a=>{let c=e.routes[a.route.id];if(c){let u=await nj(c,n);return u.links?u.links():[]}return[]}));return lj(i.flat(1).filter(ij).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function fw(t,e,n,i,a,c){let u=(y,_)=>n[_]?y.route.id!==n[_].route.id:!0,p=(y,_)=>n[_].pathname!==y.pathname||n[_].route.path?.endsWith("*")&&n[_].params["*"]!==y.params["*"];return c==="assets"?e.filter((y,_)=>u(y,_)||p(y,_)):c==="data"?e.filter((y,_)=>{let x=i.routes[y.route.id];if(!x||!x.hasLoader)return!1;if(u(y,_)||p(y,_))return!0;if(y.route.shouldRevalidate){let T=y.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function rj(t,e,{includeHydrateFallback:n}={}){return aj(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let c=[a.module];return a.clientActionModule&&(c=c.concat(a.clientActionModule)),a.clientLoaderModule&&(c=c.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(c=c.concat(a.hydrateFallbackModule)),a.imports&&(c=c.concat(a.imports)),c}).flat(1))}function aj(t){return[...new Set(t)]}function oj(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function lj(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let c=JSON.stringify(oj(a));return n.has(c)||(n.add(c),i.push({key:c,link:a})),i},[])}function LE(){let t=V.useContext(Xc);return P0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function cj(){let t=V.useContext(Em);return P0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var j0=V.createContext(void 0);j0.displayName="FrameworkContext";function DE(){let t=V.useContext(j0);return P0(t,"You must render this element inside a <HydratedRouter> element"),t}function uj(t,e){let n=V.useContext(j0),[i,a]=V.useState(!1),[c,u]=V.useState(!1),{onFocus:p,onBlur:y,onMouseEnter:_,onMouseLeave:x,onTouchStart:T}=e,A=V.useRef(null);V.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let F=$=>{$.forEach(Y=>{u(Y.isIntersecting)})},k=new IntersectionObserver(F,{threshold:.5});return A.current&&k.observe(A.current),()=>{k.disconnect()}}},[t]),V.useEffect(()=>{if(i){let F=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(F)}}},[i]);let D=()=>{a(!0)},j=()=>{a(!1),u(!1)};return n?t!=="intent"?[c,A,{}]:[c,A,{onFocus:ah(p,D),onBlur:ah(y,j),onMouseEnter:ah(_,D),onMouseLeave:ah(x,j),onTouchStart:ah(T,D)}]:[!1,A,{}]}function ah(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function hj({page:t,...e}){let{router:n}=LE(),i=V.useMemo(()=>TE(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?V.createElement(fj,{page:t,matches:i,...e}):null}function dj(t){let{manifest:e,routeModules:n}=DE(),[i,a]=V.useState([]);return V.useEffect(()=>{let c=!1;return sj(t,e,n).then(u=>{c||a(u)}),()=>{c=!0}},[t,e,n]),i}function fj({page:t,matches:e,...n}){let i=Ys(),{manifest:a,routeModules:c}=DE(),{basename:u}=LE(),{loaderData:p,matches:y}=cj(),_=V.useMemo(()=>fw(t,e,y,a,i,"data"),[t,e,y,a,i]),x=V.useMemo(()=>fw(t,e,y,a,i,"assets"),[t,e,y,a,i]),T=V.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let j=new Set,F=!1;if(e.forEach($=>{let Y=a.routes[$.route.id];!Y||!Y.hasLoader||(!_.some(X=>X.route.id===$.route.id)&&$.route.id in p&&c[$.route.id]?.shouldRevalidate||Y.hasClientLoader?F=!0:j.add($.route.id))}),j.size===0)return[];let k=tj(t,u,"data");return F&&j.size>0&&k.searchParams.set("_routes",e.filter($=>j.has($.route.id)).map($=>$.route.id).join(",")),[k.pathname+k.search]},[u,p,i,a,_,e,t,c]),A=V.useMemo(()=>rj(x,a),[x,a]),D=dj(x);return V.createElement(V.Fragment,null,T.map(j=>V.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),A.map(j=>V.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),D.map(({key:j,link:F})=>V.createElement("link",{key:j,nonce:n.nonce,...F})))}function mj(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ME=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ME&&(window.__reactRouterVersion="7.9.1")}catch{}function pj({basename:t,children:e,window:n}){let i=V.useRef();i.current==null&&(i.current=eP({window:n,v5Compat:!0}));let a=i.current,[c,u]=V.useState({action:a.action,location:a.location}),p=V.useCallback(y=>{V.startTransition(()=>u(y))},[u]);return V.useLayoutEffect(()=>a.listen(p),[a,p]),V.createElement(GP,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:a})}var OE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tt=V.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:c,replace:u,state:p,target:y,to:_,preventScrollReset:x,viewTransition:T,...A},D){let{basename:j}=V.useContext(Ks),F=typeof _=="string"&&OE.test(_),k,$=!1;if(typeof _=="string"&&F&&(k=_,ME))try{let B=new URL(window.location.href),O=_.startsWith("//")?new URL(B.protocol+_):new URL(_),U=da(O.pathname,j);O.origin===B.origin&&U!=null?_=U+O.search+O.hash:$=!0}catch{Gs(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=NP(_,{relative:a}),[X,ve,he]=uj(i,A),we=vj(_,{replace:u,state:p,target:y,preventScrollReset:x,relative:a,viewTransition:T});function z(B){e&&e(B),B.defaultPrevented||we(B)}let M=V.createElement("a",{...A,...he,href:k||Y,onClick:$||c?e:z,ref:mj(D,ve),target:y,"data-discover":!F&&n==="render"?"true":void 0});return X&&!F?V.createElement(V.Fragment,null,M,V.createElement(hj,{page:Y})):M});tt.displayName="Link";var ch=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:c,to:u,viewTransition:p,children:y,..._},x){let T=Kh(u,{relative:_.relative}),A=Ys(),D=V.useContext(Em),{navigator:j,basename:F}=V.useContext(Ks),k=D!=null&&Tj(T)&&p===!0,$=j.encodeLocation?j.encodeLocation(T).pathname:T.pathname,Y=A.pathname,X=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),X=X?X.toLowerCase():null,$=$.toLowerCase()),X&&F&&(X=da(X,F)||X);const ve=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let he=Y===$||!a&&Y.startsWith($)&&Y.charAt(ve)==="/",we=X!=null&&(X===$||!a&&X.startsWith($)&&X.charAt($.length)==="/"),z={isActive:he,isPending:we,isTransitioning:k},M=he?e:void 0,B;typeof i=="function"?B=i(z):B=[i,he?"active":null,we?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let O=typeof c=="function"?c(z):c;return V.createElement(tt,{..._,"aria-current":M,className:B,ref:x,style:O,to:u,viewTransition:p},typeof y=="function"?y(z):y)});ch.displayName="NavLink";var gj=V.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:c,method:u=Lf,action:p,onSubmit:y,relative:_,preventScrollReset:x,viewTransition:T,...A},D)=>{let j=bj(),F=wj(p,{relative:_}),k=u.toLowerCase()==="get"?"get":"post",$=typeof p=="string"&&OE.test(p),Y=X=>{if(y&&y(X),X.defaultPrevented)return;X.preventDefault();let ve=X.nativeEvent.submitter,he=ve?.getAttribute("formmethod")||u;j(ve||X.currentTarget,{fetcherKey:e,method:he,navigate:n,replace:a,state:c,relative:_,preventScrollReset:x,viewTransition:T})};return V.createElement("form",{ref:D,method:k,action:F,onSubmit:i?y:Y,...A,"data-discover":!$&&t==="render"?"true":void 0})});gj.displayName="Form";function yj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kE(t){let e=V.useContext(Xc);return Bt(e,yj(t)),e}function vj(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:c,viewTransition:u}={}){let p=jl(),y=Ys(),_=Kh(t,{relative:c});return V.useCallback(x=>{if(XP(x,e)){x.preventDefault();let T=n!==void 0?n:Rh(y)===Rh(_);p(t,{replace:T,state:i,preventScrollReset:a,relative:c,viewTransition:u})}},[y,p,_,n,i,e,t,a,c,u])}var _j=0,xj=()=>`__${String(++_j)}__`;function bj(){let{router:t}=kE("useSubmit"),{basename:e}=V.useContext(Ks),n=UP();return V.useCallback(async(i,a={})=>{let{action:c,method:u,encType:p,formData:y,body:_}=ej(i,e);if(a.navigate===!1){let x=a.fetcherKey||xj();await t.fetch(x,n,a.action||c,{preventScrollReset:a.preventScrollReset,formData:y,body:_,formMethod:a.method||u,formEncType:a.encType||p,flushSync:a.flushSync})}else await t.navigate(a.action||c,{preventScrollReset:a.preventScrollReset,formData:y,body:_,formMethod:a.method||u,formEncType:a.encType||p,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function wj(t,{relative:e}={}){let{basename:n}=V.useContext(Ks),i=V.useContext($s);Bt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),c={...Kh(t||".",{relative:e})},u=Ys();if(t==null){c.search=u.search;let p=new URLSearchParams(c.search),y=p.getAll("index");if(y.some(x=>x==="")){p.delete("index"),y.filter(T=>T).forEach(T=>p.append("index",T));let x=p.toString();c.search=x?`?${x}`:""}}return(!t||t===".")&&a.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:la([n,c.pathname])),Rh(c)}function Tj(t,{relative:e}={}){let n=V.useContext(NE);Bt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=kE("useViewTransitionState"),a=Kh(t,{relative:e});if(!n.isTransitioning)return!1;let c=da(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=da(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Qf(a.pathname,u)!=null||Qf(a.pathname,c)!=null}var Ej=wE();const Sj=()=>{};var mw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},Aj=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const c=t[n++];e[i++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=t[n++],u=t[n++],p=t[n++],y=((a&7)<<18|(c&63)<<12|(u&63)<<6|p&63)-65536;e[i++]=String.fromCharCode(55296+(y>>10)),e[i++]=String.fromCharCode(56320+(y&1023))}else{const c=t[n++],u=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(c&63)<<6|u&63)}}return e.join("")},BE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const c=t[a],u=a+1<t.length,p=u?t[a+1]:0,y=a+2<t.length,_=y?t[a+2]:0,x=c>>2,T=(c&3)<<4|p>>4;let A=(p&15)<<2|_>>6,D=_&63;y||(D=64,u||(A=64)),i.push(n[x],n[T],n[A],n[D])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Aj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const c=n[t.charAt(a++)],p=a<t.length?n[t.charAt(a)]:0;++a;const _=a<t.length?n[t.charAt(a)]:64;++a;const T=a<t.length?n[t.charAt(a)]:64;if(++a,c==null||p==null||_==null||T==null)throw new Nj;const A=c<<2|p>>4;if(i.push(A),_!==64){const D=p<<4&240|_>>2;if(i.push(D),T!==64){const j=_<<6&192|T;i.push(j)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Nj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Cj=function(t){const e=VE(t);return BE.encodeByteArray(e,!0)},Jf=function(t){return Cj(t).replace(/\./g,"")},UE=function(t){try{return BE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=()=>Rj().__FIREBASE_DEFAULTS__,jj=()=>{if(typeof process>"u"||typeof mw>"u")return;const t=mw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ij=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&UE(t[1]);return e&&JSON.parse(e)},Am=()=>{try{return Sj()||Pj()||jj()||Ij()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zE=t=>Am()?.emulatorHosts?.[t],Lj=t=>{const e=zE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},FE=()=>Am()?.config,HE=t=>Am()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,c=t.sub||t.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Jf(JSON.stringify(n)),Jf(JSON.stringify(u)),""].join(".")}const vh={};function Oj(){const t={prod:[],emulator:[]};for(const e of Object.keys(vh))vh[e]?t.emulator.push(e):t.prod.push(e);return t}function kj(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let pw=!1;function GE(t,e){if(typeof window>"u"||typeof document>"u"||!Jc(window.location.host)||vh[t]===e||vh[t]||pw)return;vh[t]=e;function n(A){return`__firebase__banner__${A}`}const i="__firebase__banner",c=Oj().prod.length>0;function u(){const A=document.getElementById(i);A&&A.remove()}function p(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function y(A,D){A.setAttribute("width","24"),A.setAttribute("id",D),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function _(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{pw=!0,u()},A}function x(A,D){A.setAttribute("id",D),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=kj(i),D=n("text"),j=document.getElementById(D)||document.createElement("span"),F=n("learnmore"),k=document.getElementById(F)||document.createElement("a"),$=n("preprendIcon"),Y=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const X=A.element;p(X),x(k,F);const ve=_();y(Y,$),X.append(Y,j,k,ve),document.body.appendChild(X)}c?(j.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xn())}function Bj(){const t=Am()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Uj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Fj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Hj(){const t=Xn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qj(){return!Bj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gj(){try{return typeof indexedDB=="object"}catch{return!1}}function Zj(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj="FirebaseError";class _a extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Wj,Object.setPrototypeOf(this,_a.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$h.prototype.create)}}class $h{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],u=c?Kj(c,i):"Error",p=`${this.serviceName}: ${u} (${a}).`;return new _a(a,p,i)}}function Kj(t,e){return t.replace($j,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const $j=/\{\$([^}]+)}/g;function Yj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function El(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const c=t[a],u=e[a];if(gw(c)&&gw(u)){if(!El(c,u))return!1}else if(c!==u)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function gw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function uh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,c]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(c)}}),e}function hh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Xj(t,e){const n=new Qj(t,e);return n.subscribe.bind(n)}class Qj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Jj(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=qg),a.error===void 0&&(a.error=qg),a.complete===void 0&&(a.complete=qg);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t){return t&&t._delegate?t._delegate:t}class Sl{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Dj;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nI(e))try{this.getOrInitializeService({instanceIdentifier:ml})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});i.resolve(c)}catch{}}}}clearInstance(e=ml){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ml){return this.instances.has(e)}getOptions(e=ml){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[c,u]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);i===p&&u.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const c=this.instances.get(i);return c&&e(c,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:tI(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ml){return this.component?this.component.multipleInstances?e:ml:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tI(t){return t===ml?void 0:t}function nI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new eI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(lt||(lt={}));const sI={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},rI=lt.INFO,aI={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},oI=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=aI[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class I0{constructor(e){this.name=e,this._logLevel=rI,this._logHandler=oI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const lI=(t,e)=>e.some(n=>t instanceof n);let yw,vw;function cI(){return yw||(yw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uI(){return vw||(vw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZE=new WeakMap,Ty=new WeakMap,WE=new WeakMap,Gg=new WeakMap,L0=new WeakMap;function hI(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",c),t.removeEventListener("error",u)},c=()=>{n(xo(t.result)),a()},u=()=>{i(t.error),a()};t.addEventListener("success",c),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&ZE.set(n,t)}).catch(()=>{}),L0.set(e,t),e}function dI(t){if(Ty.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",u),t.removeEventListener("abort",u)},c=()=>{n(),a()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",c),t.addEventListener("error",u),t.addEventListener("abort",u)});Ty.set(t,e)}let Ey={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ty.get(t);if(e==="objectStoreNames")return t.objectStoreNames||WE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fI(t){Ey=t(Ey)}function mI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Zg(this),e,...n);return WE.set(i,e.sort?e.sort():[e]),xo(i)}:uI().includes(t)?function(...e){return t.apply(Zg(this),e),xo(ZE.get(this))}:function(...e){return xo(t.apply(Zg(this),e))}}function pI(t){return typeof t=="function"?mI(t):(t instanceof IDBTransaction&&dI(t),lI(t,cI())?new Proxy(t,Ey):t)}function xo(t){if(t instanceof IDBRequest)return hI(t);if(Gg.has(t))return Gg.get(t);const e=pI(t);return e!==t&&(Gg.set(t,e),L0.set(e,t)),e}const Zg=t=>L0.get(t);function gI(t,e,{blocked:n,upgrade:i,blocking:a,terminated:c}={}){const u=indexedDB.open(t,e),p=xo(u);return i&&u.addEventListener("upgradeneeded",y=>{i(xo(u.result),y.oldVersion,y.newVersion,xo(u.transaction),y)}),n&&u.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),a&&y.addEventListener("versionchange",_=>a(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const yI=["get","getKey","getAll","getAllKeys","count"],vI=["put","add","delete","clear"],Wg=new Map;function _w(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wg.get(e))return Wg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=vI.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||yI.includes(n)))return;const c=async function(u,...p){const y=this.transaction(u,a?"readwrite":"readonly");let _=y.store;return i&&(_=_.index(p.shift())),(await Promise.all([_[n](...p),a&&y.done]))[0]};return Wg.set(e,c),c}fI(t=>({...t,get:(e,n,i)=>_w(e,n)||t.get(e,n,i),has:(e,n)=>!!_w(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xI(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function xI(t){return t.getComponent()?.type==="VERSION"}const Sy="@firebase/app",xw="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=new I0("@firebase/app"),bI="@firebase/app-compat",wI="@firebase/analytics-compat",TI="@firebase/analytics",EI="@firebase/app-check-compat",SI="@firebase/app-check",AI="@firebase/auth",NI="@firebase/auth-compat",CI="@firebase/database",RI="@firebase/data-connect",PI="@firebase/database-compat",jI="@firebase/functions",II="@firebase/functions-compat",LI="@firebase/installations",DI="@firebase/installations-compat",MI="@firebase/messaging",OI="@firebase/messaging-compat",kI="@firebase/performance",VI="@firebase/performance-compat",BI="@firebase/remote-config",UI="@firebase/remote-config-compat",zI="@firebase/storage",FI="@firebase/storage-compat",HI="@firebase/firestore",qI="@firebase/ai",GI="@firebase/firestore-compat",ZI="firebase",WI="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay="[DEFAULT]",KI={[Sy]:"fire-core",[bI]:"fire-core-compat",[TI]:"fire-analytics",[wI]:"fire-analytics-compat",[SI]:"fire-app-check",[EI]:"fire-app-check-compat",[AI]:"fire-auth",[NI]:"fire-auth-compat",[CI]:"fire-rtdb",[RI]:"fire-data-connect",[PI]:"fire-rtdb-compat",[jI]:"fire-fn",[II]:"fire-fn-compat",[LI]:"fire-iid",[DI]:"fire-iid-compat",[MI]:"fire-fcm",[OI]:"fire-fcm-compat",[kI]:"fire-perf",[VI]:"fire-perf-compat",[BI]:"fire-rc",[UI]:"fire-rc-compat",[zI]:"fire-gcs",[FI]:"fire-gcs-compat",[HI]:"fire-fst",[GI]:"fire-fst-compat",[qI]:"fire-vertex","fire-js":"fire-js",[ZI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em=new Map,$I=new Map,Ny=new Map;function bw(t,e){try{t.container.addComponent(e)}catch(n){fa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bc(t){const e=t.name;if(Ny.has(e))return fa.debug(`There were multiple attempts to register component ${e}.`),!1;Ny.set(e,t);for(const n of em.values())bw(n,t);for(const n of $I.values())bw(n,t);return!0}function D0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bo=new $h("app","Firebase",YI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Sl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=WI;function KE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Ay,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw bo.create("bad-app-name",{appName:String(a)});if(n||(n=FE()),!n)throw bo.create("no-options");const c=em.get(a);if(c){if(El(n,c.options)&&El(i,c.config))return c;throw bo.create("duplicate-app",{appName:a})}const u=new iI(a);for(const y of Ny.values())u.addComponent(y);const p=new XI(n,i,u);return em.set(a,p),p}function $E(t=Ay){const e=em.get(t);if(!e&&t===Ay&&FE())return KE();if(!e)throw bo.create("no-app",{appName:t});return e}function wo(t,e,n){let i=KI[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fa.warn(u.join(" "));return}Bc(new Sl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI="firebase-heartbeat-database",JI=1,Ph="firebase-heartbeat-store";let Kg=null;function YE(){return Kg||(Kg=gI(QI,JI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ph)}catch(n){console.warn(n)}}}}).catch(t=>{throw bo.create("idb-open",{originalErrorMessage:t.message})})),Kg}async function e4(t){try{const n=(await YE()).transaction(Ph),i=await n.objectStore(Ph).get(XE(t));return await n.done,i}catch(e){if(e instanceof _a)fa.warn(e.message);else{const n=bo.create("idb-get",{originalErrorMessage:e?.message});fa.warn(n.message)}}}async function ww(t,e){try{const i=(await YE()).transaction(Ph,"readwrite");await i.objectStore(Ph).put(e,XE(t)),await i.done}catch(n){if(n instanceof _a)fa.warn(n.message);else{const i=bo.create("idb-set",{originalErrorMessage:n?.message});fa.warn(i.message)}}}function XE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=1024,n4=30;class i4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new r4(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Tw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>n4){const a=a4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){fa.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Tw(),{heartbeatsToSend:n,unsentEntries:i}=s4(this._heartbeatsCache.heartbeats),a=Jf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return fa.warn(e),""}}}function Tw(){return new Date().toISOString().substring(0,10)}function s4(t,e=t4){const n=[];let i=t.slice();for(const a of t){const c=n.find(u=>u.agent===a.agent);if(c){if(c.dates.push(a.date),Ew(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Ew(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class r4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Gj()?Zj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await e4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return ww(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return ww(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ew(t){return Jf(JSON.stringify({version:2,heartbeats:t})).length}function a4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(t){Bc(new Sl("platform-logger",e=>new _I(e),"PRIVATE")),Bc(new Sl("heartbeat",e=>new i4(e),"PRIVATE")),wo(Sy,xw,t),wo(Sy,xw,"esm2020"),wo("fire-js","")}o4("");function QE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const l4=QE,JE=new $h("auth","Firebase",QE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=new I0("@firebase/auth");function c4(t,...e){tm.logLevel<=lt.WARN&&tm.warn(`Auth (${eu}): ${t}`,...e)}function Mf(t,...e){tm.logLevel<=lt.ERROR&&tm.error(`Auth (${eu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(t,...e){throw M0(t,...e)}function vr(t,...e){return M0(t,...e)}function eS(t,e,n){const i={...l4(),[e]:n};return new $h("auth","Firebase",i).create(e,{appName:t.name})}function ca(t){return eS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function M0(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return JE.create(t,...e)}function qe(t,e,...n){if(!t)throw M0(e,...n)}function aa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Mf(e),new Error(e)}function ma(t,e){t||aa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(){return typeof self<"u"&&self.location?.href||""}function u4(){return Sw()==="http:"||Sw()==="https:"}function Sw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(u4()||zj()||"connection"in navigator)?navigator.onLine:!0}function d4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n){this.shortDelay=e,this.longDelay=n,ma(n>e,"Short delay should be less than long delay!"),this.isMobile=Vj()||Fj()}get(){return h4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(t,e){ma(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;aa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;aa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;aa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],p4=new Xh(3e4,6e4);function xa(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Cr(t,e,n,i,a={}){return nS(t,a,async()=>{let c={},u={};i&&(e==="GET"?u=i:c={body:JSON.stringify(i)});const p=Yh({key:t.config.apiKey,...u}).slice(1),y=await t._getAdditionalHeaders();y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode);const _={method:e,headers:y,...c};return Uj()||(_.referrerPolicy="no-referrer"),t.emulatorConfig&&Jc(t.emulatorConfig.host)&&(_.credentials="include"),tS.fetch()(await iS(t,t.config.apiHost,n,p),_)})}async function nS(t,e,n){t._canInitEmulator=!1;const i={...f4,...e};try{const a=new y4(t),c=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw bf(t,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const p=c.ok?u.errorMessage:u.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw bf(t,"credential-already-in-use",u);if(y==="EMAIL_EXISTS")throw bf(t,"email-already-in-use",u);if(y==="USER_DISABLED")throw bf(t,"user-disabled",u);const x=i[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw eS(t,x,_);Zs(t,x)}}catch(a){if(a instanceof _a)throw a;Zs(t,"network-request-failed",{message:String(a)})}}async function Qh(t,e,n,i,a={}){const c=await Cr(t,e,n,i,a);return"mfaPendingCredential"in c&&Zs(t,"multi-factor-auth-required",{_serverResponse:c}),c}async function iS(t,e,n,i){const a=`${e}${n}?${i}`,c=t,u=c.config.emulator?O0(t.config,a):`${t.config.apiScheme}://${a}`;return m4.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}function g4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class y4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(vr(this.auth,"network-request-failed")),p4.get())})}}function bf(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=vr(t,e,i);return a.customData._tokenResponse=n,a}function Aw(t){return t!==void 0&&t.enterprise!==void 0}class v4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return g4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _4(t,e){return Cr(t,"GET","/v2/recaptchaConfig",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x4(t,e){return Cr(t,"POST","/v1/accounts:delete",e)}async function nm(t,e){return Cr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function b4(t,e=!1){const n=vn(t),i=await n.getIdToken(e),a=k0(i);qe(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const c=typeof a.firebase=="object"?a.firebase:void 0,u=c?.sign_in_provider;return{claims:a,token:i,authTime:_h($g(a.auth_time)),issuedAtTime:_h($g(a.iat)),expirationTime:_h($g(a.exp)),signInProvider:u||null,signInSecondFactor:c?.sign_in_second_factor||null}}function $g(t){return Number(t)*1e3}function k0(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Mf("JWT malformed, contained fewer than 3 sections"),null;try{const a=UE(n);return a?JSON.parse(a):(Mf("Failed to decode base64 JWT payload"),null)}catch(a){return Mf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Nw(t){const e=k0(t);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof _a&&w4(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function w4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_h(this.lastLoginAt),this.creationTime=_h(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function im(t){const e=t.auth,n=await t.getIdToken(),i=await Uc(t,nm(e,{idToken:n}));qe(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const c=a.providerUserInfo?.length?sS(a.providerUserInfo):[],u=S4(t.providerData,c),p=t.isAnonymous,y=!(t.email&&a.passwordHash)&&!u?.length,_=p?y:!1,x={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Ry(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(t,x)}async function E4(t){const e=vn(t);await im(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function S4(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function sS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A4(t,e){const n=await nS(t,{},async()=>{const i=Yh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:c}=t.config,u=await iS(t,a,"/v1/token",`key=${c}`),p=await t._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:i};return t.emulatorConfig&&Jc(t.emulatorConfig.host)&&(y.credentials="include"),tS.fetch()(u,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function N4(t,e){return Cr(t,"POST","/v2/accounts:revokeToken",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Nw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const n=Nw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:c}=await A4(e,n);this.updateTokensAndExpiration(i,a,Number(c))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:c}=n,u=new Lc;return i&&(qe(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(qe(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),c&&(qe(typeof c=="number","internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lc,this.toJSON())}_performRefresh(){return aa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(t,e){qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Hs{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new T4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Ry(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Uc(this,this.stsTokenManager.getToken(this.auth,e));return qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return b4(this,e)}reload(){return E4(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Hs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await im(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xs(this.auth.app))return Promise.reject(ca(this.auth));const e=await this.getIdToken();return await Uc(this,x4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,c=n.phoneNumber??void 0,u=n.photoURL??void 0,p=n.tenantId??void 0,y=n._redirectEventId??void 0,_=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:D,providerData:j,stsTokenManager:F}=n;qe(T&&F,e,"internal-error");const k=Lc.fromJSON(this.name,F);qe(typeof T=="string",e,"internal-error"),fo(i,e.name),fo(a,e.name),qe(typeof A=="boolean",e,"internal-error"),qe(typeof D=="boolean",e,"internal-error"),fo(c,e.name),fo(u,e.name),fo(p,e.name),fo(y,e.name),fo(_,e.name),fo(x,e.name);const $=new Hs({uid:T,auth:e,email:a,emailVerified:A,displayName:i,isAnonymous:D,photoURL:u,phoneNumber:c,tenantId:p,stsTokenManager:k,createdAt:_,lastLoginAt:x});return j&&Array.isArray(j)&&($.providerData=j.map(Y=>({...Y}))),y&&($._redirectEventId=y),$}static async _fromIdTokenResponse(e,n,i=!1){const a=new Lc;a.updateFromServerResponse(n);const c=new Hs({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await im(c),c}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];qe(a.localId!==void 0,"internal-error");const c=a.providerUserInfo!==void 0?sS(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!c?.length,p=new Lc;p.updateFromIdToken(i);const y=new Hs({uid:a.localId,auth:e,stsTokenManager:p,isAnonymous:u}),_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Ry(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!c?.length};return Object.assign(y,_),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw=new Map;function oa(t){ma(t instanceof Function,"Expected a class definition");let e=Cw.get(t);return e?(ma(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Cw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}rS.type="NONE";const Rw=rS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(t,e,n){return`firebase:${t}:${e}:${n}`}class Dc{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:c}=this.auth;this.fullUserKey=Of(this.userKey,a.apiKey,c),this.fullPersistenceKey=Of("persistence",a.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await nm(this.auth,{idToken:e}).catch(()=>{});return n?Hs._fromGetAccountInfoResponse(this.auth,n,e):null}return Hs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Dc(oa(Rw),e,i);const a=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=a[0]||oa(Rw);const u=Of(i,e.config.apiKey,e.name);let p=null;for(const _ of n)try{const x=await _._get(u);if(x){let T;if(typeof x=="string"){const A=await nm(e,{idToken:x}).catch(()=>{});if(!A)break;T=await Hs._fromGetAccountInfoResponse(e,A,x)}else T=Hs._fromJSON(e,x);_!==c&&(p=T),c=_;break}}catch{}const y=a.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Dc(c,e,i):(c=y[0],p&&await c._set(u,p.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(u)}catch{}})),new Dc(c,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hS(e))return"Blackberry";if(dS(e))return"Webos";if(oS(e))return"Safari";if((e.includes("chrome/")||lS(e))&&!e.includes("edge/"))return"Chrome";if(uS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function aS(t=Xn()){return/firefox\//i.test(t)}function oS(t=Xn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lS(t=Xn()){return/crios\//i.test(t)}function cS(t=Xn()){return/iemobile/i.test(t)}function uS(t=Xn()){return/android/i.test(t)}function hS(t=Xn()){return/blackberry/i.test(t)}function dS(t=Xn()){return/webos/i.test(t)}function V0(t=Xn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function C4(t=Xn()){return V0(t)&&!!window.navigator?.standalone}function R4(){return Hj()&&document.documentMode===10}function fS(t=Xn()){return V0(t)||uS(t)||dS(t)||hS(t)||/windows phone/i.test(t)||cS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(t,e=[]){let n;switch(t){case"Browser":n=Pw(Xn());break;case"Worker":n=`${Pw(Xn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${eu}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=c=>new Promise((u,p)=>{try{const y=e(c);u(y)}catch(y){p(y)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j4(t,e={}){return Cr(t,"GET","/v2/passwordPolicy",xa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4=6;class L4{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??I4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jw(this),this.idTokenSubscription=new jw(this),this.beforeStateQueue=new P4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=oa(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Dc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await nm(this,{idToken:e}),i=await Hs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(xs(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,u=i?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===u)&&p?.user&&(i=p.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await im(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=d4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xs(this.app))return Promise.reject(ca(this));const n=e?vn(e):null;return n&&qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xs(this.app)?Promise.reject(ca(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xs(this.app)?Promise.reject(ca(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(oa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await j4(this),n=new L4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $h("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await N4(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&oa(e)||this._popupRedirectResolver;qe(n,this,"argument-error"),this.redirectPersistenceManager=await Dc.create(this,[oa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let u=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(p,this,"internal-error"),p.then(()=>{u||c(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,i,a);return()=>{u=!0,y()}}else{const y=e.addObserver(n);return()=>{u=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(xs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&c4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Lo(t){return vn(t)}let jw=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Xj(n=>this.observer=n)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function M4(t){Nm=t}function pS(t){return Nm.loadJS(t)}function O4(){return Nm.recaptchaEnterpriseScript}function k4(){return Nm.gapiScript}function V4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class B4{constructor(){this.enterprise=new U4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class U4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const z4="recaptcha-enterprise",gS="NO_RECAPTCHA";class F4{constructor(e){this.type=z4,this.auth=Lo(e)}async verify(e="verify",n=!1){async function i(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(u,p)=>{_4(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new v4(y);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,u(_.siteKey)}}).catch(y=>{p(y)})})}function a(c,u,p){const y=window.grecaptcha;Aw(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:e}).then(_=>{u(_)}).catch(()=>{u(gS)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new B4().execute("siteKey",{action:"verify"}):new Promise((c,u)=>{i(this.auth).then(p=>{if(!n&&Aw(window.grecaptcha))a(p,c,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let y=O4();y.length!==0&&(y+=p),pS(y).then(()=>{a(p,c,u)}).catch(_=>{u(_)})}}).catch(p=>{u(p)})})}}async function Iw(t,e,n,i=!1,a=!1){const c=new F4(t);let u;if(a)u=gS;else try{u=await c.verify(n)}catch{u=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return i?Object.assign(p,{captchaResp:u}):Object.assign(p,{captchaResponse:u}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function sm(t,e,n,i,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Iw(t,e,n,n==="getOobCode");return i(t,c)}else return i(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Iw(t,e,n,n==="getOobCode");return i(t,u)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(t,e){const n=D0(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),c=n.getOptions();if(El(c,e??{}))return a;Zs(a,"already-initialized")}return n.initialize({options:e})}function q4(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(oa);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function G4(t,e,n){const i=Lo(t);qe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,c=yS(e),{host:u,port:p}=Z4(e),y=p===null?"":`:${p}`,_={url:`${c}//${u}${y}/`},x=Object.freeze({host:u,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){qe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),qe(El(_,i.config.emulator)&&El(x,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=_,i.emulatorConfig=x,i.settings.appVerificationDisabledForTesting=!0,Jc(u)?(qE(`${c}//${u}${y}`),GE("Auth",!0)):W4()}function yS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Z4(t){const e=yS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const c=a[1];return{host:c,port:Lw(i.substr(c.length+1))}}else{const[c,u]=i.split(":");return{host:c,port:Lw(u)}}}function Lw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function W4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return aa("not implemented")}_getIdTokenResponse(e){return aa("not implemented")}_linkToIdToken(e,n){return aa("not implemented")}_getReauthenticationResolver(e){return aa("not implemented")}}async function K4(t,e){return Cr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $4(t,e){return Qh(t,"POST","/v1/accounts:signInWithPassword",xa(t,e))}async function Y4(t,e){return Cr(t,"POST","/v1/accounts:sendOobCode",xa(t,e))}async function X4(t,e){return Y4(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q4(t,e){return Qh(t,"POST","/v1/accounts:signInWithEmailLink",xa(t,e))}async function J4(t,e){return Qh(t,"POST","/v1/accounts:signInWithEmailLink",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh extends B0{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new jh(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new jh(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sm(e,n,"signInWithPassword",$4);case"emailLink":return Q4(e,{email:this._email,oobCode:this._password});default:Zs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sm(e,i,"signUpPassword",K4);case"emailLink":return J4(e,{idToken:n,email:this._email,oobCode:this._password});default:Zs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mc(t,e){return Qh(t,"POST","/v1/accounts:signInWithIdp",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL="http://localhost";class Al extends B0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Al(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...c}=n;if(!i||!a)return null;const u=new Al(i,a);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Mc(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Mc(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Mc(e,n)}buildRequest(){const e={requestUri:eL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nL(t){const e=uh(hh(t)).link,n=e?uh(hh(e)).deep_link_id:null,i=uh(hh(t)).deep_link_id;return(i?uh(hh(i)).link:null)||i||n||e||t}class U0{constructor(e){const n=uh(hh(e)),i=n.apiKey??null,a=n.oobCode??null,c=tL(n.mode??null);qe(i&&a&&c,"argument-error"),this.apiKey=i,this.operation=c,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=nL(e);try{return new U0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(){this.providerId=tu.PROVIDER_ID}static credential(e,n){return jh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=U0.parseLink(n);return qe(i,"argument-error"),jh._fromEmailAndCode(e,i.code,i.tenantId)}}tu.PROVIDER_ID="password";tu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";tu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh extends vS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends Jh{constructor(){super("facebook.com")}static credential(e){return Al._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return po.credentialFromTaggedObject(e)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return po.credential(e.oauthAccessToken)}catch{return null}}}po.FACEBOOK_SIGN_IN_METHOD="facebook.com";po.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends Jh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Al._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return go.credential(n,i)}catch{return null}}}go.GOOGLE_SIGN_IN_METHOD="google.com";go.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends Jh{constructor(){super("github.com")}static credential(e){return Al._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yo.credential(e.oauthAccessToken)}catch{return null}}}yo.GITHUB_SIGN_IN_METHOD="github.com";yo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends Jh{constructor(){super("twitter.com")}static credential(e,n){return Al._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return vo.credential(n,i)}catch{return null}}}vo.TWITTER_SIGN_IN_METHOD="twitter.com";vo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iL(t,e){return Qh(t,"POST","/v1/accounts:signUp",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const c=await Hs._fromIdTokenResponse(e,i,a),u=Dw(i);return new Nl({user:c,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=Dw(i);return new Nl({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function Dw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm extends _a{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,rm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new rm(e,n,i,a)}}function _S(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?rm._fromErrorAndOperation(t,c,e,i):c})}async function sL(t,e,n=!1){const i=await Uc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Nl._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rL(t,e,n=!1){const{auth:i}=t;if(xs(i.app))return Promise.reject(ca(i));const a="reauthenticate";try{const c=await Uc(t,_S(i,a,e,t),n);qe(c.idToken,i,"internal-error");const u=k0(c.idToken);qe(u,i,"internal-error");const{sub:p}=u;return qe(t.uid===p,i,"user-mismatch"),Nl._forOperation(t,a,c)}catch(c){throw c?.code==="auth/user-not-found"&&Zs(i,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xS(t,e,n=!1){if(xs(t.app))return Promise.reject(ca(t));const i="signIn",a=await _S(t,i,e),c=await Nl._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(c.user),c}async function aL(t,e){return xS(Lo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bS(t){const e=Lo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function oL(t,e,n){const i=Lo(t);await sm(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",X4)}async function lL(t,e,n){if(xs(t.app))return Promise.reject(ca(t));const i=Lo(t),u=await sm(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iL).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&bS(t),y}),p=await Nl._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(p.user),p}function cL(t,e,n){return xs(t.app)?Promise.reject(ca(t)):aL(vn(t),tu.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&bS(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uL(t,e){return Cr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hL(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=vn(t),c={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await Uc(i,uL(i.auth,c));i.displayName=u.displayName||null,i.photoURL=u.photoUrl||null;const p=i.providerData.find(({providerId:y})=>y==="password");p&&(p.displayName=i.displayName,p.photoURL=i.photoURL),await i._updateTokensIfNecessary(u)}function dL(t,e,n,i){return vn(t).onIdTokenChanged(e,n,i)}function fL(t,e,n){return vn(t).beforeAuthStateChanged(e,n)}function wS(t,e,n,i){return vn(t).onAuthStateChanged(e,n,i)}function mL(t){return vn(t).signOut()}const am="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(am,"1"),this.storage.removeItem(am),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=1e3,gL=10;class ES extends TS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,p,y)=>{this.notifyListeners(u,y)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},c=this.storage.getItem(i);R4()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,gL):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},pL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ES.type="LOCAL";const yL=ES;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS extends TS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}SS.type="SESSION";const AS=SS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Cm(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:c}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const p=Array.from(u).map(async _=>_(n.origin,c)),y=await vL(p);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let c,u;return new Promise((p,y)=>{const _=z0("",20);a.port1.start();const x=setTimeout(()=>{y(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(T){const A=T;if(A.data.eventId===_)switch(A.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(A.data.response);break;default:clearTimeout(x),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(){return window}function xL(t){_r().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(){return typeof _r().WorkerGlobalScope<"u"&&typeof _r().importScripts=="function"}async function bL(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wL(){return navigator?.serviceWorker?.controller||null}function TL(){return NS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="firebaseLocalStorageDb",EL=1,om="firebaseLocalStorage",RS="fbase_key";class ed{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rm(t,e){return t.transaction([om],e?"readwrite":"readonly").objectStore(om)}function SL(){const t=indexedDB.deleteDatabase(CS);return new ed(t).toPromise()}function Py(){const t=indexedDB.open(CS,EL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(om,{keyPath:RS})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(om)?e(i):(i.close(),await SL(),e(await Py()))})})}async function Mw(t,e,n){const i=Rm(t,!0).put({[RS]:e,value:n});return new ed(i).toPromise()}async function AL(t,e){const n=Rm(t,!1).get(e),i=await new ed(n).toPromise();return i===void 0?null:i.value}function Ow(t,e){const n=Rm(t,!0).delete(e);return new ed(n).toPromise()}const NL=800,CL=3;class PS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Py(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>CL)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cm._getInstance(TL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await bL(),!this.activeServiceWorker)return;this.sender=new _L(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Py();return await Mw(e,am,"1"),await Ow(e,am),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Mw(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>AL(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ow(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const c=Rm(a,!1).getAll();return new ed(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:c}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(c)&&(this.notifyListeners(a,c),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PS.type="LOCAL";const RL=PS;new Xh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t,e){return e?oa(e):(qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0 extends B0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Mc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Mc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jL(t){return xS(t.auth,new F0(t),t.bypassAuthState)}function IL(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),rL(n,new F0(t),t.bypassAuthState)}async function LL(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),sL(n,new F0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,n,i,a,c=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:c,error:u,type:p}=e;if(u){this.reject(u);return}const y={auth:this.auth,requestUri:n,sessionId:i,tenantId:c||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jL;case"linkViaPopup":case"linkViaRedirect":return LL;case"reauthViaPopup":case"reauthViaRedirect":return IL;default:Zs(this.auth,"internal-error")}}resolve(e){ma(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ma(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL=new Xh(2e3,1e4);class Nc extends jS{constructor(e,n,i,a,c){super(e,n,a,c),this.provider=i,this.authWindow=null,this.pollId=null,Nc.currentPopupAction&&Nc.currentPopupAction.cancel(),Nc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){ma(this.filter.length===1,"Popup operations only handle one event");const e=z0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DL.get())};e()}}Nc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML="pendingRedirect",kf=new Map;class OL extends jS{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=kf.get(this.auth._key());if(!e){try{const i=await kL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}kf.set(this.auth._key(),e)}return this.bypassAuthState||kf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kL(t,e){const n=UL(e),i=BL(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function VL(t,e){kf.set(t._key(),e)}function BL(t){return oa(t._redirectPersistence)}function UL(t){return Of(ML,t.config.apiKey,t.name)}async function zL(t,e,n=!1){if(xs(t.app))return Promise.reject(ca(t));const i=Lo(t),a=PL(i,e),u=await new OL(i,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL=600*1e3;class HL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!IS(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(vr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FL&&this.cachedEventUids.clear(),this.cachedEventUids.has(kw(e))}saveEventToCache(e){this.cachedEventUids.add(kw(e)),this.lastProcessedEventTime=Date.now()}}function kw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function IS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function qL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GL(t,e={}){return Cr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WL=/^https?/;async function KL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await GL(t);for(const n of e)try{if($L(n))return}catch{}Zs(t,"unauthorized-domain")}function $L(t){const e=Cy(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!WL.test(n))return!1;if(ZL.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=new Xh(3e4,6e4);function Vw(){const t=_r().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function XL(t){return new Promise((e,n)=>{function i(){Vw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Vw(),n(vr(t,"network-request-failed"))},timeout:YL.get()})}if(_r().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(_r().gapi?.load)i();else{const a=V4("iframefcb");return _r()[a]=()=>{gapi.load?i():n(vr(t,"network-request-failed"))},pS(`${k4()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Vf=null,e})}let Vf=null;function QL(t){return Vf=Vf||XL(t),Vf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=new Xh(5e3,15e3),eD="__/auth/iframe",tD="emulator/auth/iframe",nD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sD(t){const e=t.config;qe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?O0(e,tD):`https://${t.config.authDomain}/${eD}`,i={apiKey:e.apiKey,appName:t.name,v:eu},a=iD.get(t.config.apiHost);a&&(i.eid=a);const c=t._getFrameworks();return c.length&&(i.fw=c.join(",")),`${n}?${Yh(i).slice(1)}`}async function rD(t){const e=await QL(t),n=_r().gapi;return qe(n,t,"internal-error"),e.open({where:document.body,url:sD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nD,dontclear:!0},i=>new Promise(async(a,c)=>{await i.restyle({setHideOnLeave:!1});const u=vr(t,"network-request-failed"),p=_r().setTimeout(()=>{c(u)},JL.get());function y(){_r().clearTimeout(p),a(i)}i.ping(y).then(y,()=>{c(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oD=500,lD=600,cD="_blank",uD="http://localhost";class Bw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hD(t,e,n,i=oD,a=lD){const c=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let p="";const y={...aD,width:i.toString(),height:a.toString(),top:c,left:u},_=Xn().toLowerCase();n&&(p=lS(_)?cD:n),aS(_)&&(e=e||uD,y.scrollbars="yes");const x=Object.entries(y).reduce((A,[D,j])=>`${A}${D}=${j},`,"");if(C4(_)&&p!=="_self")return dD(e||"",p),new Bw(null);const T=window.open(e||"",p,x);qe(T,t,"popup-blocked");try{T.focus()}catch{}return new Bw(T)}function dD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD="__/auth/handler",mD="emulator/auth/handler",pD=encodeURIComponent("fac");async function Uw(t,e,n,i,a,c){qe(t.config.authDomain,t,"auth-domain-config-required"),qe(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:eu,eventId:a};if(e instanceof vS){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",Yj(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,T]of Object.entries({}))u[x]=T}if(e instanceof Jh){const x=e.getScopes().filter(T=>T!=="");x.length>0&&(u.scopes=x.join(","))}t.tenantId&&(u.tid=t.tenantId);const p=u;for(const x of Object.keys(p))p[x]===void 0&&delete p[x];const y=await t._getAppCheckToken(),_=y?`#${pD}=${encodeURIComponent(y)}`:"";return`${gD(t)}?${Yh(p).slice(1)}${_}`}function gD({config:t}){return t.emulator?O0(t,mD):`https://${t.authDomain}/${fD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg="webStorageSupport";class yD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AS,this._completeRedirectFn=zL,this._overrideRedirectResult=VL}async _openPopup(e,n,i,a){ma(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Uw(e,n,i,Cy(),a);return hD(e,c,z0())}async _openRedirect(e,n,i,a){await this._originValidation(e);const c=await Uw(e,n,i,Cy(),a);return xL(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:c}=this.eventManagers[n];return a?Promise.resolve(a):(ma(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await rD(e),i=new HL(e);return n.register("authEvent",a=>(qe(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Yg,{type:Yg},a=>{const c=a?.[0]?.[Yg];c!==void 0&&n(!!c),Zs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=KL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fS()||oS()||V0()}}const vD=yD;var zw="@firebase/auth",Fw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bD(t){Bc(new Sl("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:p}=i.options;qe(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const y={apiKey:u,authDomain:p,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mS(t)},_=new D4(i,a,c,y);return q4(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Bc(new Sl("auth-internal",e=>{const n=Lo(e.getProvider("auth").getImmediate());return(i=>new _D(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wo(zw,Fw,xD(t)),wo(zw,Fw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=300,TD=HE("authIdTokenMaxAge")||wD;let Hw=null;const ED=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>TD)return;const a=n?.token;Hw!==a&&(Hw=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function LS(t=$E()){const e=D0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=H4(t,{popupRedirectResolver:vD,persistence:[RL,yL,AS]}),i=HE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const u=ED(c.toString());fL(n,u,()=>u(n.currentUser)),dL(n,p=>u(p))}}const a=zE("auth");return a&&G4(n,`http://${a}`),n}function SD(){return document.getElementsByTagName("head")?.[0]??document}M4({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const c=vr("internal-error");c.customData=a,n(c)},i.type="text/javascript",i.charset="UTF-8",SD().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bD("Browser");var AD="firebase",ND="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wo(AD,ND,"app");var qw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var To,DS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(z,M){function B(){}B.prototype=M.prototype,z.F=M.prototype,z.prototype=new B,z.prototype.constructor=z,z.D=function(O,U,W){for(var q=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)q[Be-2]=arguments[Be];return M.prototype[U].apply(O,q)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(z,M,B){B||(B=0);const O=Array(16);if(typeof M=="string")for(var U=0;U<16;++U)O[U]=M.charCodeAt(B++)|M.charCodeAt(B++)<<8|M.charCodeAt(B++)<<16|M.charCodeAt(B++)<<24;else for(U=0;U<16;++U)O[U]=M[B++]|M[B++]<<8|M[B++]<<16|M[B++]<<24;M=z.g[0],B=z.g[1],U=z.g[2];let W=z.g[3],q;q=M+(W^B&(U^W))+O[0]+3614090360&4294967295,M=B+(q<<7&4294967295|q>>>25),q=W+(U^M&(B^U))+O[1]+3905402710&4294967295,W=M+(q<<12&4294967295|q>>>20),q=U+(B^W&(M^B))+O[2]+606105819&4294967295,U=W+(q<<17&4294967295|q>>>15),q=B+(M^U&(W^M))+O[3]+3250441966&4294967295,B=U+(q<<22&4294967295|q>>>10),q=M+(W^B&(U^W))+O[4]+4118548399&4294967295,M=B+(q<<7&4294967295|q>>>25),q=W+(U^M&(B^U))+O[5]+1200080426&4294967295,W=M+(q<<12&4294967295|q>>>20),q=U+(B^W&(M^B))+O[6]+2821735955&4294967295,U=W+(q<<17&4294967295|q>>>15),q=B+(M^U&(W^M))+O[7]+4249261313&4294967295,B=U+(q<<22&4294967295|q>>>10),q=M+(W^B&(U^W))+O[8]+1770035416&4294967295,M=B+(q<<7&4294967295|q>>>25),q=W+(U^M&(B^U))+O[9]+2336552879&4294967295,W=M+(q<<12&4294967295|q>>>20),q=U+(B^W&(M^B))+O[10]+4294925233&4294967295,U=W+(q<<17&4294967295|q>>>15),q=B+(M^U&(W^M))+O[11]+2304563134&4294967295,B=U+(q<<22&4294967295|q>>>10),q=M+(W^B&(U^W))+O[12]+1804603682&4294967295,M=B+(q<<7&4294967295|q>>>25),q=W+(U^M&(B^U))+O[13]+4254626195&4294967295,W=M+(q<<12&4294967295|q>>>20),q=U+(B^W&(M^B))+O[14]+2792965006&4294967295,U=W+(q<<17&4294967295|q>>>15),q=B+(M^U&(W^M))+O[15]+1236535329&4294967295,B=U+(q<<22&4294967295|q>>>10),q=M+(U^W&(B^U))+O[1]+4129170786&4294967295,M=B+(q<<5&4294967295|q>>>27),q=W+(B^U&(M^B))+O[6]+3225465664&4294967295,W=M+(q<<9&4294967295|q>>>23),q=U+(M^B&(W^M))+O[11]+643717713&4294967295,U=W+(q<<14&4294967295|q>>>18),q=B+(W^M&(U^W))+O[0]+3921069994&4294967295,B=U+(q<<20&4294967295|q>>>12),q=M+(U^W&(B^U))+O[5]+3593408605&4294967295,M=B+(q<<5&4294967295|q>>>27),q=W+(B^U&(M^B))+O[10]+38016083&4294967295,W=M+(q<<9&4294967295|q>>>23),q=U+(M^B&(W^M))+O[15]+3634488961&4294967295,U=W+(q<<14&4294967295|q>>>18),q=B+(W^M&(U^W))+O[4]+3889429448&4294967295,B=U+(q<<20&4294967295|q>>>12),q=M+(U^W&(B^U))+O[9]+568446438&4294967295,M=B+(q<<5&4294967295|q>>>27),q=W+(B^U&(M^B))+O[14]+3275163606&4294967295,W=M+(q<<9&4294967295|q>>>23),q=U+(M^B&(W^M))+O[3]+4107603335&4294967295,U=W+(q<<14&4294967295|q>>>18),q=B+(W^M&(U^W))+O[8]+1163531501&4294967295,B=U+(q<<20&4294967295|q>>>12),q=M+(U^W&(B^U))+O[13]+2850285829&4294967295,M=B+(q<<5&4294967295|q>>>27),q=W+(B^U&(M^B))+O[2]+4243563512&4294967295,W=M+(q<<9&4294967295|q>>>23),q=U+(M^B&(W^M))+O[7]+1735328473&4294967295,U=W+(q<<14&4294967295|q>>>18),q=B+(W^M&(U^W))+O[12]+2368359562&4294967295,B=U+(q<<20&4294967295|q>>>12),q=M+(B^U^W)+O[5]+4294588738&4294967295,M=B+(q<<4&4294967295|q>>>28),q=W+(M^B^U)+O[8]+2272392833&4294967295,W=M+(q<<11&4294967295|q>>>21),q=U+(W^M^B)+O[11]+1839030562&4294967295,U=W+(q<<16&4294967295|q>>>16),q=B+(U^W^M)+O[14]+4259657740&4294967295,B=U+(q<<23&4294967295|q>>>9),q=M+(B^U^W)+O[1]+2763975236&4294967295,M=B+(q<<4&4294967295|q>>>28),q=W+(M^B^U)+O[4]+1272893353&4294967295,W=M+(q<<11&4294967295|q>>>21),q=U+(W^M^B)+O[7]+4139469664&4294967295,U=W+(q<<16&4294967295|q>>>16),q=B+(U^W^M)+O[10]+3200236656&4294967295,B=U+(q<<23&4294967295|q>>>9),q=M+(B^U^W)+O[13]+681279174&4294967295,M=B+(q<<4&4294967295|q>>>28),q=W+(M^B^U)+O[0]+3936430074&4294967295,W=M+(q<<11&4294967295|q>>>21),q=U+(W^M^B)+O[3]+3572445317&4294967295,U=W+(q<<16&4294967295|q>>>16),q=B+(U^W^M)+O[6]+76029189&4294967295,B=U+(q<<23&4294967295|q>>>9),q=M+(B^U^W)+O[9]+3654602809&4294967295,M=B+(q<<4&4294967295|q>>>28),q=W+(M^B^U)+O[12]+3873151461&4294967295,W=M+(q<<11&4294967295|q>>>21),q=U+(W^M^B)+O[15]+530742520&4294967295,U=W+(q<<16&4294967295|q>>>16),q=B+(U^W^M)+O[2]+3299628645&4294967295,B=U+(q<<23&4294967295|q>>>9),q=M+(U^(B|~W))+O[0]+4096336452&4294967295,M=B+(q<<6&4294967295|q>>>26),q=W+(B^(M|~U))+O[7]+1126891415&4294967295,W=M+(q<<10&4294967295|q>>>22),q=U+(M^(W|~B))+O[14]+2878612391&4294967295,U=W+(q<<15&4294967295|q>>>17),q=B+(W^(U|~M))+O[5]+4237533241&4294967295,B=U+(q<<21&4294967295|q>>>11),q=M+(U^(B|~W))+O[12]+1700485571&4294967295,M=B+(q<<6&4294967295|q>>>26),q=W+(B^(M|~U))+O[3]+2399980690&4294967295,W=M+(q<<10&4294967295|q>>>22),q=U+(M^(W|~B))+O[10]+4293915773&4294967295,U=W+(q<<15&4294967295|q>>>17),q=B+(W^(U|~M))+O[1]+2240044497&4294967295,B=U+(q<<21&4294967295|q>>>11),q=M+(U^(B|~W))+O[8]+1873313359&4294967295,M=B+(q<<6&4294967295|q>>>26),q=W+(B^(M|~U))+O[15]+4264355552&4294967295,W=M+(q<<10&4294967295|q>>>22),q=U+(M^(W|~B))+O[6]+2734768916&4294967295,U=W+(q<<15&4294967295|q>>>17),q=B+(W^(U|~M))+O[13]+1309151649&4294967295,B=U+(q<<21&4294967295|q>>>11),q=M+(U^(B|~W))+O[4]+4149444226&4294967295,M=B+(q<<6&4294967295|q>>>26),q=W+(B^(M|~U))+O[11]+3174756917&4294967295,W=M+(q<<10&4294967295|q>>>22),q=U+(M^(W|~B))+O[2]+718787259&4294967295,U=W+(q<<15&4294967295|q>>>17),q=B+(W^(U|~M))+O[9]+3951481745&4294967295,z.g[0]=z.g[0]+M&4294967295,z.g[1]=z.g[1]+(U+(q<<21&4294967295|q>>>11))&4294967295,z.g[2]=z.g[2]+U&4294967295,z.g[3]=z.g[3]+W&4294967295}i.prototype.v=function(z,M){M===void 0&&(M=z.length);const B=M-this.blockSize,O=this.C;let U=this.h,W=0;for(;W<M;){if(U==0)for(;W<=B;)a(this,z,W),W+=this.blockSize;if(typeof z=="string"){for(;W<M;)if(O[U++]=z.charCodeAt(W++),U==this.blockSize){a(this,O),U=0;break}}else for(;W<M;)if(O[U++]=z[W++],U==this.blockSize){a(this,O),U=0;break}}this.h=U,this.o+=M},i.prototype.A=function(){var z=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);z[0]=128;for(var M=1;M<z.length-8;++M)z[M]=0;M=this.o*8;for(var B=z.length-8;B<z.length;++B)z[B]=M&255,M/=256;for(this.v(z),z=Array(16),M=0,B=0;B<4;++B)for(let O=0;O<32;O+=8)z[M++]=this.g[B]>>>O&255;return z};function c(z,M){var B=p;return Object.prototype.hasOwnProperty.call(B,z)?B[z]:B[z]=M(z)}function u(z,M){this.h=M;const B=[];let O=!0;for(let U=z.length-1;U>=0;U--){const W=z[U]|0;O&&W==M||(B[U]=W,O=!1)}this.g=B}var p={};function y(z){return-128<=z&&z<128?c(z,function(M){return new u([M|0],M<0?-1:0)}):new u([z|0],z<0?-1:0)}function _(z){if(isNaN(z)||!isFinite(z))return T;if(z<0)return k(_(-z));const M=[];let B=1;for(let O=0;z>=B;O++)M[O]=z/B|0,B*=4294967296;return new u(M,0)}function x(z,M){if(z.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(z.charAt(0)=="-")return k(x(z.substring(1),M));if(z.indexOf("-")>=0)throw Error('number format error: interior "-" character');const B=_(Math.pow(M,8));let O=T;for(let W=0;W<z.length;W+=8){var U=Math.min(8,z.length-W);const q=parseInt(z.substring(W,W+U),M);U<8?(U=_(Math.pow(M,U)),O=O.j(U).add(_(q))):(O=O.j(B),O=O.add(_(q)))}return O}var T=y(0),A=y(1),D=y(16777216);t=u.prototype,t.m=function(){if(F(this))return-k(this).m();let z=0,M=1;for(let B=0;B<this.g.length;B++){const O=this.i(B);z+=(O>=0?O:4294967296+O)*M,M*=4294967296}return z},t.toString=function(z){if(z=z||10,z<2||36<z)throw Error("radix out of range: "+z);if(j(this))return"0";if(F(this))return"-"+k(this).toString(z);const M=_(Math.pow(z,6));var B=this;let O="";for(;;){const U=ve(B,M).g;B=$(B,U.j(M));let W=((B.g.length>0?B.g[0]:B.h)>>>0).toString(z);if(B=U,j(B))return W+O;for(;W.length<6;)W="0"+W;O=W+O}},t.i=function(z){return z<0?0:z<this.g.length?this.g[z]:this.h};function j(z){if(z.h!=0)return!1;for(let M=0;M<z.g.length;M++)if(z.g[M]!=0)return!1;return!0}function F(z){return z.h==-1}t.l=function(z){return z=$(this,z),F(z)?-1:j(z)?0:1};function k(z){const M=z.g.length,B=[];for(let O=0;O<M;O++)B[O]=~z.g[O];return new u(B,~z.h).add(A)}t.abs=function(){return F(this)?k(this):this},t.add=function(z){const M=Math.max(this.g.length,z.g.length),B=[];let O=0;for(let U=0;U<=M;U++){let W=O+(this.i(U)&65535)+(z.i(U)&65535),q=(W>>>16)+(this.i(U)>>>16)+(z.i(U)>>>16);O=q>>>16,W&=65535,q&=65535,B[U]=q<<16|W}return new u(B,B[B.length-1]&-2147483648?-1:0)};function $(z,M){return z.add(k(M))}t.j=function(z){if(j(this)||j(z))return T;if(F(this))return F(z)?k(this).j(k(z)):k(k(this).j(z));if(F(z))return k(this.j(k(z)));if(this.l(D)<0&&z.l(D)<0)return _(this.m()*z.m());const M=this.g.length+z.g.length,B=[];for(var O=0;O<2*M;O++)B[O]=0;for(O=0;O<this.g.length;O++)for(let U=0;U<z.g.length;U++){const W=this.i(O)>>>16,q=this.i(O)&65535,Be=z.i(U)>>>16,Me=z.i(U)&65535;B[2*O+2*U]+=q*Me,Y(B,2*O+2*U),B[2*O+2*U+1]+=W*Me,Y(B,2*O+2*U+1),B[2*O+2*U+1]+=q*Be,Y(B,2*O+2*U+1),B[2*O+2*U+2]+=W*Be,Y(B,2*O+2*U+2)}for(z=0;z<M;z++)B[z]=B[2*z+1]<<16|B[2*z];for(z=M;z<2*M;z++)B[z]=0;return new u(B,0)};function Y(z,M){for(;(z[M]&65535)!=z[M];)z[M+1]+=z[M]>>>16,z[M]&=65535,M++}function X(z,M){this.g=z,this.h=M}function ve(z,M){if(j(M))throw Error("division by zero");if(j(z))return new X(T,T);if(F(z))return M=ve(k(z),M),new X(k(M.g),k(M.h));if(F(M))return M=ve(z,k(M)),new X(k(M.g),M.h);if(z.g.length>30){if(F(z)||F(M))throw Error("slowDivide_ only works with positive integers.");for(var B=A,O=M;O.l(z)<=0;)B=he(B),O=he(O);var U=we(B,1),W=we(O,1);for(O=we(O,2),B=we(B,2);!j(O);){var q=W.add(O);q.l(z)<=0&&(U=U.add(B),W=q),O=we(O,1),B=we(B,1)}return M=$(z,U.j(M)),new X(U,M)}for(U=T;z.l(M)>=0;){for(B=Math.max(1,Math.floor(z.m()/M.m())),O=Math.ceil(Math.log(B)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),W=_(B),q=W.j(M);F(q)||q.l(z)>0;)B-=O,W=_(B),q=W.j(M);j(W)&&(W=A),U=U.add(W),z=$(z,q)}return new X(U,z)}t.B=function(z){return ve(this,z).h},t.and=function(z){const M=Math.max(this.g.length,z.g.length),B=[];for(let O=0;O<M;O++)B[O]=this.i(O)&z.i(O);return new u(B,this.h&z.h)},t.or=function(z){const M=Math.max(this.g.length,z.g.length),B=[];for(let O=0;O<M;O++)B[O]=this.i(O)|z.i(O);return new u(B,this.h|z.h)},t.xor=function(z){const M=Math.max(this.g.length,z.g.length),B=[];for(let O=0;O<M;O++)B[O]=this.i(O)^z.i(O);return new u(B,this.h^z.h)};function he(z){const M=z.g.length+1,B=[];for(let O=0;O<M;O++)B[O]=z.i(O)<<1|z.i(O-1)>>>31;return new u(B,z.h)}function we(z,M){const B=M>>5;M%=32;const O=z.g.length-B,U=[];for(let W=0;W<O;W++)U[W]=M>0?z.i(W+B)>>>M|z.i(W+B+1)<<32-M:z.i(W+B);return new u(U,z.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,DS=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=_,u.fromString=x,To=u}).apply(typeof qw<"u"?qw:typeof self<"u"?self:typeof window<"u"?window:{});var wf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var MS,dh,OS,Bf,jy,kS,VS,BS;(function(){var t,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof wf=="object"&&wf];for(var E=0;E<m.length;++E){var N=m[E];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var i=n(this);function a(m,E){if(E)e:{var N=i;m=m.split(".");for(var I=0;I<m.length-1;I++){var te=m[I];if(!(te in N))break e;N=N[te]}m=m[m.length-1],I=N[m],E=E(I),E!=I&&E!=null&&e(N,m,{configurable:!0,writable:!0,value:E})}}a("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(m){return m||function(E){var N=[],I;for(I in E)Object.prototype.hasOwnProperty.call(E,I)&&N.push([I,E[I]]);return N}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},u=this||self;function p(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function y(m,E,N){return m.call.apply(m.bind,arguments)}function _(m,E,N){return _=y,_.apply(null,arguments)}function x(m,E){var N=Array.prototype.slice.call(arguments,1);return function(){var I=N.slice();return I.push.apply(I,arguments),m.apply(this,I)}}function T(m,E){function N(){}N.prototype=E.prototype,m.Z=E.prototype,m.prototype=new N,m.prototype.constructor=m,m.Ob=function(I,te,re){for(var Te=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)Te[Fe-2]=arguments[Fe];return E.prototype[te].apply(I,Te)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function D(m){const E=m.length;if(E>0){const N=Array(E);for(let I=0;I<E;I++)N[I]=m[I];return N}return[]}function j(m,E){for(let I=1;I<arguments.length;I++){const te=arguments[I];var N=typeof te;if(N=N!="object"?N:te?Array.isArray(te)?"array":N:"null",N=="array"||N=="object"&&typeof te.length=="number"){N=m.length||0;const re=te.length||0;m.length=N+re;for(let Te=0;Te<re;Te++)m[N+Te]=te[Te]}else m.push(te)}}class F{constructor(E,N){this.i=E,this.j=N,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function k(m){u.setTimeout(()=>{throw m},0)}function $(){var m=z;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class Y{constructor(){this.h=this.g=null}add(E,N){const I=X.get();I.set(E,N),this.h?this.h.next=I:this.g=I,this.h=I}}var X=new F(()=>new ve,m=>m.reset());class ve{constructor(){this.next=this.g=this.h=null}set(E,N){this.h=E,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let he,we=!1,z=new Y,M=()=>{const m=Promise.resolve(void 0);he=()=>{m.then(B)}};function B(){for(var m;m=$();){try{m.h.call(m.g)}catch(N){k(N)}var E=X;E.j(m),E.h<100&&(E.h++,m.next=E.g,E.g=m)}we=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var W=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const N=()=>{};u.addEventListener("test",N,E),u.removeEventListener("test",N,E)}catch{}return m})();function q(m){return/^[\s\xa0]*$/.test(m)}function Be(m,E){U.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,E)}T(Be,U),Be.prototype.init=function(m,E){const N=this.type=m.type,I=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget,E||(N=="mouseover"?E=m.fromElement:N=="mouseout"&&(E=m.toElement)),this.relatedTarget=E,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&Be.Z.h.call(this)},Be.prototype.h=function(){Be.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Me="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ue(m,E,N,I,te){this.listener=m,this.proxy=null,this.src=E,this.type=N,this.capture=!!I,this.ha=te,this.key=++Q,this.da=this.fa=!1}function de(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function je(m,E,N){for(const I in m)E.call(N,m[I],I,m)}function H(m,E){for(const N in m)E.call(void 0,m[N],N,m)}function ce(m){const E={};for(const N in m)E[N]=m[N];return E}const xe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function be(m,E){let N,I;for(let te=1;te<arguments.length;te++){I=arguments[te];for(N in I)m[N]=I[N];for(let re=0;re<xe.length;re++)N=xe[re],Object.prototype.hasOwnProperty.call(I,N)&&(m[N]=I[N])}}function Se(m){this.src=m,this.g={},this.h=0}Se.prototype.add=function(m,E,N,I,te){const re=m.toString();m=this.g[re],m||(m=this.g[re]=[],this.h++);const Te=Ee(m,E,I,te);return Te>-1?(E=m[Te],N||(E.fa=!1)):(E=new ue(E,this.src,re,!!I,te),E.fa=N,m.push(E)),E};function Re(m,E){const N=E.type;if(N in m.g){var I=m.g[N],te=Array.prototype.indexOf.call(I,E,void 0),re;(re=te>=0)&&Array.prototype.splice.call(I,te,1),re&&(de(E),m.g[N].length==0&&(delete m.g[N],m.h--))}}function Ee(m,E,N,I){for(let te=0;te<m.length;++te){const re=m[te];if(!re.da&&re.listener==E&&re.capture==!!N&&re.ha==I)return te}return-1}var At="closure_lm_"+(Math.random()*1e6|0),st={};function mi(m,E,N,I,te){if(Array.isArray(E)){for(let re=0;re<E.length;re++)mi(m,E[re],N,I,te);return null}return N=Pr(N),m&&m[Me]?m.J(E,N,p(I)?!!I.capture:!1,te):Rr(m,E,N,!1,I,te)}function Rr(m,E,N,I,te,re){if(!E)throw Error("Invalid event type");const Te=p(te)?!!te.capture:!!te;let Fe=wa(m);if(Fe||(m[At]=Fe=new Se(m)),N=Fe.add(E,N,I,Te,re),N.proxy)return N;if(I=Qs(),N.proxy=I,I.src=m,I.listener=N,m.addEventListener)W||(te=Te),te===void 0&&(te=!1),m.addEventListener(E.toString(),I,te);else if(m.attachEvent)m.attachEvent(ba(E.toString()),I);else if(m.addListener&&m.removeListener)m.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return N}function Qs(){function m(N){return E.call(m.src,m.listener,N)}const E=Ml;return m}function Ji(m,E,N,I,te){if(Array.isArray(E))for(var re=0;re<E.length;re++)Ji(m,E[re],N,I,te);else I=p(I)?!!I.capture:!!I,N=Pr(N),m&&m[Me]?(m=m.i,re=String(E).toString(),re in m.g&&(E=m.g[re],N=Ee(E,N,I,te),N>-1&&(de(E[N]),Array.prototype.splice.call(E,N,1),E.length==0&&(delete m.g[re],m.h--)))):m&&(m=wa(m))&&(E=m.g[E.toString()],m=-1,E&&(m=Ee(E,N,I,te)),(N=m>-1?E[m]:null)&&Es(N))}function Es(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[Me])Re(E.i,m);else{var N=m.type,I=m.proxy;E.removeEventListener?E.removeEventListener(N,I,m.capture):E.detachEvent?E.detachEvent(ba(N),I):E.addListener&&E.removeListener&&E.removeListener(I),(N=wa(E))?(Re(N,m),N.h==0&&(N.src=null,E[At]=null)):de(m)}}}function ba(m){return m in st?st[m]:st[m]="on"+m}function Ml(m,E){if(m.da)m=!0;else{E=new Be(E,this);const N=m.listener,I=m.ha||m.src;m.fa&&Es(m),m=N.call(I,E)}return m}function wa(m){return m=m[At],m instanceof Se?m:null}var _n="__closure_events_fn_"+(Math.random()*1e9>>>0);function Pr(m){return typeof m=="function"?m:(m[_n]||(m[_n]=function(E){return m.handleEvent(E)}),m[_n])}function Xt(){O.call(this),this.i=new Se(this),this.M=this,this.G=null}T(Xt,O),Xt.prototype[Me]=!0,Xt.prototype.removeEventListener=function(m,E,N,I){Ji(this,m,E,N,I)};function Qt(m,E){var N,I=m.G;if(I)for(N=[];I;I=I.G)N.push(I);if(m=m.M,I=E.type||E,typeof E=="string")E=new U(E,m);else if(E instanceof U)E.target=E.target||m;else{var te=E;E=new U(I,m),be(E,te)}te=!0;let re,Te;if(N)for(Te=N.length-1;Te>=0;Te--)re=E.g=N[Te],te=Li(re,I,!0,E)&&te;if(re=E.g=m,te=Li(re,I,!0,E)&&te,te=Li(re,I,!1,E)&&te,N)for(Te=0;Te<N.length;Te++)re=E.g=N[Te],te=Li(re,I,!1,E)&&te}Xt.prototype.N=function(){if(Xt.Z.N.call(this),this.i){var m=this.i;for(const E in m.g){const N=m.g[E];for(let I=0;I<N.length;I++)de(N[I]);delete m.g[E],m.h--}}this.G=null},Xt.prototype.J=function(m,E,N,I){return this.i.add(String(m),E,!1,N,I)},Xt.prototype.K=function(m,E,N,I){return this.i.add(String(m),E,!0,N,I)};function Li(m,E,N,I){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();let te=!0;for(let re=0;re<E.length;++re){const Te=E[re];if(Te&&!Te.da&&Te.capture==N){const Fe=Te.listener,nt=Te.ha||Te.src;Te.fa&&Re(m.i,Te),te=Fe.call(nt,I)!==!1&&te}}return te&&!I.defaultPrevented}function Ol(m,E){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=_(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:u.setTimeout(m,E||0)}function Ta(m){m.g=Ol(()=>{m.g=null,m.i&&(m.i=!1,Ta(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class gu extends O{constructor(E,N){super(),this.m=E,this.l=N,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Ta(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jr(m){O.call(this),this.h=m,this.g={}}T(jr,O);var es=[];function hn(m){je(m.g,function(E,N){this.g.hasOwnProperty(N)&&Es(E)},m),m.g={}}jr.prototype.N=function(){jr.Z.N.call(this),hn(this)},jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qn=u.JSON.stringify,In=u.JSON.parse,kl=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function ko(){}function Vl(){}var Di={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ts(){U.call(this,"d")}T(ts,U);function pi(){U.call(this,"c")}T(pi,U);var gi={},yi=null;function Ea(){return yi=yi||new Xt}gi.Ia="serverreachability";function Vo(m){U.call(this,gi.Ia,m)}T(Vo,U);function Ss(m){const E=Ea();Qt(E,new Vo(E))}gi.STAT_EVENT="statevent";function Ir(m,E){U.call(this,gi.STAT_EVENT,m),this.stat=E}T(Ir,U);function Dt(m){const E=Ea();Qt(E,new Ir(E,m))}gi.Ja="timingevent";function Bl(m,E){U.call(this,gi.Ja,m),this.size=E}T(Bl,U);function Js(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},E)}function er(){this.g=!0}er.prototype.ua=function(){this.g=!1};function Bo(m,E,N,I,te,re){m.info(function(){if(m.g)if(re){var Te="",Fe=re.split("&");for(let gt=0;gt<Fe.length;gt++){var nt=Fe[gt].split("=");if(nt.length>1){const Mt=nt[0];nt=nt[1];const ri=Mt.split("_");Te=ri.length>=2&&ri[1]=="type"?Te+(Mt+"="+nt+"&"):Te+(Mt+"=redacted&")}}}else Te=null;else Te=re;return"XMLHTTP REQ ("+I+") [attempt "+te+"]: "+E+`
`+N+`
`+Te})}function Uo(m,E,N,I,te,re,Te){m.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+te+"]: "+E+`
`+N+`
`+re+" "+Te})}function As(m,E,N,I){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+ns(m,N)+(I?" "+I:"")})}function zo(m,E){m.info(function(){return"TIMEOUT: "+E})}er.prototype.info=function(){};function ns(m,E){if(!m.g)return E;if(!E)return null;try{const re=JSON.parse(E);if(re){for(m=0;m<re.length;m++)if(Array.isArray(re[m])){var N=re[m];if(!(N.length<2)){var I=N[1];if(Array.isArray(I)&&!(I.length<1)){var te=I[0];if(te!="noop"&&te!="stop"&&te!="close")for(let Te=1;Te<I.length;Te++)I[Te]=""}}}}return Qn(re)}catch{return E}}var Ut={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},dn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ns;function xn(){}T(xn,ko),xn.prototype.g=function(){return new XMLHttpRequest},Ns=new xn;function Le(m){return encodeURIComponent(String(m))}function Ul(m){var E=1;m=m.split(":");const N=[];for(;E>0&&m.length;)N.push(m.shift()),E--;return m.length&&N.push(m.join(":")),N}function vi(m,E,N,I){this.j=m,this.i=E,this.l=N,this.S=I||1,this.V=new jr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Cs}function Cs(){this.i=null,this.g="",this.h=!1}var Lr={},_i={};function Mi(m,E,N){m.M=1,m.A=vt(wt(E)),m.u=N,m.R=!0,Jn(m,null)}function Jn(m,E){m.F=Date.now(),Dr(m),m.B=wt(m.A);var N=m.B,I=m.S;Array.isArray(I)||(I=[String(I)]),Aa(N.i,"t",I),m.C=0,N=m.j.L,m.h=new Cs,m.g=qr(m.j,N?E:null,!m.u),m.P>0&&(m.O=new gu(_(m.Y,m,m.g),m.P)),E=m.V,N=m.g,I=m.ba;var te="readystatechange";Array.isArray(te)||(te&&(es[0]=te.toString()),te=es);for(let re=0;re<te.length;re++){const Te=mi(N,te[re],I||E.handleEvent,!1,E.h||E);if(!Te)break;E.g[Te.key]=Te}E=m.J?ce(m.J):{},m.u?(m.v||(m.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,E)):(m.v="GET",m.g.ea(m.B,m.v,null,E)),Ss(),Bo(m.i,m.v,m.B,m.l,m.S,m.u)}vi.prototype.ba=function(m){m=m.target;const E=this.O;E&&Sn(m)==3?E.j():this.Y(m)},vi.prototype.Y=function(m){try{if(m==this.g)e:{const Fe=Sn(this.g),nt=this.g.ya(),gt=this.g.ca();if(!(Fe<3)&&(Fe!=3||this.g&&(this.h.h||this.g.la()||ar(this.g)))){this.K||Fe!=4||nt==7||(nt==8||gt<=0?Ss(3):Ss(2)),Oi(this);var E=this.g.ca();this.X=E;var N=Rs(this);if(this.o=E==200,Uo(this.i,this.v,this.B,this.l,this.S,Fe,E),this.o){if(this.U&&!this.L){t:{if(this.g){var I,te=this.g;if((I=te.g?te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(I)){var re=I;break t}}re=null}if(m=re)As(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Sa(this,m);else{this.o=!1,this.m=3,Dt(12),ei(this),Mr(this);break e}}if(this.R){m=!0;let Mt;for(;!this.K&&this.C<N.length;)if(Mt=zl(this,N),Mt==_i){Fe==4&&(this.m=4,Dt(14),m=!1),As(this.i,this.l,null,"[Incomplete Response]");break}else if(Mt==Lr){this.m=4,Dt(15),As(this.i,this.l,N,"[Invalid Chunk]"),m=!1;break}else As(this.i,this.l,Mt,null),Sa(this,Mt);if(zt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||N.length!=0||this.h.h||(this.m=1,Dt(16),m=!1),this.o=this.o&&m,!m)As(this.i,this.l,N,"[Invalid Chunked Response]"),ei(this),Mr(this);else if(N.length>0&&!this.W){this.W=!0;var Te=this.j;Te.g==this&&Te.aa&&!Te.P&&(Te.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),Go(Te),Te.P=!0,Dt(11))}}else As(this.i,this.l,N,null),Sa(this,N);Fe==4&&ei(this),this.o&&!this.K&&(Fe==4?Fn(this.j,this):(this.o=!1,Dr(this)))}else Ds(this.g),E==400&&N.indexOf("Unknown SID")>0?(this.m=3,Dt(12)):(this.m=0,Dt(13)),ei(this),Mr(this)}}}catch{}finally{}};function Rs(m){if(!zt(m))return m.g.la();const E=ar(m.g);if(E==="")return"";let N="";const I=E.length,te=Sn(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return ei(m),Mr(m),"";m.h.i=new u.TextDecoder}for(let re=0;re<I;re++)m.h.h=!0,N+=m.h.i.decode(E[re],{stream:!(te&&re==I-1)});return E.length=0,m.h.g+=N,m.C=0,m.h.g}function zt(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function zl(m,E){var N=m.C,I=E.indexOf(`
`,N);return I==-1?_i:(N=Number(E.substring(N,I)),isNaN(N)?Lr:(I+=1,I+N>E.length?_i:(E=E.slice(I,I+N),m.C=I+N,E)))}vi.prototype.cancel=function(){this.K=!0,ei(this)};function Dr(m){m.T=Date.now()+m.H,is(m,m.H)}function is(m,E){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Js(_(m.aa,m),E)}function Oi(m){m.D&&(u.clearTimeout(m.D),m.D=null)}vi.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(zo(this.i,this.B),this.M!=2&&(Ss(),Dt(17)),ei(this),this.m=2,Mr(this)):is(this,this.T-m)};function Mr(m){m.j.I==0||m.K||Fn(m.j,m)}function ei(m){Oi(m);var E=m.O;E&&typeof E.dispose=="function"&&E.dispose(),m.O=null,hn(m.V),m.g&&(E=m.g,m.g=null,E.abort(),E.dispose())}function Sa(m,E){try{var N=m.j;if(N.I!=0&&(N.g==m||Ps(N.h,m))){if(!m.L&&Ps(N.h,m)&&N.I==3){try{var I=N.Ba.g.parse(E)}catch{I=null}if(Array.isArray(I)&&I.length==3){var te=I;if(te[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<m.F)Pa(N),us(N);else break e;qo(N),Dt(18)}}else N.xa=te[1],0<N.xa-N.K&&te[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=Js(_(N.Va,N),6e3));xi(N.h)<=1&&N.ta&&(N.ta=void 0)}else hs(N,11)}else if((m.L||N.g==m)&&Pa(N),!q(E))for(te=N.Ba.g.parse(E),E=0;E<te.length;E++){let gt=te[E];const Mt=gt[0];if(!(Mt<=N.K))if(N.K=Mt,gt=gt[1],N.I==2)if(gt[0]=="c"){N.M=gt[1],N.ba=gt[2];const ri=gt[3];ri!=null&&(N.ka=ri,N.j.info("VER="+N.ka));const wi=gt[4];wi!=null&&(N.za=wi,N.j.info("SVER="+N.za));const ai=gt[5];ai!=null&&typeof ai=="number"&&ai>0&&(I=1.5*ai,N.O=I,N.j.info("backChannelRequestTimeoutMs_="+I)),I=N;const Ui=m.g;if(Ui){const zi=Ui.g?Ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zi){var re=I.h;re.g||zi.indexOf("spdy")==-1&&zi.indexOf("quic")==-1&&zi.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(ss(re,re.h),re.h=null))}if(I.G){const Da=Ui.g?Ui.g.getResponseHeader("X-HTTP-Session-Id"):null;Da&&(I.wa=Da,Ce(I.J,I.G,Da))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-m.F,N.j.info("Handshake RTT: "+N.T+"ms")),I=N;var Te=m;if(I.na=Zo(I,I.L?I.ba:null,I.W),Te.L){rs(I.h,Te);var Fe=Te,nt=I.O;nt&&(Fe.H=nt),Fe.D&&(Oi(Fe),Dr(Fe)),I.g=Te}else Ho(I);N.i.length>0&&Vi(N)}else gt[0]!="stop"&&gt[0]!="close"||hs(N,7);else N.I==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?hs(N,7):Xe(N):gt[0]!="noop"&&N.l&&N.l.qa(gt),N.A=0)}}Ss(4)}catch{}}var yu=class{constructor(m,E){this.g=m,this.map=E}};function Or(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function kr(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function xi(m){return m.h?1:m.g?m.g.size:0}function Ps(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function ss(m,E){m.g?m.g.add(E):m.h=E}function rs(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}Or.prototype.cancel=function(){if(this.i=Vr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Vr(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const N of m.g.values())E=E.concat(N.G);return E}return D(m.i)}var as=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(m,E){if(m){m=m.split("&");for(let N=0;N<m.length;N++){const I=m[N].indexOf("=");let te,re=null;I>=0?(te=m[N].substring(0,I),re=m[N].substring(I+1)):te=m[N],E(te,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function ht(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;m instanceof ht?(this.l=m.l,ti(this,m.j),this.o=m.o,this.g=m.g,bi(this,m.u),this.h=m.h,os(this,Ur(m.i)),this.m=m.m):m&&(E=String(m).match(as))?(this.l=!1,ti(this,E[1]||"",!0),this.o=js(E[2]||""),this.g=js(E[3]||"",!0),bi(this,E[4]),this.h=js(E[5]||"",!0),os(this,E[6]||"",!0),this.m=js(E[7]||"")):(this.l=!1,this.i=new wn(null,this.l))}ht.prototype.toString=function(){const m=[];var E=this.j;E&&m.push(Ft(E,Fo,!0),":");var N=this.g;return(N||E=="file")&&(m.push("//"),(E=this.o)&&m.push(Ft(E,Fo,!0),"@"),m.push(Le(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&m.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&m.push("/"),m.push(Ft(N,N.charAt(0)=="/"?Un:tr,!0))),(N=this.i.toString())&&m.push("?",N),(N=this.m)&&m.push("#",Ft(N,ls)),m.join("")},ht.prototype.resolve=function(m){const E=wt(this);let N=!!m.j;N?ti(E,m.j):N=!!m.o,N?E.o=m.o:N=!!m.g,N?E.g=m.g:N=m.u!=null;var I=m.h;if(N)bi(E,m.u);else if(N=!!m.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var te=E.h.lastIndexOf("/");te!=-1&&(I=E.h.slice(0,te+1)+I)}if(te=I,te==".."||te==".")I="";else if(te.indexOf("./")!=-1||te.indexOf("/.")!=-1){I=te.lastIndexOf("/",0)==0,te=te.split("/");const re=[];for(let Te=0;Te<te.length;){const Fe=te[Te++];Fe=="."?I&&Te==te.length&&re.push(""):Fe==".."?((re.length>1||re.length==1&&re[0]!="")&&re.pop(),I&&Te==te.length&&re.push("")):(re.push(Fe),I=!0)}I=re.join("/")}else I=te}return N?E.h=I:N=m.i.toString()!=="",N?os(E,Ur(m.i)):N=!!m.m,N&&(E.m=m.m),E};function wt(m){return new ht(m)}function ti(m,E,N){m.j=N?js(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function bi(m,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);m.u=E}else m.u=null}function os(m,E,N){E instanceof wn?(m.i=E,zr(m.i,m.l)):(N||(E=Ft(E,It)),m.i=new wn(E,m.l))}function Ce(m,E,N){m.i.set(E,N)}function vt(m){return Ce(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function js(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ft(m,E,N){return typeof m=="string"?(m=encodeURI(m).replace(E,bn),N&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function bn(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Fo=/[#\/\?@]/g,tr=/[#\?:]/g,Un=/[#\?]/g,It=/[#\?@]/g,ls=/#/g;function wn(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function ni(m){m.g||(m.g=new Map,m.h=0,m.i&&ot(m.i,function(E,N){m.add(decodeURIComponent(E.replace(/\+/g," ")),N)}))}t=wn.prototype,t.add=function(m,E){ni(this),this.i=null,m=ii(this,m);let N=this.g.get(m);return N||this.g.set(m,N=[]),N.push(E),this.h+=1,this};function Br(m,E){ni(m),E=ii(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function Is(m,E){return ni(m),E=ii(m,E),m.g.has(E)}t.forEach=function(m,E){ni(this),this.g.forEach(function(N,I){N.forEach(function(te){m.call(E,te,I,this)},this)},this)};function nr(m,E){ni(m);let N=[];if(typeof E=="string")Is(m,E)&&(N=N.concat(m.g.get(ii(m,E))));else for(m=Array.from(m.g.values()),E=0;E<m.length;E++)N=N.concat(m[E]);return N}t.set=function(m,E){return ni(this),this.i=null,m=ii(this,m),Is(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},t.get=function(m,E){return m?(m=nr(this,m),m.length>0?String(m[0]):E):E};function Aa(m,E,N){Br(m,E),N.length>0&&(m.i=null,m.g.set(ii(m,E),D(N)),m.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(let I=0;I<E.length;I++){var N=E[I];const te=Le(N);N=nr(this,N);for(let re=0;re<N.length;re++){let Te=te;N[re]!==""&&(Te+="="+Le(N[re])),m.push(Te)}}return this.i=m.join("&")};function Ur(m){const E=new wn;return E.i=m.i,m.g&&(E.g=new Map(m.g),E.h=m.h),E}function ii(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function zr(m,E){E&&!m.j&&(ni(m),m.i=null,m.g.forEach(function(N,I){const te=I.toLowerCase();I!=te&&(Br(this,I),Aa(this,te,N))},m)),m.j=E}function ir(m,E){const N=new er;if(u.Image){const I=new Image;I.onload=x(fn,N,"TestLoadImage: loaded",!0,E,I),I.onerror=x(fn,N,"TestLoadImage: error",!1,E,I),I.onabort=x(fn,N,"TestLoadImage: abort",!1,E,I),I.ontimeout=x(fn,N,"TestLoadImage: timeout",!1,E,I),u.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=m}else E(!1)}function Ls(m,E){const N=new er,I=new AbortController,te=setTimeout(()=>{I.abort(),fn(N,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:I.signal}).then(re=>{clearTimeout(te),re.ok?fn(N,"TestPingServer: ok",!0,E):fn(N,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(te),fn(N,"TestPingServer: error",!1,E)})}function fn(m,E,N,I,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),I(N)}catch{}}function Fl(){this.g=new kl}function ze(m){this.i=m.Sb||null,this.h=m.ab||!1}T(ze,ko),ze.prototype.g=function(){return new Tn(this.i,this.h)};function Tn(m,E){Xt.call(this),this.H=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Tn,Xt),t=Tn.prototype,t.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=E,this.readyState=1,ki(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(E.body=m),(this.H||u).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,En(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,ki(this)),this.g&&(this.readyState=3,ki(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;dt(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function dt(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?En(this):ki(this),this.readyState==3&&dt(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,En(this))},t.Na=function(m){this.g&&(this.response=m,En(this))},t.ga=function(){this.g&&En(this)};function En(m){m.readyState=4,m.l=null,m.j=null,m.B=null,ki(m)}t.setRequestHeader=function(m,E){this.A.append(m,E)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var N=E.next();!N.done;)N=N.value,m.push(N[0]+": "+N[1]),N=E.next();return m.join(`\r
`)};function ki(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Tn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function cs(m){let E="";return je(m,function(N,I){E+=I,E+=":",E+=N,E+=`\r
`}),E}function zn(m,E,N){e:{for(I in N){var I=!1;break e}I=!0}I||(N=cs(N),typeof m=="string"?N!=null&&Le(N):Ce(m,E,N))}function ft(m){Xt.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(ft,Xt);var sr=/^https?$/i,rr=["POST","PUT"];t=ft.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,E,N,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ns.g(),this.g.onreadystatechange=A(_(this.Ca,this));try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(re){Lt(this,re);return}if(m=N||"",N=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var te in I)N.set(te,I[te]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const re of I.keys())N.set(re,I.get(re));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(N.keys()).find(re=>re.toLowerCase()=="content-type"),te=u.FormData&&m instanceof u.FormData,!(Array.prototype.indexOf.call(rr,E,void 0)>=0)||I||te||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,Te]of N)this.g.setRequestHeader(re,Te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(re){Lt(this,re)}};function Lt(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.o=5,si(m),Wt(m)}function si(m){m.A||(m.A=!0,Qt(m,"complete"),Qt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,Qt(this,"complete"),Qt(this,"abort"),Wt(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wt(this,!0)),ft.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Na(this):this.Xa())},t.Xa=function(){Na(this)};function Na(m){if(m.h&&typeof c<"u"){if(m.v&&Sn(m)==4)setTimeout(m.Ca.bind(m),0);else if(Qt(m,"readystatechange"),Sn(m)==4){m.h=!1;try{const re=m.ca();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var N;if(!(N=E)){var I;if(I=re===0){let Te=String(m.D).match(as)[1]||null;!Te&&u.self&&u.self.location&&(Te=u.self.location.protocol.slice(0,-1)),I=!sr.test(Te?Te.toLowerCase():"")}N=I}if(N)Qt(m,"complete"),Qt(m,"success");else{m.o=6;try{var te=Sn(m)>2?m.g.statusText:""}catch{te=""}m.l=te+" ["+m.ca()+"]",si(m)}}finally{Wt(m)}}}}function Wt(m,E){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const N=m.g;m.g=null,E||Qt(m,"ready");try{N.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Sn(m){return m.g?m.g.readyState:0}t.ca=function(){try{return Sn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),In(E)}};function ar(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Ds(m){const E={};m=(m.g&&Sn(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<m.length;I++){if(q(m[I]))continue;var N=Ul(m[I]);const te=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const re=E[te]||[];E[te]=re,re.push(N)}H(E,function(I){return I.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fr(m,E,N){return N&&N.internalChannelParams&&N.internalChannelParams[m]||E}function Hr(m){this.za=0,this.i=[],this.j=new er,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fr("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fr("baseRetryDelayMs",5e3,m),this.Za=Fr("retryDelaySeedMs",1e4,m),this.Ta=Fr("forwardChannelMaxRetries",2,m),this.va=Fr("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Or(m&&m.concurrentRequestLimit),this.Ba=new Fl,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Hr.prototype,t.ka=8,t.I=1,t.connect=function(m,E,N,I){Dt(0),this.W=m,this.H=E||{},N&&I!==void 0&&(this.H.OSID=N,this.H.OAID=I),this.F=this.X,this.J=Zo(this,null,this.W),Vi(this)};function Xe(m){if(mn(m),m.I==3){var E=m.V++,N=wt(m.J);if(Ce(N,"SID",m.M),Ce(N,"RID",E),Ce(N,"TYPE","terminate"),Ms(m,N),E=new vi(m,m.j,E),E.M=2,E.A=vt(wt(N)),N=!1,u.navigator&&u.navigator.sendBeacon)try{N=u.navigator.sendBeacon(E.A.toString(),"")}catch{}!N&&u.Image&&(new Image().src=E.A,N=!0),N||(E.g=qr(E.j,null),E.g.ea(E.A)),E.F=Date.now(),Dr(E)}Bi(m)}function us(m){m.g&&(Go(m),m.g.cancel(),m.g=null)}function mn(m){us(m),m.v&&(u.clearTimeout(m.v),m.v=null),Pa(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&u.clearTimeout(m.m),m.m=null)}function Vi(m){if(!kr(m.h)&&!m.m){m.m=!0;var E=m.Ea;he||M(),we||(he(),we=!0),z.add(E,m),m.D=0}}function Hl(m,E){return xi(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=E.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Js(_(m.Ea,m,E),Gl(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const te=new vi(this,this.j,m);let re=this.o;if(this.U&&(re?(re=ce(re),be(re,this.U)):re=this.U),this.u!==null||this.R||(te.J=re,re=null),this.S)e:{for(var E=0,N=0;N<this.i.length;N++){t:{var I=this.i[N];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(E+=I,E>4096){E=N;break e}if(E===4096||N===this.i.length-1){E=N+1;break e}}E=1e3}else E=1e3;E=Ca(this,te,E),N=wt(this.J),Ce(N,"RID",m),Ce(N,"CVER",22),this.G&&Ce(N,"X-HTTP-Session-Id",this.G),Ms(this,N),re&&(this.R?E="headers="+Le(cs(re))+"&"+E:this.u&&zn(N,this.u,re)),ss(this.h,te),this.Ra&&Ce(N,"TYPE","init"),this.S?(Ce(N,"$req",E),Ce(N,"SID","null"),te.U=!0,Mi(te,N,null)):Mi(te,N,E),this.I=2}}else this.I==3&&(m?ql(this,m):this.i.length==0||kr(this.h)||ql(this))};function ql(m,E){var N;E?N=E.l:N=m.V++;const I=wt(m.J);Ce(I,"SID",m.M),Ce(I,"RID",N),Ce(I,"AID",m.K),Ms(m,I),m.u&&m.o&&zn(I,m.u,m.o),N=new vi(m,m.j,N,m.D+1),m.u===null&&(N.J=m.o),E&&(m.i=E.G.concat(m.i)),E=Ca(m,N,1e3),N.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),ss(m.h,N),Mi(N,I,E)}function Ms(m,E){m.H&&je(m.H,function(N,I){Ce(E,I,N)}),m.l&&je({},function(N,I){Ce(E,I,N)})}function Ca(m,E,N){N=Math.min(m.i.length,N);const I=m.l?_(m.l.Ka,m.l,m):null;e:{var te=m.i;let Fe=-1;for(;;){const nt=["count="+N];Fe==-1?N>0?(Fe=te[0].g,nt.push("ofs="+Fe)):Fe=0:nt.push("ofs="+Fe);let gt=!0;for(let Mt=0;Mt<N;Mt++){var re=te[Mt].g;const ri=te[Mt].map;if(re-=Fe,re<0)Fe=Math.max(0,te[Mt].g-100),gt=!1;else try{re="req"+re+"_"||"";try{var Te=ri instanceof Map?ri:Object.entries(ri);for(const[wi,ai]of Te){let Ui=ai;p(ai)&&(Ui=Qn(ai)),nt.push(re+wi+"="+encodeURIComponent(Ui))}}catch(wi){throw nt.push(re+"type="+encodeURIComponent("_badmap")),wi}}catch{I&&I(ri)}}if(gt){Te=nt.join("&");break e}}Te=void 0}return m=m.i.splice(0,N),E.G=m,Te}function Ho(m){if(!m.g&&!m.v){m.Y=1;var E=m.Da;he||M(),we||(he(),we=!0),z.add(E,m),m.A=0}}function qo(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Js(_(m.Da,m),Gl(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,Ra(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Js(_(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Dt(10),us(this),Ra(this))};function Go(m){m.B!=null&&(u.clearTimeout(m.B),m.B=null)}function Ra(m){m.g=new vi(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var E=wt(m.na);Ce(E,"RID","rpc"),Ce(E,"SID",m.M),Ce(E,"AID",m.K),Ce(E,"CI",m.F?"0":"1"),!m.F&&m.ia&&Ce(E,"TO",m.ia),Ce(E,"TYPE","xmlhttp"),Ms(m,E),m.u&&m.o&&zn(E,m.u,m.o),m.O&&(m.g.H=m.O);var N=m.g;m=m.ba,N.M=1,N.A=vt(wt(E)),N.u=null,N.R=!0,Jn(N,m)}t.Va=function(){this.C!=null&&(this.C=null,us(this),qo(this),Dt(19))};function Pa(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function Fn(m,E){var N=null;if(m.g==E){Pa(m),Go(m),m.g=null;var I=2}else if(Ps(m.h,E))N=E.G,rs(m.h,E),I=1;else return;if(m.I!=0){if(E.o)if(I==1){N=E.u?E.u.length:0,E=Date.now()-E.F;var te=m.D;I=Ea(),Qt(I,new Bl(I,N)),Vi(m)}else Ho(m);else if(te=E.m,te==3||te==0&&E.X>0||!(I==1&&Hl(m,E)||I==2&&qo(m)))switch(N&&N.length>0&&(E=m.h,E.i=E.i.concat(N)),te){case 1:hs(m,5);break;case 4:hs(m,10);break;case 3:hs(m,6);break;default:hs(m,2)}}}function Gl(m,E){let N=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(N*=2),N*E}function hs(m,E){if(m.j.info("Error code "+E),E==2){var N=_(m.bb,m),I=m.Ua;const te=!I;I=new ht(I||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ti(I,"https"),vt(I),te?ir(I.toString(),N):Ls(I.toString(),N)}else Dt(2);m.I=0,m.l&&m.l.pa(E),Bi(m),mn(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function Bi(m){if(m.I=0,m.ja=[],m.l){const E=Vr(m.h);(E.length!=0||m.i.length!=0)&&(j(m.ja,E),j(m.ja,m.i),m.h.i.length=0,D(m.i),m.i.length=0),m.l.oa()}}function Zo(m,E,N){var I=N instanceof ht?wt(N):new ht(N);if(I.g!="")E&&(I.g=E+"."+I.g),bi(I,I.u);else{var te=u.location;I=te.protocol,E=E?E+"."+te.hostname:te.hostname,te=+te.port;const re=new ht(null);I&&ti(re,I),E&&(re.g=E),te&&bi(re,te),N&&(re.h=N),I=re}return N=m.G,E=m.wa,N&&E&&Ce(I,N,E),Ce(I,"VER",m.ka),Ms(m,I),I}function qr(m,E,N){if(E&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Aa&&!m.ma?new ft(new ze({ab:N})):new ft(m.ma),E.Fa(m.L),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ja(){}t=ja.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ia(){}Ia.prototype.g=function(m,E){return new An(m,E)};function An(m,E){Xt.call(this),this.g=new Hr(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(m?m["X-WebChannel-Client-Profile"]=E.sa:m={"X-WebChannel-Client-Profile":E.sa}),this.g.U=m,(m=E&&E.Qb)&&!q(m)&&(this.g.u=m),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!q(E)&&(this.g.G=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new or(this)}T(An,Xt),An.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){Xe(this.g)},An.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var N={};N.__data__=m,m=N}else this.v&&(N={},N.__data__=Qn(m),m=N);E.i.push(new yu(E.Ya++,m)),E.I==3&&Vi(E)},An.prototype.N=function(){this.g.l=null,delete this.j,Xe(this.g),delete this.g,An.Z.N.call(this)};function La(m){ts.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){e:{for(const N in E){m=N;break e}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}T(La,ts);function Zl(){pi.call(this),this.status=1}T(Zl,pi);function or(m){this.g=m}T(or,ja),or.prototype.ra=function(){Qt(this.g,"a")},or.prototype.qa=function(m){Qt(this.g,new La(m))},or.prototype.pa=function(m){Qt(this.g,new Zl)},or.prototype.oa=function(){Qt(this.g,"b")},Ia.prototype.createWebChannel=Ia.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,BS=function(){return new Ia},VS=function(){return Ea()},kS=gi,jy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ut.NO_ERROR=0,Ut.TIMEOUT=8,Ut.HTTP_ERROR=6,Bf=Ut,dn.COMPLETE="complete",OS=dn,Vl.EventType=Di,Di.OPEN="a",Di.CLOSE="b",Di.ERROR="c",Di.MESSAGE="d",Xt.prototype.listen=Xt.prototype.J,dh=Vl,ft.prototype.listenOnce=ft.prototype.K,ft.prototype.getLastError=ft.prototype.Ha,ft.prototype.getLastErrorCode=ft.prototype.ya,ft.prototype.getStatus=ft.prototype.ca,ft.prototype.getResponseJson=ft.prototype.La,ft.prototype.getResponseText=ft.prototype.la,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Fa,MS=ft}).apply(typeof wf<"u"?wf:typeof self<"u"?self:typeof window<"u"?window:{});const Gw="@firebase/firestore",Zw="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wn.UNAUTHENTICATED=new Wn(null),Wn.GOOGLE_CREDENTIALS=new Wn("google-credentials-uid"),Wn.FIRST_PARTY=new Wn("first-party-uid"),Wn.MOCK_USER=new Wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nu="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=new I0("@firebase/firestore");function Tc(){return Cl.logLevel}function Pe(t,...e){if(Cl.logLevel<=lt.DEBUG){const n=e.map(H0);Cl.debug(`Firestore (${nu}): ${t}`,...n)}}function pa(t,...e){if(Cl.logLevel<=lt.ERROR){const n=e.map(H0);Cl.error(`Firestore (${nu}): ${t}`,...n)}}function zc(t,...e){if(Cl.logLevel<=lt.WARN){const n=e.map(H0);Cl.warn(`Firestore (${nu}): ${t}`,...n)}}function H0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,US(t,i,n)}function US(t,e,n){let i=`FIRESTORE (${nu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw pa(i),new Error(i)}function _t(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||US(e,a,i)}function Ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends _a{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wn.UNAUTHENTICATED)))}shutdown(){}}class RD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class PD{constructor(e){this.t=e,this.currentUser=Wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_t(this.o===void 0,42304);let i=this.i;const a=y=>this.i!==i?(i=this.i,n(y)):Promise.resolve();let c=new ua;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ua,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await a(this.currentUser)}))},p=y=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ua)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(_t(typeof i.accessToken=="string",31837,{l:i}),new zS(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _t(e===null||typeof e=="string",2055,{h:e}),new Wn(e)}}class jD{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Wn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ID{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new jD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ww{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_t(this.o===void 0,3512);const i=c=>{c.error!=null&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,Pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>i(c)))};const a=c=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>a(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?a(c):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ww(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(_t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ww(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=DD(40);for(let c=0;c<a.length;++c)i.length<20&&a[c]<n&&(i+=e.charAt(a[c]%62))}return i}}function ct(t,e){return t<e?-1:t>e?1:0}function Iy(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),c=e.charAt(i);if(a!==c)return Xg(a)===Xg(c)?ct(a,c):Xg(a)?1:-1}return ct(t.length,e.length)}const MD=55296,OD=57343;function Xg(t){const e=t.charCodeAt(0);return e>=MD&&e<=OD}function Fc(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="__name__";class yr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ge(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ge(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return yr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yr?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const c=yr.compareSegments(e.get(a),n.get(a));if(c!==0)return c}return ct(e.length,n.length)}static compareSegments(e,n){const i=yr.isNumericId(e),a=yr.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?yr.extractNumericId(e).compare(yr.extractNumericId(n)):Iy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return To.fromString(e.substring(4,e.length-2))}}class Pt extends yr{construct(e,n,i){return new Pt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ne(pe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new Pt(n)}static emptyPath(){return new Pt([])}}const kD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vn extends yr{construct(e,n,i){return new Vn(e,n,i)}static isValidIdentifier(e){return kD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Kw}static keyField(){return new Vn([Kw])}static fromServerFormat(e){const n=[];let i="",a=0;const c=()=>{if(i.length===0)throw new Ne(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;a<e.length;){const p=e[a];if(p==="\\"){if(a+1===e.length)throw new Ne(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[a+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new Ne(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=y,a+=2}else p==="`"?(u=!u,a++):p!=="."||u?(i+=p,a++):(c(),a++)}if(c(),u)throw new Ne(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vn(n)}static emptyPath(){return new Vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(Pt.fromString(e))}static fromName(e){return new Ve(Pt.fromString(e).popFirst(5))}static empty(){return new Ve(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new Pt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(t,e,n){if(!n)throw new Ne(pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function VD(t,e,n,i){if(e===!0&&i===!0)throw new Ne(pe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $w(t){if(!Ve.isDocumentKey(t))throw new Ne(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Yw(t){if(Ve.isDocumentKey(t))throw new Ne(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function HS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Pm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ge(12329,{type:typeof t})}function Ar(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ne(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pm(t);throw new Ne(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t,e){const n={typeString:t};return e&&(n.value=e),n}function td(t,e){if(!HS(t))throw new Ne(pe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,c="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(a&&typeof u!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(c!==void 0&&u!==c.value){n=`Expected '${i}' field to equal '${c.value}'`;break}}if(n)throw new Ne(pe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=-62135596800,Qw=1e6;class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Qw);return new jt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Xw)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qw}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(td(e,jt._jsonSchema))return new jt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Xw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}jt._jsonSchemaVersion="firestore/timestamp/1.0",jt._jsonSchema={type:un("string",jt._jsonSchemaVersion),seconds:un("number"),nanoseconds:un("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new jt(0,0))}static max(){return new $e(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=-1;function BD(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=$e.fromTimestamp(i===1e9?new jt(n+1,0):new jt(n,i));return new So(a,Ve.empty(),e)}function UD(t){return new So(t.readTime,t.key,Ih)}class So{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new So($e.min(),Ve.empty(),Ih)}static max(){return new So($e.max(),Ve.empty(),Ih)}}function zD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ve.comparator(t.documentKey,e.documentKey),n!==0?n:ct(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(t){if(t.code!==pe.FAILED_PRECONDITION||t.message!==FD)throw t;Pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ye(((i,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ye?n:ye.resolve(n)}catch(n){return ye.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ye.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ye.reject(n)}static resolve(e){return new ye(((n,i)=>{n(e)}))}static reject(e){return new ye(((n,i)=>{i(e)}))}static waitFor(e){return new ye(((n,i)=>{let a=0,c=0,u=!1;e.forEach((p=>{++a,p.next((()=>{++c,u&&c===a&&n()}),(y=>i(y)))})),u=!0,c===a&&n()}))}static or(e){let n=ye.resolve(!1);for(const i of e)n=n.next((a=>a?ye.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,c)=>{i.push(n.call(this,a,c))})),this.waitFor(i)}static mapArray(e,n){return new ye(((i,a)=>{const c=e.length,u=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;n(e[_]).next((x=>{u[_]=x,++p,p===c&&i(u)}),(x=>a(x)))}}))}static doWhile(e,n){return new ye(((i,a)=>{const c=()=>{e()===!0?n().next((()=>{c()}),a):i()};c()}))}}function qD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function su(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=-1;function Im(t){return t==null}function lm(t){return t===0&&1/t==-1/0}function GD(t){return typeof t=="number"&&Number.isInteger(t)&&!lm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="";function ZD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Jw(e)),e=WD(t.get(n),e);return Jw(e)}function WD(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const c=t.charAt(a);switch(c){case"\0":n+="";break;case qS:n+="";break;default:n+=c}}return n}function Jw(t){return t+qS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Do(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function GS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n){this.comparator=e,this.root=n||kn.EMPTY}insert(e,n){return new Zt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new Zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tf(this.root,e,this.comparator,!0)}}class Tf{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?i(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kn{constructor(e,n,i,a,c){this.key=e,this.value=n,this.color=i??kn.RED,this.left=a??kn.EMPTY,this.right=c??kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,c){return new kn(e??this.key,n??this.value,i??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const c=i(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,i),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return kn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1;kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,n,i,a,c){return this}insert(e,n,i){return new kn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.comparator=e,this.data=new Zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tT(this.data.getIterator())}getIteratorFrom(e){return new tT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof yn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=i.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new yn(this.comparator);return n.data=e,n}}class tT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this.fields=e,e.sort(Vn.comparator)}static empty(){return new Qi([])}unionWith(e){let n=new yn(Vn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Qi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fc(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new ZS("Invalid base64 string: "+c):c}})(e);return new Bn(n)}static fromUint8Array(e){const n=(function(a){let c="";for(let u=0;u<a.length;++u)c+=String.fromCharCode(a[u]);return c})(e);return new Bn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bn.EMPTY_BYTE_STRING=new Bn("");const KD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ao(t){if(_t(!!t,39018),typeof t=="string"){let e=0;const n=KD.exec(t);if(_t(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:nn(t.seconds),nanos:nn(t.nanos)}}function nn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function No(t){return typeof t=="string"?Bn.fromBase64String(t):Bn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="server_timestamp",KS="__type__",$S="__previous_value__",YS="__local_write_time__";function Z0(t){return(t?.mapValue?.fields||{})[KS]?.stringValue===WS}function Lm(t){const e=t.mapValue.fields[$S];return Z0(e)?Lm(e):e}function Lh(t){const e=Ao(t.mapValue.fields[YS].timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,n,i,a,c,u,p,y,_,x){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=x}}const cm="(default)";class Dh{constructor(e,n){this.projectId=e,this.database=n||cm}static empty(){return new Dh("","")}get isDefaultDatabase(){return this.database===cm}isEqual(e){return e instanceof Dh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="__type__",YD="__max__",Ef={mapValue:{}},QS="__vector__",um="value";function Co(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Z0(t)?4:QD(t)?9007199254740991:XD(t)?10:11:Ge(28295,{value:t})}function Nr(t,e){if(t===e)return!0;const n=Co(t);if(n!==Co(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Lh(t).isEqual(Lh(e));case 3:return(function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const u=Ao(a.timestampValue),p=Ao(c.timestampValue);return u.seconds===p.seconds&&u.nanos===p.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,c){return No(a.bytesValue).isEqual(No(c.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,c){return nn(a.geoPointValue.latitude)===nn(c.geoPointValue.latitude)&&nn(a.geoPointValue.longitude)===nn(c.geoPointValue.longitude)})(t,e);case 2:return(function(a,c){if("integerValue"in a&&"integerValue"in c)return nn(a.integerValue)===nn(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const u=nn(a.doubleValue),p=nn(c.doubleValue);return u===p?lm(u)===lm(p):isNaN(u)&&isNaN(p)}return!1})(t,e);case 9:return Fc(t.arrayValue.values||[],e.arrayValue.values||[],Nr);case 10:case 11:return(function(a,c){const u=a.mapValue.fields||{},p=c.mapValue.fields||{};if(eT(u)!==eT(p))return!1;for(const y in u)if(u.hasOwnProperty(y)&&(p[y]===void 0||!Nr(u[y],p[y])))return!1;return!0})(t,e);default:return Ge(52216,{left:t})}}function Mh(t,e){return(t.values||[]).find((n=>Nr(n,e)))!==void 0}function Hc(t,e){if(t===e)return 0;const n=Co(t),i=Co(e);if(n!==i)return ct(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return(function(c,u){const p=nn(c.integerValue||c.doubleValue),y=nn(u.integerValue||u.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(t,e);case 3:return nT(t.timestampValue,e.timestampValue);case 4:return nT(Lh(t),Lh(e));case 5:return Iy(t.stringValue,e.stringValue);case 6:return(function(c,u){const p=No(c),y=No(u);return p.compareTo(y)})(t.bytesValue,e.bytesValue);case 7:return(function(c,u){const p=c.split("/"),y=u.split("/");for(let _=0;_<p.length&&_<y.length;_++){const x=ct(p[_],y[_]);if(x!==0)return x}return ct(p.length,y.length)})(t.referenceValue,e.referenceValue);case 8:return(function(c,u){const p=ct(nn(c.latitude),nn(u.latitude));return p!==0?p:ct(nn(c.longitude),nn(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return iT(t.arrayValue,e.arrayValue);case 10:return(function(c,u){const p=c.fields||{},y=u.fields||{},_=p[um]?.arrayValue,x=y[um]?.arrayValue,T=ct(_?.values?.length||0,x?.values?.length||0);return T!==0?T:iT(_,x)})(t.mapValue,e.mapValue);case 11:return(function(c,u){if(c===Ef.mapValue&&u===Ef.mapValue)return 0;if(c===Ef.mapValue)return 1;if(u===Ef.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=u.fields||{},x=Object.keys(_);y.sort(),x.sort();for(let T=0;T<y.length&&T<x.length;++T){const A=Iy(y[T],x[T]);if(A!==0)return A;const D=Hc(p[y[T]],_[x[T]]);if(D!==0)return D}return ct(y.length,x.length)})(t.mapValue,e.mapValue);default:throw Ge(23264,{he:n})}}function nT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);const n=Ao(t),i=Ao(e),a=ct(n.seconds,i.seconds);return a!==0?a:ct(n.nanos,i.nanos)}function iT(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const c=Hc(n[a],i[a]);if(c)return c}return ct(n.length,i.length)}function qc(t){return Ly(t)}function Ly(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Ao(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return No(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ve.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const c of n.values||[])a?a=!1:i+=",",i+=Ly(c);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const u of i)c?c=!1:a+=",",a+=`${u}:${Ly(n.fields[u])}`;return a+"}"})(t.mapValue):Ge(61005,{value:t})}function Uf(t){switch(Co(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lm(t);return e?16+Uf(e):16;case 5:return 2*t.stringValue.length;case 6:return No(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,c)=>a+Uf(c)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return Do(i.fields,((c,u)=>{a+=c.length+Uf(u)})),a})(t.mapValue);default:throw Ge(13486,{value:t})}}function sT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Dy(t){return!!t&&"integerValue"in t}function W0(t){return!!t&&"arrayValue"in t}function rT(t){return!!t&&"nullValue"in t}function aT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zf(t){return!!t&&"mapValue"in t}function XD(t){return(t?.mapValue?.fields||{})[XS]?.stringValue===QS}function xh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Do(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=xh(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xh(t.arrayValue.values[n]);return e}return{...t}}function QD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===YD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.value=e}static empty(){return new Ri({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!zf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xh(n)}setAll(e){let n=Vn.emptyPath(),i={},a=[];e.forEach(((u,p)=>{if(!n.isImmediateParentOf(p)){const y=this.getFieldsMap(n);this.applyChanges(y,i,a),i={},a=[],n=p.popLast()}u?i[p.lastSegment()]=xh(u):a.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,i,a)}delete(e){const n=this.field(e.popLast());zf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Nr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];zf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){Do(n,((a,c)=>e[a]=c));for(const a of i)delete e[a]}clone(){return new Ri(xh(this.value))}}function JS(t){const e=[];return Do(t.fields,((n,i)=>{const a=new Vn([n]);if(zf(i)){const c=JS(i.mapValue).fields;if(c.length===0)e.push(a);else for(const u of c)e.push(a.child(u))}else e.push(a)})),new Qi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,n,i,a,c,u,p){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=c,this.data=u,this.documentState=p}static newInvalidDocument(e){return new Kn(e,0,$e.min(),$e.min(),$e.min(),Ri.empty(),0)}static newFoundDocument(e,n,i,a){return new Kn(e,1,n,$e.min(),i,a,0)}static newNoDocument(e,n){return new Kn(e,2,n,$e.min(),$e.min(),Ri.empty(),0)}static newUnknownDocument(e,n){return new Kn(e,3,n,$e.min(),$e.min(),Ri.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ri.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ri.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,n){this.position=e,this.inclusive=n}}function oT(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const c=e[a],u=t.position[a];if(c.field.isKeyField()?i=Ve.comparator(Ve.fromName(u.referenceValue),n.key):i=Hc(u,n.data.field(c.field)),c.dir==="desc"&&(i*=-1),i!==0)break}return i}function lT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Nr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n="asc"){this.field=e,this.dir=n}}function JD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{}class cn extends e2{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new tM(e,n,i):n==="array-contains"?new sM(e,i):n==="in"?new rM(e,i):n==="not-in"?new aM(e,i):n==="array-contains-any"?new oM(e,i):new cn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new nM(e,i):new iM(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Hc(n,this.value)):n!==null&&Co(this.value)===Co(n)&&this.matchesComparison(Hc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ws extends e2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ws(e,n)}matches(e){return t2(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function t2(t){return t.op==="and"}function n2(t){return eM(t)&&t2(t)}function eM(t){for(const e of t.filters)if(e instanceof Ws)return!1;return!0}function My(t){if(t instanceof cn)return t.field.canonicalString()+t.op.toString()+qc(t.value);if(n2(t))return t.filters.map((e=>My(e))).join(",");{const e=t.filters.map((n=>My(n))).join(",");return`${t.op}(${e})`}}function i2(t,e){return t instanceof cn?(function(i,a){return a instanceof cn&&i.op===a.op&&i.field.isEqual(a.field)&&Nr(i.value,a.value)})(t,e):t instanceof Ws?(function(i,a){return a instanceof Ws&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((c,u,p)=>c&&i2(u,a.filters[p])),!0):!1})(t,e):void Ge(19439)}function s2(t){return t instanceof cn?(function(n){return`${n.field.canonicalString()} ${n.op} ${qc(n.value)}`})(t):t instanceof Ws?(function(n){return n.op.toString()+" {"+n.getFilters().map(s2).join(" ,")+"}"})(t):"Filter"}class tM extends cn{constructor(e,n,i){super(e,n,i),this.key=Ve.fromName(i.referenceValue)}matches(e){const n=Ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class nM extends cn{constructor(e,n){super(e,"in",n),this.keys=r2("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class iM extends cn{constructor(e,n){super(e,"not-in",n),this.keys=r2("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function r2(t,e){return(e.arrayValue?.values||[]).map((n=>Ve.fromName(n.referenceValue)))}class sM extends cn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return W0(n)&&Mh(n.arrayValue,this.value)}}class rM extends cn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Mh(this.value.arrayValue,n)}}class aM extends cn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Mh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Mh(this.value.arrayValue,n)}}class oM extends cn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!W0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Mh(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,n=null,i=[],a=[],c=null,u=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=c,this.startAt=u,this.endAt=p,this.Te=null}}function cT(t,e=null,n=[],i=[],a=null,c=null,u=null){return new lM(t,e,n,i,a,c,u)}function K0(t){const e=Ye(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>My(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(c){return c.field.canonicalString()+c.dir})(i))).join(","),Im(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>qc(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>qc(i))).join(",")),e.Te=n}return e.Te}function $0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!JD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!i2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!lT(t.startAt,e.startAt)&&lT(t.endAt,e.endAt)}function Oy(t){return Ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n=null,i=[],a=[],c=null,u="F",p=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=c,this.limitType=u,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function cM(t,e,n,i,a,c,u,p){return new ru(t,e,n,i,a,c,u,p)}function Y0(t){return new ru(t)}function uT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function a2(t){return t.collectionGroup!==null}function bh(t){const e=Ye(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let p=new yn(Vn.comparator);return u.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Oh(c,i))})),n.has(Vn.keyField().canonicalString())||e.Ie.push(new Oh(Vn.keyField(),i))}return e.Ie}function xr(t){const e=Ye(t);return e.Ee||(e.Ee=uM(e,bh(t))),e.Ee}function uM(t,e){if(t.limitType==="F")return cT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const c=a.dir==="desc"?"asc":"desc";return new Oh(a.field,c)}));const n=t.endAt?new hm(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new hm(t.startAt.position,t.startAt.inclusive):null;return cT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function ky(t,e){const n=t.filters.concat([e]);return new ru(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Vy(t,e,n){return new ru(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dm(t,e){return $0(xr(t),xr(e))&&t.limitType===e.limitType}function o2(t){return`${K0(xr(t))}|lt:${t.limitType}`}function Ec(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>s2(a))).join(", ")}]`),Im(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>qc(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>qc(a))).join(",")),`Target(${i})`})(xr(t))}; limitType=${t.limitType})`}function Mm(t,e){return e.isFoundDocument()&&(function(i,a){const c=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):Ve.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)})(t,e)&&(function(i,a){for(const c of bh(i))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const c of i.filters)if(!c.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(u,p,y){const _=oT(u,p,y);return u.inclusive?_<=0:_<0})(i.startAt,bh(i),a)||i.endAt&&!(function(u,p,y){const _=oT(u,p,y);return u.inclusive?_>=0:_>0})(i.endAt,bh(i),a))})(t,e)}function hM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function l2(t){return(e,n)=>{let i=!1;for(const a of bh(t)){const c=dM(a,e,n);if(c!==0)return c;i=i||a.field.isKeyField()}return 0}}function dM(t,e,n){const i=t.field.isKeyField()?Ve.comparator(e.key,n.key):(function(c,u,p){const y=u.data.field(c),_=p.data.field(c);return y!==null&&_!==null?Hc(y,_):Ge(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ge(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,c]of i)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Do(this.inner,((n,i)=>{for(const[a,c]of i)e(a,c)}))}isEmpty(){return GS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=new Zt(Ve.comparator);function ga(){return fM}const c2=new Zt(Ve.comparator);function fh(...t){let e=c2;for(const n of t)e=e.insert(n.key,n);return e}function u2(t){let e=c2;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function gl(){return wh()}function h2(){return wh()}function wh(){return new Il((t=>t.toString()),((t,e)=>t.isEqual(e)))}const mM=new Zt(Ve.comparator),pM=new yn(Ve.comparator);function ut(...t){let e=pM;for(const n of t)e=e.add(n);return e}const gM=new yn(ct);function yM(){return gM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lm(e)?"-0":e}}function d2(t){return{integerValue:""+t}}function vM(t,e){return GD(e)?d2(e):X0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(){this._=void 0}}function _M(t,e,n){return t instanceof kh?(function(a,c){const u={fields:{[KS]:{stringValue:WS},[YS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&Z0(c)&&(c=Lm(c)),c&&(u.fields[$S]=c),{mapValue:u}})(n,e):t instanceof Vh?m2(t,e):t instanceof Bh?p2(t,e):(function(a,c){const u=f2(a,c),p=hT(u)+hT(a.Ae);return Dy(u)&&Dy(a.Ae)?d2(p):X0(a.serializer,p)})(t,e)}function xM(t,e,n){return t instanceof Vh?m2(t,e):t instanceof Bh?p2(t,e):n}function f2(t,e){return t instanceof dm?(function(i){return Dy(i)||(function(c){return!!c&&"doubleValue"in c})(i)})(e)?e:{integerValue:0}:null}class kh extends Om{}class Vh extends Om{constructor(e){super(),this.elements=e}}function m2(t,e){const n=g2(e);for(const i of t.elements)n.some((a=>Nr(a,i)))||n.push(i);return{arrayValue:{values:n}}}class Bh extends Om{constructor(e){super(),this.elements=e}}function p2(t,e){let n=g2(e);for(const i of t.elements)n=n.filter((a=>!Nr(a,i)));return{arrayValue:{values:n}}}class dm extends Om{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function hT(t){return nn(t.integerValue||t.doubleValue)}function g2(t){return W0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,n){this.field=e,this.transform=n}}function wM(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof Vh&&a instanceof Vh||i instanceof Bh&&a instanceof Bh?Fc(i.elements,a.elements,Nr):i instanceof dm&&a instanceof dm?Nr(i.Ae,a.Ae):i instanceof kh&&a instanceof kh})(t.transform,e.transform)}class TM{constructor(e,n){this.version=e,this.transformResults=n}}class qs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qs}static exists(e){return new qs(void 0,e)}static updateTime(e){return new qs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ff(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class km{}function y2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new _2(t.key,qs.none()):new nd(t.key,t.data,qs.none());{const n=t.data,i=Ri.empty();let a=new yn(Vn.comparator);for(let c of e.fields)if(!a.has(c)){let u=n.field(c);u===null&&c.length>1&&(c=c.popLast(),u=n.field(c)),u===null?i.delete(c):i.set(c,u),a=a.add(c)}return new Mo(t.key,i,new Qi(a.toArray()),qs.none())}}function EM(t,e,n){t instanceof nd?(function(a,c,u){const p=a.value.clone(),y=fT(a.fieldTransforms,c,u.transformResults);p.setAll(y),c.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(t,e,n):t instanceof Mo?(function(a,c,u){if(!Ff(a.precondition,c))return void c.convertToUnknownDocument(u.version);const p=fT(a.fieldTransforms,c,u.transformResults),y=c.data;y.setAll(v2(a)),y.setAll(p),c.convertToFoundDocument(u.version,y).setHasCommittedMutations()})(t,e,n):(function(a,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Th(t,e,n,i){return t instanceof nd?(function(c,u,p,y){if(!Ff(c.precondition,u))return p;const _=c.value.clone(),x=mT(c.fieldTransforms,y,u);return _.setAll(x),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),null})(t,e,n,i):t instanceof Mo?(function(c,u,p,y){if(!Ff(c.precondition,u))return p;const _=mT(c.fieldTransforms,y,u),x=u.data;return x.setAll(v2(c)),x.setAll(_),u.convertToFoundDocument(u.version,x).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((T=>T.field)))})(t,e,n,i):(function(c,u,p){return Ff(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):p})(t,e,n)}function SM(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),c=f2(i.transform,a||null);c!=null&&(n===null&&(n=Ri.empty()),n.set(i.field,c))}return n||null}function dT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Fc(i,a,((c,u)=>wM(c,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class nd extends km{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Mo extends km{constructor(e,n,i,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function v2(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function fT(t,e,n){const i=new Map;_t(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const c=t[a],u=c.transform,p=e.data.field(c.field);i.set(c.field,xM(u,p,n[a]))}return i}function mT(t,e,n){const i=new Map;for(const a of t){const c=a.transform,u=n.data.field(a.field);i.set(a.field,_M(c,u,e))}return i}class _2 extends km{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AM extends km{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&EM(c,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Th(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Th(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=h2();return this.mutations.forEach((a=>{const c=e.get(a.key),u=c.overlayedDocument;let p=this.applyToLocalView(u,c.mutatedFields);p=n.has(a.key)?null:p;const y=y2(u,p);y!==null&&i.set(a.key,y),u.isValidDocument()||u.convertToNoDocument($e.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ut())}isEqual(e){return this.batchId===e.batchId&&Fc(this.mutations,e.mutations,((n,i)=>dT(n,i)))&&Fc(this.baseMutations,e.baseMutations,((n,i)=>dT(n,i)))}}class Q0{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){_t(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return mM})();const c=e.mutations;for(let u=0;u<c.length;u++)a=a.insert(c[u].key,i[u].version);return new Q0(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,pt;function PM(t){switch(t){case pe.OK:return Ge(64938);case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0;default:return Ge(15467,{code:t})}}function x2(t){if(t===void 0)return pa("GRPC error has no .code"),pe.UNKNOWN;switch(t){case on.OK:return pe.OK;case on.CANCELLED:return pe.CANCELLED;case on.UNKNOWN:return pe.UNKNOWN;case on.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case on.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case on.INTERNAL:return pe.INTERNAL;case on.UNAVAILABLE:return pe.UNAVAILABLE;case on.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case on.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case on.NOT_FOUND:return pe.NOT_FOUND;case on.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case on.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case on.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case on.ABORTED:return pe.ABORTED;case on.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case on.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case on.DATA_LOSS:return pe.DATA_LOSS;default:return Ge(39323,{code:t})}}(pt=on||(on={}))[pt.OK=0]="OK",pt[pt.CANCELLED=1]="CANCELLED",pt[pt.UNKNOWN=2]="UNKNOWN",pt[pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pt[pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pt[pt.NOT_FOUND=5]="NOT_FOUND",pt[pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",pt[pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",pt[pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",pt[pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pt[pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pt[pt.ABORTED=10]="ABORTED",pt[pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",pt[pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",pt[pt.INTERNAL=13]="INTERNAL",pt[pt.UNAVAILABLE=14]="UNAVAILABLE",pt[pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=new To([4294967295,4294967295],0);function pT(t){const e=jM().encode(t),n=new DS;return n.update(e),new Uint8Array(n.digest())}function gT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new To([n,i],0),new To([a,c],0)]}class J0{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new mh(`Invalid padding: ${n}`);if(i<0)throw new mh(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new mh(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new mh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=To.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(To.fromNumber(i)));return a.compare(IM)===1&&(a=new To([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=pT(e),[i,a]=gT(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(i,a,c);if(!this.we(u))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new J0(c,a,n);return i.forEach((p=>u.insert(p))),u}insert(e){if(this.ge===0)return;const n=pT(e),[i,a]=gT(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(i,a,c);this.Se(u)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class mh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n,i,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,id.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Vm($e.min(),a,new Zt(ct),ga(),ut())}}class id{constructor(e,n,i,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new id(i,n,ut(),ut(),ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n,i,a){this.be=e,this.removedTargetIds=n,this.key=i,this.De=a}}class b2{constructor(e,n){this.targetId=e,this.Ce=n}}class w2{constructor(e,n,i=Bn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class yT{constructor(){this.ve=0,this.Fe=vT(),this.Me=Bn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ut(),n=ut(),i=ut();return this.Fe.forEach(((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Ge(38017,{changeType:c})}})),new id(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=vT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,_t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class LM{constructor(e){this.Ge=e,this.ze=new Map,this.je=ga(),this.Je=Sf(),this.He=Sf(),this.Ye=new Zt(ct)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ge(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const c=a.target;if(Oy(c))if(i===0){const u=new Ve(c.path);this.et(n,u,Kn.newNoDocument(u,$e.min()))}else _t(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const p=this.ut(e),y=p?this.ct(p,e,u):1;if(y!==0){this.it(n);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,_)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:c=0}=n;let u,p;try{u=No(i).toUint8Array()}catch(y){if(y instanceof ZS)return zc("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new J0(u,a,c)}catch(y){return zc(y instanceof mh?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((c=>{const u=this.Ge.ht(),p=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((c,u)=>{const p=this.ot(u);if(p){if(c.current&&Oy(p.target)){const y=new Ve(p.target.path);this.It(y).has(u)||this.Et(u,y)||this.et(u,y,Kn.newNoDocument(y,e))}c.Be&&(n.set(u,c.ke()),c.qe())}}));let i=ut();this.He.forEach(((c,u)=>{let p=!0;u.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(i=i.add(c))})),this.je.forEach(((c,u)=>u.setReadTime(e)));const a=new Vm(e,n,this.Ye,this.je,i);return this.je=ga(),this.Je=Sf(),this.He=Sf(),this.Ye=new Zt(ct),a}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new yT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new yn(ct),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new yn(ct),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new yT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Sf(){return new Zt(Ve.comparator)}function vT(){return new Zt(Ve.comparator)}const DM={asc:"ASCENDING",desc:"DESCENDING"},MM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OM={and:"AND",or:"OR"};class kM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function By(t,e){return t.useProto3Json||Im(e)?e:{value:e}}function fm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function T2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function VM(t,e){return fm(t,e.toTimestamp())}function br(t){return _t(!!t,49232),$e.fromTimestamp((function(n){const i=Ao(n);return new jt(i.seconds,i.nanos)})(t))}function ev(t,e){return Uy(t,e).canonicalString()}function Uy(t,e){const n=(function(a){return new Pt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function E2(t){const e=Pt.fromString(t);return _t(R2(e),10190,{key:e.toString()}),e}function zy(t,e){return ev(t.databaseId,e.path)}function Qg(t,e){const n=E2(e);if(n.get(1)!==t.databaseId.projectId)throw new Ne(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ne(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ve(A2(n))}function S2(t,e){return ev(t.databaseId,e)}function BM(t){const e=E2(t);return e.length===4?Pt.emptyPath():A2(e)}function Fy(t){return new Pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function A2(t){return _t(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function _T(t,e,n){return{name:zy(t,e),fields:n.value.mapValue.fields}}function UM(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ge(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=(function(_,x){return _.useProto3Json?(_t(x===void 0||typeof x=="string",58123),Bn.fromBase64String(x||"")):(_t(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Bn.fromUint8Array(x||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,p=u&&(function(_){const x=_.code===void 0?pe.UNKNOWN:x2(_.code);return new Ne(x,_.message||"")})(u);n=new w2(i,a,c,p||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Qg(t,i.document.name),c=br(i.document.updateTime),u=i.document.createTime?br(i.document.createTime):$e.min(),p=new Ri({mapValue:{fields:i.document.fields}}),y=Kn.newFoundDocument(a,c,u,p),_=i.targetIds||[],x=i.removedTargetIds||[];n=new Hf(_,x,y.key,y)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Qg(t,i.document),c=i.readTime?br(i.readTime):$e.min(),u=Kn.newNoDocument(a,c),p=i.removedTargetIds||[];n=new Hf([],p,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Qg(t,i.document),c=i.removedTargetIds||[];n=new Hf([],c,a,null)}else{if(!("filter"in e))return Ge(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:c}=i,u=new RM(a,c),p=i.targetId;n=new b2(p,u)}}return n}function zM(t,e){let n;if(e instanceof nd)n={update:_T(t,e.key,e.value)};else if(e instanceof _2)n={delete:zy(t,e.key)};else if(e instanceof Mo)n={update:_T(t,e.key,e.data),updateMask:YM(e.fieldMask)};else{if(!(e instanceof AM))return Ge(16599,{Vt:e.type});n={verify:zy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(c,u){const p=u.transform;if(p instanceof kh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Vh)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Bh)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof dm)return{fieldPath:u.field.canonicalString(),increment:p.Ae};throw Ge(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,c){return c.updateTime!==void 0?{updateTime:VM(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ge(27497)})(t,e.precondition)),n}function FM(t,e){return t&&t.length>0?(_t(e!==void 0,14353),t.map((n=>(function(a,c){let u=a.updateTime?br(a.updateTime):br(c);return u.isEqual($e.min())&&(u=br(c)),new TM(u,a.transformResults||[])})(n,e)))):[]}function HM(t,e){return{documents:[S2(t,e.path)]}}function qM(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=S2(t,a);const c=(function(_){if(_.length!==0)return C2(Ws.create(_,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const u=(function(_){if(_.length!==0)return _.map((x=>(function(A){return{field:Sc(A.field),direction:WM(A.dir)}})(x)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const p=By(t,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:n,parent:a}}function GM(t){let e=BM(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){_t(i===1,65062);const x=n.from[0];x.allDescendants?a=x.collectionId:e=e.child(x.collectionId)}let c=[];n.where&&(c=(function(T){const A=N2(T);return A instanceof Ws&&n2(A)?A.getFilters():[A]})(n.where));let u=[];n.orderBy&&(u=(function(T){return T.map((A=>(function(j){return new Oh(Ac(j.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(A)))})(n.orderBy));let p=null;n.limit&&(p=(function(T){let A;return A=typeof T=="object"?T.value:T,Im(A)?null:A})(n.limit));let y=null;n.startAt&&(y=(function(T){const A=!!T.before,D=T.values||[];return new hm(D,A)})(n.startAt));let _=null;return n.endAt&&(_=(function(T){const A=!T.before,D=T.values||[];return new hm(D,A)})(n.endAt)),cM(e,a,u,c,p,"F",y,_)}function ZM(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function N2(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ac(n.unaryFilter.field);return cn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Ac(n.unaryFilter.field);return cn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ac(n.unaryFilter.field);return cn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ac(n.unaryFilter.field);return cn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}})(t):t.fieldFilter!==void 0?(function(n){return cn.create(Ac(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ws.create(n.compositeFilter.filters.map((i=>N2(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}})(n.compositeFilter.op))})(t):Ge(30097,{filter:t})}function WM(t){return DM[t]}function KM(t){return MM[t]}function $M(t){return OM[t]}function Sc(t){return{fieldPath:t.canonicalString()}}function Ac(t){return Vn.fromServerFormat(t.fieldPath)}function C2(t){return t instanceof cn?(function(n){if(n.op==="=="){if(aT(n.value))return{unaryFilter:{field:Sc(n.field),op:"IS_NAN"}};if(rT(n.value))return{unaryFilter:{field:Sc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(aT(n.value))return{unaryFilter:{field:Sc(n.field),op:"IS_NOT_NAN"}};if(rT(n.value))return{unaryFilter:{field:Sc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sc(n.field),op:KM(n.op),value:n.value}}})(t):t instanceof Ws?(function(n){const i=n.getFilters().map((a=>C2(a)));return i.length===1?i[0]:{compositeFilter:{op:$M(n.op),filters:i}}})(t):Ge(54877,{filter:t})}function YM(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function R2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n,i,a,c=$e.min(),u=$e.min(),p=Bn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new _o(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e){this.yt=e}}function QM(t){const e=GM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(){this.Cn=new eO}addToCollectionParentIndex(e,n){return this.Cn.add(n),ye.resolve()}getCollectionParents(e,n){return ye.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ye.resolve()}deleteFieldIndex(e,n){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,n){return ye.resolve()}getDocumentsMatchingTarget(e,n){return ye.resolve(null)}getIndexType(e,n){return ye.resolve(0)}getFieldIndexes(e,n){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,n){return ye.resolve(So.min())}getMinOffsetFromCollectionGroup(e,n){return ye.resolve(So.min())}updateCollectionGroup(e,n,i){return ye.resolve()}updateIndexEntries(e,n){return ye.resolve()}}class eO{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new yn(Pt.comparator),c=!a.has(i);return this.index[n]=a.add(i),c}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new yn(Pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},P2=41943040;class Ci{static withCacheSize(e){return new Ci(e,Ci.DEFAULT_COLLECTION_PERCENTILE,Ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ci.DEFAULT_COLLECTION_PERCENTILE=10,Ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ci.DEFAULT=new Ci(P2,Ci.DEFAULT_COLLECTION_PERCENTILE,Ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ci.DISABLED=new Ci(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Gc(0)}static cr(){return new Gc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="LruGarbageCollector",tO=1048576;function wT([t,e],[n,i]){const a=ct(t,n);return a===0?ct(e,i):a}class nO{constructor(e){this.Ir=e,this.buffer=new yn(wT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();wT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class iO{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Pe(bT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){su(n)?Pe(bT,"Ignoring IndexedDB error during garbage collection: ",n):await iu(n)}await this.Vr(3e5)}))}}class sO{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return ye.resolve(jm.ce);const i=new nO(n);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(xT)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,a,c,u,p,y,_;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,u=Date.now(),this.nthSequenceNumber(e,a)))).next((T=>(i=T,p=Date.now(),this.removeTargets(e,i,n)))).next((T=>(c=T,y=Date.now(),this.removeOrphanedDocuments(e,i)))).next((T=>(_=Date.now(),Tc()<=lt.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-x}ms
	Determined least recently used ${a} in `+(p-u)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${T} documents in `+(_-y)+`ms
Total Duration: ${_-x}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:T}))))}}function rO(t,e){return new sO(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(){this.changes=new Il((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ye.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&Th(i.mutation,a,Qi.empty(),jt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,ut()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=ut()){const a=gl();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((c=>{let u=fh();return c.forEach(((p,y)=>{u=u.insert(p,y.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=gl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,ut())))}populateOverlays(e,n,i){const a=[];return i.forEach((c=>{n.has(c)||a.push(c)})),this.documentOverlayCache.getOverlays(e,a).next((c=>{c.forEach(((u,p)=>{n.set(u,p)}))}))}computeViews(e,n,i,a){let c=ga();const u=wh(),p=(function(){return wh()})();return n.forEach(((y,_)=>{const x=i.get(_.key);a.has(_.key)&&(x===void 0||x.mutation instanceof Mo)?c=c.insert(_.key,_):x!==void 0?(u.set(_.key,x.mutation.getFieldMask()),Th(x.mutation,_,x.mutation.getFieldMask(),jt.now())):u.set(_.key,Qi.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,x)=>u.set(_,x))),n.forEach(((_,x)=>p.set(_,new oO(x,u.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,n){const i=wh();let a=new Zt(((u,p)=>u-p)),c=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const p of u)p.keys().forEach((y=>{const _=n.get(y);if(_===null)return;let x=i.get(y)||Qi.empty();x=p.applyToLocalView(_,x),i.set(y,x);const T=(a.get(p.batchId)||ut()).add(y);a=a.insert(p.batchId,T)}))})).next((()=>{const u=[],p=a.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,x=y.value,T=h2();x.forEach((A=>{if(!c.has(A)){const D=y2(n.get(A),i.get(A));D!==null&&T.set(A,D),c=c.add(A)}})),u.push(this.documentOverlayCache.saveOverlays(e,_,T))}return ye.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return(function(u){return Ve.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):a2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((c=>{const u=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-c.size):ye.resolve(gl());let p=Ih,y=c;return u.next((_=>ye.forEach(_,((x,T)=>(p<T.largestBatchId&&(p=T.largestBatchId),c.get(x)?ye.resolve():this.remoteDocumentCache.getEntry(e,x).next((A=>{y=y.insert(x,A)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,ut()))).next((x=>({batchId:p,changes:u2(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ve(n)).next((i=>{let a=fh();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const c=n.collectionGroup;let u=fh();return this.indexManager.getCollectionParents(e,c).next((p=>ye.forEach(p,(y=>{const _=(function(T,A){return new ru(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,i,a).next((x=>{x.forEach(((T,A)=>{u=u.insert(T,A)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,c,a)))).next((u=>{c.forEach(((y,_)=>{const x=_.getKey();u.get(x)===null&&(u=u.insert(x,Kn.newInvalidDocument(x)))}));let p=fh();return u.forEach(((y,_)=>{const x=c.get(y);x!==void 0&&Th(x.mutation,_,Qi.empty(),jt.now()),Mm(n,_)&&(p=p.insert(y,_))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ye.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:br(a.createTime)}})(n)),ye.resolve()}getNamedQuery(e,n){return ye.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:QM(a.bundledQuery),readTime:br(a.readTime)}})(n)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(){this.overlays=new Zt(Ve.comparator),this.qr=new Map}getOverlay(e,n){return ye.resolve(this.overlays.get(n))}getOverlays(e,n){const i=gl();return ye.forEach(n,(a=>this.getOverlay(e,a).next((c=>{c!==null&&i.set(a,c)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,c)=>{this.St(e,n,c)})),ye.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(i)),ye.resolve()}getOverlaysForCollection(e,n,i){const a=gl(),c=n.length+1,u=new Ve(n.child("")),p=this.overlays.getIteratorFrom(u);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>i&&a.set(y.getKey(),y)}return ye.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let c=new Zt(((_,x)=>_-x));const u=this.overlays.getIterator();for(;u.hasNext();){const _=u.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>i){let x=c.get(_.largestBatchId);x===null&&(x=gl(),c=c.insert(_.largestBatchId,x)),x.set(_.getKey(),_)}}const p=gl(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,x)=>p.set(_,x))),!(p.size()>=a)););return ye.resolve(p)}St(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new CM(n,i));let c=this.qr.get(n);c===void 0&&(c=ut(),this.qr.set(n,c)),this.qr.set(n,c.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.sessionToken=Bn.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(){this.Qr=new yn(jn.$r),this.Ur=new yn(jn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new jn(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new jn(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new Ve(new Pt([])),i=new jn(n,e),a=new jn(n,e+1),c=[];return this.Ur.forEachInRange([i,a],(u=>{this.Gr(u),c.push(u.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ve(new Pt([])),i=new jn(n,e),a=new jn(n,e+1);let c=ut();return this.Ur.forEachInRange([i,a],(u=>{c=c.add(u.key)})),c}containsKey(e){const n=new jn(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class jn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ve.comparator(e.key,n.key)||ct(e.Yr,n.Yr)}static Kr(e,n){return ct(e.Yr,n.Yr)||Ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new yn(jn.$r)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new NM(c,n,i,a);this.mutationQueue.push(u);for(const p of a)this.Zr=this.Zr.add(new jn(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ye.resolve(u)}lookupMutationBatch(e,n){return ye.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.ei(i),c=a<0?0:a;return ye.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?G0:this.tr-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new jn(n,0),a=new jn(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([i,a],(u=>{const p=this.Xr(u.Yr);c.push(p)})),ye.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new yn(ct);return n.forEach((a=>{const c=new jn(a,0),u=new jn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,u],(p=>{i=i.add(p.Yr)}))})),ye.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let c=i;Ve.isDocumentKey(c)||(c=c.child(""));const u=new jn(new Ve(c),0);let p=new yn(ct);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!i.isPrefixOf(_)&&(_.length===a&&(p=p.add(y.Yr)),!0)}),u),ye.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){_t(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ye.forEach(n.mutations,(a=>{const c=new jn(a.key,n.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new jn(n,0),a=this.Zr.firstAfterOrEqual(i);return ye.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){this.ri=e,this.docs=(function(){return new Zt(Ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),c=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ye.resolve(i?i.document.mutableCopy():Kn.newInvalidDocument(n))}getEntries(e,n){let i=ga();return n.forEach((a=>{const c=this.docs.get(a);i=i.insert(a,c?c.document.mutableCopy():Kn.newInvalidDocument(a))})),ye.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let c=ga();const u=n.path,p=new Ve(u.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:x}}=y.getNext();if(!u.isPrefixOf(_.path))break;_.path.length>u.length+1||zD(UD(x),i)<=0||(a.has(x.key)||Mm(n,x))&&(c=c.insert(x.key,x.mutableCopy()))}return ye.resolve(c)}getAllFromCollectionGroup(e,n,i,a){Ge(9500)}ii(e,n){return ye.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new mO(this)}getSize(e){return ye.resolve(this.size)}}class mO extends aO{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),ye.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.persistence=e,this.si=new Il((n=>K0(n)),$0),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.oi=0,this._i=new tv,this.targetCount=0,this.ai=Gc.ur()}forEachTarget(e,n){return this.si.forEach(((i,a)=>n(a))),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),ye.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Gc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ye.resolve()}updateTargetData(e,n){return this.Pr(n),ye.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,n,i){let a=0;const c=[];return this.si.forEach(((u,p)=>{p.sequenceNumber<=n&&i.get(p.targetId)===null&&(this.si.delete(u),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),a++)})),ye.waitFor(c).next((()=>a))}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return ye.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),ye.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach((u=>{c.push(a.markPotentiallyOrphaned(e,u))})),ye.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ye.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return ye.resolve(i)}containsKey(e,n){return ye.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,n){this.ui={},this.overlays={},this.ci=new jm(0),this.li=!1,this.li=!0,this.hi=new hO,this.referenceDelegate=e(this),this.Pi=new pO(this),this.indexManager=new JM,this.remoteDocumentCache=(function(a){return new fO(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new XM(n),this.Ii=new cO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new dO(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){Pe("MemoryPersistence","Starting transaction:",e);const a=new gO(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((c=>this.referenceDelegate.di(a).next((()=>c)))).toPromise().then((c=>(a.raiseOnCommittedEvent(),c)))}Ai(e,n){return ye.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class gO extends HD{constructor(e){super(),this.currentSequenceNumber=e}}class nv{constructor(e){this.persistence=e,this.Ri=new tv,this.Vi=null}static mi(e){return new nv(e)}get fi(){if(this.Vi)return this.Vi;throw Ge(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),ye.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),ye.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ye.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((c=>this.fi.add(c.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.fi,(i=>{const a=Ve.fromPath(i);return this.gi(e,a).next((c=>{c||n.removeEntry(a,$e.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ye.or([()=>ye.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class mm{constructor(e,n){this.persistence=e,this.pi=new Il((i=>ZD(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=rO(this,n)}static mi(e,n){return new mm(e,n)}Ei(){}di(e){return ye.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return ye.forEach(this.pi,((i,a)=>this.br(e,i,a).next((c=>c?ye.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((p=>{p||(i++,c.removeEntry(u,$e.min()))})))).next((()=>c.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ye.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ye.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ye.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ye.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Uf(e.data.value)),n}br(e,n,i){return ye.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ye.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=a}static As(e,n){let i=ut(),a=ut();for(const c of n.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new iv(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return qj()?8:qD(Xn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const c={result:null};return this.ys(e,n).next((u=>{c.result=u})).next((()=>{if(!c.result)return this.ws(e,n,a,i).next((u=>{c.result=u}))})).next((()=>{if(c.result)return;const u=new yO;return this.Ss(e,n,u).next((p=>{if(c.result=p,this.Vs)return this.bs(e,n,u,p.size)}))})).next((()=>c.result))}bs(e,n,i,a){return i.documentReadCount<this.fs?(Tc()<=lt.DEBUG&&Pe("QueryEngine","SDK will not create cache indexes for query:",Ec(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ye.resolve()):(Tc()<=lt.DEBUG&&Pe("QueryEngine","Query:",Ec(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(Tc()<=lt.DEBUG&&Pe("QueryEngine","The SDK decides to create cache indexes for query:",Ec(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xr(n))):ye.resolve())}ys(e,n){if(uT(n))return ye.resolve(null);let i=xr(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Vy(n,null,"F"),i=xr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((c=>{const u=ut(...c);return this.ps.getDocuments(e,u).next((p=>this.indexManager.getMinOffset(e,i).next((y=>{const _=this.Ds(n,p);return this.Cs(n,_,u,y.readTime)?this.ys(e,Vy(n,null,"F")):this.vs(e,_,n,y)}))))})))))}ws(e,n,i,a){return uT(n)||a.isEqual($e.min())?ye.resolve(null):this.ps.getDocuments(e,i).next((c=>{const u=this.Ds(n,c);return this.Cs(n,u,i,a)?ye.resolve(null):(Tc()<=lt.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ec(n)),this.vs(e,u,n,BD(a,Ih)).next((p=>p)))}))}Ds(e,n){let i=new yn(l2(e));return n.forEach(((a,c)=>{Mm(e,c)&&(i=i.add(c))})),i}Cs(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Ss(e,n,i){return Tc()<=lt.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",Ec(n)),this.ps.getDocumentsMatchingQuery(e,n,So.min(),i)}vs(e,n,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((c=>(n.forEach((u=>{c=c.insert(u.key,u)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="LocalStore",_O=3e8;class xO{constructor(e,n,i,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Zt(ct),this.xs=new Il((c=>K0(c)),$0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function bO(t,e,n,i){return new xO(t,e,n,i)}async function I2(t,e){const n=Ye(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((c=>(a=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((c=>{const u=[],p=[];let y=ut();for(const _ of a){u.push(_.batchId);for(const x of _.mutations)y=y.add(x.key)}for(const _ of c){p.push(_.batchId);for(const x of _.mutations)y=y.add(x.key)}return n.localDocuments.getDocuments(i,y).next((_=>({Ls:_,removedBatchIds:u,addedBatchIds:p})))}))}))}function wO(t,e){const n=Ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,x){const T=_.batch,A=T.keys();let D=ye.resolve();return A.forEach((j=>{D=D.next((()=>x.getEntry(y,j))).next((F=>{const k=_.docVersions.get(j);_t(k!==null,48541),F.version.compareTo(k)<0&&(T.applyToRemoteDocument(F,_),F.isValidDocument()&&(F.setReadTime(_.commitVersion),x.addEntry(F)))}))})),D.next((()=>p.mutationQueue.removeMutationBatch(y,T)))})(n,i,e,c).next((()=>c.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(p){let y=ut();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function L2(t){const e=Ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function TO(t,e){const n=Ye(t),i=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const p=[];e.targetChanges.forEach(((x,T)=>{const A=a.get(T);if(!A)return;p.push(n.Pi.removeMatchingKeys(c,x.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(c,x.addedDocuments,T))));let D=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(T)!==null?D=D.withResumeToken(Bn.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):x.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(x.resumeToken,i)),a=a.insert(T,D),(function(F,k,$){return F.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=_O?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(A,D,x)&&p.push(n.Pi.updateTargetData(c,D))}));let y=ga(),_=ut();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,x))})),p.push(EO(c,u,e.documentUpdates).next((x=>{y=x.ks,_=x.qs}))),!i.isEqual($e.min())){const x=n.Pi.getLastRemoteSnapshotVersion(c).next((T=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,i)));p.push(x)}return ye.waitFor(p).next((()=>u.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(n.Ms=a,c)))}function EO(t,e,n){let i=ut(),a=ut();return n.forEach((c=>i=i.add(c))),e.getEntries(t,i).next((c=>{let u=ga();return n.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(a=a.add(p)),y.isNoDocument()&&y.version.isEqual($e.min())?(e.removeEntry(p,y.readTime),u=u.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),u=u.insert(p,y)):Pe(sv,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:u,qs:a}}))}function SO(t,e){const n=Ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=G0),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function AO(t,e){const n=Ye(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.Pi.getTargetData(i,e).next((c=>c?(a=c,ye.resolve(a)):n.Pi.allocateTargetId(i).next((u=>(a=new _o(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function Hy(t,e,n){const i=Ye(t),a=i.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",c,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!su(u))throw u;Pe(sv,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function TT(t,e,n){const i=Ye(t);let a=$e.min(),c=ut();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(y,_,x){const T=Ye(y),A=T.xs.get(x);return A!==void 0?ye.resolve(T.Ms.get(A)):T.Pi.getTargetData(_,x)})(i,u,xr(e)).next((p=>{if(p)return a=p.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,p.targetId).next((y=>{c=y}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,n?a:$e.min(),n?c:ut()))).next((p=>(NO(i,hM(e),p),{documents:p,Qs:c})))))}function NO(t,e,n){let i=t.Os.get(e)||$e.min();n.forEach(((a,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)})),t.Os.set(e,i)}class ET{constructor(){this.activeTargetIds=yM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CO{constructor(){this.Mo=new ET,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ET,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="ConnectivityMonitor";class AT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Pe(ST,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Pe(ST,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af=null;function qy(){return Af===null?Af=(function(){return 268435456+Math.round(2147483648*Math.random())})():Af++,"0x"+Af.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg="RestConnection",PO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===cm?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,n,i,a,c){const u=qy(),p=this.zo(e,n.toUriEncodedString());Pe(Jg,`Sending RPC '${e}' ${u}:`,p,i);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,a,c);const{host:_}=new URL(p),x=Jc(_);return this.Jo(e,p,y,i,x).then((T=>(Pe(Jg,`Received RPC '${e}' ${u}: `,T),T)),(T=>{throw zc(Jg,`RPC '${e}' ${u} failed with error: `,T,"url: ",p,"request:",i),T}))}Ho(e,n,i,a,c,u){return this.Go(e,n,i,a,c)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+nu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,c)=>e[c]=a)),i&&i.headers.forEach(((a,c)=>e[c]=a))}zo(e,n){const i=PO[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn="WebChannelConnection";class LO extends jO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,a,c){const u=qy();return new Promise(((p,y)=>{const _=new MS;_.setWithCredentials(!0),_.listenOnce(OS.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Bf.NO_ERROR:const T=_.getResponseJson();Pe(Gn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),p(T);break;case Bf.TIMEOUT:Pe(Gn,`RPC '${e}' ${u} timed out`),y(new Ne(pe.DEADLINE_EXCEEDED,"Request time out"));break;case Bf.HTTP_ERROR:const A=_.getStatus();if(Pe(Gn,`RPC '${e}' ${u} failed with status:`,A,"response text:",_.getResponseText()),A>0){let D=_.getResponseJson();Array.isArray(D)&&(D=D[0]);const j=D?.error;if(j&&j.status&&j.message){const F=(function($){const Y=$.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(Y)>=0?Y:pe.UNKNOWN})(j.status);y(new Ne(F,j.message))}else y(new Ne(pe.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new Ne(pe.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{l_:e,streamId:u,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{Pe(Gn,`RPC '${e}' ${u} completed.`)}}));const x=JSON.stringify(a);Pe(Gn,`RPC '${e}' ${u} sending request:`,a),_.send(n,"POST",x,i,15)}))}T_(e,n,i){const a=qy(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=BS(),p=VS(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,i),y.encodeInitMessageHeaders=!0;const x=c.join("");Pe(Gn,`Creating RPC '${e}' stream ${a}: ${x}`,y);const T=u.createWebChannel(x,y);this.I_(T);let A=!1,D=!1;const j=new IO({Yo:k=>{D?Pe(Gn,`Not sending because RPC '${e}' stream ${a} is closed:`,k):(A||(Pe(Gn,`Opening RPC '${e}' stream ${a} transport.`),T.open(),A=!0),Pe(Gn,`RPC '${e}' stream ${a} sending:`,k),T.send(k))},Zo:()=>T.close()}),F=(k,$,Y)=>{k.listen($,(X=>{try{Y(X)}catch(ve){setTimeout((()=>{throw ve}),0)}}))};return F(T,dh.EventType.OPEN,(()=>{D||(Pe(Gn,`RPC '${e}' stream ${a} transport opened.`),j.o_())})),F(T,dh.EventType.CLOSE,(()=>{D||(D=!0,Pe(Gn,`RPC '${e}' stream ${a} transport closed`),j.a_(),this.E_(T))})),F(T,dh.EventType.ERROR,(k=>{D||(D=!0,zc(Gn,`RPC '${e}' stream ${a} transport errored. Name:`,k.name,"Message:",k.message),j.a_(new Ne(pe.UNAVAILABLE,"The operation could not be completed")))})),F(T,dh.EventType.MESSAGE,(k=>{if(!D){const $=k.data[0];_t(!!$,16349);const Y=$,X=Y?.error||Y[0]?.error;if(X){Pe(Gn,`RPC '${e}' stream ${a} received error:`,X);const ve=X.status;let he=(function(M){const B=on[M];if(B!==void 0)return x2(B)})(ve),we=X.message;he===void 0&&(he=pe.INTERNAL,we="Unknown error status: "+ve+" with message "+X.message),D=!0,j.a_(new Ne(he,we)),T.close()}else Pe(Gn,`RPC '${e}' stream ${a} received:`,$),j.u_($)}})),F(p,kS.STAT_EVENT,(k=>{k.stat===jy.PROXY?Pe(Gn,`RPC '${e}' stream ${a} detected buffering proxy`):k.stat===jy.NOPROXY&&Pe(Gn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ey(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(t){return new kM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,n,i=1e3,a=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=a,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&Pe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="PersistentStream";class M2{constructor(e,n,i,a,c,u,p,y){this.Mi=e,this.S_=i,this.b_=a,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new D2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===pe.RESOURCE_EXHAUSTED?(pa(n.toString()),pa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new Ne(pe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Pe(NT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Pe(NT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class DO extends M2{constructor(e,n,i,a,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,u),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=UM(this.serializer,e),i=(function(c){if(!("targetChange"in c))return $e.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?$e.min():u.readTime?br(u.readTime):$e.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=Fy(this.serializer),n.addTarget=(function(c,u){let p;const y=u.target;if(p=Oy(y)?{documents:HM(c,y)}:{query:qM(c,y).ft},p.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){p.resumeToken=T2(c,u.resumeToken);const _=By(c,u.expectedCount);_!==null&&(p.expectedCount=_)}else if(u.snapshotVersion.compareTo($e.min())>0){p.readTime=fm(c,u.snapshotVersion.toTimestamp());const _=By(c,u.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const i=ZM(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=Fy(this.serializer),n.removeTarget=e,this.q_(n)}}class MO extends M2{constructor(e,n,i,a,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,u),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return _t(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_t(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_t(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=FM(e.writeResults,e.commitTime),i=br(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Fy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>zM(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{}class kO extends OO{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Ne(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Go(e,Uy(n,i),a,c,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ne(pe.UNKNOWN,c.toString())}))}Ho(e,n,i,a,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,p])=>this.connection.Ho(e,Uy(n,i),a,u,p,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ne(pe.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class VO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pa(n),this.aa=!1):Pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl="RemoteStore";class BO{constructor(e,n,i,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{Ll(this)&&(Pe(Rl,"Restarting streams for network reachability change."),await(async function(y){const _=Ye(y);_.Ea.add(4),await sd(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Um(_)})(this))}))})),this.Ra=new VO(i,a)}}async function Um(t){if(Ll(t))for(const e of t.da)await e(!0)}async function sd(t){for(const e of t.da)await e(!1)}function O2(t,e){const n=Ye(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),lv(n)?ov(n):au(n).O_()&&av(n,e))}function rv(t,e){const n=Ye(t),i=au(n);n.Ia.delete(e),i.O_()&&k2(n,e),n.Ia.size===0&&(i.O_()?i.L_():Ll(n)&&n.Ra.set("Unknown"))}function av(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}au(t).Y_(e)}function k2(t,e){t.Va.Ue(e),au(t).Z_(e)}function ov(t){t.Va=new LM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),au(t).start(),t.Ra.ua()}function lv(t){return Ll(t)&&!au(t).x_()&&t.Ia.size>0}function Ll(t){return Ye(t).Ea.size===0}function V2(t){t.Va=void 0}async function UO(t){t.Ra.set("Online")}async function zO(t){t.Ia.forEach(((e,n)=>{av(t,e)}))}async function FO(t,e){V2(t),lv(t)?(t.Ra.ha(e),ov(t)):t.Ra.set("Unknown")}async function HO(t,e,n){if(t.Ra.set("Online"),e instanceof w2&&e.state===2&&e.cause)try{await(async function(a,c){const u=c.cause;for(const p of c.targetIds)a.Ia.has(p)&&(await a.remoteSyncer.rejectListen(p,u),a.Ia.delete(p),a.Va.removeTarget(p))})(t,e)}catch(i){Pe(Rl,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await pm(t,i)}else if(e instanceof Hf?t.Va.Ze(e):e instanceof b2?t.Va.st(e):t.Va.tt(e),!n.isEqual($e.min()))try{const i=await L2(t.localStore);n.compareTo(i)>=0&&await(function(c,u){const p=c.Va.Tt(u);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const x=c.Ia.get(_);x&&c.Ia.set(_,x.withResumeToken(y.resumeToken,u))}})),p.targetMismatches.forEach(((y,_)=>{const x=c.Ia.get(y);if(!x)return;c.Ia.set(y,x.withResumeToken(Bn.EMPTY_BYTE_STRING,x.snapshotVersion)),k2(c,y);const T=new _o(x.target,y,_,x.sequenceNumber);av(c,T)})),c.remoteSyncer.applyRemoteEvent(p)})(t,n)}catch(i){Pe(Rl,"Failed to raise snapshot:",i),await pm(t,i)}}async function pm(t,e,n){if(!su(e))throw e;t.Ea.add(1),await sd(t),t.Ra.set("Offline"),n||(n=()=>L2(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Pe(Rl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Um(t)}))}function B2(t,e){return e().catch((n=>pm(t,n,e)))}async function zm(t){const e=Ye(t),n=Ro(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:G0;for(;qO(e);)try{const a=await SO(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,GO(e,a)}catch(a){await pm(e,a)}U2(e)&&z2(e)}function qO(t){return Ll(t)&&t.Ta.length<10}function GO(t,e){t.Ta.push(e);const n=Ro(t);n.O_()&&n.X_&&n.ea(e.mutations)}function U2(t){return Ll(t)&&!Ro(t).x_()&&t.Ta.length>0}function z2(t){Ro(t).start()}async function ZO(t){Ro(t).ra()}async function WO(t){const e=Ro(t);for(const n of t.Ta)e.ea(n.mutations)}async function KO(t,e,n){const i=t.Ta.shift(),a=Q0.from(i,e,n);await B2(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await zm(t)}async function $O(t,e){e&&Ro(t).X_&&await(async function(i,a){if((function(u){return PM(u)&&u!==pe.ABORTED})(a.code)){const c=i.Ta.shift();Ro(i).B_(),await B2(i,(()=>i.remoteSyncer.rejectFailedWrite(c.batchId,a))),await zm(i)}})(t,e),U2(t)&&z2(t)}async function CT(t,e){const n=Ye(t);n.asyncQueue.verifyOperationInProgress(),Pe(Rl,"RemoteStore received new credentials");const i=Ll(n);n.Ea.add(3),await sd(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Um(n)}async function YO(t,e){const n=Ye(t);e?(n.Ea.delete(2),await Um(n)):e||(n.Ea.add(2),await sd(n),n.Ra.set("Unknown"))}function au(t){return t.ma||(t.ma=(function(n,i,a){const c=Ye(n);return c.sa(),new DO(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)})(t.datastore,t.asyncQueue,{Xo:UO.bind(null,t),t_:zO.bind(null,t),r_:FO.bind(null,t),H_:HO.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),lv(t)?ov(t):t.Ra.set("Unknown")):(await t.ma.stop(),V2(t))}))),t.ma}function Ro(t){return t.fa||(t.fa=(function(n,i,a){const c=Ye(n);return c.sa(),new MO(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:ZO.bind(null,t),r_:$O.bind(null,t),ta:WO.bind(null,t),na:KO.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await zm(t)):(await t.fa.stop(),t.Ta.length>0&&(Pe(Rl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,n,i,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=c,this.deferred=new ua,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,c){const u=Date.now()+i,p=new cv(e,n,u,a,c);return p.start(i),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uv(t,e){if(pa("AsyncQueue",`${e}: ${t}`),su(t))return new Ne(pe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{static emptySet(e){return new Oc(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ve.comparator(n.key,i.key):(n,i)=>Ve.comparator(n.key,i.key),this.keyedMap=fh(),this.sortedSet=new Zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=i.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Oc;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(){this.ga=new Zt(Ve.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ge(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Zc{constructor(e,n,i,a,c,u,p,y,_){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,n,i,a,c){const u=[];return n.forEach((p=>{u.push({type:0,doc:p})})),new Zc(e,n,Oc.emptySet(n),u,i,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class QO{constructor(){this.queries=PT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Ye(n),c=a.queries;a.queries=PT(),c.forEach(((u,p)=>{for(const y of p.Sa)y.onError(i)}))})(this,new Ne(pe.ABORTED,"Firestore shutting down"))}}function PT(){return new Il((t=>o2(t)),Dm)}async function F2(t,e){const n=Ye(t);let i=3;const a=e.query;let c=n.queries.get(a);c?!c.ba()&&e.Da()&&(i=2):(c=new XO,i=e.Da()?0:1);try{switch(i){case 0:c.wa=await n.onListen(a,!0);break;case 1:c.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const p=uv(u,`Initialization of query '${Ec(e.query)}' failed`);return void e.onError(p)}n.queries.set(a,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&hv(n)}async function H2(t,e){const n=Ye(t),i=e.query;let a=3;const c=n.queries.get(i);if(c){const u=c.Sa.indexOf(e);u>=0&&(c.Sa.splice(u,1),c.Sa.length===0?a=e.Da()?0:1:!c.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function JO(t,e){const n=Ye(t);let i=!1;for(const a of e){const c=a.query,u=n.queries.get(c);if(u){for(const p of u.Sa)p.Fa(a)&&(i=!0);u.wa=a}}i&&hv(n)}function ek(t,e,n){const i=Ye(t),a=i.queries.get(e);if(a)for(const c of a.Sa)c.onError(n);i.queries.delete(e)}function hv(t){t.Ca.forEach((e=>{e.next()}))}var Gy,jT;(jT=Gy||(Gy={})).Ma="default",jT.Cache="cache";class q2{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Zc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Zc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Gy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e){this.key=e}}class Z2{constructor(e){this.key=e}}class tk{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ut(),this.mutatedKeys=ut(),this.eu=l2(e),this.tu=new Oc(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new RT,a=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,u=a,p=!1;const y=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,_=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((x,T)=>{const A=a.get(x),D=Mm(this.query,T)?T:null,j=!!A&&this.mutatedKeys.has(A.key),F=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let k=!1;A&&D?A.data.isEqual(D.data)?j!==F&&(i.track({type:3,doc:D}),k=!0):this.su(A,D)||(i.track({type:2,doc:D}),k=!0,(y&&this.eu(D,y)>0||_&&this.eu(D,_)<0)&&(p=!0)):!A&&D?(i.track({type:0,doc:D}),k=!0):A&&!D&&(i.track({type:1,doc:A}),k=!0,(y||_)&&(p=!0)),k&&(D?(u=u.add(D),c=F?c.add(x):c.delete(x)):(u=u.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const x=this.query.limitType==="F"?u.last():u.first();u=u.delete(x.key),c=c.delete(x.key),i.track({type:1,doc:x})}return{tu:u,iu:i,Cs:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((x,T)=>(function(D,j){const F=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{Rt:k})}};return F(D)-F(j)})(x.type,T.type)||this.eu(x.doc,T.doc))),this.ou(i),a=a??!1;const p=n&&!a?this._u():[],y=this.Xa.size===0&&this.current&&!a?1:0,_=y!==this.Za;return this.Za=y,u.length!==0||_?{snapshot:new Zc(this.query,e.tu,c,u,e.mutatedKeys,y===0,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new RT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ut(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new Z2(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new G2(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=ut();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Zc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dv="SyncEngine";class nk{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class ik{constructor(e){this.key=e,this.hu=!1}}class sk{constructor(e,n,i,a,c,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Il((p=>o2(p)),Dm),this.Iu=new Map,this.Eu=new Set,this.du=new Zt(Ve.comparator),this.Au=new Map,this.Ru=new tv,this.Vu={},this.mu=new Map,this.fu=Gc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rk(t,e,n=!0){const i=Q2(t);let a;const c=i.Tu.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.lu()):a=await W2(i,e,n,!0),a}async function ak(t,e){const n=Q2(t);await W2(n,e,!0,!1)}async function W2(t,e,n,i){const a=await AO(t.localStore,xr(e)),c=a.targetId,u=t.sharedClientState.addLocalQueryTarget(c,n);let p;return i&&(p=await ok(t,e,c,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&O2(t.remoteStore,a),p}async function ok(t,e,n,i,a){t.pu=(T,A,D)=>(async function(F,k,$,Y){let X=k.view.ru($);X.Cs&&(X=await TT(F.localStore,k.query,!1).then((({documents:z})=>k.view.ru(z,X))));const ve=Y&&Y.targetChanges.get(k.targetId),he=Y&&Y.targetMismatches.get(k.targetId)!=null,we=k.view.applyChanges(X,F.isPrimaryClient,ve,he);return LT(F,k.targetId,we.au),we.snapshot})(t,T,A,D);const c=await TT(t.localStore,e,!0),u=new tk(e,c.Qs),p=u.ru(c.documents),y=id.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),_=u.applyChanges(p,t.isPrimaryClient,y);LT(t,n,_.au);const x=new nk(e,n,u);return t.Tu.set(e,x),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),_.snapshot}async function lk(t,e,n){const i=Ye(t),a=i.Tu.get(e),c=i.Iu.get(a.targetId);if(c.length>1)return i.Iu.set(a.targetId,c.filter((u=>!Dm(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Hy(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&rv(i.remoteStore,a.targetId),Zy(i,a.targetId)})).catch(iu)):(Zy(i,a.targetId),await Hy(i.localStore,a.targetId,!0))}async function ck(t,e){const n=Ye(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),rv(n.remoteStore,i.targetId))}async function uk(t,e,n){const i=yk(t);try{const a=await(function(u,p){const y=Ye(u),_=jt.now(),x=p.reduce(((D,j)=>D.add(j.key)),ut());let T,A;return y.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let j=ga(),F=ut();return y.Ns.getEntries(D,x).next((k=>{j=k,j.forEach((($,Y)=>{Y.isValidDocument()||(F=F.add($))}))})).next((()=>y.localDocuments.getOverlayedDocuments(D,j))).next((k=>{T=k;const $=[];for(const Y of p){const X=SM(Y,T.get(Y.key).overlayedDocument);X!=null&&$.push(new Mo(Y.key,X,JS(X.value.mapValue),qs.exists(!0)))}return y.mutationQueue.addMutationBatch(D,_,$,p)})).next((k=>{A=k;const $=k.applyToLocalDocumentSet(T,F);return y.documentOverlayCache.saveOverlays(D,k.batchId,$)}))})).then((()=>({batchId:A.batchId,changes:u2(T)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(u,p,y){let _=u.Vu[u.currentUser.toKey()];_||(_=new Zt(ct)),_=_.insert(p,y),u.Vu[u.currentUser.toKey()]=_})(i,a.batchId,n),await rd(i,a.changes),await zm(i.remoteStore)}catch(a){const c=uv(a,"Failed to persist write");n.reject(c)}}async function K2(t,e){const n=Ye(t);try{const i=await TO(n.localStore,e);e.targetChanges.forEach(((a,c)=>{const u=n.Au.get(c);u&&(_t(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?_t(u.hu,14607):a.removedDocuments.size>0&&(_t(u.hu,42227),u.hu=!1))})),await rd(n,i,e)}catch(i){await iu(i)}}function IT(t,e,n){const i=Ye(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((c,u)=>{const p=u.view.va(e);p.snapshot&&a.push(p.snapshot)})),(function(u,p){const y=Ye(u);y.onlineState=p;let _=!1;y.queries.forEach(((x,T)=>{for(const A of T.Sa)A.va(p)&&(_=!0)})),_&&hv(y)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function hk(t,e,n){const i=Ye(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),c=a&&a.key;if(c){let u=new Zt(Ve.comparator);u=u.insert(c,Kn.newNoDocument(c,$e.min()));const p=ut().add(c),y=new Vm($e.min(),new Map,new Zt(ct),u,p);await K2(i,y),i.du=i.du.remove(c),i.Au.delete(e),fv(i)}else await Hy(i.localStore,e,!1).then((()=>Zy(i,e,n))).catch(iu)}async function dk(t,e){const n=Ye(t),i=e.batch.batchId;try{const a=await wO(n.localStore,e);Y2(n,i,null),$2(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await rd(n,a)}catch(a){await iu(a)}}async function fk(t,e,n){const i=Ye(t);try{const a=await(function(u,p){const y=Ye(u);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let x;return y.mutationQueue.lookupMutationBatch(_,p).next((T=>(_t(T!==null,37113),x=T.keys(),y.mutationQueue.removeMutationBatch(_,T)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,x,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,x))).next((()=>y.localDocuments.getDocuments(_,x)))}))})(i.localStore,e);Y2(i,e,n),$2(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await rd(i,a)}catch(a){await iu(a)}}function $2(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Y2(t,e,n){const i=Ye(t);let a=i.Vu[i.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function Zy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||X2(t,i)}))}function X2(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(rv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),fv(t))}function LT(t,e,n){for(const i of n)i instanceof G2?(t.Ru.addReference(i.key,e),mk(t,i)):i instanceof Z2?(Pe(dv,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||X2(t,i.key)):Ge(19791,{wu:i})}function mk(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(Pe(dv,"New document in limbo: "+n),t.Eu.add(i),fv(t))}function fv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ve(Pt.fromString(e)),i=t.fu.next();t.Au.set(i,new ik(n)),t.du=t.du.insert(n,i),O2(t.remoteStore,new _o(xr(Y0(n.path)),i,"TargetPurposeLimboResolution",jm.ce))}}async function rd(t,e,n){const i=Ye(t),a=[],c=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((p,y)=>{u.push(i.pu(y,e,n).then((_=>{if((_||n)&&i.isPrimaryClient){const x=_?!_.fromCache:n?.targetChanges.get(y.targetId)?.current;i.sharedClientState.updateQueryState(y.targetId,x?"current":"not-current")}if(_){a.push(_);const x=iv.As(y.targetId,_);c.push(x)}})))})),await Promise.all(u),i.Pu.H_(a),await(async function(y,_){const x=Ye(y);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ye.forEach(_,(A=>ye.forEach(A.Es,(D=>x.persistence.referenceDelegate.addReference(T,A.targetId,D))).next((()=>ye.forEach(A.ds,(D=>x.persistence.referenceDelegate.removeReference(T,A.targetId,D)))))))))}catch(T){if(!su(T))throw T;Pe(sv,"Failed to update sequence numbers: "+T)}for(const T of _){const A=T.targetId;if(!T.fromCache){const D=x.Ms.get(A),j=D.snapshotVersion,F=D.withLastLimboFreeSnapshotVersion(j);x.Ms=x.Ms.insert(A,F)}}})(i.localStore,c))}async function pk(t,e){const n=Ye(t);if(!n.currentUser.isEqual(e)){Pe(dv,"User change. New user:",e.toKey());const i=await I2(n.localStore,e);n.currentUser=e,(function(c,u){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new Ne(pe.CANCELLED,u))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await rd(n,i.Ls)}}function gk(t,e){const n=Ye(t),i=n.Au.get(e);if(i&&i.hu)return ut().add(i.key);{let a=ut();const c=n.Iu.get(e);if(!c)return a;for(const u of c){const p=n.Tu.get(u);a=a.unionWith(p.view.nu)}return a}}function Q2(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=K2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hk.bind(null,e),e.Pu.H_=JO.bind(null,e.eventManager),e.Pu.yu=ek.bind(null,e.eventManager),e}function yk(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fk.bind(null,e),e}class gm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return bO(this.persistence,new vO,e.initialUser,this.serializer)}Cu(e){return new j2(nv.mi,this.serializer)}Du(e){return new CO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gm.provider={build:()=>new gm};class vk extends gm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){_t(this.persistence.referenceDelegate instanceof mm,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new iO(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ci.withCacheSize(this.cacheSizeBytes):Ci.DEFAULT;return new j2((i=>mm.mi(i,n)),this.serializer)}}class Wy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>IT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=pk.bind(null,this.syncEngine),await YO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new QO})()}createDatastore(e){const n=Bm(e.databaseInfo.databaseId),i=(function(c){return new LO(c)})(e.databaseInfo);return(function(c,u,p,y){return new kO(c,u,p,y)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,c,u,p){return new BO(i,a,c,u,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>IT(this.syncEngine,n,0)),(function(){return AT.v()?new AT:new RO})())}createSyncEngine(e,n){return(function(a,c,u,p,y,_,x){const T=new sk(a,c,u,p,y,_);return x&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Ye(n);Pe(Rl,"RemoteStore shutting down."),i.Ea.add(5),await sd(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Wy.provider={build:()=>new Wy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):pa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="FirestoreClient";class _k{constructor(e,n,i,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=Wn.UNAUTHENTICATED,this.clientId=q0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,(async u=>{Pe(Po,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(Pe(Po,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ua;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=uv(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function ty(t,e){t.asyncQueue.verifyOperationInProgress(),Pe(Po,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await I2(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function DT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await xk(t);Pe(Po,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>CT(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>CT(e.remoteStore,a))),t._onlineComponents=e}async function xk(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Pe(Po,"Using user provided OfflineComponentProvider");try{await ty(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===pe.FAILED_PRECONDITION||a.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;zc("Error using user provided cache. Falling back to memory cache: "+n),await ty(t,new gm)}}else Pe(Po,"Using default OfflineComponentProvider"),await ty(t,new vk(void 0));return t._offlineComponents}async function eA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Pe(Po,"Using user provided OnlineComponentProvider"),await DT(t,t._uninitializedComponentsProvider._online)):(Pe(Po,"Using default OnlineComponentProvider"),await DT(t,new Wy))),t._onlineComponents}function bk(t){return eA(t).then((e=>e.syncEngine))}async function tA(t){const e=await eA(t),n=e.eventManager;return n.onListen=rk.bind(null,e.syncEngine),n.onUnlisten=lk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ak.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ck.bind(null,e.syncEngine),n}function wk(t,e,n={}){const i=new ua;return t.asyncQueue.enqueueAndForget((async()=>(function(c,u,p,y,_){const x=new J2({next:A=>{x.Nu(),u.enqueueAndForget((()=>H2(c,T)));const D=A.docs.has(p);!D&&A.fromCache?_.reject(new Ne(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&A.fromCache&&y&&y.source==="server"?_.reject(new Ne(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(A)},error:A=>_.reject(A)}),T=new q2(Y0(p.path),x,{includeMetadataChanges:!0,qa:!0});return F2(c,T)})(await tA(t),t.asyncQueue,e,n,i))),i.promise}function Tk(t,e,n={}){const i=new ua;return t.asyncQueue.enqueueAndForget((async()=>(function(c,u,p,y,_){const x=new J2({next:A=>{x.Nu(),u.enqueueAndForget((()=>H2(c,T))),A.fromCache&&y.source==="server"?_.reject(new Ne(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(A)},error:A=>_.reject(A)}),T=new q2(p,x,{includeMetadataChanges:!0,qa:!0});return F2(c,T)})(await tA(t),t.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="firestore.googleapis.com",OT=!0;class kT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iA,this.ssl=OT}else this.host=e.host,this.ssl=e.ssl??OT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=P2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tO)throw new Ne(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nA(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ne(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ne(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ne(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fm{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new CD;switch(i.type){case"firstParty":return new ID(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ne(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=MT.get(n);i&&(Pe("ComponentProvider","Removing Datastore"),MT.delete(n),i.terminate())})(this),Promise.resolve()}}function Ek(t,e,n,i={}){t=Ar(t,Fm);const a=Jc(e),c=t._getSettings(),u={...c,emulatorOptions:t._getEmulatorOptions()},p=`${e}:${n}`;a&&(qE(`https://${p}`),GE("Firestore",!0)),c.host!==iA&&c.host!==p&&zc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:a,emulatorOptions:i};if(!El(y,u)&&(t._setSettings(y),i.mockUserToken)){let _,x;if(typeof i.mockUserToken=="string")_=i.mockUserToken,x=Wn.MOCK_USER;else{_=Mj(i.mockUserToken,t._app?.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new Ne(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Wn(T)}t._authCredentials=new RD(new zS(_,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Dl(this.firestore,e,this._query)}}class sn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Eo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}toJSON(){return{type:sn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(td(n,sn._jsonSchema))return new sn(e,i||null,new Ve(Pt.fromString(n.referencePath)))}}sn._jsonSchemaVersion="firestore/documentReference/1.0",sn._jsonSchema={type:un("string",sn._jsonSchemaVersion),referencePath:un("string")};class Eo extends Dl{constructor(e,n,i){super(e,n,Y0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new Ve(e))}withConverter(e){return new Eo(this.firestore,e,this._path)}}function Uh(t,e,...n){if(t=vn(t),FS("collection","path",e),t instanceof Fm){const i=Pt.fromString(e,...n);return Yw(i),new Eo(t,null,i)}{if(!(t instanceof sn||t instanceof Eo))throw new Ne(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Pt.fromString(e,...n));return Yw(i),new Eo(t.firestore,null,i)}}function ou(t,e,...n){if(t=vn(t),arguments.length===1&&(e=q0.newId()),FS("doc","path",e),t instanceof Fm){const i=Pt.fromString(e,...n);return $w(i),new sn(t,null,new Ve(i))}{if(!(t instanceof sn||t instanceof Eo))throw new Ne(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Pt.fromString(e,...n));return $w(i),new sn(t.firestore,t instanceof Eo?t.converter:null,new Ve(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="AsyncQueue";class BT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new D2(this,"async_queue_retry"),this._c=()=>{const i=ey();i&&Pe(VT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=ey();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ey();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ua;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!su(e))throw e;Pe(VT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,pa("INTERNAL UNHANDLED ERROR: ",UT(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=cv.createAndSchedule(this,e,n,i,(c=>this.hc(c)));return this.tc.push(a),a}uc(){this.nc&&Ge(47125,{Pc:UT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function UT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class lu extends Fm{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new BT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new BT(e),this._firestoreClient=void 0,await e}}}function sA(t,e){const n=typeof t=="object"?t:$E(),i=typeof t=="string"?t:cm,a=D0(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const c=Lj("firestore");c&&Ek(a,...c)}return a}function mv(t){if(t._terminated)throw new Ne(pe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Sk(t),t._firestoreClient}function Sk(t){const e=t._freezeSettings(),n=(function(a,c,u,p){return new $D(a,c,u,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,nA(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new _k(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bs(Bn.fromBase64String(e))}catch(n){throw new Ne(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bs(Bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:bs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(td(e,bs._jsonSchema))return bs.fromBase64String(e.bytes)}}bs._jsonSchemaVersion="firestore/bytes/1.0",bs._jsonSchema={type:un("string",bs._jsonSchemaVersion),bytes:un("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ne(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ne(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ne(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wr._jsonSchemaVersion}}static fromJSON(e){if(td(e,wr._jsonSchema))return new wr(e.latitude,e.longitude)}}wr._jsonSchemaVersion="firestore/geoPoint/1.0",wr._jsonSchema={type:un("string",wr._jsonSchemaVersion),latitude:un("number"),longitude:un("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==a[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Tr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(td(e,Tr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Tr(e.vectorValues);throw new Ne(pe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Tr._jsonSchemaVersion="firestore/vectorValue/1.0",Tr._jsonSchema={type:un("string",Tr._jsonSchemaVersion),vectorValues:un("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=/^__.*__$/;class Nk{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Mo(e,this.data,this.fieldMask,n,this.fieldTransforms):new nd(e,this.data,n,this.fieldTransforms)}}class rA{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Mo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function aA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge(40011,{Ac:t})}}class pv{constructor(e,n,i,a,c,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new pv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ym(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(aA(this.Ac)&&Ak.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Ck{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Bm(e)}Cc(e,n,i,a=!1){return new pv({Ac:e,methodName:n,Dc:i,path:Vn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gm(t){const e=t._freezeSettings(),n=Bm(t._databaseId);return new Ck(t._databaseId,!!e.ignoreUndefinedProperties,n)}function oA(t,e,n,i,a,c={}){const u=t.Cc(c.merge||c.mergeFields?2:0,e,n,a);yv("Data must be an object, but it was:",u,i);const p=lA(i,u);let y,_;if(c.merge)y=new Qi(u.fieldMask),_=u.fieldTransforms;else if(c.mergeFields){const x=[];for(const T of c.mergeFields){const A=Ky(e,T,n);if(!u.contains(A))throw new Ne(pe.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);uA(x,A)||x.push(A)}y=new Qi(x),_=u.fieldTransforms.filter((T=>y.covers(T.field)))}else y=null,_=u.fieldTransforms;return new Nk(new Ri(p),y,_)}class Zm extends qm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zm}}class gv extends qm{_toFieldTransform(e){return new bM(e.path,new kh)}isEqual(e){return e instanceof gv}}function Rk(t,e,n,i){const a=t.Cc(1,e,n);yv("Data must be an object, but it was:",a,i);const c=[],u=Ri.empty();Do(i,((y,_)=>{const x=vv(e,y,n);_=vn(_);const T=a.yc(x);if(_ instanceof Zm)c.push(x);else{const A=ad(_,T);A!=null&&(c.push(x),u.set(x,A))}}));const p=new Qi(c);return new rA(u,p,a.fieldTransforms)}function Pk(t,e,n,i,a,c){const u=t.Cc(1,e,n),p=[Ky(e,i,n)],y=[a];if(c.length%2!=0)throw new Ne(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<c.length;A+=2)p.push(Ky(e,c[A])),y.push(c[A+1]);const _=[],x=Ri.empty();for(let A=p.length-1;A>=0;--A)if(!uA(_,p[A])){const D=p[A];let j=y[A];j=vn(j);const F=u.yc(D);if(j instanceof Zm)_.push(D);else{const k=ad(j,F);k!=null&&(_.push(D),x.set(D,k))}}const T=new Qi(_);return new rA(x,T,u.fieldTransforms)}function jk(t,e,n,i=!1){return ad(n,t.Cc(i?4:3,e))}function ad(t,e){if(cA(t=vn(t)))return yv("Unsupported field value:",e,t),lA(t,e);if(t instanceof qm)return(function(i,a){if(!aA(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(a);c&&a.fieldTransforms.push(c)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const c=[];let u=0;for(const p of i){let y=ad(p,a.wc(u));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),u++}return{arrayValue:{values:c}}})(t,e)}return(function(i,a){if((i=vn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return vM(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=jt.fromDate(i);return{timestampValue:fm(a.serializer,c)}}if(i instanceof jt){const c=new jt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:fm(a.serializer,c)}}if(i instanceof wr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof bs)return{bytesValue:T2(a.serializer,i._byteString)};if(i instanceof sn){const c=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(c))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ev(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Tr)return(function(u,p){return{mapValue:{fields:{[XS]:{stringValue:QS},[um]:{arrayValue:{values:u.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return X0(p.serializer,_)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${Pm(i)}`)})(t,e)}function lA(t,e){const n={};return GS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Do(t,((i,a)=>{const c=ad(a,e.mc(i));c!=null&&(n[i]=c)})),{mapValue:{fields:n}}}function cA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof jt||t instanceof wr||t instanceof bs||t instanceof sn||t instanceof qm||t instanceof Tr)}function yv(t,e,n){if(!cA(n)||!HS(n)){const i=Pm(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function Ky(t,e,n){if((e=vn(e))instanceof Hm)return e._internalPath;if(typeof e=="string")return vv(t,e);throw ym("Field path arguments must be of type string or ",t,!1,void 0,n)}const Ik=new RegExp("[~\\*/\\[\\]]");function vv(t,e,n){if(e.search(Ik)>=0)throw ym(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hm(...e.split("."))._internalPath}catch{throw ym(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ym(t,e,n,i,a){const c=i&&!i.isEmpty(),u=a!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||u)&&(y+=" (found",c&&(y+=` in field ${i}`),u&&(y+=` in document ${a}`),y+=")"),new Ne(pe.INVALID_ARGUMENT,p+t+y)}function uA(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,n,i,a,c){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Lk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Wm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Lk extends hA{data(){return super.data()}}function Wm(t,e){return typeof e=="string"?vv(t,e):e instanceof Hm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ne(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _v{}class dA extends _v{}function fA(t,e,...n){let i=[];e instanceof _v&&i.push(e),i=i.concat(n),(function(c){const u=c.filter((y=>y instanceof xv)).length,p=c.filter((y=>y instanceof Km)).length;if(u>1||u>0&&p>0)throw new Ne(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class Km extends dA{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Km(e,n,i)}_apply(e){const n=this._parse(e);return mA(e._query,n),new Dl(e.firestore,e.converter,ky(e._query,n))}_parse(e){const n=Gm(e.firestore);return(function(c,u,p,y,_,x,T){let A;if(_.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new Ne(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){FT(T,x);const j=[];for(const F of T)j.push(zT(y,c,F));A={arrayValue:{values:j}}}else A=zT(y,c,T)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||FT(T,x),A=jk(p,u,T,x==="in"||x==="not-in");return cn.create(_,x,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Mk(t,e,n){const i=e,a=Wm("where",t);return Km._create(a,i,n)}class xv extends _v{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new xv(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Ws.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,c){let u=a;const p=c.getFlattenedFilters();for(const y of p)mA(u,y),u=ky(u,y)})(e._query,n),new Dl(e.firestore,e.converter,ky(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bv extends dA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new bv(e,n)}_apply(e){const n=(function(a,c,u){if(a.startAt!==null)throw new Ne(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ne(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Oh(c,u)})(e._query,this._field,this._direction);return new Dl(e.firestore,e.converter,(function(a,c){const u=a.explicitOrderBy.concat([c]);return new ru(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function Ok(t,e="asc"){const n=e,i=Wm("orderBy",t);return bv._create(i,n)}function zT(t,e,n){if(typeof(n=vn(n))=="string"){if(n==="")throw new Ne(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!a2(e)&&n.indexOf("/")!==-1)throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Pt.fromString(n));if(!Ve.isDocumentKey(i))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return sT(t,new Ve(i))}if(n instanceof sn)return sT(t,n._key);throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pm(n)}.`)}function FT(t,e){if(!Array.isArray(t)||t.length===0)throw new Ne(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mA(t,e){const n=(function(a,c){for(const u of a)for(const p of u.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ne(pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ne(pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class kk{convertValue(e,n="none"){switch(Co(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(No(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Do(e,((a,c)=>{i[a]=this.convertValue(c,n)})),i}convertVectorValue(e){const n=e.fields?.[um].arrayValue?.values?.map((i=>nn(i.doubleValue)));return new Tr(n)}convertGeoPoint(e){return new wr(nn(e.latitude),nn(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Lm(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Lh(e));default:return null}}convertTimestamp(e){const n=Ao(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Pt.fromString(e);_t(R2(i),9688,{name:e});const a=new Dh(i.get(1),i.get(3)),c=new Ve(i.popFirst(5));return a.isEqual(n)||pa(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class ph{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xl extends hA{constructor(e,n,i,a,c,u){super(e,n,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Wm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(pe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=xl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}xl._jsonSchemaVersion="firestore/documentSnapshot/1.0",xl._jsonSchema={type:un("string",xl._jsonSchemaVersion),bundleSource:un("string","DocumentSnapshot"),bundleName:un("string"),bundle:un("string")};class qf extends xl{data(e={}){return super.data(e)}}class kc{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new ph(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new qf(this._firestore,this._userDataWriter,i.key,i,new ph(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ne(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,c){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((p=>{const y=new qf(a._firestore,a._userDataWriter,p.doc.key,p.doc,new ph(a._snapshot.mutatedKeys.has(p.doc.key),a._snapshot.fromCache),a.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new qf(a._firestore,a._userDataWriter,p.doc.key,p.doc,new ph(a._snapshot.mutatedKeys.has(p.doc.key),a._snapshot.fromCache),a.query.converter);let _=-1,x=-1;return p.type!==0&&(_=u.indexOf(p.doc.key),u=u.delete(p.doc.key)),p.type!==1&&(u=u.add(p.doc),x=u.indexOf(p.doc.key)),{type:Vk(p.type),doc:y,oldIndex:_,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(pe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=kc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=q0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),i.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),a.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Vk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(t){t=Ar(t,sn);const e=Ar(t.firestore,lu);return wk(mv(e),t._key).then((n=>zk(e,t,n)))}kc._jsonSchemaVersion="firestore/querySnapshot/1.0",kc._jsonSchema={type:un("string",kc._jsonSchemaVersion),bundleSource:un("string","QuerySnapshot"),bundleName:un("string"),bundle:un("string")};class gA extends kk{constructor(e){super(),this.firestore=e}convertBytes(e){return new bs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function $y(t){t=Ar(t,Dl);const e=Ar(t.firestore,lu),n=mv(e),i=new gA(e);return Dk(t._query),Tk(n,t._query).then((a=>new kc(e,i,t,a)))}function Bk(t,e,n){t=Ar(t,sn);const i=Ar(t.firestore,lu),a=pA(t.converter,e);return Tv(i,[oA(Gm(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,qs.none())])}function Uk(t,e,n,...i){t=Ar(t,sn);const a=Ar(t.firestore,lu),c=Gm(a);let u;return u=typeof(e=vn(e))=="string"||e instanceof Hm?Pk(c,"updateDoc",t._key,e,n,i):Rk(c,"updateDoc",t._key,e),Tv(a,[u.toMutation(t._key,qs.exists(!0))])}function HT(t,e){const n=Ar(t.firestore,lu),i=ou(t),a=pA(t.converter,e);return Tv(n,[oA(Gm(t.firestore),"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,qs.exists(!1))]).then((()=>i))}function Tv(t,e){return(function(i,a){const c=new ua;return i.asyncQueue.enqueueAndForget((async()=>uk(await bk(i),a,c))),c.promise})(mv(t),e)}function zk(t,e,n){const i=n.docs.get(e._key),a=new gA(t);return new xl(t,a,e._key,i,new ph(n.hasPendingWrites,n.fromCache),e.converter)}function Yy(){return new gv("serverTimestamp")}(function(e,n=!0){(function(a){nu=a})(eu),Bc(new Sl("firestore",((i,{instanceIdentifier:a,options:c})=>{const u=i.getProvider("app").getImmediate(),p=new lu(new PD(i.getProvider("auth-internal")),new LD(u,i.getProvider("app-check-internal")),(function(_,x){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new Ne(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dh(_.options.projectId,x)})(u,a),u);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),wo(Gw,Zw,e),wo(Gw,Zw,"esm2020")})();const Fk={apiKey:"AIzaSyD106Y2G0g9sVQBjjmXXRicLaQpSGIGA_Q",authDomain:"fruitbunch-f1f23.firebaseapp.com",projectId:"fruitbunch-f1f23",storageBucket:"fruitbunch-f1f23.firebasestorage.app",messagingSenderId:"794545150234",appId:"1:794545150234:web:69f9820a661e0750ce34a3",measurementId:"G-JNY3T9LHLW"},yA=KE(Fk),cu=LS(yA),ha=sA(yA),Hk=({children:t})=>{const e=Ys(),[n,i]=V.useState(null),[a,c]=V.useState(!0);return V.useEffect(()=>{const u=wS(cu,p=>{i(p),c(!1)});return()=>u()},[]),a?f.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):n?t:f.jsx(IE,{to:"/login",state:{from:e},replace:!0})},qk=({children:t})=>{const[e,n]=V.useState(null),[i,a]=V.useState(!0);return V.useEffect(()=>{const c=wS(cu,async u=>{if(!u){n(!1),a(!1);return}const p=ou(ha,"admins",u.uid),y=await wv(p);n(y.exists()),a(!1)});return()=>c()},[]),i?f.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):e?t:f.jsx(IE,{to:"/",replace:!0})},vA=V.createContext(),Gk=()=>{const t=localStorage.getItem("cart");return t?JSON.parse(t):{items:[],total:0}},Zk=(t,e)=>{switch(e.type){case"ADD_TO_CART":const n=t.items.findIndex(u=>u.id===e.payload.id);if(n>=0){const u=[...t.items];return u[n].quantity+=1,{...t,items:u,total:t.total+e.payload.price}}return{...t,items:[...t.items,{...e.payload,quantity:1}],total:t.total+e.payload.price};case"REMOVE_FROM_CART":const i=t.items.find(u=>u.id===e.payload);return{...t,items:t.items.filter(u=>u.id!==e.payload),total:t.total-i.price*i.quantity};case"UPDATE_QUANTITY":const a=t.items.map(u=>u.id===e.payload.id?(e.payload.quantity-u.quantity,{...u,quantity:e.payload.quantity}):u),c=a.reduce((u,p)=>u+p.price*p.quantity,0);return{...t,items:a,total:c};case"CLEAR_CART":return{items:[],total:0};default:return t}},Wk=({children:t})=>{const[e,n]=V.useReducer(Zk,void 0,Gk);V.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);const i=p=>{n({type:"ADD_TO_CART",payload:p})},a=p=>{n({type:"REMOVE_FROM_CART",payload:p})},c=(p,y)=>{if(y<=0){a(p);return}n({type:"UPDATE_QUANTITY",payload:{id:p,quantity:y}})},u=()=>{n({type:"CLEAR_CART"})};return f.jsx(vA.Provider,{value:{cartItems:e.items,cartTotal:e.total,addToCart:i,removeFromCart:a,updateQuantity:c,clearCart:u},children:t})},$m=()=>{const t=V.useContext(vA);if(!t)throw new Error("useCart must be used within a CartProvider");return t},Kk="/fruitbunch/assets/mainlogo-DCHUEAV1.png",$k=()=>{const[t,e]=V.useState(!1),{cartItems:n}=$m(),[i,a]=V.useState(null);V.useEffect(()=>{const u=localStorage.getItem("user");u&&a(JSON.parse(u))},[]);const c=u=>`https://ui-avatars.com/api/?background=43A047&size=130&color=FFF&font-size=0.60&name=${u.charAt(0).toUpperCase()}`;return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"bg-green-800 text-white text-xs lg:text-md py-2",children:f.jsxs("div",{className:"container mx-auto px-4 flex flex-col md:flex-row justify-between items-center",children:[f.jsxs("div",{className:"flex flex-wrap justify-center gap-4 md:gap-6 mb-2 md:mb-0",children:[f.jsxs("span",{className:"flex items-center",children:[f.jsx("i",{className:"fa-solid fa-envelope mr-2"})," fruitbunch.tvm@gmail.com"]}),f.jsxs("span",{className:"flex items-center",children:[f.jsx("i",{className:"fa-solid fa-clock mr-2"})," MON-SAT: 7.30am - 6.00pm"]}),f.jsxs("span",{className:"flex items-center",children:[f.jsx("i",{className:"fa-solid fa-phone mr-2"})," +918807239379"]})]}),f.jsxs("div",{className:"flex space-x-4",children:[f.jsx("a",{href:"#",className:"hover:text-green-200 transition",children:f.jsx("i",{className:"fa-brands fa-instagram"})}),f.jsx("a",{href:"#",className:"hover:text-green-200 transition",children:f.jsx("i",{className:"fa-brands fa-whatsapp"})})]})]})}),f.jsxs("nav",{className:"bg-white shadow-md sticky top-0 z-50",children:[f.jsxs("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[f.jsx(tt,{to:"/",className:"flex items-center",children:f.jsx("img",{src:Kk,alt:"Fruit Bunch",className:"h-14"})}),f.jsxs("div",{className:"hidden md:flex items-center space-x-5 lg:space-x-8 text-sm lg:text-md",children:[f.jsx(ch,{to:"/",className:({isActive:u})=>`font-medium transition ${u?"text-green-600":"text-gray-700 hover:text-green-600"}`,children:"Home"}),f.jsx(ch,{to:"/subscription",className:({isActive:u})=>`font-medium transition ${u?"text-green-600":"text-gray-700 hover:text-green-600"}`,children:"Fruit Bowl Subscription"}),f.jsx(ch,{to:"/corporate",className:({isActive:u})=>`font-medium transition ${u?"text-green-600":"text-gray-700 hover:text-green-600"}`,children:"Corporate Orders"}),f.jsx(ch,{to:"/about",className:({isActive:u})=>`font-medium transition ${u?"text-green-600":"text-gray-700 hover:text-green-600"}`,children:"About Us"}),f.jsx("div",{className:"flex items-center space-x-4",children:i?f.jsxs(f.Fragment,{children:[f.jsxs(tt,{to:"/cart",className:"relative bg-green-100 hover:bg-green-200 text-green-700 px-4 py-2 rounded-md transition flex items-center",children:[f.jsx("i",{className:"fa-solid fa-cart-shopping mr-2"})," Cart",n.length>0&&f.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs",children:n.length})]}),f.jsx(tt,{to:"/profile",className:"flex items-center",children:f.jsx("img",{src:c(i.name||"U"),alt:"User Avatar",className:"w-10 h-10 rounded-full"})})]}):f.jsx(tt,{to:"/login",className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md transition",children:"Login"})})]}),f.jsx("button",{className:"md:hidden text-gray-700 focus:outline-none",onClick:()=>e(!t),children:f.jsx("i",{className:`fa-solid ${t?"fa-xmark":"fa-bars"} text-xl`})})]}),t&&f.jsx("div",{className:"md:hidden bg-white px-4 pb-4",children:f.jsxs("div",{className:"flex flex-col space-y-3",children:[f.jsx(tt,{to:"/",className:"text-gray-700 hover:text-green-600 py-2 transition",children:"Home"}),f.jsx(tt,{to:"/subscription",className:"text-gray-700 hover:text-green-600 py-2 transition",children:"Fruit Bowl Subscription"}),f.jsx(tt,{to:"/corporate",className:"text-gray-700 hover:text-green-600 py-2 transition",children:"Corporate Orders"}),f.jsx(tt,{to:"/about",className:"text-gray-700 hover:text-green-600 py-2 transition",children:"About Us"}),f.jsxs("div",{className:"flex flex-col space-y-2 pt-2 border-t border-gray-200",children:[f.jsx(tt,{to:"/login",className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md text-center transition",children:"Login"}),f.jsxs(tt,{to:"/cart",className:"relative bg-green-100 hover:bg-green-200 text-green-700 px-4 py-2 rounded-md text-center transition flex items-center justify-center",children:[f.jsx("i",{className:"fa-solid fa-cart-shopping mr-2"})," Cart",n.length>0&&f.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs",children:n.length})]})]})]})})]})]})},Yk=()=>f.jsx("footer",{className:"bg-green-900 text-white py-12 px-5 md:px-10 text-xs sm:px-10 lg:text-sm",children:f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"quicklink",children:[f.jsx("h2",{className:"text-sm font-bold mb-4 lg:text-xl",children:"Quick Links"}),f.jsxs("div",{className:"flex flex-col space-y-2",children:[f.jsx(tt,{to:"/",className:"hover:text-green-300 transition",children:"Home"}),f.jsx(tt,{to:"/subscription",className:"hover:text-green-300 transition",children:"Fruit Bowl Subscription"}),f.jsx(tt,{to:"/corporate",className:"hover:text-green-300 transition",children:"Corporate Orders"}),f.jsx(tt,{to:"/about",className:"hover:text-green-300 transition",children:"About Us"}),f.jsx(tt,{to:"/termsandconditions",className:"hover:text-green-300 transition",children:"Terms and Conditions"}),f.jsx(tt,{to:"/privacypolicy",className:"hover:text-green-300 transition",children:"Privacy Policy"})]})]}),f.jsxs("div",{className:"footabout",children:[f.jsx("h2",{className:"text-sm font-bold mb-4 lg:text-xl",children:"Subscription Services"}),f.jsxs("div",{className:"flex flex-col space-y-2",children:[f.jsx("p",{children:"Fruit Bowl"}),f.jsx("p",{children:"Diet Platter"}),f.jsx("p",{children:"Salad Bowls"}),f.jsx("p",{children:"Fresh Juice"})]}),f.jsx("div",{className:"mt-4",children:f.jsx("b",{className:"text-green-300",children:"EAT FRESH. STAY HEALTHY. LIVE BETTER!"})})]}),f.jsxs("div",{className:"contact",children:[f.jsx("h2",{className:"text-sm font-bold mb-4 lg:text-xl",children:"Contact Us"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("i",{className:"fa-solid fa-phone w-5 mr-2"}),f.jsx("span",{children:"+918807239379"})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("i",{className:"fa-solid fa-envelope w-5 mr-2"}),f.jsx("span",{children:"fruitbunch.tvm@gmail.com"})]}),f.jsxs("div",{className:"flex items-start",children:[f.jsx("i",{className:"fa-solid fa-location-dot w-5 mr-2 mt-1"}),f.jsxs("span",{children:["No:59, sarathambal nagar,",f.jsx("br",{})," Tiruvannamalai,",f.jsx("br",{})," Tamil Nadu 606601"]})]})]})]})]}),f.jsx("div",{className:"border-t border-green-800 mt-8 pt-8 text-center",children:f.jsxs("p",{children:["© ",new Date().getFullYear()," Fruit Bunch. All rights reserved."]})})]})}),Xk="/fruitbunch/assets/home-1-DzAgSFnE.png",Qk="/fruitbunch/assets/home-2-D3iDtu3z.png",Jk="/fruitbunch/assets/backbowl1-CMZS9lr5.png",e3="/fruitbunch/assets/sixfruit-n1UQudVg.jpg",_A="/fruitbunch/assets/homeplan-hNcT9G7U.jpg",t3=()=>{const[t,e]=V.useState(0),n=[Qk,Xk,Jk];return V.useEffect(()=>{const i=setInterval(()=>{e(a=>(a+1)%n.length)},4e3);return()=>clearInterval(i)},[]),V.useEffect(()=>{window.AOS&&window.AOS.init({duration:800,easing:"ease-in-out",once:!0})},[]),f.jsxs("div",{className:"overflow-hidden",children:[f.jsx("section",{className:"bg-gradient-to-r from-green-50 to-green-100 py-12 px-5 md:py-20 md:px-10 relative overflow-hidden",children:f.jsxs("div",{className:"container mx-auto px-4 flex flex-col md:flex-row items-center relative z-10",children:[f.jsxs("div",{className:"md:w-1/2 mb-8 md:mb-0 mr-4",children:[f.jsx("h1",{className:"text-3xl lg:text-5xl font-bold text-gray-800 mb-6","data-aos":"fade-up",children:"Fresh Fruit. No Fuss. Just Bunches of Goodness."}),f.jsx("p",{className:"text-base lg:text-lg text-gray-600 mb-8","data-aos":"fade-up","data-aos-delay":"200",children:"Fruit Bunch delivers clean, ready-to-eat fruit bowls straight to your doorstep. It's the simple, tasty, and healthy choice—every single day. Subscribe now and stay fresh, always."}),f.jsx(tt,{to:"/subscription",className:"inline-block bg-green-600 hover:bg-green-700 text-white font-semibold px-6 py-3 rounded-lg transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-1","data-aos":"zoom-in","data-aos-delay":"400",children:"Enjoy fresh cut fruit daily"})]}),f.jsx("div",{className:"md:w-1/2 flex justify-center",children:f.jsxs("div",{className:"relative w-full max-w-md h-[220px] md:h-[280px] lg:h-[400px] overflow-hidden rounded-lg shadow-xl","data-aos":"fade-left","data-aos-delay":"300",children:[n.map((i,a)=>f.jsx("img",{src:i,alt:"Fresh fruits",className:`absolute top-0 left-0 w-full h-full object-cover transition-opacity duration-1000 ease-in-out ${t===a?"opacity-100":"opacity-0"}`},a)),f.jsx("div",{className:"absolute top-4 right-4 bg-white px-3 py-1 rounded-full shadow-md text-sm sm:text-base animate-bounce",children:f.jsx("span",{className:"text-green-600 font-bold",children:"🍎 Fresh!"})})]})})]})}),f.jsx("section",{className:"py-16 px-5 bg-white",children:f.jsx("div",{className:"container mx-auto px-4",children:f.jsxs("div",{className:"flex flex-col md:flex-row items-center md:px-10",children:[f.jsx("div",{className:"md:w-1/2 mb-8 md:mb-0","data-aos":"fade-right","data-aos-delay":"200",children:f.jsxs("div",{className:"relative",children:[f.jsx("img",{src:e3,alt:"Variety of fruits",className:"w-full max-w-md rounded-lg shadow-md mx-auto transform transition-transform duration-700 hover:scale-105"}),f.jsx("div",{className:"absolute -bottom-4 -left-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-md text-sm sm:text-base",children:f.jsx("span",{className:"font-bold",children:"6 Fruits Daily!"})})]})}),f.jsx("div",{className:"md:w-1/2 md:pl-12",children:f.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[{title:"Tropical Refresh: Summer Care Fruit Pack",desc:"Cool down with this hydrating mix of nature's most refreshing fruits, perfect for beating the summer heat.",icon:"🥥"},{title:"Shield Boost: Immuno Care Fruit Pack",desc:"Strengthen your body's natural defenses with this immunity-boosting blend, rich in vitamin C and antioxidants.",icon:"🛡️"},{title:"Nurture Nest: Mother Care Fresh Fruit Pack",desc:"Carefully selected to support maternal health, rich in iron, folate, and essential nutrients.",icon:"👩"},{title:"Glow Mix: Skin & Hair Care Pack",desc:"Let your beauty shine from within with this antioxidant-rich blend for clear skin and healthy hair.",icon:"✨"}].map((i,a)=>f.jsxs("div",{className:"bg-green-50 p-6 rounded-lg transition-all duration-300 hover:shadow-lg hover:bg-green-100 transform hover:-translate-y-1","data-aos":"fade-up","data-aos-delay":a*200,children:[f.jsx("div",{className:"flex items-center mb-3",children:f.jsx("h3",{className:"font-bold text-sm lg:text-xl text-green-800",children:i.title})}),f.jsx("p",{className:"text-xs lg:text-lg text-gray-600",children:i.desc})]},a))})})]})})}),f.jsx("section",{className:"py-16 px-5 md:px-10 bg-green-50 relative overflow-hidden",children:f.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[f.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center text-gray-800 mb-12","data-aos":"fade-up",children:"Best Seller"}),f.jsxs("div",{className:"flex flex-col md:flex-row items-center bg-white rounded-xl shadow-lg overflow-hidden transform transition-all duration-500 hover:shadow-xl","data-aos":"zoom-in",children:[f.jsxs("div",{className:"md:w-1/2 p-6 sm:p-8",children:[f.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-green-700 mb-4","data-aos":"fade-right",children:"6 Days Six Different Variety of Diet Platter"}),f.jsx("ul",{className:"space-y-3 mb-6",children:["Amla 5pcs. Steamed broccoli 150gm Corn+Carrot & Cucumber, Sprouts, Dates + Nuts.","Papaya, Pineapple, Steamed Zucchini 150g + Green Peas (Bell Pepper Onion +Tomato + Sweet corn), Salad Sprouts, Nuts + Seeds.","Dragon fruit Apple, Steamed cabbage & beans 150g + Black eyed bean + Beetroot + Carrot, Sprouts Dates Seeds."].map((i,a)=>f.jsxs("li",{className:"flex items-start transition-transform duration-300 hover:translate-x-2","data-aos":"fade-up","data-aos-delay":a*150,children:[f.jsx("span",{className:"text-green-500 mr-2",children:"•"}),f.jsx("span",{className:"text-sm lg:text-lg",children:i})]},a))}),f.jsx(tt,{to:"/subscription",className:"inline-block bg-green-600 hover:bg-green-700 text-white font-semibold px-6 py-3 md:px-4 md:py-2 rounded-lg transition-all duration-300 transform hover:-translate-y-1 hover:shadow-md","data-aos":"zoom-in",children:"View All Plans"})]}),f.jsx("div",{className:"md:w-1/2","data-aos":"fade-left","data-aos-delay":"200",children:f.jsxs("div",{className:"bg-green-100 p-8 text-center h-full flex flex-col justify-center",children:[f.jsxs("div",{className:"relative inline-block",children:[f.jsx("img",{src:_A,alt:"Balanced Diet Platter",className:"w-full max-w-xs mx-auto rounded-lg mb-4 transform transition-transform duration-700 hover:scale-105"}),f.jsx("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"Popular!"})]}),f.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"BALANCED DIET PLATTER"}),f.jsx("p",{className:"text-xl sm:text-2xl font-bold text-green-700 mb-2",children:"₹3,499/- per month"}),f.jsx("p",{className:"text-gray-600 mb-4",children:"Free delivery"}),f.jsx("div",{className:"flex justify-center items-center text-yellow-400 mb-4",children:[...Array(5)].map((i,a)=>f.jsx("svg",{className:"w-5 h-5 fill-current",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})},a))}),f.jsx(tt,{to:"/subscription",className:"inline-block bg-green-600 hover:bg-green-700 text-white font-semibold px-6 py-2 rounded transition-all duration-300 transform hover:-translate-y-1 hover:shadow-md","data-aos":"zoom-in","data-aos-delay":"200",children:"Subscribe Now"})]})})]})]})})]})},xA="/fruitbunch/assets/basicplan-Bm8xxGeT.jpg",Xy="/fruitbunch/assets/primeplan-scfj7ntK.jpg",bA="/fruitbunch/assets/fruit-7-B0YHmhe4.jpg",n3="/fruitbunch/assets/dietplan-DvRyX6Rm.jpg",i3="/fruitbunch/assets/juice2-CHOH3c0W.jpg",s3="/fruitbunch/assets/kidsplan-BmS3QCpZ.jpg",r3="/fruitbunch/assets/freshjuice-DH0t0v_N.jpg",a3="/fruitbunch/assets/butter-DYvvPtp9.jpg",o3="/fruitbunch/assets/yogurt-B2y-BBUE.jpg",l3=()=>{const{addToCart:t,cartItems:e}=$m(),[n,i]=V.useState({}),a=jl(),c=T=>{i(A=>({...A,[T]:!A[T]}))};V.useEffect(()=>{window.AOS&&window.AOS.init({duration:800,easing:"ease-in-out",once:!0})},[]);const u=[{id:1,name:"Basic plan",price:2499,image:xA,description:"Apple, Orange, Papaya, Pineapple",moreInfo:"Grapes, Guava, Water melon, Fig, Pears, chikku",type:"plan"},{id:2,name:"Premium plan",price:2999,image:Xy,description:"Apple, Orange, Dragon fruits, Pineapple",moreInfo:"Grapes, Strawberry, Blueberry/cherry, Kiwi, Pears",type:"plan"},{id:3,name:"Diabetic plan",price:2499,image:bA,description:"Amla, Guava, Kiwi, Fig",moreInfo:"Grapes, Pineapple, Kiwi, Orange",type:"plan"},{id:4,name:"Balanced Diet",price:3499,image:n3,description:"2 Fruit, 2 Vegetables, Dry Fruit",moreInfo:"Nuts, Sprouts, Steamed Vegetables",type:"plan"},{id:5,name:"Salad plan",price:2499,image:i3,description:"Nutrients, Quality Proteins, Good fat",moreInfo:"Healthy, Probiotic, Whole carb, antioxidants",type:"plan"},{id:6,name:"Kids fruit bowl",price:1199,image:s3,description:"Corn, Cucumber, Nuts",moreInfo:"Grapes, Strawberry, Blueberry/cherry, Kiwi, Pears",type:"plan"}],p=[{id:7,name:"Fresh Juice",price:699,image:r3,type:"drink"},{id:8,name:"Butter milk",price:599,image:a3,type:"drink"},{id:9,name:"Greek Yogurt",price:40,image:o3,type:"drink",isDaily:!0}],y=e.some(T=>T.type==="plan"),_=T=>{if(T.type==="drink"&&!y){alert("Please subscribe to a plan before adding drinks!");return}t(T),a("/cart")},x=T=>{if(T.type==="drink"&&!y){alert("Please subscribe to a plan before adding drinks!");return}t(T),a("/checkout")};return f.jsxs("div",{className:"container mx-auto px-10 py-12 overflow-hidden relative",children:[f.jsx("div",{className:"absolute -top-20 -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),f.jsx("div",{className:"absolute top-40 -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),f.jsx("div",{className:"absolute -bottom-20 left-40 w-72 h-72 bg-teal-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-4000"}),f.jsx("h1",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-center text-gray-800 mb-12","data-aos":"fade-up",children:"Choose Your Subscription"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:u.map(T=>f.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition","data-aos":"fade-up",children:[f.jsx("img",{src:T.image,alt:T.name,className:"w-full h-48 object-cover"}),f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-xl font-bold text-green-800 mb-2",children:T.name}),f.jsxs("p",{className:"text-2xl font-bold text-green-600 mb-4",children:["₹",T.price,"/- per month"]}),f.jsxs("p",{className:"text-gray-600 mb-3 text-sm",children:[T.description.length>20?T.description.slice(0,20)+"...":T.description,f.jsx("button",{onClick:()=>c(T.id),className:"ml-2 text-green-600 hover:text-green-800 font-semibold",children:n[T.id]?"Less":"More"})]}),n[T.id]&&f.jsx("p",{className:"text-gray-600 mb-4",children:T.moreInfo}),f.jsxs("div",{className:"flex space-x-3",children:[f.jsx("button",{onClick:()=>_(T),className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded transition",children:"Add to Cart"}),f.jsx("button",{onClick:()=>x(T),className:"flex-1 bg-green-100 hover:bg-green-200 text-green-700 py-2 px-4 rounded transition",children:"Subscribe"})]})]})]},T.id))}),f.jsxs("div",{className:"mb-16",children:[f.jsx("div",{className:"absolute -top-200 -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),f.jsx("div",{className:"absolute top-640 -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),f.jsx("h2",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-center text-gray-800 mb-8","data-aos":"fade-up",children:"Add On Drinks"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:p.map(T=>f.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition","data-aos":"fade-up",children:[f.jsx("img",{src:T.image,alt:T.name,className:"w-full h-48 object-cover"}),f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-xl font-bold text-green-800 mb-2",children:T.name}),f.jsxs("p",{className:"text-lg lg:text-2xl font-bold text-green-600 mb-4",children:["₹",T.price,"/- ",T.isDaily?"per day":"per month"]}),f.jsxs("div",{className:"flex lg:space-x-3 md:flex-col lg:flex-row gap-3",children:[f.jsx("button",{onClick:()=>_(T),className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded transition",children:"Add to Cart"}),f.jsx("button",{onClick:()=>x(T),className:"flex-1 bg-green-100 hover:bg-green-200 text-green-700 py-2 px-4 rounded transition",children:"Subscribe"})]})]})]},T.id))})]})]})},c3=()=>{const[t,e]=V.useState({name:"",email:"",phone:"",message:""}),[n,i]=V.useState({name:"",email:"",phone:"",message:""}),[a,c]=V.useState(0),u=[Xy,_A];V.useEffect(()=>{const T=setInterval(()=>{c(A=>(A+1)%u.length)},4e3);return()=>clearInterval(T)},[]);const p=T=>{const{name:A,value:D}=T.target;e({...t,[A]:D}),n[A]&&i({...n,[A]:""})},y=()=>{let T=!0;const A={...n};return t.name.trim()||(A.name="Name is required",T=!1),t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(A.email="Email is invalid",T=!1):(A.email="Email is required",T=!1),t.phone.trim()||(A.phone="Phone number is required",T=!1),t.message.trim()||(A.message="Message is required",T=!1),i(A),T},_=T=>{T.preventDefault(),y()&&(console.log("Form submitted:",t),alert("Thank you for your message! We will contact you soon."),e({name:"",email:"",phone:"",message:""}))},x=()=>{const T="918807239379",D=encodeURIComponent("I'm interested in corporate orders for Fruit Bunch"),j=`https://wa.me/${T}?text=${D}`;window.open(j,"_blank")};return f.jsxs("div",{className:"container mx-auto px-10 py-12 overflow-hidden relative",children:[f.jsx("div",{className:"absolute -top-20 -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),f.jsx("div",{className:"absolute top-40 -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),f.jsx("div",{className:"absolute top-[750px] -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),f.jsx("div",{className:"absolute top-[1400px] -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),f.jsx("div",{className:"absolute top-[2100px] -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),f.jsx("div",{className:"absolute top-[2100px] -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),f.jsxs("section",{className:"flex flex-col lg:flex-row items-center mb-20 gap-10",children:[f.jsx("div",{className:"lg:w-1/2",children:f.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow transform transition-all duration-500 hover:shadow-xl w-full max-w-xl aspect-[4/4]",children:[u.map((T,A)=>f.jsx("img",{src:T,alt:"Corporate Orders",className:`absolute inset-0 w-full h-full object-cover rounded-2xl transition-opacity duration-1000 ease-in-out ${a===A?"opacity-100":"opacity-0"}`},A)),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent rounded-2xl"})]})}),f.jsxs("div",{className:"lg:w-1/2",children:[f.jsxs("h1",{className:"text-2xl md:text-4xl font-bold text-gray-800 mb-6 leading-tight",children:["Elevate Workplace Wellness with"," ",f.jsx("span",{className:"text-green-600",children:"Fresh Fruit Delivery"})]}),f.jsxs("div",{className:"space-y-4 mb-8",children:[f.jsxs("div",{className:"flex items-center justify-start",children:[f.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3 mt-1",children:f.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),f.jsx("p",{className:"text-sm lg:text-lg text-gray-600",children:"Combat afternoon slumps with natural energy boosts"})]}),f.jsxs("div",{className:"flex items-center justify-start",children:[f.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3 mt-1",children:f.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),f.jsx("p",{className:"text-sm lg:text-lg text-gray-600",children:"Reduce sick days with immune-boosting nutrition"})]}),f.jsxs("div",{className:"flex items-center justify-start",children:[f.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3 mt-1",children:f.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),f.jsx("p",{className:"text-sm lg:text-lg text-gray-600",children:"Increase productivity with healthier, happier teams"})]})]}),f.jsxs("div",{className:"mb-8 p-6 bg-green-50 rounded-2xl border-l-4 border-green-500",children:[f.jsx("h2",{className:"text-lg lg:text-xl font-semibold text-green-800 mb-2",children:"Ready to transform your workplace?"}),f.jsx("p",{className:"text-lg lg:text-xl font-medium text-gray-700",children:"Call us: +918807239379"})]}),f.jsxs("button",{onClick:x,className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-4 px-8 rounded-xl transition-all duration-300 shadow-lg hover:shadow-md transform hover:-translate-y-1 flex items-center justify-center",children:[f.jsx("svg",{className:"w-6 h-6 mr-3",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.864 3.49"})}),"Message us on WhatsApp"]})]})]}),f.jsxs("section",{className:"mb-20",children:[f.jsxs("div",{className:"text-center mb-14",children:[f.jsx("h2",{className:"text-2xl md:text-4xl font-bold text-gray-800 mb-4",children:"Corporate Wellness Plans"}),f.jsx("p",{className:"text-lg lg:text-xl text-gray-600 max-w-3xl mx-auto",children:"Tailored fruit delivery programs designed to boost employee health and productivity"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-lg transition-all duration-300 hover:shadow-xl hover:-translate-y-2",children:[f.jsxs("div",{className:"relative overflow-hidden h-64",children:[f.jsx("img",{src:xA,alt:"Basic Plan",className:"w-full h-full object-cover transition-transform duration-700 hover:scale-110"}),f.jsx("div",{className:"absolute top-4 right-4 bg-green-500 text-white py-1 px-3 rounded-full text-sm font-semibold",children:"Most Popular"})]}),f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Essential Wellness"}),f.jsx("p",{className:"text-gray-600 mb-4 text-sm lg:text-lg",children:"Perfect for small teams looking to incorporate healthy habits"}),f.jsxs("ul",{className:"space-y-2 mb-6",children:[f.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[f.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),f.jsx("span",{children:"3 fruit varieties daily"})]}),f.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[f.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),f.jsx("span",{children:"Weekly delivery"})]}),f.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[f.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),f.jsx("span",{children:"Seasonal selections"})]})]}),f.jsx("button",{className:"w-full bg-green-100 hover:bg-green-200 text-green-700 font-semibold py-3 rounded-lg transition-colors duration-300",children:"Learn More"})]})]}),f.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-lg transition-all duration-300 hover:shadow-xl hover:-translate-y-2",children:[f.jsx("div",{className:"relative overflow-hidden h-64",children:f.jsx("img",{src:Xy,alt:"Premium Plan",className:"w-full h-full object-cover transition-transform duration-700 hover:scale-110"})}),f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Premium Refresh"}),f.jsx("p",{className:"text-gray-600 mb-4 text-sm lg:text-lg",children:"Comprehensive nutrition for medium to large organizations"}),f.jsxs("ul",{className:"space-y-2 mb-6",children:[f.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[f.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),f.jsx("span",{children:"5+ premium fruit varieties"})]}),f.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[f.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),f.jsx("span",{children:"Twice weekly delivery"})]}),f.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[f.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),f.jsx("span",{children:"Organic options available"})]})]}),f.jsx("button",{className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 rounded-lg transition-colors duration-300",children:"Learn More"})]})]}),f.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-lg transition-all duration-300 hover:shadow-xl hover:-translate-y-2",children:[f.jsx("div",{className:"relative overflow-hidden h-64",children:f.jsx("img",{src:bA,alt:"Diet Plan",className:"w-full h-full object-cover transition-transform duration-700 hover:scale-110"})}),f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Executive Wellness"}),f.jsx("p",{className:"text-gray-600 mb-4 text-sm lg:text-lg",children:"Premium customized programs for health-conscious organizations"}),f.jsxs("ul",{className:"space-y-2 mb-6",children:[f.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[f.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),f.jsx("span",{children:"Customized fruit selection"})]}),f.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[f.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),f.jsx("span",{children:"Daily delivery options"})]}),f.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[f.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),f.jsx("span",{children:"Nutritionist consultation included"})]})]}),f.jsx("button",{className:"w-full bg-green-100 hover:bg-green-200 text-green-700 font-semibold py-3 rounded-lg transition-colors duration-300",children:"Learn More"})]})]})]})]}),f.jsx("section",{className:"mb-20 bg-gradient-to-r from-green-50 to-emerald-50 py-14 px-4 rounded-3xl",children:f.jsxs("div",{className:"max-w-5xl mx-auto",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center text-gray-800 mb-12",children:"Why Companies Choose Us"}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"92%"}),f.jsx("p",{className:"text-gray-600 text-xs lg:text-sm",children:"Employee satisfaction"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"350+"}),f.jsx("p",{className:"text-gray-600 text-xs lg:text-sm",children:"Corporate clients"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"10h"}),f.jsx("p",{className:"text-gray-600 text-xs lg:text-sm",children:"Delivery time"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"100%"}),f.jsx("p",{className:"text-gray-600 text-xs lg:text-sm",children:"Organic guarantee"})]})]})]})}),f.jsx("section",{className:"bg-white rounded-3xl p-8 shadow-lg",children:f.jsxs("div",{className:"max-w-3xl mx-auto",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:"Get Your Custom Quote"}),f.jsx("p",{className:"text-xl text-gray-600",children:"Tell us about your company's needs and we'll prepare a tailored proposal"})]}),f.jsxs("form",{onSubmit:_,className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("input",{type:"text",name:"name",placeholder:"Your Name",value:t.name,onChange:p,className:`w-full px-5 py-4 border ${n.name?"border-red-500":"border-gray-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 transition`,required:!0}),n.name&&f.jsx("p",{className:"mt-2 text-red-500 text-sm",children:n.name})]}),f.jsxs("div",{children:[f.jsx("input",{type:"email",name:"email",placeholder:"Work Email",value:t.email,onChange:p,className:`w-full px-5 py-4 border ${n.email?"border-red-500":"border-gray-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 transition`,required:!0}),n.email&&f.jsx("p",{className:"mt-2 text-red-500 text-sm",children:n.email})]})]}),f.jsxs("div",{children:[f.jsx("input",{type:"tel",name:"phone",placeholder:"Phone Number",value:t.phone,onChange:p,className:`w-full px-5 py-4 border ${n.phone?"border-red-500":"border-gray-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 transition`,required:!0}),n.phone&&f.jsx("p",{className:"mt-2 text-red-500 text-sm",children:n.phone})]}),f.jsxs("div",{children:[f.jsx("textarea",{name:"message",placeholder:"Tell us about your company size and fruit preferences...",rows:"5",value:t.message,onChange:p,className:`w-full px-5 py-4 border ${n.message?"border-red-500":"border-gray-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 transition`,required:!0}),n.message&&f.jsx("p",{className:"mt-2 text-red-500 text-sm",children:n.message})]}),f.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-semibold py-4 px-6 rounded-xl transition-all duration-300 shadow-lg hover:shadow-md",children:"Request Custom Proposal"})]})]})})]})},u3="/fruitbunch/assets/about-3-DaCk93dU.jpg",h3="/fruitbunch/assets/aboutbackimgg-BkiEa4ds.jpg",d3=()=>f.jsxs("div",{className:"container mx-auto px-10 py-12",children:[f.jsxs("section",{className:"flex flex-col lg:flex-row items-center justify-between gap-10 mb-20",children:[f.jsxs("div",{className:"lg:w-1/2 order-2 lg:order-1",children:[f.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-gray-800 mb-6 leading-tight",children:["Nourishing Lives Through ",f.jsx("span",{className:"text-green-600",children:"Wholesome Eating"})]}),f.jsxs("div",{className:"space-y-4 mb-8",children:[f.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:"At Fruit Bunch, we specialize in crafting healthy, ready-to-eat meals packed with essential nutrients to fuel your body and mind."}),f.jsx("p",{className:"text-lg font-semibold text-gray-700",children:"Our offerings include:"}),f.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[f.jsxs("div",{className:"flex items-center bg-green-50 rounded-lg p-3",children:[f.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:f.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),f.jsx("span",{className:"text-gray-700",children:"Fruit Bowls"})]}),f.jsxs("div",{className:"flex items-center bg-green-50 rounded-lg p-3",children:[f.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:f.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),f.jsx("span",{className:"text-gray-700",children:"Diet Platters"})]}),f.jsxs("div",{className:"flex items-center bg-green-50 rounded-lg p-3",children:[f.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:f.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),f.jsx("span",{className:"text-gray-700",children:"Salad Bowls"})]}),f.jsxs("div",{className:"flex items-center bg-green-50 rounded-lg p-3",children:[f.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:f.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),f.jsx("span",{className:"text-gray-700",children:"Fresh Juices"})]})]})]}),f.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-2xl border-l-4 border-green-500",children:[f.jsx("h2",{className:"text-2xl font-bold text-green-800 mb-2",children:"Our Goal is Simple"}),f.jsx("p",{className:"text-lg text-gray-700",children:"To make healthy eating"}),f.jsx("p",{className:"text-2xl font-bold text-green-700 mt-1",children:"Easy, Affordable and Delicious!"})]})]}),f.jsx("div",{className:"lg:w-1/2 order-1 lg:order-2",children:f.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl w-full max-w-xl aspect-[4/4]",children:[f.jsx("img",{src:u3,alt:"About Fruit Bunch",className:"w-full h-full object-cover rounded-2xl transition-transform duration-700 hover:scale-105"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent rounded-2xl"})]})})]}),f.jsx("section",{className:"bg-gradient-to-r from-green-100 to-emerald-100 rounded-3xl p-10 shadow-lg mb-20",children:f.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-6",children:"Our Philosophy"}),f.jsx("div",{className:"text-2xl text-green-700 font-semibold mb-8",children:"EAT FRESH. STAY HEALTHY. LIVE BETTER!"}),f.jsxs("div",{className:"space-y-6 text-lg text-gray-700 leading-relaxed",children:[f.jsx("p",{children:"At Fruit Bunch, we believe in the transformative power of healthy eating. Our mission is to provide nutrient-rich, well-balanced meals that fuel your body and mind for optimal performance."}),f.jsx("p",{children:"We meticulously source the freshest ingredients and craft them into wholesome platters, salads, and drinks that cater to a healthy and active lifestyle. Each item on our menu is designed to deliver maximum nutritional value without compromising on taste."}),f.jsx("p",{children:"Whether you're looking for a balanced diet, nutritious salad bowl, or refreshing add-ons, our carefully curated menu ensures you get the perfect combination of taste, health, and convenience."})]})]})}),f.jsxs("section",{className:"mb-20",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center text-gray-800 mb-14",children:"What Drives Us"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 text-center",children:[f.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-5",children:f.jsxs("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 15.546c-.523 0-1.046.151-1.5.454a2.704 2.704 0 01-3 0 2.704 2.704 0 00-3 0 2.704 2.704 0 01-3 0 2.704 2.704 0 00-3 0 2.704 2.704 0 01-3 0A1.5 1.5 0 013 15.546V5a2 2 0 012-2h14a2 2 0 012 2v10.546z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v4l2 2"})]})}),f.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Quality & Freshness"}),f.jsx("p",{className:"text-gray-600",children:"We source only the freshest, highest-quality ingredients for all our products, ensuring maximum nutritional value and taste."})]}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 text-center",children:[f.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-5",children:f.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),f.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Community Health"}),f.jsx("p",{className:"text-gray-600",children:"We're committed to improving community health by making nutritious eating accessible, affordable, and enjoyable for everyone."})]}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 text-center",children:[f.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-5",children:f.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),f.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Sustainability"}),f.jsx("p",{className:"text-gray-600",children:"We prioritize environmentally responsible practices, from sourcing to packaging, to minimize our ecological footprint."})]})]})]}),f.jsxs("section",{className:"mb-20",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:"Visit Us"}),f.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Come experience the freshness at our location. We'd love to welcome you!"})]}),f.jsx("div",{className:"rounded-2xl overflow-hidden shadow-xl",children:f.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3899.0586626904005!2d79.0956933!3d12.244307300000001!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bacc17e8a517c7f%3A0xc7eb43ae80e2cef2!2sFRUIT%20BUNCH!5e0!3m2!1sen!2sin!4v1758553288639!5m2!1sen!2sin",width:"100%",height:"450",style:{border:0},allowFullScreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade",title:"Fruit Bunch Location",className:"rounded-2xl"})}),f.jsxs("div",{className:"mt-8 bg-white p-6 rounded-2xl shadow-lg max-w-2xl mx-auto",children:[f.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Store Information"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"flex items-start",children:[f.jsxs("svg",{className:"w-5 h-5 text-green-600 mt-1 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-gray-700",children:"Address"}),f.jsx("p",{className:"text-gray-600",children:"No:59, sarathambal nagar, Tiruvannamalai, Tamil Nadu 606601"})]})]}),f.jsxs("div",{className:"flex items-start",children:[f.jsx("svg",{className:"w-5 h-5 text-green-600 mt-1 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-gray-700",children:"Opening Hours"}),f.jsx("p",{className:"text-gray-600",children:"Mon-Sat: 7:30 AM - 6:00 PM"})]})]})]})]})]}),f.jsxs("section",{className:"relative rounded-2xl overflow-hidden shadow-xl mb-16",children:[f.jsx("img",{src:h3,alt:"Fresh fruits background",className:"w-full h-96 object-cover"}),f.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center",children:f.jsxs("div",{className:"text-center p-6 max-w-3xl",children:[f.jsx("h3",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Fresh. Healthy. Delivered."}),f.jsx("p",{className:"text-xl text-white mb-8 opacity-90",children:"Experience the difference that fresh, nutrient-packed meals can make in your life."}),f.jsx(tt,{to:"/subscription",className:"bg-white text-green-700 font-semibold py-3 px-8 rounded-xl hover:bg-green-50 transition-colors duration-300 shadow-lg",children:"Explore Our Menu"})]})})]}),f.jsx("section",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-3xl p-8 shadow-lg",children:f.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[f.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-4",children:"Stay Updated"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"Subscribe to our newsletter for health tips, new menu items, and special offers."}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 max-w-md mx-auto",children:[f.jsx("input",{type:"email",placeholder:"Your email address",className:"flex-grow px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-green-500"}),f.jsx("button",{className:"bg-green-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors duration-300 whitespace-nowrap",children:"Subscribe"})]})]})})]}),f3=()=>{const t=jl(),n=Ys().state?.from?.pathname||"/",[i,a]=V.useState({email:"",password:""}),[c,u]=V.useState(!1),[p,y]=V.useState(!1),[_,x]=V.useState(""),T=j=>{a({...i,[j.target.name]:j.target.value})},A=async j=>{j.preventDefault();try{u(!0),x("");const k=(await cL(cu,i.email,i.password)).user,$=ou(ha,"users",k.uid),Y=await wv($);if(Y.exists()){const X=Y.data();localStorage.setItem("user",JSON.stringify({uid:k.uid,email:X.email,name:X.name,phone:X.phone})),console.log("User profile:",X)}else console.log("No user profile found in Firestore!");u(!1),t(n,{replace:!0})}catch(F){console.error("Login error:",F.message),x("Invalid email or password"),u(!1)}},D=()=>{y(!0),setTimeout(()=>{y(!1)},3e3)};return f.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-100 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[f.jsx("div",{className:"absolute -top-20 -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),f.jsx("div",{className:"absolute top-40 -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),f.jsx("div",{className:"absolute -bottom-20 left-40 w-72 h-72 bg-teal-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-4000"}),f.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-2xl shadow-lg z-10 transform transition-all duration-500 hover:shadow-xl",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"mx-auto h-16 w-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),f.jsx("h2",{className:"mt-2 text-3xl font-bold text-gray-900",children:"Welcome back"}),f.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",f.jsx(tt,{to:"/signup",className:"font-medium text-green-600 hover:text-green-500 transition-colors duration-300",children:"create a new account"})]})]}),_&&f.jsx("p",{className:"text-red-500 text-sm text-center",children:_}),f.jsxs("form",{className:"mt-8 space-y-6",onSubmit:A,children:[f.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),f.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Email address",value:i.email,onChange:T})]}),f.jsxs("div",{className:"relative",children:[f.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),f.jsx("input",{id:"password",name:"password",type:p?"text":"password",autoComplete:"current-password",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Password",value:i.password,onChange:T}),f.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:D,children:p?f.jsx("i",{className:"fa-solid fa-eye-slash text-green-500 text-lg"}):f.jsx("i",{className:"fa-solid fa-eye text-green-500 text-lg"})})]})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded transition duration-150"}),f.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),f.jsx("div",{className:"text-sm",children:f.jsx(tt,{to:"/forgot-password",className:"font-medium text-green-600 hover:text-green-500 transition-colors duration-300",children:"Forgot your password?"})})]}),f.jsx("div",{children:f.jsxs("button",{type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",disabled:c,children:[c?f.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,c?"Signing in...":"Sign in"]})})]})]})]})},m3=()=>{const t=jl(),[e,n]=V.useState({name:"",email:"",password:"",confirmPassword:"",phone:""}),[i,a]=V.useState(!1),[c,u]=V.useState(""),[p,y]=V.useState(!1),[_,x]=V.useState(!1),T=F=>{n({...e,[F.target.name]:F.target.value})},A=async F=>{if(F.preventDefault(),e.password!==e.confirmPassword){u("Passwords do not match!");return}try{a(!0),u("");const $=(await lL(cu,e.email,e.password)).user;await hL($,{displayName:e.name}),await Bk(ou(ha,"users",$.uid),{uid:$.uid,name:e.name,email:e.email,phone:e.phone,createdAt:Yy()}),console.log("User created & saved:",$.uid),a(!1),t("/login")}catch(k){console.error("Signup error:",k.message),u(k.message),a(!1)}},D=()=>{y(!0),setTimeout(()=>{y(!1)},3e3)},j=()=>{x(!0),setTimeout(()=>{x(!1)},3e3)};return f.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-100 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[f.jsx("div",{className:"absolute -top-20 -right-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),f.jsx("div",{className:"absolute top-40 -left-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),f.jsx("div",{className:"absolute -bottom-20 right-40 w-72 h-72 bg-teal-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-4000"}),f.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-2xl shadow-lg z-10 transform transition-all duration-500 hover:shadow-xl",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"mx-auto h-16 w-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})}),f.jsx("h2",{className:"mt-2 text-3xl font-bold text-gray-900",children:"Create your account"}),f.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",f.jsx(tt,{to:"/login",className:"font-medium text-green-600 hover:text-green-500 transition-colors duration-300",children:"sign in to your existing account"})]})]}),c&&f.jsx("p",{className:"text-red-500 text-sm mb-2",children:c}),f.jsxs("form",{className:"mt-8 space-y-6",onSubmit:A,children:[f.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx("label",{htmlFor:"name",className:"sr-only",children:"Full Name"}),f.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Full Name",value:e.name,onChange:T}),f.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none opacity-0 peer-focus:opacity-100 transition-opacity duration-300",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]}),f.jsxs("div",{className:"relative",children:[f.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),f.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Email address",value:e.email,onChange:T}),f.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none opacity-0 peer-focus:opacity-100 transition-opacity duration-300",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]}),f.jsxs("div",{className:"relative",children:[f.jsx("label",{htmlFor:"phone",className:"sr-only",children:"Phone Number"}),f.jsx("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Phone Number",value:e.phone,onChange:T}),f.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none opacity-0 peer-focus:opacity-100 transition-opacity duration-300",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})})]}),f.jsxs("div",{className:"relative",children:[f.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),f.jsx("input",{id:"password",name:"password",type:p?"text":"password",autoComplete:"new-password",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Password",value:e.password,onChange:T}),f.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:D,children:p?f.jsx("i",{className:"fa-solid fa-eye text-green-500 text-lg"}):f.jsx("i",{className:"fa-solid fa-eye-slash text-green-500 text-lg"})})]}),f.jsxs("div",{className:"relative",children:[f.jsx("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Confirm Password"}),f.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:_?"text":"password",autoComplete:"new-password",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Confirm Password",value:e.confirmPassword,onChange:T}),f.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:j,children:_?f.jsx("i",{className:"fa-solid fa-eye text-green-500 text-lg"}):f.jsx("i",{className:"fa-solid fa-eye-slash text-green-500 text-lg"})})]})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{id:"terms",name:"terms",type:"checkbox",className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded transition duration-150",required:!0}),f.jsxs("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-900",children:["I agree to the ",f.jsx("a",{href:"/termsandconditions",className:"text-green-600 hover:text-green-500 transition-colors duration-300",children:"Terms and Conditions"})]})]}),f.jsx("div",{children:f.jsxs("button",{type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",disabled:i,children:[i?f.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,i?"Creating account...":"Create Account"]})})]})]})]})},p3=()=>{const{cartItems:t,updateQuantity:e,removeFromCart:n,cartTotal:i,clearCart:a}=$m(),[c,u]=V.useState(!1),p=(x,T)=>{T<1||e(x,T)},y=x=>{n(x)},_=()=>{u(!0),setTimeout(()=>{u(!1)},1e3)};return t.length===0?f.jsx("div",{className:"container mx-auto px-4 py-12",children:f.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[f.jsx("div",{className:"text-6xl mb-6",children:"🛒"}),f.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Your cart is empty"}),f.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Looks like you haven't added any items to your cart yet."}),f.jsx(tt,{to:"/subscription",className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-8 rounded-lg transition",children:"Continue Shopping"})]})}):f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-center text-gray-800 mb-8",children:"Your Cart"}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[f.jsx("div",{className:"lg:col-span-2",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[f.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:["Cart Items (",t.length,")"]}),f.jsx("div",{className:"space-y-6",children:t.map(x=>f.jsxs("div",{className:"flex items-center border-b border-gray-100 pb-6",children:[f.jsx("img",{src:x.image,alt:x.name,className:"w-20 h-20 object-cover rounded-lg"}),f.jsxs("div",{className:"ml-4 flex-grow",children:[f.jsx("h3",{className:"font-medium text-gray-800 text-lg",children:x.name}),f.jsxs("p",{className:"text-green-600 font-bold",children:["₹",x.price]})]}),f.jsxs("div",{className:"flex items-center ml-4",children:[f.jsx("button",{onClick:()=>p(x.id,x.quantity-1),className:"w-8 h-8 flex items-center justify-center bg-gray-100 rounded-l-md",children:"-"}),f.jsx("span",{className:"w-10 h-8 flex items-center justify-center bg-gray-50",children:x.quantity}),f.jsx("button",{onClick:()=>p(x.id,x.quantity+1),className:"w-8 h-8 flex items-center justify-center bg-gray-100 rounded-r-md",children:"+"})]}),f.jsx("div",{className:"ml-6",children:f.jsxs("p",{className:"font-bold text-green-600",children:["₹",x.price*x.quantity]})}),f.jsx("button",{onClick:()=>y(x.id),className:"ml-6 text-red-500 hover:text-red-700",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},x.id))}),f.jsxs("div",{className:"flex justify-between mt-8",children:[f.jsxs(tt,{to:"/subscription",className:"flex items-center text-green-600 hover:text-green-800 font-medium",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Continue Shopping"]}),f.jsx("button",{onClick:a,className:"text-red-500 hover:text-red-700 font-medium",children:"Clear Cart"})]})]})}),f.jsx("div",{children:f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-8",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Order Summary"}),f.jsx("div",{className:"space-y-4",children:t.map(x=>f.jsxs("div",{className:"flex justify-between",children:[f.jsxs("span",{className:"text-gray-600",children:[x.name," × ",x.quantity]}),f.jsxs("span",{className:"font-medium",children:["₹",x.price*x.quantity]})]},x.id))}),f.jsxs("div",{className:"border-t border-gray-200 mt-4 pt-4",children:[f.jsxs("div",{className:"flex justify-between mb-2",children:[f.jsx("span",{children:"Subtotal"}),f.jsxs("span",{children:["₹",i]})]}),f.jsxs("div",{className:"flex justify-between mb-2",children:[f.jsx("span",{children:"Delivery Fee"}),f.jsx("span",{className:"text-green-600",children:"Free"})]}),f.jsxs("div",{className:"flex justify-between font-bold text-lg mt-2 pt-2 border-t border-gray-200",children:[f.jsx("span",{children:"Total"}),f.jsxs("span",{children:["₹",i]})]})]}),f.jsx("div",{className:"mt-6",children:f.jsx(tt,{to:"/checkout",onClick:_,disabled:c,className:`w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg transition flex items-center justify-center ${c?"opacity-75 cursor-not-allowed":""}`,children:c?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Proceed to Checkout"})})]})})]})]})};function wA(t,e){const n=V.useRef(e);V.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const g3=1;function y3(t){return Object.freeze({__version:g3,map:t})}function v3(t,e){return Object.freeze({...t,...e})}const Ev=V.createContext(null);function Sv(){const t=V.use(Ev);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function _3(t){function e(n,i){const{instance:a,context:c}=t(n).current;V.useImperativeHandle(i,()=>a);const{children:u}=n;return u==null?null:xy.createElement(Ev,{value:c},u)}return V.forwardRef(e)}function x3(t){function e(n,i){const[a,c]=V.useState(!1),{instance:u}=t(n,c).current;V.useImperativeHandle(i,()=>u),V.useEffect(function(){a&&u.update()},[u,a,n.children]);const p=u._contentNode;return p?Ej.createPortal(n.children,p):null}return V.forwardRef(e)}function b3(t){function e(n,i){const{instance:a}=t(n).current;return V.useImperativeHandle(i,()=>a),null}return V.forwardRef(e)}function TA(t,e){const n=V.useRef(void 0);V.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function Av(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function w3(t,e){return function(i,a){const c=Sv(),u=t(Av(i,c),c);return wA(c.map,i.attribution),TA(u.current,i.eventHandlers),e(u.current,c,i,a),u}}var gh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var T3=gh.exports,qT;function E3(){return qT||(qT=1,(function(t,e){(function(n,i){i(e)})(T3,(function(n){var i="1.9.4";function a(o){var h,g,w,S;for(g=1,w=arguments.length;g<w;g++){S=arguments[g];for(h in S)o[h]=S[h]}return o}var c=Object.create||(function(){function o(){}return function(h){return o.prototype=h,new o}})();function u(o,h){var g=Array.prototype.slice;if(o.bind)return o.bind.apply(o,g.call(arguments,1));var w=g.call(arguments,2);return function(){return o.apply(h,w.length?w.concat(g.call(arguments)):arguments)}}var p=0;function y(o){return"_leaflet_id"in o||(o._leaflet_id=++p),o._leaflet_id}function _(o,h,g){var w,S,R,G;return G=function(){w=!1,S&&(R.apply(g,S),S=!1)},R=function(){w?S=arguments:(o.apply(g,arguments),setTimeout(G,h),w=!0)},R}function x(o,h,g){var w=h[1],S=h[0],R=w-S;return o===w&&g?o:((o-S)%R+R)%R+S}function T(){return!1}function A(o,h){if(h===!1)return o;var g=Math.pow(10,h===void 0?6:h);return Math.round(o*g)/g}function D(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function j(o){return D(o).split(/\s+/)}function F(o,h){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?c(o.options):{});for(var g in h)o.options[g]=h[g];return o.options}function k(o,h,g){var w=[];for(var S in o)w.push(encodeURIComponent(g?S.toUpperCase():S)+"="+encodeURIComponent(o[S]));return(!h||h.indexOf("?")===-1?"?":"&")+w.join("&")}var $=/\{ *([\w_ -]+) *\}/g;function Y(o,h){return o.replace($,function(g,w){var S=h[w];if(S===void 0)throw new Error("No value provided for variable "+g);return typeof S=="function"&&(S=S(h)),S})}var X=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function ve(o,h){for(var g=0;g<o.length;g++)if(o[g]===h)return g;return-1}var he="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function we(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var z=0;function M(o){var h=+new Date,g=Math.max(0,16-(h-z));return z=h+g,window.setTimeout(o,g)}var B=window.requestAnimationFrame||we("RequestAnimationFrame")||M,O=window.cancelAnimationFrame||we("CancelAnimationFrame")||we("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function U(o,h,g){if(g&&B===M)o.call(h);else return B.call(window,u(o,h))}function W(o){o&&O.call(window,o)}var q={__proto__:null,extend:a,create:c,bind:u,get lastId(){return p},stamp:y,throttle:_,wrapNum:x,falseFn:T,formatNum:A,trim:D,splitWords:j,setOptions:F,getParamString:k,template:Y,isArray:X,indexOf:ve,emptyImageUrl:he,requestFn:B,cancelFn:O,requestAnimFrame:U,cancelAnimFrame:W};function Be(){}Be.extend=function(o){var h=function(){F(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},g=h.__super__=this.prototype,w=c(g);w.constructor=h,h.prototype=w;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(h[S]=this[S]);return o.statics&&a(h,o.statics),o.includes&&(Me(o.includes),a.apply(null,[w].concat(o.includes))),a(w,o),delete w.statics,delete w.includes,w.options&&(w.options=g.options?c(g.options):{},a(w.options,o.options)),w._initHooks=[],w.callInitHooks=function(){if(!this._initHooksCalled){g.callInitHooks&&g.callInitHooks.call(this),this._initHooksCalled=!0;for(var R=0,G=w._initHooks.length;R<G;R++)w._initHooks[R].call(this)}},h},Be.include=function(o){var h=this.prototype.options;return a(this.prototype,o),o.options&&(this.prototype.options=h,this.mergeOptions(o.options)),this},Be.mergeOptions=function(o){return a(this.prototype.options,o),this},Be.addInitHook=function(o){var h=Array.prototype.slice.call(arguments,1),g=typeof o=="function"?o:function(){this[o].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(g),this};function Me(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=X(o)?o:[o];for(var h=0;h<o.length;h++)o[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Q={on:function(o,h,g){if(typeof o=="object")for(var w in o)this._on(w,o[w],h);else{o=j(o);for(var S=0,R=o.length;S<R;S++)this._on(o[S],h,g)}return this},off:function(o,h,g){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var w in o)this._off(w,o[w],h);else{o=j(o);for(var S=arguments.length===1,R=0,G=o.length;R<G;R++)S?this._off(o[R]):this._off(o[R],h,g)}return this},_on:function(o,h,g,w){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(o,h,g)===!1){g===this&&(g=void 0);var S={fn:h,ctx:g};w&&(S.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(S)}},_off:function(o,h,g){var w,S,R;if(this._events&&(w=this._events[o],!!w)){if(arguments.length===1){if(this._firingCount)for(S=0,R=w.length;S<R;S++)w[S].fn=T;delete this._events[o];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var G=this._listens(o,h,g);if(G!==!1){var ee=w[G];this._firingCount&&(ee.fn=T,this._events[o]=w=w.slice()),w.splice(G,1)}}},fire:function(o,h,g){if(!this.listens(o,g))return this;var w=a({},h,{type:o,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var S=this._events[o];if(S){this._firingCount=this._firingCount+1||1;for(var R=0,G=S.length;R<G;R++){var ee=S[R],oe=ee.fn;ee.once&&this.off(o,oe,ee.ctx),oe.call(ee.ctx||this,w)}this._firingCount--}}return g&&this._propagateEvent(w),this},listens:function(o,h,g,w){typeof o!="string"&&console.warn('"string" type argument expected');var S=h;typeof h!="function"&&(w=!!h,S=void 0,g=void 0);var R=this._events&&this._events[o];if(R&&R.length&&this._listens(o,S,g)!==!1)return!0;if(w){for(var G in this._eventParents)if(this._eventParents[G].listens(o,h,g,w))return!0}return!1},_listens:function(o,h,g){if(!this._events)return!1;var w=this._events[o]||[];if(!h)return!!w.length;g===this&&(g=void 0);for(var S=0,R=w.length;S<R;S++)if(w[S].fn===h&&w[S].ctx===g)return S;return!1},once:function(o,h,g){if(typeof o=="object")for(var w in o)this._on(w,o[w],h,!0);else{o=j(o);for(var S=0,R=o.length;S<R;S++)this._on(o[S],h,g,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[y(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[y(o)],this},_propagateEvent:function(o){for(var h in this._eventParents)this._eventParents[h].fire(o.type,a({layer:o.target,propagatedFrom:o.target},o),!0)}};Q.addEventListener=Q.on,Q.removeEventListener=Q.clearAllEventListeners=Q.off,Q.addOneTimeEventListener=Q.once,Q.fireEvent=Q.fire,Q.hasEventListeners=Q.listens;var ue=Be.extend(Q);function de(o,h,g){this.x=g?Math.round(o):o,this.y=g?Math.round(h):h}var je=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};de.prototype={clone:function(){return new de(this.x,this.y)},add:function(o){return this.clone()._add(H(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(H(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new de(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new de(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=je(this.x),this.y=je(this.y),this},distanceTo:function(o){o=H(o);var h=o.x-this.x,g=o.y-this.y;return Math.sqrt(h*h+g*g)},equals:function(o){return o=H(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=H(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+A(this.x)+", "+A(this.y)+")"}};function H(o,h,g){return o instanceof de?o:X(o)?new de(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new de(o.x,o.y):new de(o,h,g)}function ce(o,h){if(o)for(var g=h?[o,h]:o,w=0,S=g.length;w<S;w++)this.extend(g[w])}ce.prototype={extend:function(o){var h,g;if(!o)return this;if(o instanceof de||typeof o[0]=="number"||"x"in o)h=g=H(o);else if(o=xe(o),h=o.min,g=o.max,!h||!g)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=g.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(g.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(g.y,this.max.y)),this},getCenter:function(o){return H((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return H(this.min.x,this.max.y)},getTopRight:function(){return H(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var h,g;return typeof o[0]=="number"||o instanceof de?o=H(o):o=xe(o),o instanceof ce?(h=o.min,g=o.max):h=g=o,h.x>=this.min.x&&g.x<=this.max.x&&h.y>=this.min.y&&g.y<=this.max.y},intersects:function(o){o=xe(o);var h=this.min,g=this.max,w=o.min,S=o.max,R=S.x>=h.x&&w.x<=g.x,G=S.y>=h.y&&w.y<=g.y;return R&&G},overlaps:function(o){o=xe(o);var h=this.min,g=this.max,w=o.min,S=o.max,R=S.x>h.x&&w.x<g.x,G=S.y>h.y&&w.y<g.y;return R&&G},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var h=this.min,g=this.max,w=Math.abs(h.x-g.x)*o,S=Math.abs(h.y-g.y)*o;return xe(H(h.x-w,h.y-S),H(g.x+w,g.y+S))},equals:function(o){return o?(o=xe(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function xe(o,h){return!o||o instanceof ce?o:new ce(o,h)}function be(o,h){if(o)for(var g=h?[o,h]:o,w=0,S=g.length;w<S;w++)this.extend(g[w])}be.prototype={extend:function(o){var h=this._southWest,g=this._northEast,w,S;if(o instanceof Re)w=o,S=o;else if(o instanceof be){if(w=o._southWest,S=o._northEast,!w||!S)return this}else return o?this.extend(Ee(o)||Se(o)):this;return!h&&!g?(this._southWest=new Re(w.lat,w.lng),this._northEast=new Re(S.lat,S.lng)):(h.lat=Math.min(w.lat,h.lat),h.lng=Math.min(w.lng,h.lng),g.lat=Math.max(S.lat,g.lat),g.lng=Math.max(S.lng,g.lng)),this},pad:function(o){var h=this._southWest,g=this._northEast,w=Math.abs(h.lat-g.lat)*o,S=Math.abs(h.lng-g.lng)*o;return new be(new Re(h.lat-w,h.lng-S),new Re(g.lat+w,g.lng+S))},getCenter:function(){return new Re((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Re(this.getNorth(),this.getWest())},getSouthEast:function(){return new Re(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof Re||"lat"in o?o=Ee(o):o=Se(o);var h=this._southWest,g=this._northEast,w,S;return o instanceof be?(w=o.getSouthWest(),S=o.getNorthEast()):w=S=o,w.lat>=h.lat&&S.lat<=g.lat&&w.lng>=h.lng&&S.lng<=g.lng},intersects:function(o){o=Se(o);var h=this._southWest,g=this._northEast,w=o.getSouthWest(),S=o.getNorthEast(),R=S.lat>=h.lat&&w.lat<=g.lat,G=S.lng>=h.lng&&w.lng<=g.lng;return R&&G},overlaps:function(o){o=Se(o);var h=this._southWest,g=this._northEast,w=o.getSouthWest(),S=o.getNorthEast(),R=S.lat>h.lat&&w.lat<g.lat,G=S.lng>h.lng&&w.lng<g.lng;return R&&G},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,h){return o?(o=Se(o),this._southWest.equals(o.getSouthWest(),h)&&this._northEast.equals(o.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Se(o,h){return o instanceof be?o:new be(o,h)}function Re(o,h,g){if(isNaN(o)||isNaN(h))throw new Error("Invalid LatLng object: ("+o+", "+h+")");this.lat=+o,this.lng=+h,g!==void 0&&(this.alt=+g)}Re.prototype={equals:function(o,h){if(!o)return!1;o=Ee(o);var g=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return g<=(h===void 0?1e-9:h)},toString:function(o){return"LatLng("+A(this.lat,o)+", "+A(this.lng,o)+")"},distanceTo:function(o){return st.distance(this,Ee(o))},wrap:function(){return st.wrapLatLng(this)},toBounds:function(o){var h=180*o/40075017,g=h/Math.cos(Math.PI/180*this.lat);return Se([this.lat-h,this.lng-g],[this.lat+h,this.lng+g])},clone:function(){return new Re(this.lat,this.lng,this.alt)}};function Ee(o,h,g){return o instanceof Re?o:X(o)&&typeof o[0]!="object"?o.length===3?new Re(o[0],o[1],o[2]):o.length===2?new Re(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new Re(o.lat,"lng"in o?o.lng:o.lon,o.alt):h===void 0?null:new Re(o,h,g)}var At={latLngToPoint:function(o,h){var g=this.projection.project(o),w=this.scale(h);return this.transformation._transform(g,w)},pointToLatLng:function(o,h){var g=this.scale(h),w=this.transformation.untransform(o,g);return this.projection.unproject(w)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var h=this.projection.bounds,g=this.scale(o),w=this.transformation.transform(h.min,g),S=this.transformation.transform(h.max,g);return new ce(w,S)},infinite:!1,wrapLatLng:function(o){var h=this.wrapLng?x(o.lng,this.wrapLng,!0):o.lng,g=this.wrapLat?x(o.lat,this.wrapLat,!0):o.lat,w=o.alt;return new Re(g,h,w)},wrapLatLngBounds:function(o){var h=o.getCenter(),g=this.wrapLatLng(h),w=h.lat-g.lat,S=h.lng-g.lng;if(w===0&&S===0)return o;var R=o.getSouthWest(),G=o.getNorthEast(),ee=new Re(R.lat-w,R.lng-S),oe=new Re(G.lat-w,G.lng-S);return new be(ee,oe)}},st=a({},At,{wrapLng:[-180,180],R:6371e3,distance:function(o,h){var g=Math.PI/180,w=o.lat*g,S=h.lat*g,R=Math.sin((h.lat-o.lat)*g/2),G=Math.sin((h.lng-o.lng)*g/2),ee=R*R+Math.cos(w)*Math.cos(S)*G*G,oe=2*Math.atan2(Math.sqrt(ee),Math.sqrt(1-ee));return this.R*oe}}),mi=6378137,Rr={R:mi,MAX_LATITUDE:85.0511287798,project:function(o){var h=Math.PI/180,g=this.MAX_LATITUDE,w=Math.max(Math.min(g,o.lat),-g),S=Math.sin(w*h);return new de(this.R*o.lng*h,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(o){var h=180/Math.PI;return new Re((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*h,o.x*h/this.R)},bounds:(function(){var o=mi*Math.PI;return new ce([-o,-o],[o,o])})()};function Qs(o,h,g,w){if(X(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=h,this._c=g,this._d=w}Qs.prototype={transform:function(o,h){return this._transform(o.clone(),h)},_transform:function(o,h){return h=h||1,o.x=h*(this._a*o.x+this._b),o.y=h*(this._c*o.y+this._d),o},untransform:function(o,h){return h=h||1,new de((o.x/h-this._b)/this._a,(o.y/h-this._d)/this._c)}};function Ji(o,h,g,w){return new Qs(o,h,g,w)}var Es=a({},st,{code:"EPSG:3857",projection:Rr,transformation:(function(){var o=.5/(Math.PI*Rr.R);return Ji(o,.5,-o,.5)})()}),ba=a({},Es,{code:"EPSG:900913"});function Ml(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function wa(o,h){var g="",w,S,R,G,ee,oe;for(w=0,R=o.length;w<R;w++){for(ee=o[w],S=0,G=ee.length;S<G;S++)oe=ee[S],g+=(S?"L":"M")+oe.x+" "+oe.y;g+=h?Le.svg?"z":"x":""}return g||"M0 0"}var _n=document.documentElement.style,Pr="ActiveXObject"in window,Xt=Pr&&!document.addEventListener,Qt="msLaunchUri"in navigator&&!("documentMode"in document),Li=xn("webkit"),Ol=xn("android"),Ta=xn("android 2")||xn("android 3"),gu=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),jr=Ol&&xn("Google")&&gu<537&&!("AudioNode"in window),es=!!window.opera,hn=!Qt&&xn("chrome"),Qn=xn("gecko")&&!Li&&!es&&!Pr,In=!hn&&xn("safari"),kl=xn("phantom"),ko="OTransition"in _n,Vl=navigator.platform.indexOf("Win")===0,Di=Pr&&"transition"in _n,ts="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ta,pi="MozPerspective"in _n,gi=!window.L_DISABLE_3D&&(Di||ts||pi)&&!ko&&!kl,yi=typeof orientation<"u"||xn("mobile"),Ea=yi&&Li,Vo=yi&&ts,Ss=!window.PointerEvent&&window.MSPointerEvent,Ir=!!(window.PointerEvent||Ss),Dt="ontouchstart"in window||!!window.TouchEvent,Bl=!window.L_NO_TOUCH&&(Dt||Ir),Js=yi&&es,er=yi&&Qn,Bo=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Uo=(function(){var o=!1;try{var h=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",T,h),window.removeEventListener("testPassiveEventSupport",T,h)}catch{}return o})(),As=(function(){return!!document.createElement("canvas").getContext})(),zo=!!(document.createElementNS&&Ml("svg").createSVGRect),ns=!!zo&&(function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Ut=!zo&&(function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var h=o.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}})(),dn=navigator.platform.indexOf("Mac")===0,Ns=navigator.platform.indexOf("Linux")===0;function xn(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Le={ie:Pr,ielt9:Xt,edge:Qt,webkit:Li,android:Ol,android23:Ta,androidStock:jr,opera:es,chrome:hn,gecko:Qn,safari:In,phantom:kl,opera12:ko,win:Vl,ie3d:Di,webkit3d:ts,gecko3d:pi,any3d:gi,mobile:yi,mobileWebkit:Ea,mobileWebkit3d:Vo,msPointer:Ss,pointer:Ir,touch:Bl,touchNative:Dt,mobileOpera:Js,mobileGecko:er,retina:Bo,passiveEvents:Uo,canvas:As,svg:zo,vml:Ut,inlineSvg:ns,mac:dn,linux:Ns},Ul=Le.msPointer?"MSPointerDown":"pointerdown",vi=Le.msPointer?"MSPointerMove":"pointermove",Cs=Le.msPointer?"MSPointerUp":"pointerup",Lr=Le.msPointer?"MSPointerCancel":"pointercancel",_i={touchstart:Ul,touchmove:vi,touchend:Cs,touchcancel:Lr},Mi={touchstart:Sa,touchmove:ei,touchend:ei,touchcancel:ei},Jn={},Rs=!1;function zt(o,h,g){return h==="touchstart"&&Mr(),Mi[h]?(g=Mi[h].bind(this,g),o.addEventListener(_i[h],g,!1),g):(console.warn("wrong event specified:",h),T)}function zl(o,h,g){if(!_i[h]){console.warn("wrong event specified:",h);return}o.removeEventListener(_i[h],g,!1)}function Dr(o){Jn[o.pointerId]=o}function is(o){Jn[o.pointerId]&&(Jn[o.pointerId]=o)}function Oi(o){delete Jn[o.pointerId]}function Mr(){Rs||(document.addEventListener(Ul,Dr,!0),document.addEventListener(vi,is,!0),document.addEventListener(Cs,Oi,!0),document.addEventListener(Lr,Oi,!0),Rs=!0)}function ei(o,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var g in Jn)h.touches.push(Jn[g]);h.changedTouches=[h],o(h)}}function Sa(o,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&Lt(h),ei(o,h)}function yu(o){var h={},g,w;for(w in o)g=o[w],h[w]=g&&g.bind?g.bind(o):g;return o=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var Or=200;function kr(o,h){o.addEventListener("dblclick",h);var g=0,w;function S(R){if(R.detail!==1){w=R.detail;return}if(!(R.pointerType==="mouse"||R.sourceCapabilities&&!R.sourceCapabilities.firesTouchEvents)){var G=Na(R);if(!(G.some(function(oe){return oe instanceof HTMLLabelElement&&oe.attributes.for})&&!G.some(function(oe){return oe instanceof HTMLInputElement||oe instanceof HTMLSelectElement}))){var ee=Date.now();ee-g<=Or?(w++,w===2&&h(yu(R))):w=1,g=ee}}}return o.addEventListener("click",S),{dblclick:h,simDblclick:S}}function xi(o,h){o.removeEventListener("dblclick",h.dblclick),o.removeEventListener("click",h.simDblclick)}var Ps=tr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ss=tr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),rs=ss==="webkitTransition"||ss==="OTransition"?ss+"End":"transitionend";function Vr(o){return typeof o=="string"?document.getElementById(o):o}function as(o,h){var g=o.style[h]||o.currentStyle&&o.currentStyle[h];if((!g||g==="auto")&&document.defaultView){var w=document.defaultView.getComputedStyle(o,null);g=w?w[h]:null}return g==="auto"?null:g}function ot(o,h,g){var w=document.createElement(o);return w.className=h||"",g&&g.appendChild(w),w}function ht(o){var h=o.parentNode;h&&h.removeChild(o)}function wt(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function ti(o){var h=o.parentNode;h&&h.lastChild!==o&&h.appendChild(o)}function bi(o){var h=o.parentNode;h&&h.firstChild!==o&&h.insertBefore(o,h.firstChild)}function os(o,h){if(o.classList!==void 0)return o.classList.contains(h);var g=Ft(o);return g.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(g)}function Ce(o,h){if(o.classList!==void 0)for(var g=j(h),w=0,S=g.length;w<S;w++)o.classList.add(g[w]);else if(!os(o,h)){var R=Ft(o);js(o,(R?R+" ":"")+h)}}function vt(o,h){o.classList!==void 0?o.classList.remove(h):js(o,D((" "+Ft(o)+" ").replace(" "+h+" "," ")))}function js(o,h){o.className.baseVal===void 0?o.className=h:o.className.baseVal=h}function Ft(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function bn(o,h){"opacity"in o.style?o.style.opacity=h:"filter"in o.style&&Fo(o,h)}function Fo(o,h){var g=!1,w="DXImageTransform.Microsoft.Alpha";try{g=o.filters.item(w)}catch{if(h===1)return}h=Math.round(h*100),g?(g.Enabled=h!==100,g.Opacity=h):o.style.filter+=" progid:"+w+"(opacity="+h+")"}function tr(o){for(var h=document.documentElement.style,g=0;g<o.length;g++)if(o[g]in h)return o[g];return!1}function Un(o,h,g){var w=h||new de(0,0);o.style[Ps]=(Le.ie3d?"translate("+w.x+"px,"+w.y+"px)":"translate3d("+w.x+"px,"+w.y+"px,0)")+(g?" scale("+g+")":"")}function It(o,h){o._leaflet_pos=h,Le.any3d?Un(o,h):(o.style.left=h.x+"px",o.style.top=h.y+"px")}function ls(o){return o._leaflet_pos||new de(0,0)}var wn,ni,Br;if("onselectstart"in document)wn=function(){ze(window,"selectstart",Lt)},ni=function(){dt(window,"selectstart",Lt)};else{var Is=tr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);wn=function(){if(Is){var o=document.documentElement.style;Br=o[Is],o[Is]="none"}},ni=function(){Is&&(document.documentElement.style[Is]=Br,Br=void 0)}}function nr(){ze(window,"dragstart",Lt)}function Aa(){dt(window,"dragstart",Lt)}var Ur,ii;function zr(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(ir(),Ur=o,ii=o.style.outlineStyle,o.style.outlineStyle="none",ze(window,"keydown",ir))}function ir(){Ur&&(Ur.style.outlineStyle=ii,Ur=void 0,ii=void 0,dt(window,"keydown",ir))}function Ls(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function fn(o){var h=o.getBoundingClientRect();return{x:h.width/o.offsetWidth||1,y:h.height/o.offsetHeight||1,boundingClientRect:h}}var Fl={__proto__:null,TRANSFORM:Ps,TRANSITION:ss,TRANSITION_END:rs,get:Vr,getStyle:as,create:ot,remove:ht,empty:wt,toFront:ti,toBack:bi,hasClass:os,addClass:Ce,removeClass:vt,setClass:js,getClass:Ft,setOpacity:bn,testProp:tr,setTransform:Un,setPosition:It,getPosition:ls,get disableTextSelection(){return wn},get enableTextSelection(){return ni},disableImageDrag:nr,enableImageDrag:Aa,preventOutline:zr,restoreOutline:ir,getSizedParentNode:Ls,getScale:fn};function ze(o,h,g,w){if(h&&typeof h=="object")for(var S in h)cs(o,S,h[S],g);else{h=j(h);for(var R=0,G=h.length;R<G;R++)cs(o,h[R],g,w)}return this}var Tn="_leaflet_events";function dt(o,h,g,w){if(arguments.length===1)En(o),delete o[Tn];else if(h&&typeof h=="object")for(var S in h)zn(o,S,h[S],g);else if(h=j(h),arguments.length===2)En(o,function(ee){return ve(h,ee)!==-1});else for(var R=0,G=h.length;R<G;R++)zn(o,h[R],g,w);return this}function En(o,h){for(var g in o[Tn]){var w=g.split(/\d/)[0];(!h||h(w))&&zn(o,w,null,null,g)}}var ki={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function cs(o,h,g,w){var S=h+y(g)+(w?"_"+y(w):"");if(o[Tn]&&o[Tn][S])return this;var R=function(ee){return g.call(w||o,ee||window.event)},G=R;!Le.touchNative&&Le.pointer&&h.indexOf("touch")===0?R=zt(o,h,R):Le.touch&&h==="dblclick"?R=kr(o,R):"addEventListener"in o?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?o.addEventListener(ki[h]||h,R,Le.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(R=function(ee){ee=ee||window.event,Ds(o,ee)&&G(ee)},o.addEventListener(ki[h],R,!1)):o.addEventListener(h,G,!1):o.attachEvent("on"+h,R),o[Tn]=o[Tn]||{},o[Tn][S]=R}function zn(o,h,g,w,S){S=S||h+y(g)+(w?"_"+y(w):"");var R=o[Tn]&&o[Tn][S];if(!R)return this;!Le.touchNative&&Le.pointer&&h.indexOf("touch")===0?zl(o,h,R):Le.touch&&h==="dblclick"?xi(o,R):"removeEventListener"in o?o.removeEventListener(ki[h]||h,R,!1):o.detachEvent("on"+h,R),o[Tn][S]=null}function ft(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function sr(o){return cs(o,"wheel",ft),this}function rr(o){return ze(o,"mousedown touchstart dblclick contextmenu",ft),o._leaflet_disable_click=!0,this}function Lt(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function si(o){return Lt(o),ft(o),this}function Na(o){if(o.composedPath)return o.composedPath();for(var h=[],g=o.target;g;)h.push(g),g=g.parentNode;return h}function Wt(o,h){if(!h)return new de(o.clientX,o.clientY);var g=fn(h),w=g.boundingClientRect;return new de((o.clientX-w.left)/g.x-h.clientLeft,(o.clientY-w.top)/g.y-h.clientTop)}var Sn=Le.linux&&Le.chrome?window.devicePixelRatio:Le.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ar(o){return Le.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/Sn:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Ds(o,h){var g=h.relatedTarget;if(!g)return!0;try{for(;g&&g!==o;)g=g.parentNode}catch{return!1}return g!==o}var Fr={__proto__:null,on:ze,off:dt,stopPropagation:ft,disableScrollPropagation:sr,disableClickPropagation:rr,preventDefault:Lt,stop:si,getPropagationPath:Na,getMousePosition:Wt,getWheelDelta:ar,isExternalTarget:Ds,addListener:ze,removeListener:dt},Hr=ue.extend({run:function(o,h,g,w){this.stop(),this._el=o,this._inProgress=!0,this._duration=g||.25,this._easeOutPower=1/Math.max(w||.5,.2),this._startPos=ls(o),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=U(this._animate,this),this._step()},_step:function(o){var h=+new Date-this._startTime,g=this._duration*1e3;h<g?this._runFrame(this._easeOut(h/g),o):(this._runFrame(1),this._complete())},_runFrame:function(o,h){var g=this._startPos.add(this._offset.multiplyBy(o));h&&g._round(),It(this._el,g),this.fire("step")},_complete:function(){W(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Xe=ue.extend({options:{crs:Es,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,h){h=F(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(Ee(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ss&&Le.any3d&&!Le.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ze(this._proxy,rs,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,h,g){if(h=h===void 0?this._zoom:this._limitZoom(h),o=this._limitCenter(Ee(o),h,this.options.maxBounds),g=g||{},this._stop(),this._loaded&&!g.reset&&g!==!0){g.animate!==void 0&&(g.zoom=a({animate:g.animate},g.zoom),g.pan=a({animate:g.animate,duration:g.duration},g.pan));var w=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,h,g.zoom):this._tryAnimatedPan(o,g.pan);if(w)return clearTimeout(this._sizeTimer),this}return this._resetView(o,h,g.pan&&g.pan.noMoveStart),this},setZoom:function(o,h){return this._loaded?this.setView(this.getCenter(),o,{zoom:h}):(this._zoom=o,this)},zoomIn:function(o,h){return o=o||(Le.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,h)},zoomOut:function(o,h){return o=o||(Le.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,h)},setZoomAround:function(o,h,g){var w=this.getZoomScale(h),S=this.getSize().divideBy(2),R=o instanceof de?o:this.latLngToContainerPoint(o),G=R.subtract(S).multiplyBy(1-1/w),ee=this.containerPointToLatLng(S.add(G));return this.setView(ee,h,{zoom:g})},_getBoundsCenterZoom:function(o,h){h=h||{},o=o.getBounds?o.getBounds():Se(o);var g=H(h.paddingTopLeft||h.padding||[0,0]),w=H(h.paddingBottomRight||h.padding||[0,0]),S=this.getBoundsZoom(o,!1,g.add(w));if(S=typeof h.maxZoom=="number"?Math.min(h.maxZoom,S):S,S===1/0)return{center:o.getCenter(),zoom:S};var R=w.subtract(g).divideBy(2),G=this.project(o.getSouthWest(),S),ee=this.project(o.getNorthEast(),S),oe=this.unproject(G.add(ee).divideBy(2).add(R),S);return{center:oe,zoom:S}},fitBounds:function(o,h){if(o=Se(o),!o.isValid())throw new Error("Bounds are not valid.");var g=this._getBoundsCenterZoom(o,h);return this.setView(g.center,g.zoom,h)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,h){return this.setView(o,this._zoom,{pan:h})},panBy:function(o,h){if(o=H(o).round(),h=h||{},!o.x&&!o.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Hr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){Ce(this._mapPane,"leaflet-pan-anim");var g=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,g,h.duration||.25,h.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,h,g){if(g=g||{},g.animate===!1||!Le.any3d)return this.setView(o,h,g);this._stop();var w=this.project(this.getCenter()),S=this.project(o),R=this.getSize(),G=this._zoom;o=Ee(o),h=h===void 0?G:h;var ee=Math.max(R.x,R.y),oe=ee*this.getZoomScale(G,h),_e=S.distanceTo(w)||1,Ae=1.42,Ie=Ae*Ae;function Oe(Ot){var ms=Ot?-1:1,Vs=Ot?oe:ee,hr=oe*oe-ee*ee+ms*Ie*Ie*_e*_e,Bs=2*Vs*Ie*_e,sl=hr/Bs,tc=Math.sqrt(sl*sl+1)-sl,rl=tc<1e-9?-18:Math.log(tc);return rl}function Ke(Ot){return(Math.exp(Ot)-Math.exp(-Ot))/2}function Ct(Ot){return(Math.exp(Ot)+Math.exp(-Ot))/2}function Ht(Ot){return Ke(Ot)/Ct(Ot)}var Nn=Oe(0);function Ti(Ot){return ee*(Ct(Nn)/Ct(Nn+Ae*Ot))}function Td(Ot){return ee*(Ct(Nn)*Ht(Nn+Ae*Ot)-Ke(Nn))/Ie}function Ed(Ot){return 1-Math.pow(1-Ot,1.5)}var il=Date.now(),qa=(Oe(1)-Nn)/Ae,Sd=g.duration?1e3*g.duration:1e3*qa*.8;function Ga(){var Ot=(Date.now()-il)/Sd,ms=Ed(Ot)*qa;Ot<=1?(this._flyToFrame=U(Ga,this),this._move(this.unproject(w.add(S.subtract(w).multiplyBy(Td(ms)/_e)),G),this.getScaleZoom(ee/Ti(ms),G),{flyTo:!0})):this._move(o,h)._moveEnd(!0)}return this._moveStart(!0,g.noMoveStart),Ga.call(this),this},flyToBounds:function(o,h){var g=this._getBoundsCenterZoom(o,h);return this.flyTo(g.center,g.zoom,h)},setMaxBounds:function(o){return o=Se(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var h=this.options.minZoom;return this.options.minZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var h=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,h){this._enforcingBounds=!0;var g=this.getCenter(),w=this._limitCenter(g,this._zoom,Se(o));return g.equals(w)||this.panTo(w,h),this._enforcingBounds=!1,this},panInside:function(o,h){h=h||{};var g=H(h.paddingTopLeft||h.padding||[0,0]),w=H(h.paddingBottomRight||h.padding||[0,0]),S=this.project(this.getCenter()),R=this.project(o),G=this.getPixelBounds(),ee=xe([G.min.add(g),G.max.subtract(w)]),oe=ee.getSize();if(!ee.contains(R)){this._enforcingBounds=!0;var _e=R.subtract(ee.getCenter()),Ae=ee.extend(R).getSize().subtract(oe);S.x+=_e.x<0?-Ae.x:Ae.x,S.y+=_e.y<0?-Ae.y:Ae.y,this.panTo(this.unproject(S),h),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=a({animate:!1,pan:!0},o===!0?{animate:!0}:o);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var g=this.getSize(),w=h.divideBy(2).round(),S=g.divideBy(2).round(),R=w.subtract(S);return!R.x&&!R.y?this:(o.animate&&o.pan?this.panBy(R):(o.pan&&this._rawPanBy(R),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:g}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=a({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=u(this._handleGeolocationResponse,this),g=u(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,g,o):navigator.geolocation.getCurrentPosition(h,g,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var h=o.code,g=o.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+g+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var h=o.coords.latitude,g=o.coords.longitude,w=new Re(h,g),S=w.toBounds(o.coords.accuracy*2),R=this._locateOptions;if(R.setView){var G=this.getBoundsZoom(S);this.setView(w,R.maxZoom?Math.min(G,R.maxZoom):G)}var ee={latlng:w,bounds:S,timestamp:o.timestamp};for(var oe in o.coords)typeof o.coords[oe]=="number"&&(ee[oe]=o.coords[oe]);this.fire("locationfound",ee)}},addHandler:function(o,h){if(!h)return this;var g=this[o]=new h(this);return this._handlers.push(g),this.options[o]&&g.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ht(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(W(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)ht(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,h){var g="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),w=ot("div",g,h||this._mapPane);return o&&(this._panes[o]=w),w},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),h=this.unproject(o.getBottomLeft()),g=this.unproject(o.getTopRight());return new be(h,g)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,h,g){o=Se(o),g=H(g||[0,0]);var w=this.getZoom()||0,S=this.getMinZoom(),R=this.getMaxZoom(),G=o.getNorthWest(),ee=o.getSouthEast(),oe=this.getSize().subtract(g),_e=xe(this.project(ee,w),this.project(G,w)).getSize(),Ae=Le.any3d?this.options.zoomSnap:1,Ie=oe.x/_e.x,Oe=oe.y/_e.y,Ke=h?Math.max(Ie,Oe):Math.min(Ie,Oe);return w=this.getScaleZoom(Ke,w),Ae&&(w=Math.round(w/(Ae/100))*(Ae/100),w=h?Math.ceil(w/Ae)*Ae:Math.floor(w/Ae)*Ae),Math.max(S,Math.min(R,w))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new de(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,h){var g=this._getTopLeftPoint(o,h);return new ce(g,g.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,h){var g=this.options.crs;return h=h===void 0?this._zoom:h,g.scale(o)/g.scale(h)},getScaleZoom:function(o,h){var g=this.options.crs;h=h===void 0?this._zoom:h;var w=g.zoom(o*g.scale(h));return isNaN(w)?1/0:w},project:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(Ee(o),h)},unproject:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(H(o),h)},layerPointToLatLng:function(o){var h=H(o).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(o){var h=this.project(Ee(o))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(Ee(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(Se(o))},distance:function(o,h){return this.options.crs.distance(Ee(o),Ee(h))},containerPointToLayerPoint:function(o){return H(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return H(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var h=this.containerPointToLayerPoint(H(o));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ee(o)))},mouseEventToContainerPoint:function(o){return Wt(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var h=this._container=Vr(o);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ze(h,"scroll",this._onScroll,this),this._containerId=y(h)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Le.any3d,Ce(o,"leaflet-container"+(Le.touch?" leaflet-touch":"")+(Le.retina?" leaflet-retina":"")+(Le.ielt9?" leaflet-oldie":"")+(Le.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=as(o,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),It(this._mapPane,new de(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ce(o.markerPane,"leaflet-zoom-hide"),Ce(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,h,g){It(this._mapPane,new de(0,0));var w=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var S=this._zoom!==h;this._moveStart(S,g)._move(o,h)._moveEnd(S),this.fire("viewreset"),w&&this.fire("load")},_moveStart:function(o,h){return o&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(o,h,g,w){h===void 0&&(h=this._zoom);var S=this._zoom!==h;return this._zoom=h,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),w?g&&g.pinch&&this.fire("zoom",g):((S||g&&g.pinch)&&this.fire("zoom",g),this.fire("move",g)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return W(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){It(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[y(this._container)]=this;var h=o?dt:ze;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),Le.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){W(this._resizeRequest),this._resizeRequest=U(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,h){for(var g=[],w,S=h==="mouseout"||h==="mouseover",R=o.target||o.srcElement,G=!1;R;){if(w=this._targets[y(R)],w&&(h==="click"||h==="preclick")&&this._draggableMoved(w)){G=!0;break}if(w&&w.listens(h,!0)&&(S&&!Ds(R,o)||(g.push(w),S))||R===this._container)break;R=R.parentNode}return!g.length&&!G&&!S&&this.listens(h,!0)&&(g=[this]),g},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var h=o.target||o.srcElement;if(!(!this._loaded||h._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(h))){var g=o.type;g==="mousedown"&&zr(h),this._fireDOMEvent(o,g)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,h,g){if(o.type==="click"){var w=a({},o);w.type="preclick",this._fireDOMEvent(w,w.type,g)}var S=this._findEventTargets(o,h);if(g){for(var R=[],G=0;G<g.length;G++)g[G].listens(h,!0)&&R.push(g[G]);S=R.concat(S)}if(S.length){h==="contextmenu"&&Lt(o);var ee=S[0],oe={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var _e=ee.getLatLng&&(!ee._radius||ee._radius<=10);oe.containerPoint=_e?this.latLngToContainerPoint(ee.getLatLng()):this.mouseEventToContainerPoint(o),oe.layerPoint=this.containerPointToLayerPoint(oe.containerPoint),oe.latlng=_e?ee.getLatLng():this.layerPointToLatLng(oe.layerPoint)}for(G=0;G<S.length;G++)if(S[G].fire(h,oe,!0),oe.originalEvent._stopped||S[G].options.bubblingMouseEvents===!1&&ve(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,h=this._handlers.length;o<h;o++)this._handlers[o].disable()},whenReady:function(o,h){return this._loaded?o.call(h||this,{target:this}):this.on("load",o,h),this},_getMapPanePos:function(){return ls(this._mapPane)||new de(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,h){var g=o&&h!==void 0?this._getNewPixelOrigin(o,h):this.getPixelOrigin();return g.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,h){var g=this.getSize()._divideBy(2);return this.project(o,h)._subtract(g)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,h,g){var w=this._getNewPixelOrigin(g,h);return this.project(o,h)._subtract(w)},_latLngBoundsToNewLayerBounds:function(o,h,g){var w=this._getNewPixelOrigin(g,h);return xe([this.project(o.getSouthWest(),h)._subtract(w),this.project(o.getNorthWest(),h)._subtract(w),this.project(o.getSouthEast(),h)._subtract(w),this.project(o.getNorthEast(),h)._subtract(w)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,h,g){if(!g)return o;var w=this.project(o,h),S=this.getSize().divideBy(2),R=new ce(w.subtract(S),w.add(S)),G=this._getBoundsOffset(R,g,h);return Math.abs(G.x)<=1&&Math.abs(G.y)<=1?o:this.unproject(w.add(G),h)},_limitOffset:function(o,h){if(!h)return o;var g=this.getPixelBounds(),w=new ce(g.min.add(o),g.max.add(o));return o.add(this._getBoundsOffset(w,h))},_getBoundsOffset:function(o,h,g){var w=xe(this.project(h.getNorthEast(),g),this.project(h.getSouthWest(),g)),S=w.min.subtract(o.min),R=w.max.subtract(o.max),G=this._rebound(S.x,-R.x),ee=this._rebound(S.y,-R.y);return new de(G,ee)},_rebound:function(o,h){return o+h>0?Math.round(o-h)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(h))},_limitZoom:function(o){var h=this.getMinZoom(),g=this.getMaxZoom(),w=Le.any3d?this.options.zoomSnap:1;return w&&(o=Math.round(o/w)*w),Math.max(h,Math.min(g,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){vt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,h){var g=this._getCenterOffset(o)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(g)?!1:(this.panBy(g,h),!0)},_createAnimProxy:function(){var o=this._proxy=ot("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(h){var g=Ps,w=this._proxy.style[g];Un(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),w===this._proxy.style[g]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ht(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),h=this.getZoom();Un(this._proxy,this.project(o,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,h,g){if(this._animatingZoom)return!0;if(g=g||{},!this._zoomAnimated||g.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var w=this.getZoomScale(h),S=this._getCenterOffset(o)._divideBy(1-1/w);return g.animate!==!0&&!this.getSize().contains(S)?!1:(U(function(){this._moveStart(!0,g.noMoveStart||!1)._animateZoom(o,h,!0)},this),!0)},_animateZoom:function(o,h,g,w){this._mapPane&&(g&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=h,Ce(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:h,noUpdate:w}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&vt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function us(o,h){return new Xe(o,h)}var mn=Be.extend({options:{position:"topright"},initialize:function(o){F(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var h=this._map;return h&&h.removeControl(this),this.options.position=o,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var h=this._container=this.onAdd(o),g=this.getPosition(),w=o._controlCorners[g];return Ce(h,"leaflet-control"),g.indexOf("bottom")!==-1?w.insertBefore(h,w.firstChild):w.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ht(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Vi=function(o){return new mn(o)};Xe.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},h="leaflet-",g=this._controlContainer=ot("div",h+"control-container",this._container);function w(S,R){var G=h+S+" "+h+R;o[S+R]=ot("div",G,g)}w("top","left"),w("top","right"),w("bottom","left"),w("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)ht(this._controlCorners[o]);ht(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Hl=mn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,h,g,w){return g<w?-1:w<g?1:0}},initialize:function(o,h,g){F(this,g),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var w in o)this._addLayer(o[w],w);for(w in h)this._addLayer(h[w],w,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return mn.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,h){return this._addLayer(o,h),this._map?this._update():this},addOverlay:function(o,h){return this._addLayer(o,h,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var h=this._getLayer(y(o));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){Ce(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Ce(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):vt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return vt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",h=this._container=ot("div",o),g=this.options.collapsed;h.setAttribute("aria-haspopup",!0),rr(h),sr(h);var w=this._section=ot("section",o+"-list");g&&(this._map.on("click",this.collapse,this),ze(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=ot("a",o+"-toggle",h);S.href="#",S.title="Layers",S.setAttribute("role","button"),ze(S,{keydown:function(R){R.keyCode===13&&this._expandSafely()},click:function(R){Lt(R),this._expandSafely()}},this),g||this.expand(),this._baseLayersList=ot("div",o+"-base",w),this._separator=ot("div",o+"-separator",w),this._overlaysList=ot("div",o+"-overlays",w),h.appendChild(w)},_getLayer:function(o){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&y(this._layers[h].layer)===o)return this._layers[h]},_addLayer:function(o,h,g){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:h,overlay:g}),this.options.sortLayers&&this._layers.sort(u(function(w,S){return this.options.sortFunction(w.layer,S.layer,w.name,S.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;wt(this._baseLayersList),wt(this._overlaysList),this._layerControlInputs=[];var o,h,g,w,S=0;for(g=0;g<this._layers.length;g++)w=this._layers[g],this._addItem(w),h=h||w.overlay,o=o||!w.overlay,S+=w.overlay?0:1;return this.options.hideSingleBase&&(o=o&&S>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=h&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var h=this._getLayer(y(o.target)),g=h.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;g&&this._map.fire(g,h)},_createRadioElement:function(o,h){var g='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(h?' checked="checked"':"")+"/>",w=document.createElement("div");return w.innerHTML=g,w.firstChild},_addItem:function(o){var h=document.createElement("label"),g=this._map.hasLayer(o.layer),w;o.overlay?(w=document.createElement("input"),w.type="checkbox",w.className="leaflet-control-layers-selector",w.defaultChecked=g):w=this._createRadioElement("leaflet-base-layers_"+y(this),g),this._layerControlInputs.push(w),w.layerId=y(o.layer),ze(w,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+o.name;var R=document.createElement("span");h.appendChild(R),R.appendChild(w),R.appendChild(S);var G=o.overlay?this._overlaysList:this._baseLayersList;return G.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,h,g,w=[],S=[];this._handlingClick=!0;for(var R=o.length-1;R>=0;R--)h=o[R],g=this._getLayer(h.layerId).layer,h.checked?w.push(g):h.checked||S.push(g);for(R=0;R<S.length;R++)this._map.hasLayer(S[R])&&this._map.removeLayer(S[R]);for(R=0;R<w.length;R++)this._map.hasLayer(w[R])||this._map.addLayer(w[R]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,h,g,w=this._map.getZoom(),S=o.length-1;S>=0;S--)h=o[S],g=this._getLayer(h.layerId).layer,h.disabled=g.options.minZoom!==void 0&&w<g.options.minZoom||g.options.maxZoom!==void 0&&w>g.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,ze(o,"click",Lt),this.expand();var h=this;setTimeout(function(){dt(o,"click",Lt),h._preventClick=!1})}}),ql=function(o,h,g){return new Hl(o,h,g)},Ms=mn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var h="leaflet-control-zoom",g=ot("div",h+" leaflet-bar"),w=this.options;return this._zoomInButton=this._createButton(w.zoomInText,w.zoomInTitle,h+"-in",g,this._zoomIn),this._zoomOutButton=this._createButton(w.zoomOutText,w.zoomOutTitle,h+"-out",g,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),g},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,h,g,w,S){var R=ot("a",g,w);return R.innerHTML=o,R.href="#",R.title=h,R.setAttribute("role","button"),R.setAttribute("aria-label",h),rr(R),ze(R,"click",si),ze(R,"click",S,this),ze(R,"click",this._refocusOnMap,this),R},_updateDisabled:function(){var o=this._map,h="leaflet-disabled";vt(this._zoomInButton,h),vt(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Ce(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Ce(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});Xe.mergeOptions({zoomControl:!0}),Xe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ms,this.addControl(this.zoomControl))});var Ca=function(o){return new Ms(o)},Ho=mn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var h="leaflet-control-scale",g=ot("div",h),w=this.options;return this._addScales(w,h+"-line",g),o.on(w.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),g},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,h,g){o.metric&&(this._mScale=ot("div",h,g)),o.imperial&&(this._iScale=ot("div",h,g))},_update:function(){var o=this._map,h=o.getSize().y/2,g=o.distance(o.containerPointToLatLng([0,h]),o.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(g)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var h=this._getRoundNum(o),g=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,g,h/o)},_updateImperial:function(o){var h=o*3.2808399,g,w,S;h>5280?(g=h/5280,w=this._getRoundNum(g),this._updateScale(this._iScale,w+" mi",w/g)):(S=this._getRoundNum(h),this._updateScale(this._iScale,S+" ft",S/h))},_updateScale:function(o,h,g){o.style.width=Math.round(this.options.maxWidth*g)+"px",o.innerHTML=h},_getRoundNum:function(o){var h=Math.pow(10,(Math.floor(o)+"").length-1),g=o/h;return g=g>=10?10:g>=5?5:g>=3?3:g>=2?2:1,h*g}}),qo=function(o){return new Ho(o)},Go='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ra=mn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Le.inlineSvg?Go+" ":"")+"Leaflet</a>"},initialize:function(o){F(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=ot("div","leaflet-control-attribution"),rr(this._container);for(var h in o._layers)o._layers[h].getAttribution&&this.addAttribution(o._layers[h].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var h in this._attributions)this._attributions[h]&&o.push(h);var g=[];this.options.prefix&&g.push(this.options.prefix),o.length&&g.push(o.join(", ")),this._container.innerHTML=g.join(' <span aria-hidden="true">|</span> ')}}});Xe.mergeOptions({attributionControl:!0}),Xe.addInitHook(function(){this.options.attributionControl&&new Ra().addTo(this)});var Pa=function(o){return new Ra(o)};mn.Layers=Hl,mn.Zoom=Ms,mn.Scale=Ho,mn.Attribution=Ra,Vi.layers=ql,Vi.zoom=Ca,Vi.scale=qo,Vi.attribution=Pa;var Fn=Be.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Fn.addTo=function(o,h){return o.addHandler(h,this),this};var Gl={Events:Q},hs=Le.touch?"touchstart mousedown":"mousedown",Bi=ue.extend({options:{clickTolerance:3},initialize:function(o,h,g,w){F(this,w),this._element=o,this._dragStartTarget=h||o,this._preventOutline=g},enable:function(){this._enabled||(ze(this._dragStartTarget,hs,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Bi._dragging===this&&this.finishDrag(!0),dt(this._dragStartTarget,hs,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!os(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Bi._dragging===this&&this.finishDrag();return}if(!(Bi._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Bi._dragging=this,this._preventOutline&&zr(this._element),nr(),wn(),!this._moving)){this.fire("down");var h=o.touches?o.touches[0]:o,g=Ls(this._element);this._startPoint=new de(h.clientX,h.clientY),this._startPos=ls(this._element),this._parentScale=fn(g);var w=o.type==="mousedown";ze(document,w?"mousemove":"touchmove",this._onMove,this),ze(document,w?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var h=o.touches&&o.touches.length===1?o.touches[0]:o,g=new de(h.clientX,h.clientY)._subtract(this._startPoint);!g.x&&!g.y||Math.abs(g.x)+Math.abs(g.y)<this.options.clickTolerance||(g.x/=this._parentScale.x,g.y/=this._parentScale.y,Lt(o),this._moved||(this.fire("dragstart"),this._moved=!0,Ce(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ce(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(g),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),It(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){vt(document.body,"leaflet-dragging"),this._lastTarget&&(vt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),dt(document,"mousemove touchmove",this._onMove,this),dt(document,"mouseup touchend touchcancel",this._onUp,this),Aa(),ni();var h=this._moved&&this._moving;this._moving=!1,Bi._dragging=!1,h&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function Zo(o,h,g){var w,S=[1,4,2,8],R,G,ee,oe,_e,Ae,Ie,Oe;for(R=0,Ae=o.length;R<Ae;R++)o[R]._code=re(o[R],h);for(ee=0;ee<4;ee++){for(Ie=S[ee],w=[],R=0,Ae=o.length,G=Ae-1;R<Ae;G=R++)oe=o[R],_e=o[G],oe._code&Ie?_e._code&Ie||(Oe=te(_e,oe,Ie,h,g),Oe._code=re(Oe,h),w.push(Oe)):(_e._code&Ie&&(Oe=te(_e,oe,Ie,h,g),Oe._code=re(Oe,h),w.push(Oe)),w.push(oe));o=w}return o}function qr(o,h){var g,w,S,R,G,ee,oe,_e,Ae;if(!o||o.length===0)throw new Error("latlngs not passed");nt(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Ie=Ee([0,0]),Oe=Se(o),Ke=Oe.getNorthWest().distanceTo(Oe.getSouthWest())*Oe.getNorthEast().distanceTo(Oe.getNorthWest());Ke<1700&&(Ie=ja(o));var Ct=o.length,Ht=[];for(g=0;g<Ct;g++){var Nn=Ee(o[g]);Ht.push(h.project(Ee([Nn.lat-Ie.lat,Nn.lng-Ie.lng])))}for(ee=oe=_e=0,g=0,w=Ct-1;g<Ct;w=g++)S=Ht[g],R=Ht[w],G=S.y*R.x-R.y*S.x,oe+=(S.x+R.x)*G,_e+=(S.y+R.y)*G,ee+=G*3;ee===0?Ae=Ht[0]:Ae=[oe/ee,_e/ee];var Ti=h.unproject(H(Ae));return Ee([Ti.lat+Ie.lat,Ti.lng+Ie.lng])}function ja(o){for(var h=0,g=0,w=0,S=0;S<o.length;S++){var R=Ee(o[S]);h+=R.lat,g+=R.lng,w++}return Ee([h/w,g/w])}var Ia={__proto__:null,clipPolygon:Zo,polygonCenter:qr,centroid:ja};function An(o,h){if(!h||!o.length)return o.slice();var g=h*h;return o=E(o,g),o=or(o,g),o}function La(o,h,g){return Math.sqrt(Fe(o,h,g,!0))}function Zl(o,h,g){return Fe(o,h,g)}function or(o,h){var g=o.length,w=typeof Uint8Array<"u"?Uint8Array:Array,S=new w(g);S[0]=S[g-1]=1,m(o,S,h,0,g-1);var R,G=[];for(R=0;R<g;R++)S[R]&&G.push(o[R]);return G}function m(o,h,g,w,S){var R=0,G,ee,oe;for(ee=w+1;ee<=S-1;ee++)oe=Fe(o[ee],o[w],o[S],!0),oe>R&&(G=ee,R=oe);R>g&&(h[G]=1,m(o,h,g,w,G),m(o,h,g,G,S))}function E(o,h){for(var g=[o[0]],w=1,S=0,R=o.length;w<R;w++)Te(o[w],o[S])>h&&(g.push(o[w]),S=w);return S<R-1&&g.push(o[R-1]),g}var N;function I(o,h,g,w,S){var R=w?N:re(o,g),G=re(h,g),ee,oe,_e;for(N=G;;){if(!(R|G))return[o,h];if(R&G)return!1;ee=R||G,oe=te(o,h,ee,g,S),_e=re(oe,g),ee===R?(o=oe,R=_e):(h=oe,G=_e)}}function te(o,h,g,w,S){var R=h.x-o.x,G=h.y-o.y,ee=w.min,oe=w.max,_e,Ae;return g&8?(_e=o.x+R*(oe.y-o.y)/G,Ae=oe.y):g&4?(_e=o.x+R*(ee.y-o.y)/G,Ae=ee.y):g&2?(_e=oe.x,Ae=o.y+G*(oe.x-o.x)/R):g&1&&(_e=ee.x,Ae=o.y+G*(ee.x-o.x)/R),new de(_e,Ae,S)}function re(o,h){var g=0;return o.x<h.min.x?g|=1:o.x>h.max.x&&(g|=2),o.y<h.min.y?g|=4:o.y>h.max.y&&(g|=8),g}function Te(o,h){var g=h.x-o.x,w=h.y-o.y;return g*g+w*w}function Fe(o,h,g,w){var S=h.x,R=h.y,G=g.x-S,ee=g.y-R,oe=G*G+ee*ee,_e;return oe>0&&(_e=((o.x-S)*G+(o.y-R)*ee)/oe,_e>1?(S=g.x,R=g.y):_e>0&&(S+=G*_e,R+=ee*_e)),G=o.x-S,ee=o.y-R,w?G*G+ee*ee:new de(S,R)}function nt(o){return!X(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function gt(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),nt(o)}function Mt(o,h){var g,w,S,R,G,ee,oe,_e;if(!o||o.length===0)throw new Error("latlngs not passed");nt(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Ae=Ee([0,0]),Ie=Se(o),Oe=Ie.getNorthWest().distanceTo(Ie.getSouthWest())*Ie.getNorthEast().distanceTo(Ie.getNorthWest());Oe<1700&&(Ae=ja(o));var Ke=o.length,Ct=[];for(g=0;g<Ke;g++){var Ht=Ee(o[g]);Ct.push(h.project(Ee([Ht.lat-Ae.lat,Ht.lng-Ae.lng])))}for(g=0,w=0;g<Ke-1;g++)w+=Ct[g].distanceTo(Ct[g+1])/2;if(w===0)_e=Ct[0];else for(g=0,R=0;g<Ke-1;g++)if(G=Ct[g],ee=Ct[g+1],S=G.distanceTo(ee),R+=S,R>w){oe=(R-w)/S,_e=[ee.x-oe*(ee.x-G.x),ee.y-oe*(ee.y-G.y)];break}var Nn=h.unproject(H(_e));return Ee([Nn.lat+Ae.lat,Nn.lng+Ae.lng])}var ri={__proto__:null,simplify:An,pointToSegmentDistance:La,closestPointOnSegment:Zl,clipSegment:I,_getEdgeIntersection:te,_getBitCode:re,_sqClosestPointOnSegment:Fe,isFlat:nt,_flat:gt,polylineCenter:Mt},wi={project:function(o){return new de(o.lng,o.lat)},unproject:function(o){return new Re(o.y,o.x)},bounds:new ce([-180,-90],[180,90])},ai={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ce([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var h=Math.PI/180,g=this.R,w=o.lat*h,S=this.R_MINOR/g,R=Math.sqrt(1-S*S),G=R*Math.sin(w),ee=Math.tan(Math.PI/4-w/2)/Math.pow((1-G)/(1+G),R/2);return w=-g*Math.log(Math.max(ee,1e-10)),new de(o.lng*h*g,w)},unproject:function(o){for(var h=180/Math.PI,g=this.R,w=this.R_MINOR/g,S=Math.sqrt(1-w*w),R=Math.exp(-o.y/g),G=Math.PI/2-2*Math.atan(R),ee=0,oe=.1,_e;ee<15&&Math.abs(oe)>1e-7;ee++)_e=S*Math.sin(G),_e=Math.pow((1-_e)/(1+_e),S/2),oe=Math.PI/2-2*Math.atan(R*_e)-G,G+=oe;return new Re(G*h,o.x*h/g)}},Ui={__proto__:null,LonLat:wi,Mercator:ai,SphericalMercator:Rr},zi=a({},st,{code:"EPSG:3395",projection:ai,transformation:(function(){var o=.5/(Math.PI*ai.R);return Ji(o,.5,-o,.5)})()}),Da=a({},st,{code:"EPSG:4326",projection:wi,transformation:Ji(1/180,1,-1/180,.5)}),rp=a({},At,{projection:wi,transformation:Ji(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,h){var g=h.lng-o.lng,w=h.lat-o.lat;return Math.sqrt(g*g+w*w)},infinite:!0});At.Earth=st,At.EPSG3395=zi,At.EPSG3857=Es,At.EPSG900913=ba,At.EPSG4326=Da,At.Simple=rp;var Fi=ue.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[y(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[y(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var h=o.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var g=this.getEvents();h.on(g,this),this.once("remove",function(){h.off(g,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});Xe.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var h=y(o);return this._layers[h]?this:(this._layers[h]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var h=y(o);return this._layers[h]?(this._loaded&&o.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return y(o)in this._layers},eachLayer:function(o,h){for(var g in this._layers)o.call(h,this._layers[g]);return this},_addLayers:function(o){o=o?X(o)?o:[o]:[];for(var h=0,g=o.length;h<g;h++)this.addLayer(o[h])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[y(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var h=y(o);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,h=-1/0,g=this._getZoomSpan();for(var w in this._zoomBoundLayers){var S=this._zoomBoundLayers[w].options;o=S.minZoom===void 0?o:Math.min(o,S.minZoom),h=S.maxZoom===void 0?h:Math.max(h,S.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=o===1/0?void 0:o,g!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Gr=Fi.extend({initialize:function(o,h){F(this,h),this._layers={};var g,w;if(o)for(g=0,w=o.length;g<w;g++)this.addLayer(o[g])},addLayer:function(o){var h=this.getLayerId(o);return this._layers[h]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var h=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(o){var h=typeof o=="number"?o:this.getLayerId(o);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var h=Array.prototype.slice.call(arguments,1),g,w;for(g in this._layers)w=this._layers[g],w[o]&&w[o].apply(w,h);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,h){for(var g in this._layers)o.call(h,this._layers[g]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return y(o)}}),gd=function(o,h){return new Gr(o,h)},oi=Gr.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Gr.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Gr.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new be;for(var h in this._layers){var g=this._layers[h];o.extend(g.getBounds?g.getBounds():g.getLatLng())}return o}}),Wo=function(o,h){return new oi(o,h)},Ma=Be.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){F(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,h){var g=this._getIconUrl(o);if(!g){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var w=this._createImg(g,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(w,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),w},_setIconStyles:function(o,h){var g=this.options,w=g[h+"Size"];typeof w=="number"&&(w=[w,w]);var S=H(w),R=H(h==="shadow"&&g.shadowAnchor||g.iconAnchor||S&&S.divideBy(2,!0));o.className="leaflet-marker-"+h+" "+(g.className||""),R&&(o.style.marginLeft=-R.x+"px",o.style.marginTop=-R.y+"px"),S&&(o.style.width=S.x+"px",o.style.height=S.y+"px")},_createImg:function(o,h){return h=h||document.createElement("img"),h.src=o,h},_getIconUrl:function(o){return Le.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function Wl(o){return new Ma(o)}var Oa=Ma.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Oa.imagePath!="string"&&(Oa.imagePath=this._detectIconPath()),(this.options.imagePath||Oa.imagePath)+Ma.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var h=function(g,w,S){var R=w.exec(g);return R&&R[S]};return o=h(o,/^url\((['"])?(.+)\1\)$/,2),o&&h(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=ot("div","leaflet-default-icon-path",document.body),h=as(o,"background-image")||as(o,"backgroundImage");if(document.body.removeChild(o),h=this._stripUrl(h),h)return h;var g=document.querySelector('link[href$="leaflet.css"]');return g?g.href.substring(0,g.href.length-11-1):""}}),vu=Fn.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Bi(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ce(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&vt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var h=this._marker,g=h._map,w=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,R=ls(h._icon),G=g.getPixelBounds(),ee=g.getPixelOrigin(),oe=xe(G.min._subtract(ee).add(S),G.max._subtract(ee).subtract(S));if(!oe.contains(R)){var _e=H((Math.max(oe.max.x,R.x)-oe.max.x)/(G.max.x-oe.max.x)-(Math.min(oe.min.x,R.x)-oe.min.x)/(G.min.x-oe.min.x),(Math.max(oe.max.y,R.y)-oe.max.y)/(G.max.y-oe.max.y)-(Math.min(oe.min.y,R.y)-oe.min.y)/(G.min.y-oe.min.y)).multiplyBy(w);g.panBy(_e,{animate:!1}),this._draggable._newPos._add(_e),this._draggable._startPos._add(_e),It(h._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=U(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(W(this._panRequest),this._panRequest=U(this._adjustPan.bind(this,o)))},_onDrag:function(o){var h=this._marker,g=h._shadow,w=ls(h._icon),S=h._map.layerPointToLatLng(w);g&&It(g,w),h._latlng=S,o.latlng=S,o.oldLatLng=this._oldLatLng,h.fire("move",o).fire("drag",o)},_onDragEnd:function(o){W(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),ka=Fi.extend({options:{icon:new Oa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,h){F(this,h),this._latlng=Ee(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var h=this._latlng;return this._latlng=Ee(o),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),g=o.icon.createIcon(this._icon),w=!1;g!==this._icon&&(this._icon&&this._removeIcon(),w=!0,o.title&&(g.title=o.title),g.tagName==="IMG"&&(g.alt=o.alt||"")),Ce(g,h),o.keyboard&&(g.tabIndex="0",g.setAttribute("role","button")),this._icon=g,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ze(g,"focus",this._panOnFocus,this);var S=o.icon.createShadow(this._shadow),R=!1;S!==this._shadow&&(this._removeShadow(),R=!0),S&&(Ce(S,h),S.alt=""),this._shadow=S,o.opacity<1&&this._updateOpacity(),w&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&R&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&dt(this._icon,"focus",this._panOnFocus,this),ht(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ht(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&It(this._icon,o),this._shadow&&It(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(Ce(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),vu)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new vu(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&bn(this._icon,o),this._shadow&&bn(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var h=this.options.icon.options,g=h.iconSize?H(h.iconSize):H(0,0),w=h.iconAnchor?H(h.iconAnchor):H(0,0);o.panInside(this._latlng,{paddingTopLeft:w,paddingBottomRight:g.subtract(w)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function _u(o,h){return new ka(o,h)}var Os=Fi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return F(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ko=Os.extend({options:{fill:!0,radius:10},initialize:function(o,h){F(this,h),this._latlng=Ee(o),this._radius=this.options.radius},setLatLng:function(o){var h=this._latlng;return this._latlng=Ee(o),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var h=o&&o.radius||this._radius;return Os.prototype.setStyle.call(this,o),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,h=this._radiusY||o,g=this._clickTolerance(),w=[o+g,h+g];this._pxBounds=new ce(this._point.subtract(w),this._point.add(w))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function yd(o,h){return new Ko(o,h)}var xu=Ko.extend({initialize:function(o,h,g){if(typeof h=="number"&&(h=a({},g,{radius:h})),F(this,h),this._latlng=Ee(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new be(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Os.prototype.setStyle,_project:function(){var o=this._latlng.lng,h=this._latlng.lat,g=this._map,w=g.options.crs;if(w.distance===st.distance){var S=Math.PI/180,R=this._mRadius/st.R/S,G=g.project([h+R,o]),ee=g.project([h-R,o]),oe=G.add(ee).divideBy(2),_e=g.unproject(oe).lat,Ae=Math.acos((Math.cos(R*S)-Math.sin(h*S)*Math.sin(_e*S))/(Math.cos(h*S)*Math.cos(_e*S)))/S;(isNaN(Ae)||Ae===0)&&(Ae=R/Math.cos(Math.PI/180*h)),this._point=oe.subtract(g.getPixelOrigin()),this._radius=isNaN(Ae)?0:oe.x-g.project([_e,o-Ae]).x,this._radiusY=oe.y-G.y}else{var Ie=w.unproject(w.project(this._latlng).subtract([this._mRadius,0]));this._point=g.latLngToLayerPoint(this._latlng),this._radius=this._point.x-g.latLngToLayerPoint(Ie).x}this._updateBounds()}});function ap(o,h,g){return new xu(o,h,g)}var ks=Os.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,h){F(this,h),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var h=1/0,g=null,w=Fe,S,R,G=0,ee=this._parts.length;G<ee;G++)for(var oe=this._parts[G],_e=1,Ae=oe.length;_e<Ae;_e++){S=oe[_e-1],R=oe[_e];var Ie=w(o,S,R,!0);Ie<h&&(h=Ie,g=w(o,S,R))}return g&&(g.distance=Math.sqrt(h)),g},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Mt(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,h){return h=h||this._defaultShape(),o=Ee(o),h.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new be,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return nt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var h=[],g=nt(o),w=0,S=o.length;w<S;w++)g?(h[w]=Ee(o[w]),this._bounds.extend(h[w])):h[w]=this._convertLatLngs(o[w]);return h},_project:function(){var o=new ce;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),h=new de(o,o);this._rawPxBounds&&(this._pxBounds=new ce([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(o,h,g){var w=o[0]instanceof Re,S=o.length,R,G;if(w){for(G=[],R=0;R<S;R++)G[R]=this._map.latLngToLayerPoint(o[R]),g.extend(G[R]);h.push(G)}else for(R=0;R<S;R++)this._projectLatlngs(o[R],h,g)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,g,w,S,R,G,ee,oe;for(g=0,S=0,R=this._rings.length;g<R;g++)for(oe=this._rings[g],w=0,G=oe.length;w<G-1;w++)ee=I(oe[w],oe[w+1],o,w,!0),ee&&(h[S]=h[S]||[],h[S].push(ee[0]),(ee[1]!==oe[w+1]||w===G-2)&&(h[S].push(ee[1]),S++))}},_simplifyPoints:function(){for(var o=this._parts,h=this.options.smoothFactor,g=0,w=o.length;g<w;g++)o[g]=An(o[g],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,h){var g,w,S,R,G,ee,oe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(g=0,R=this._parts.length;g<R;g++)for(ee=this._parts[g],w=0,G=ee.length,S=G-1;w<G;S=w++)if(!(!h&&w===0)&&La(o,ee[S],ee[w])<=oe)return!0;return!1}});function op(o,h){return new ks(o,h)}ks._flat=gt;var Va=ks.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return qr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var h=ks.prototype._convertLatLngs.call(this,o),g=h.length;return g>=2&&h[0]instanceof Re&&h[0].equals(h[g-1])&&h.pop(),h},_setLatLngs:function(o){ks.prototype._setLatLngs.call(this,o),nt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return nt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,h=this.options.weight,g=new de(h,h);if(o=new ce(o.min.subtract(g),o.max.add(g)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var w=0,S=this._rings.length,R;w<S;w++)R=Zo(this._rings[w],o,!0),R.length&&this._parts.push(R)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var h=!1,g,w,S,R,G,ee,oe,_e;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(R=0,oe=this._parts.length;R<oe;R++)for(g=this._parts[R],G=0,_e=g.length,ee=_e-1;G<_e;ee=G++)w=g[G],S=g[ee],w.y>o.y!=S.y>o.y&&o.x<(S.x-w.x)*(o.y-w.y)/(S.y-w.y)+w.x&&(h=!h);return h||ks.prototype._containsPoint.call(this,o,!0)}});function li(o,h){return new Va(o,h)}var ci=oi.extend({initialize:function(o,h){F(this,h),this._layers={},o&&this.addData(o)},addData:function(o){var h=X(o)?o:o.features,g,w,S;if(h){for(g=0,w=h.length;g<w;g++)S=h[g],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var R=this.options;if(R.filter&&!R.filter(o))return this;var G=$o(o,R);return G?(G.feature=Ba(o),G.defaultOptions=G.options,this.resetStyle(G),R.onEachFeature&&R.onEachFeature(o,G),this.addLayer(G)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=a({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(h){this._setLayerStyle(h,o)},this)},_setLayerStyle:function(o,h){o.setStyle&&(typeof h=="function"&&(h=h(o.feature)),o.setStyle(h))}});function $o(o,h){var g=o.type==="Feature"?o.geometry:o,w=g?g.coordinates:null,S=[],R=h&&h.pointToLayer,G=h&&h.coordsToLatLng||Kl,ee,oe,_e,Ae;if(!w&&!g)return null;switch(g.type){case"Point":return ee=G(w),bu(R,o,ee,h);case"MultiPoint":for(_e=0,Ae=w.length;_e<Ae;_e++)ee=G(w[_e]),S.push(bu(R,o,ee,h));return new oi(S);case"LineString":case"MultiLineString":return oe=Yo(w,g.type==="LineString"?0:1,G),new ks(oe,h);case"Polygon":case"MultiPolygon":return oe=Yo(w,g.type==="Polygon"?1:2,G),new Va(oe,h);case"GeometryCollection":for(_e=0,Ae=g.geometries.length;_e<Ae;_e++){var Ie=$o({geometry:g.geometries[_e],type:"Feature",properties:o.properties},h);Ie&&S.push(Ie)}return new oi(S);case"FeatureCollection":for(_e=0,Ae=g.features.length;_e<Ae;_e++){var Oe=$o(g.features[_e],h);Oe&&S.push(Oe)}return new oi(S);default:throw new Error("Invalid GeoJSON object.")}}function bu(o,h,g,w){return o?o(h,g):new ka(g,w&&w.markersInheritOptions&&w)}function Kl(o){return new Re(o[1],o[0],o[2])}function Yo(o,h,g){for(var w=[],S=0,R=o.length,G;S<R;S++)G=h?Yo(o[S],h-1,g):(g||Kl)(o[S]),w.push(G);return w}function Xo(o,h){return o=Ee(o),o.alt!==void 0?[A(o.lng,h),A(o.lat,h),A(o.alt,h)]:[A(o.lng,h),A(o.lat,h)]}function $l(o,h,g,w){for(var S=[],R=0,G=o.length;R<G;R++)S.push(h?$l(o[R],nt(o[R])?0:h-1,g,w):Xo(o[R],w));return!h&&g&&S.length>0&&S.push(S[0].slice()),S}function Hi(o,h){return o.feature?a({},o.feature,{geometry:h}):Ba(h)}function Ba(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var Zr={toGeoJSON:function(o){return Hi(this,{type:"Point",coordinates:Xo(this.getLatLng(),o)})}};ka.include(Zr),xu.include(Zr),Ko.include(Zr),ks.include({toGeoJSON:function(o){var h=!nt(this._latlngs),g=$l(this._latlngs,h?1:0,!1,o);return Hi(this,{type:(h?"Multi":"")+"LineString",coordinates:g})}}),Va.include({toGeoJSON:function(o){var h=!nt(this._latlngs),g=h&&!nt(this._latlngs[0]),w=$l(this._latlngs,g?2:h?1:0,!0,o);return h||(w=[w]),Hi(this,{type:(g?"Multi":"")+"Polygon",coordinates:w})}}),Gr.include({toMultiPoint:function(o){var h=[];return this.eachLayer(function(g){h.push(g.toGeoJSON(o).geometry.coordinates)}),Hi(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(o){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(o);var g=h==="GeometryCollection",w=[];return this.eachLayer(function(S){if(S.toGeoJSON){var R=S.toGeoJSON(o);if(g)w.push(R.geometry);else{var G=Ba(R);G.type==="FeatureCollection"?w.push.apply(w,G.features):w.push(G)}}}),g?Hi(this,{geometries:w,type:"GeometryCollection"}):{type:"FeatureCollection",features:w}}});function Yl(o,h){return new ci(o,h)}var vd=Yl,ds=Fi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,h,g){this._url=o,this._bounds=Se(h),F(this,g)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ce(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ht(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&ti(this._image),this},bringToBack:function(){return this._map&&bi(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=Se(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",h=this._image=o?this._url:ot("img");if(Ce(h,"leaflet-image-layer"),this._zoomAnimated&&Ce(h,"leaflet-zoom-animated"),this.options.className&&Ce(h,this.options.className),h.onselectstart=T,h.onmousemove=T,h.onload=u(this.fire,this,"load"),h.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(o){var h=this._map.getZoomScale(o.zoom),g=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Un(this._image,g,h)},_reset:function(){var o=this._image,h=new ce(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),g=h.getSize();It(o,h.min),o.style.width=g.x+"px",o.style.height=g.y+"px"},_updateOpacity:function(){bn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),Ua=function(o,h,g){return new ds(o,h,g)},Xl=ds.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",h=this._image=o?this._url:ot("video");if(Ce(h,"leaflet-image-layer"),this._zoomAnimated&&Ce(h,"leaflet-zoom-animated"),this.options.className&&Ce(h,this.options.className),h.onselectstart=T,h.onmousemove=T,h.onloadeddata=u(this.fire,this,"load"),o){for(var g=h.getElementsByTagName("source"),w=[],S=0;S<g.length;S++)w.push(g[S].src);this._url=g.length>0?w:[h.src];return}X(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var R=0;R<this._url.length;R++){var G=ot("source");G.src=this._url[R],h.appendChild(G)}}});function _d(o,h,g){return new Xl(o,h,g)}var lr=ds.extend({_initImage:function(){var o=this._image=this._url;Ce(o,"leaflet-image-layer"),this._zoomAnimated&&Ce(o,"leaflet-zoom-animated"),this.options.className&&Ce(o,this.options.className),o.onselectstart=T,o.onmousemove=T}});function xd(o,h,g){return new lr(o,h,g)}var qi=Fi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,h){o&&(o instanceof Re||X(o))?(this._latlng=Ee(o),F(this,h)):(F(this,o),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&bn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&bn(this._container,1),this.bringToFront(),this.options.interactive&&(Ce(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(bn(this._container,0),this._removeTimeout=setTimeout(u(ht,void 0,this._container),200)):ht(this._container),this.options.interactive&&(vt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=Ee(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ti(this._container),this},bringToBack:function(){return this._map&&bi(this._container),this},_prepareOpen:function(o){var h=this._source;if(!h._map)return!1;if(h instanceof oi){h=null;var g=this._source._layers;for(var w in g)if(g[w]._map){h=g[w];break}if(!h)return!1;this._source=h}if(!o)if(h.getCenter)o=h.getCenter();else if(h.getLatLng)o=h.getLatLng();else if(h.getBounds)o=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")o.innerHTML=h;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),h=H(this.options.offset),g=this._getAnchor();this._zoomAnimated?It(this._container,o.add(g)):h=h.add(o).add(g);var w=this._containerBottom=-h.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=w+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});Xe.include({_initOverlay:function(o,h,g,w){var S=h;return S instanceof o||(S=new o(w).setContent(h)),g&&S.setLatLng(g),S}}),Fi.include({_initOverlay:function(o,h,g,w){var S=g;return S instanceof o?(F(S,w),S._source=this):(S=h&&!w?h:new o(w,this),S.setContent(g)),S}});var Qo=qi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,qi.prototype.openOn.call(this,o)},onAdd:function(o){qi.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Os||this._source.on("preclick",ft))},onRemove:function(o){qi.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Os||this._source.off("preclick",ft))},getEvents:function(){var o=qi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",h=this._container=ot("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),g=this._wrapper=ot("div",o+"-content-wrapper",h);if(this._contentNode=ot("div",o+"-content",g),rr(h),sr(this._contentNode),ze(h,"contextmenu",ft),this._tipContainer=ot("div",o+"-tip-container",h),this._tip=ot("div",o+"-tip",this._tipContainer),this.options.closeButton){var w=this._closeButton=ot("a",o+"-close-button",h);w.setAttribute("role","button"),w.setAttribute("aria-label","Close popup"),w.href="#close",w.innerHTML='<span aria-hidden="true">&#215;</span>',ze(w,"click",function(S){Lt(S),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,h=o.style;h.width="",h.whiteSpace="nowrap";var g=o.offsetWidth;g=Math.min(g,this.options.maxWidth),g=Math.max(g,this.options.minWidth),h.width=g+1+"px",h.whiteSpace="",h.height="";var w=o.offsetHeight,S=this.options.maxHeight,R="leaflet-popup-scrolled";S&&w>S?(h.height=S+"px",Ce(o,R)):vt(o,R),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),g=this._getAnchor();It(this._container,h.add(g))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,h=parseInt(as(this._container,"marginBottom"),10)||0,g=this._container.offsetHeight+h,w=this._containerWidth,S=new de(this._containerLeft,-g-this._containerBottom);S._add(ls(this._container));var R=o.layerPointToContainerPoint(S),G=H(this.options.autoPanPadding),ee=H(this.options.autoPanPaddingTopLeft||G),oe=H(this.options.autoPanPaddingBottomRight||G),_e=o.getSize(),Ae=0,Ie=0;R.x+w+oe.x>_e.x&&(Ae=R.x+w-_e.x+oe.x),R.x-Ae-ee.x<0&&(Ae=R.x-ee.x),R.y+g+oe.y>_e.y&&(Ie=R.y+g-_e.y+oe.y),R.y-Ie-ee.y<0&&(Ie=R.y-ee.y),(Ae||Ie)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([Ae,Ie]))}},_getAnchor:function(){return H(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),lp=function(o,h){return new Qo(o,h)};Xe.mergeOptions({closePopupOnClick:!0}),Xe.include({openPopup:function(o,h,g){return this._initOverlay(Qo,o,h,g).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),Fi.include({bindPopup:function(o,h){return this._popup=this._initOverlay(Qo,this._popup,o,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof oi||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){si(o);var h=o.layer||o.target;if(this._popup._source===h&&!(h instanceof Os)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=h,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Ql=qi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){qi.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){qi.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=qi.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",h=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ot("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var h,g,w=this._map,S=this._container,R=w.latLngToContainerPoint(w.getCenter()),G=w.layerPointToContainerPoint(o),ee=this.options.direction,oe=S.offsetWidth,_e=S.offsetHeight,Ae=H(this.options.offset),Ie=this._getAnchor();ee==="top"?(h=oe/2,g=_e):ee==="bottom"?(h=oe/2,g=0):ee==="center"?(h=oe/2,g=_e/2):ee==="right"?(h=0,g=_e/2):ee==="left"?(h=oe,g=_e/2):G.x<R.x?(ee="right",h=0,g=_e/2):(ee="left",h=oe+(Ae.x+Ie.x)*2,g=_e/2),o=o.subtract(H(h,g,!0)).add(Ae).add(Ie),vt(S,"leaflet-tooltip-right"),vt(S,"leaflet-tooltip-left"),vt(S,"leaflet-tooltip-top"),vt(S,"leaflet-tooltip-bottom"),Ce(S,"leaflet-tooltip-"+ee),It(S,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&bn(this._container,o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(h)},_getAnchor:function(){return H(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),cp=function(o,h){return new Ql(o,h)};Xe.include({openTooltip:function(o,h,g){return this._initOverlay(Ql,o,h,g).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),Fi.include({bindTooltip:function(o,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ql,this._tooltip,o,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var h=o?"off":"on",g={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?g.add=this._openTooltip:(g.mouseover=this._openTooltip,g.mouseout=this.closeTooltip,g.click=this._openTooltip,this._map?this._addFocusListeners():g.add=this._addFocusListeners),this._tooltip.options.sticky&&(g.mousemove=this._moveTooltip),this[h](g),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof oi||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&(ze(h,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),ze(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var h=o.latlng,g,w;this._tooltip.options.sticky&&o.originalEvent&&(g=this._map.mouseEventToContainerPoint(o.originalEvent),w=this._map.containerPointToLayerPoint(g),h=this._map.layerPointToLatLng(w)),this._tooltip.setLatLng(h)}});var wu=Ma.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var h=o&&o.tagName==="DIV"?o:document.createElement("div"),g=this.options;if(g.html instanceof Element?(wt(h),h.appendChild(g.html)):h.innerHTML=g.html!==!1?g.html:"",g.bgPos){var w=H(g.bgPos);h.style.backgroundPosition=-w.x+"px "+-w.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function bd(o){return new wu(o)}Ma.Default=Oa;var Wr=Fi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Le.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){F(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),ht(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ti(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(bi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof de?o:new de(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var h=this.getPane().children,g=-o(-1/0,1/0),w=0,S=h.length,R;w<S;w++)R=h[w].style.zIndex,h[w]!==this._container&&R&&(g=o(g,+R));isFinite(g)&&(this.options.zIndex=g+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Le.ielt9){bn(this._container,this.options.opacity);var o=+new Date,h=!1,g=!1;for(var w in this._tiles){var S=this._tiles[w];if(!(!S.current||!S.loaded)){var R=Math.min(1,(o-S.loaded)/200);bn(S.el,R),R<1?h=!0:(S.active?g=!0:this._onOpaqueTile(S),S.active=!0)}}g&&!this._noPrune&&this._pruneTiles(),h&&(W(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this))}},_onOpaqueTile:T,_initContainer:function(){this._container||(this._container=ot("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,h=this.options.maxZoom;if(o!==void 0){for(var g in this._levels)g=Number(g),this._levels[g].el.children.length||g===o?(this._levels[g].el.style.zIndex=h-Math.abs(o-g),this._onUpdateLevel(g)):(ht(this._levels[g].el),this._removeTilesAtZoom(g),this._onRemoveLevel(g),delete this._levels[g]);var w=this._levels[o],S=this._map;return w||(w=this._levels[o]={},w.el=ot("div","leaflet-tile-container leaflet-zoom-animated",this._container),w.el.style.zIndex=h,w.origin=S.project(S.unproject(S.getPixelOrigin()),o).round(),w.zoom=o,this._setZoomTransform(w,S.getCenter(),S.getZoom()),T(w.el.offsetWidth),this._onCreateLevel(w)),this._level=w,w}},_onUpdateLevel:T,_onRemoveLevel:T,_onCreateLevel:T,_pruneTiles:function(){if(this._map){var o,h,g=this._map.getZoom();if(g>this.options.maxZoom||g<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)h=this._tiles[o],h.retain=h.current;for(o in this._tiles)if(h=this._tiles[o],h.current&&!h.active){var w=h.coords;this._retainParent(w.x,w.y,w.z,w.z-5)||this._retainChildren(w.x,w.y,w.z,w.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var h in this._tiles)this._tiles[h].coords.z===o&&this._removeTile(h)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)ht(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,h,g,w){var S=Math.floor(o/2),R=Math.floor(h/2),G=g-1,ee=new de(+S,+R);ee.z=+G;var oe=this._tileCoordsToKey(ee),_e=this._tiles[oe];return _e&&_e.active?(_e.retain=!0,!0):(_e&&_e.loaded&&(_e.retain=!0),G>w?this._retainParent(S,R,G,w):!1)},_retainChildren:function(o,h,g,w){for(var S=2*o;S<2*o+2;S++)for(var R=2*h;R<2*h+2;R++){var G=new de(S,R);G.z=g+1;var ee=this._tileCoordsToKey(G),oe=this._tiles[ee];if(oe&&oe.active){oe.retain=!0;continue}else oe&&oe.loaded&&(oe.retain=!0);g+1<w&&this._retainChildren(S,R,g+1,w)}},_resetView:function(o){var h=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var h=this.options;return h.minNativeZoom!==void 0&&o<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<o?h.maxNativeZoom:o},_setView:function(o,h,g,w){var S=Math.round(h);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var R=this.options.updateWhenZooming&&S!==this._tileZoom;(!w||R)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(o),g||this._pruneTiles(),this._noPrune=!!g),this._setZoomTransforms(o,h)},_setZoomTransforms:function(o,h){for(var g in this._levels)this._setZoomTransform(this._levels[g],o,h)},_setZoomTransform:function(o,h,g){var w=this._map.getZoomScale(g,o.zoom),S=o.origin.multiplyBy(w).subtract(this._map._getNewPixelOrigin(h,g)).round();Le.any3d?Un(o.el,S,w):It(o.el,S)},_resetGrid:function(){var o=this._map,h=o.options.crs,g=this._tileSize=this.getTileSize(),w=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,h.wrapLng[0]],w).x/g.x),Math.ceil(o.project([0,h.wrapLng[1]],w).x/g.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([h.wrapLat[0],0],w).y/g.x),Math.ceil(o.project([h.wrapLat[1],0],w).y/g.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var h=this._map,g=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),w=h.getZoomScale(g,this._tileZoom),S=h.project(o,this._tileZoom).floor(),R=h.getSize().divideBy(w*2);return new ce(S.subtract(R),S.add(R))},_update:function(o){var h=this._map;if(h){var g=this._clampZoom(h.getZoom());if(o===void 0&&(o=h.getCenter()),this._tileZoom!==void 0){var w=this._getTiledPixelBounds(o),S=this._pxBoundsToTileRange(w),R=S.getCenter(),G=[],ee=this.options.keepBuffer,oe=new ce(S.getBottomLeft().subtract([ee,-ee]),S.getTopRight().add([ee,-ee]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var _e in this._tiles){var Ae=this._tiles[_e].coords;(Ae.z!==this._tileZoom||!oe.contains(new de(Ae.x,Ae.y)))&&(this._tiles[_e].current=!1)}if(Math.abs(g-this._tileZoom)>1){this._setView(o,g);return}for(var Ie=S.min.y;Ie<=S.max.y;Ie++)for(var Oe=S.min.x;Oe<=S.max.x;Oe++){var Ke=new de(Oe,Ie);if(Ke.z=this._tileZoom,!!this._isValidTile(Ke)){var Ct=this._tiles[this._tileCoordsToKey(Ke)];Ct?Ct.current=!0:G.push(Ke)}}if(G.sort(function(Nn,Ti){return Nn.distanceTo(R)-Ti.distanceTo(R)}),G.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ht=document.createDocumentFragment();for(Oe=0;Oe<G.length;Oe++)this._addTile(G[Oe],Ht);this._level.el.appendChild(Ht)}}}},_isValidTile:function(o){var h=this._map.options.crs;if(!h.infinite){var g=this._globalTileRange;if(!h.wrapLng&&(o.x<g.min.x||o.x>g.max.x)||!h.wrapLat&&(o.y<g.min.y||o.y>g.max.y))return!1}if(!this.options.bounds)return!0;var w=this._tileCoordsToBounds(o);return Se(this.options.bounds).overlaps(w)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var h=this._map,g=this.getTileSize(),w=o.scaleBy(g),S=w.add(g),R=h.unproject(w,o.z),G=h.unproject(S,o.z);return[R,G]},_tileCoordsToBounds:function(o){var h=this._tileCoordsToNwSe(o),g=new be(h[0],h[1]);return this.options.noWrap||(g=this._map.wrapLatLngBounds(g)),g},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var h=o.split(":"),g=new de(+h[0],+h[1]);return g.z=+h[2],g},_removeTile:function(o){var h=this._tiles[o];h&&(ht(h.el),delete this._tiles[o],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Ce(o,"leaflet-tile");var h=this.getTileSize();o.style.width=h.x+"px",o.style.height=h.y+"px",o.onselectstart=T,o.onmousemove=T,Le.ielt9&&this.options.opacity<1&&bn(o,this.options.opacity)},_addTile:function(o,h){var g=this._getTilePos(o),w=this._tileCoordsToKey(o),S=this.createTile(this._wrapCoords(o),u(this._tileReady,this,o));this._initTile(S),this.createTile.length<2&&U(u(this._tileReady,this,o,null,S)),It(S,g),this._tiles[w]={el:S,coords:o,current:!0},h.appendChild(S),this.fire("tileloadstart",{tile:S,coords:o})},_tileReady:function(o,h,g){h&&this.fire("tileerror",{error:h,tile:g,coords:o});var w=this._tileCoordsToKey(o);g=this._tiles[w],g&&(g.loaded=+new Date,this._map._fadeAnimated?(bn(g.el,0),W(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this)):(g.active=!0,this._pruneTiles()),h||(Ce(g.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:g.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Le.ielt9||!this._map._fadeAnimated?U(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var h=new de(this._wrapX?x(o.x,this._wrapX):o.x,this._wrapY?x(o.y,this._wrapY):o.y);return h.z=o.z,h},_pxBoundsToTileRange:function(o){var h=this.getTileSize();return new ce(o.min.unscaleBy(h).floor(),o.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function Gi(o){return new Wr(o)}var Kr=Wr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,h){this._url=o,h=F(this,h),h.detectRetina&&Le.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,h){return this._url===o&&h===void 0&&(h=!0),this._url=o,h||this.redraw(),this},createTile:function(o,h){var g=document.createElement("img");return ze(g,"load",u(this._tileOnLoad,this,h,g)),ze(g,"error",u(this._tileOnError,this,h,g)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(g.referrerPolicy=this.options.referrerPolicy),g.alt="",g.src=this.getTileUrl(o),g},getTileUrl:function(o){var h={r:Le.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var g=this._globalTileRange.max.y-o.y;this.options.tms&&(h.y=g),h["-y"]=g}return Y(this._url,a(h,this.options))},_tileOnLoad:function(o,h){Le.ielt9?setTimeout(u(o,this,null,h),0):o(null,h)},_tileOnError:function(o,h,g){var w=this.options.errorTileUrl;w&&h.getAttribute("src")!==w&&(h.src=w),o(g,h)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,h=this.options.maxZoom,g=this.options.zoomReverse,w=this.options.zoomOffset;return g&&(o=h-o),o+w},_getSubdomain:function(o){var h=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var o,h;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(h=this._tiles[o].el,h.onload=T,h.onerror=T,!h.complete)){h.src=he;var g=this._tiles[o].coords;ht(h),delete this._tiles[o],this.fire("tileabort",{tile:h,coords:g})}},_removeTile:function(o){var h=this._tiles[o];if(h)return h.el.setAttribute("src",he),Wr.prototype._removeTile.call(this,o)},_tileReady:function(o,h,g){if(!(!this._map||g&&g.getAttribute("src")===he))return Wr.prototype._tileReady.call(this,o,h,g)}});function ui(o,h){return new Kr(o,h)}var hi=Kr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,h){this._url=o;var g=a({},this.defaultWmsParams);for(var w in h)w in this.options||(g[w]=h[w]);h=F(this,h);var S=h.detectRetina&&Le.retina?2:1,R=this.getTileSize();g.width=R.x*S,g.height=R.y*S,this.wmsParams=g},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,Kr.prototype.onAdd.call(this,o)},getTileUrl:function(o){var h=this._tileCoordsToNwSe(o),g=this._crs,w=xe(g.project(h[0]),g.project(h[1])),S=w.min,R=w.max,G=(this._wmsVersion>=1.3&&this._crs===Da?[S.y,S.x,R.y,R.x]:[S.x,S.y,R.x,R.y]).join(","),ee=Kr.prototype.getTileUrl.call(this,o);return ee+k(this.wmsParams,ee,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+G},setParams:function(o,h){return a(this.wmsParams,o),h||this.redraw(),this}});function za(o,h){return new hi(o,h)}Kr.WMS=hi,ui.wms=za;var Zi=Fi.extend({options:{padding:.1},initialize:function(o){F(this,o),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ce(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,h){var g=this._map.getZoomScale(h,this._zoom),w=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,h),R=w.multiplyBy(-g).add(S).subtract(this._map._getNewPixelOrigin(o,h));Le.any3d?Un(this._container,R,g):It(this._container,R)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,h=this._map.getSize(),g=this._map.containerPointToLayerPoint(h.multiplyBy(-o)).round();this._bounds=new ce(g,g.add(h.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Jo=Zi.extend({options:{tolerance:0},getEvents:function(){var o=Zi.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Zi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");ze(o,"mousemove",this._onMouseMove,this),ze(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ze(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){W(this._redrawRequest),delete this._ctx,ht(this._container),dt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var h in this._layers)o=this._layers[h],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Zi.prototype._update.call(this);var o=this._bounds,h=this._container,g=o.getSize(),w=Le.retina?2:1;It(h,o.min),h.width=w*g.x,h.height=w*g.y,h.style.width=g.x+"px",h.style.height=g.y+"px",Le.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Zi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[y(o)]=o;var h=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var h=o._order,g=h.next,w=h.prev;g?g.prev=w:this._drawLast=w,w?w.next=g:this._drawFirst=g,delete o._order,delete this._layers[y(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var h=o.options.dashArray.split(/[, ]+/),g=[],w,S;for(S=0;S<h.length;S++){if(w=Number(h[S]),isNaN(w))return;g.push(w)}o.options._dashArray=g}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||U(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var h=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ce,this._redrawBounds.extend(o._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(o._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var h=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,h=this._redrawBounds;if(this._ctx.save(),h){var g=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,g.x,g.y),this._ctx.clip()}this._drawing=!0;for(var w=this._drawFirst;w;w=w.next)o=w.layer,(!h||o._pxBounds&&o._pxBounds.intersects(h))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,h){if(this._drawing){var g,w,S,R,G=o._parts,ee=G.length,oe=this._ctx;if(ee){for(oe.beginPath(),g=0;g<ee;g++){for(w=0,S=G[g].length;w<S;w++)R=G[g][w],oe[w?"lineTo":"moveTo"](R.x,R.y);h&&oe.closePath()}this._fillStroke(oe,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var h=o._point,g=this._ctx,w=Math.max(Math.round(o._radius),1),S=(Math.max(Math.round(o._radiusY),1)||w)/w;S!==1&&(g.save(),g.scale(1,S)),g.beginPath(),g.arc(h.x,h.y/S,w,0,Math.PI*2,!1),S!==1&&g.restore(),this._fillStroke(g,o)}},_fillStroke:function(o,h){var g=h.options;g.fill&&(o.globalAlpha=g.fillOpacity,o.fillStyle=g.fillColor||g.color,o.fill(g.fillRule||"evenodd")),g.stroke&&g.weight!==0&&(o.setLineDash&&o.setLineDash(h.options&&h.options._dashArray||[]),o.globalAlpha=g.opacity,o.lineWidth=g.weight,o.strokeStyle=g.color,o.lineCap=g.lineCap,o.lineJoin=g.lineJoin,o.stroke())},_onClick:function(o){for(var h=this._map.mouseEventToLayerPoint(o),g,w,S=this._drawFirst;S;S=S.next)g=S.layer,g.options.interactive&&g._containsPoint(h)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(g))&&(w=g);this._fireEvent(w?[w]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,h)}},_handleMouseOut:function(o){var h=this._hoveredLayer;h&&(vt(this._container,"leaflet-interactive"),this._fireEvent([h],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,h){if(!this._mouseHoverThrottled){for(var g,w,S=this._drawFirst;S;S=S.next)g=S.layer,g.options.interactive&&g._containsPoint(h)&&(w=g);w!==this._hoveredLayer&&(this._handleMouseOut(o),w&&(Ce(this._container,"leaflet-interactive"),this._fireEvent([w],o,"mouseover"),this._hoveredLayer=w)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,h,g){this._map._fireDOMEvent(h,g||h.type,o)},_bringToFront:function(o){var h=o._order;if(h){var g=h.next,w=h.prev;if(g)g.prev=w;else return;w?w.next=g:g&&(this._drawFirst=g),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(o)}},_bringToBack:function(o){var h=o._order;if(h){var g=h.next,w=h.prev;if(w)w.next=g;else return;g?g.prev=w:w&&(this._drawLast=w),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(o)}}});function el(o){return Le.canvas?new Jo(o):null}var $r=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Fa={_initContainer:function(){this._container=ot("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Zi.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var h=o._container=$r("shape");Ce(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",o._path=$r("path"),h.appendChild(o._path),this._updateStyle(o),this._layers[y(o)]=o},_addPath:function(o){var h=o._container;this._container.appendChild(h),o.options.interactive&&o.addInteractiveTarget(h)},_removePath:function(o){var h=o._container;ht(h),o.removeInteractiveTarget(h),delete this._layers[y(o)]},_updateStyle:function(o){var h=o._stroke,g=o._fill,w=o.options,S=o._container;S.stroked=!!w.stroke,S.filled=!!w.fill,w.stroke?(h||(h=o._stroke=$r("stroke")),S.appendChild(h),h.weight=w.weight+"px",h.color=w.color,h.opacity=w.opacity,w.dashArray?h.dashStyle=X(w.dashArray)?w.dashArray.join(" "):w.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=w.lineCap.replace("butt","flat"),h.joinstyle=w.lineJoin):h&&(S.removeChild(h),o._stroke=null),w.fill?(g||(g=o._fill=$r("fill")),S.appendChild(g),g.color=w.fillColor||w.color,g.opacity=w.fillOpacity):g&&(S.removeChild(g),o._fill=null)},_updateCircle:function(o){var h=o._point.round(),g=Math.round(o._radius),w=Math.round(o._radiusY||g);this._setPath(o,o._empty()?"M0 0":"AL "+h.x+","+h.y+" "+g+","+w+" 0,"+65535*360)},_setPath:function(o,h){o._path.v=h},_bringToFront:function(o){ti(o._container)},_bringToBack:function(o){bi(o._container)}},tl=Le.vml?$r:Ml,cr=Zi.extend({_initContainer:function(){this._container=tl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=tl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ht(this._container),dt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Zi.prototype._update.call(this);var o=this._bounds,h=o.getSize(),g=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,g.setAttribute("width",h.x),g.setAttribute("height",h.y)),It(g,o.min),g.setAttribute("viewBox",[o.min.x,o.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(o){var h=o._path=tl("path");o.options.className&&Ce(h,o.options.className),o.options.interactive&&Ce(h,"leaflet-interactive"),this._updateStyle(o),this._layers[y(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){ht(o._path),o.removeInteractiveTarget(o._path),delete this._layers[y(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var h=o._path,g=o.options;h&&(g.stroke?(h.setAttribute("stroke",g.color),h.setAttribute("stroke-opacity",g.opacity),h.setAttribute("stroke-width",g.weight),h.setAttribute("stroke-linecap",g.lineCap),h.setAttribute("stroke-linejoin",g.lineJoin),g.dashArray?h.setAttribute("stroke-dasharray",g.dashArray):h.removeAttribute("stroke-dasharray"),g.dashOffset?h.setAttribute("stroke-dashoffset",g.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),g.fill?(h.setAttribute("fill",g.fillColor||g.color),h.setAttribute("fill-opacity",g.fillOpacity),h.setAttribute("fill-rule",g.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(o,h){this._setPath(o,wa(o._parts,h))},_updateCircle:function(o){var h=o._point,g=Math.max(Math.round(o._radius),1),w=Math.max(Math.round(o._radiusY),1)||g,S="a"+g+","+w+" 0 1,0 ",R=o._empty()?"M0 0":"M"+(h.x-g)+","+h.y+S+g*2+",0 "+S+-g*2+",0 ";this._setPath(o,R)},_setPath:function(o,h){o._path.setAttribute("d",h)},_bringToFront:function(o){ti(o._path)},_bringToBack:function(o){bi(o._path)}});Le.vml&&cr.include(Fa);function Yr(o){return Le.svg||Le.vml?new cr(o):null}Xe.include({getRenderer:function(o){var h=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var h=this._paneRenderers[o];return h===void 0&&(h=this._createRenderer({pane:o}),this._paneRenderers[o]=h),h},_createRenderer:function(o){return this.options.preferCanvas&&el(o)||Yr(o)}});var wd=Va.extend({initialize:function(o,h){Va.prototype.initialize.call(this,this._boundsToLatLngs(o),h)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=Se(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function di(o,h){return new wd(o,h)}cr.create=tl,cr.pointsToPath=wa,ci.geometryToLayer=$o,ci.coordsToLatLng=Kl,ci.coordsToLatLngs=Yo,ci.latLngToCoords=Xo,ci.latLngsToCoords=$l,ci.getFeature=Hi,ci.asFeature=Ba,Xe.mergeOptions({boxZoom:!0});var Jl=Fn.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){ze(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){dt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ht(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),wn(),nr(),this._startPoint=this._map.mouseEventToContainerPoint(o),ze(document,{contextmenu:si,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=ot("div","leaflet-zoom-box",this._container),Ce(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var h=new ce(this._point,this._startPoint),g=h.getSize();It(this._box,h.min),this._box.style.width=g.x+"px",this._box.style.height=g.y+"px"},_finish:function(){this._moved&&(ht(this._box),vt(this._container,"leaflet-crosshair")),ni(),Aa(),dt(document,{contextmenu:si,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var h=new be(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Xe.addInitHook("addHandler","boxZoom",Jl),Xe.mergeOptions({doubleClickZoom:!0});var fs=Fn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var h=this._map,g=h.getZoom(),w=h.options.zoomDelta,S=o.originalEvent.shiftKey?g-w:g+w;h.options.doubleClickZoom==="center"?h.setZoom(S):h.setZoomAround(o.containerPoint,S)}});Xe.addInitHook("addHandler","doubleClickZoom",fs),Xe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Tu=Fn.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Bi(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Ce(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){vt(this._map._container,"leaflet-grab"),vt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=Se(this._map.options.maxBounds);this._offsetLimit=xe(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var h=this._lastTime=+new Date,g=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(g),this._times.push(h),this._prunePositions(h)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,h){return o-(o-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;o.x<h.min.x&&(o.x=this._viscousLimit(o.x,h.min.x)),o.y<h.min.y&&(o.y=this._viscousLimit(o.y,h.min.y)),o.x>h.max.x&&(o.x=this._viscousLimit(o.x,h.max.x)),o.y>h.max.y&&(o.y=this._viscousLimit(o.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,h=Math.round(o/2),g=this._initialWorldOffset,w=this._draggable._newPos.x,S=(w-h+g)%o+h-g,R=(w+h+g)%o-h-g,G=Math.abs(S+g)<Math.abs(R+g)?S:R;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=G},_onDragEnd:function(o){var h=this._map,g=h.options,w=!g.inertia||o.noInertia||this._times.length<2;if(h.fire("dragend",o),w)h.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),R=(this._lastTime-this._times[0])/1e3,G=g.easeLinearity,ee=S.multiplyBy(G/R),oe=ee.distanceTo([0,0]),_e=Math.min(g.inertiaMaxSpeed,oe),Ae=ee.multiplyBy(_e/oe),Ie=_e/(g.inertiaDeceleration*G),Oe=Ae.multiplyBy(-Ie/2).round();!Oe.x&&!Oe.y?h.fire("moveend"):(Oe=h._limitOffset(Oe,h.options.maxBounds),U(function(){h.panBy(Oe,{duration:Ie,easeLinearity:G,noMoveStart:!0,animate:!0})}))}}});Xe.addInitHook("addHandler","dragging",Tu),Xe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var nl=Fn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),ze(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),dt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,h=document.documentElement,g=o.scrollTop||h.scrollTop,w=o.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(w,g)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var h=this._panKeys={},g=this.keyCodes,w,S;for(w=0,S=g.left.length;w<S;w++)h[g.left[w]]=[-1*o,0];for(w=0,S=g.right.length;w<S;w++)h[g.right[w]]=[o,0];for(w=0,S=g.down.length;w<S;w++)h[g.down[w]]=[0,o];for(w=0,S=g.up.length;w<S;w++)h[g.up[w]]=[0,-1*o]},_setZoomDelta:function(o){var h=this._zoomKeys={},g=this.keyCodes,w,S;for(w=0,S=g.zoomIn.length;w<S;w++)h[g.zoomIn[w]]=o;for(w=0,S=g.zoomOut.length;w<S;w++)h[g.zoomOut[w]]=-o},_addHooks:function(){ze(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){dt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var h=o.keyCode,g=this._map,w;if(h in this._panKeys){if(!g._panAnim||!g._panAnim._inProgress)if(w=this._panKeys[h],o.shiftKey&&(w=H(w).multiplyBy(3)),g.options.maxBounds&&(w=g._limitOffset(H(w),g.options.maxBounds)),g.options.worldCopyJump){var S=g.wrapLatLng(g.unproject(g.project(g.getCenter()).add(w)));g.panTo(S)}else g.panBy(w)}else if(h in this._zoomKeys)g.setZoom(g.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&g._popup&&g._popup.options.closeOnEscapeKey)g.closePopup();else return;si(o)}}});Xe.addInitHook("addHandler","keyboard",nl),Xe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ur=Fn.extend({addHooks:function(){ze(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){dt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var h=ar(o),g=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var w=Math.max(g-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),w),si(o)},_performZoom:function(){var o=this._map,h=o.getZoom(),g=this._map.options.zoomSnap||0;o._stop();var w=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(w))))/Math.LN2,R=g?Math.ceil(S/g)*g:S,G=o._limitZoom(h+(this._delta>0?R:-R))-h;this._delta=0,this._startTime=null,G&&(o.options.scrollWheelZoom==="center"?o.setZoom(h+G):o.setZoomAround(this._lastMousePos,h+G))}});Xe.addInitHook("addHandler","scrollWheelZoom",ur);var Eu=600;Xe.mergeOptions({tapHold:Le.touchNative&&Le.safari&&Le.mobile,tapTolerance:15});var ec=Fn.extend({addHooks:function(){ze(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){dt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var h=o.touches[0];this._startPos=this._newPos=new de(h.clientX,h.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(ze(document,"touchend",Lt),ze(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),Eu),ze(document,"touchend touchcancel contextmenu",this._cancel,this),ze(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){dt(document,"touchend",Lt),dt(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),dt(document,"touchend touchcancel contextmenu",this._cancel,this),dt(document,"touchmove",this._onMove,this)},_onMove:function(o){var h=o.touches[0];this._newPos=new de(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,h){var g=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});g._simulated=!0,h.target.dispatchEvent(g)}});Xe.addInitHook("addHandler","tapHold",ec),Xe.mergeOptions({touchZoom:Le.touch,bounceAtZoomLimits:!0});var Xr=Fn.extend({addHooks:function(){Ce(this._map._container,"leaflet-touch-zoom"),ze(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){vt(this._map._container,"leaflet-touch-zoom"),dt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var h=this._map;if(!(!o.touches||o.touches.length!==2||h._animatingZoom||this._zooming)){var g=h.mouseEventToContainerPoint(o.touches[0]),w=h.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(g.add(w)._divideBy(2))),this._startDist=g.distanceTo(w),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),ze(document,"touchmove",this._onTouchMove,this),ze(document,"touchend touchcancel",this._onTouchEnd,this),Lt(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var h=this._map,g=h.mouseEventToContainerPoint(o.touches[0]),w=h.mouseEventToContainerPoint(o.touches[1]),S=g.distanceTo(w)/this._startDist;if(this._zoom=h.getScaleZoom(S,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&S<1||this._zoom>h.getMaxZoom()&&S>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var R=g._add(w)._divideBy(2)._subtract(this._centerPoint);if(S===1&&R.x===0&&R.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(R),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),W(this._animRequest);var G=u(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=U(G,this,!0),Lt(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,W(this._animRequest),dt(document,"touchmove",this._onTouchMove,this),dt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Xe.addInitHook("addHandler","touchZoom",Xr),Xe.BoxZoom=Jl,Xe.DoubleClickZoom=fs,Xe.Drag=Tu,Xe.Keyboard=nl,Xe.ScrollWheelZoom=ur,Xe.TapHold=ec,Xe.TouchZoom=Xr,n.Bounds=ce,n.Browser=Le,n.CRS=At,n.Canvas=Jo,n.Circle=xu,n.CircleMarker=Ko,n.Class=Be,n.Control=mn,n.DivIcon=wu,n.DivOverlay=qi,n.DomEvent=Fr,n.DomUtil=Fl,n.Draggable=Bi,n.Evented=ue,n.FeatureGroup=oi,n.GeoJSON=ci,n.GridLayer=Wr,n.Handler=Fn,n.Icon=Ma,n.ImageOverlay=ds,n.LatLng=Re,n.LatLngBounds=be,n.Layer=Fi,n.LayerGroup=Gr,n.LineUtil=ri,n.Map=Xe,n.Marker=ka,n.Mixin=Gl,n.Path=Os,n.Point=de,n.PolyUtil=Ia,n.Polygon=Va,n.Polyline=ks,n.Popup=Qo,n.PosAnimation=Hr,n.Projection=Ui,n.Rectangle=wd,n.Renderer=Zi,n.SVG=cr,n.SVGOverlay=lr,n.TileLayer=Kr,n.Tooltip=Ql,n.Transformation=Qs,n.Util=q,n.VideoOverlay=Xl,n.bind=u,n.bounds=xe,n.canvas=el,n.circle=ap,n.circleMarker=yd,n.control=Vi,n.divIcon=bd,n.extend=a,n.featureGroup=Wo,n.geoJSON=Yl,n.geoJson=vd,n.gridLayer=Gi,n.icon=Wl,n.imageOverlay=Ua,n.latLng=Ee,n.latLngBounds=Se,n.layerGroup=gd,n.map=us,n.marker=_u,n.point=H,n.polygon=li,n.polyline=op,n.popup=lp,n.rectangle=di,n.setOptions=F,n.stamp=y,n.svg=Yr,n.svgOverlay=xd,n.tileLayer=ui,n.tooltip=cp,n.transformation=Ji,n.version=i,n.videoOverlay=_d;var Ha=window.L;n.noConflict=function(){return window.L=Ha,this},window.L=n}))})(gh,gh.exports)),gh.exports}var od=E3();const uu=bE(od);function Nv(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function Cv(t,e){return e==null?function(i,a){const c=V.useRef(void 0);return c.current||(c.current=t(i,a)),c}:function(i,a){const c=V.useRef(void 0);c.current||(c.current=t(i,a));const u=V.useRef(i),{instance:p}=c.current;return V.useEffect(function(){u.current!==i&&(e(p,i,u.current),u.current=i)},[p,i,e]),c}}function S3(t,e){V.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){e.layerContainer?.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function EA(t){return function(n){const i=Sv(),a=t(Av(n,i),i);return wA(i.map,n.attribution),TA(a.current,n.eventHandlers),S3(a.current,i),a}}function A3(t,e){const n=Cv(t,e),i=EA(n);return _3(i)}function N3(t,e){const n=Cv(t),i=w3(n,e);return x3(i)}function C3(t,e){const n=Cv(t,e),i=EA(n);return b3(i)}function R3(t,e,n){const{opacity:i,zIndex:a}=e;i!=null&&i!==n.opacity&&t.setOpacity(i),a!=null&&a!==n.zIndex&&t.setZIndex(a)}function P3(){return Sv().map}function j3(t){const e=P3();return V.useEffect(function(){return e.on(t),function(){e.off(t)}},[e,t]),e}function I3({bounds:t,boundsOptions:e,center:n,children:i,className:a,id:c,placeholder:u,style:p,whenReady:y,zoom:_,...x},T){const[A]=V.useState({className:a,id:c,style:p}),[D,j]=V.useState(null),F=V.useRef(void 0);V.useImperativeHandle(T,()=>D?.map??null,[D]);const k=V.useCallback(Y=>{if(Y!==null&&!F.current){const X=new od.Map(Y,x);F.current=X,n!=null&&_!=null?X.setView(n,_):t!=null&&X.fitBounds(t,e),y!=null&&X.whenReady(y),j(y3(X))}},[]);V.useEffect(()=>()=>{D?.map.remove()},[D]);const $=D?xy.createElement(Ev,{value:D},i):u??null;return xy.createElement("div",{...A,ref:k},$)}const SA=V.forwardRef(I3),AA=A3(function({position:e,...n},i){const a=new od.Marker(e,n);return Nv(a,v3(i,{overlayContainer:a}))},function(e,n,i){n.position!==i.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),NA=N3(function(e,n){const i=new od.Popup(e,n.overlayContainer);return Nv(i,n)},function(e,n,{position:i},a){V.useEffect(function(){const{instance:u}=e;function p(_){_.popup===u&&(u.update(),a(!0))}function y(_){_.popup===u&&a(!1)}return n.map.on({popupopen:p,popupclose:y}),n.overlayContainer==null?(i!=null&&u.setLatLng(i),u.openOn(n.map)):n.overlayContainer.bindPopup(u),function(){n.map.off({popupopen:p,popupclose:y}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(u)}},[e,n,a,i])}),CA=C3(function({url:e,...n},i){const a=new od.TileLayer(e,Av(n,i));return Nv(a,i)},function(e,n,i){R3(e,n,i);const{url:a}=n;a!=null&&a!==i.url&&e.setUrl(a)});function RA(t,e){return function(){return t.apply(e,arguments)}}const{toString:L3}=Object.prototype,{getPrototypeOf:Rv}=Object,{iterator:Ym,toStringTag:PA}=Symbol,Xm=(t=>e=>{const n=L3.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Xs=t=>(t=t.toLowerCase(),e=>Xm(e)===t),Qm=t=>e=>typeof e===t,{isArray:hu}=Array,Wc=Qm("undefined");function ld(t){return t!==null&&!Wc(t)&&t.constructor!==null&&!Wc(t.constructor)&&ji(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const jA=Xs("ArrayBuffer");function D3(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&jA(t.buffer),e}const M3=Qm("string"),ji=Qm("function"),IA=Qm("number"),cd=t=>t!==null&&typeof t=="object",O3=t=>t===!0||t===!1,Gf=t=>{if(Xm(t)!=="object")return!1;const e=Rv(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(PA in t)&&!(Ym in t)},k3=t=>{if(!cd(t)||ld(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},V3=Xs("Date"),B3=Xs("File"),U3=Xs("Blob"),z3=Xs("FileList"),F3=t=>cd(t)&&ji(t.pipe),H3=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ji(t.append)&&((e=Xm(t))==="formdata"||e==="object"&&ji(t.toString)&&t.toString()==="[object FormData]"))},q3=Xs("URLSearchParams"),[G3,Z3,W3,K3]=["ReadableStream","Request","Response","Headers"].map(Xs),$3=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ud(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,a;if(typeof t!="object"&&(t=[t]),hu(t))for(i=0,a=t.length;i<a;i++)e.call(null,t[i],i,t);else{if(ld(t))return;const c=n?Object.getOwnPropertyNames(t):Object.keys(t),u=c.length;let p;for(i=0;i<u;i++)p=c[i],e.call(null,t[p],p,t)}}function LA(t,e){if(ld(t))return null;e=e.toLowerCase();const n=Object.keys(t);let i=n.length,a;for(;i-- >0;)if(a=n[i],e===a.toLowerCase())return a;return null}const yl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,DA=t=>!Wc(t)&&t!==yl;function Qy(){const{caseless:t,skipUndefined:e}=DA(this)&&this||{},n={},i=(a,c)=>{const u=t&&LA(n,c)||c;Gf(n[u])&&Gf(a)?n[u]=Qy(n[u],a):Gf(a)?n[u]=Qy({},a):hu(a)?n[u]=a.slice():(!e||!Wc(a))&&(n[u]=a)};for(let a=0,c=arguments.length;a<c;a++)arguments[a]&&ud(arguments[a],i);return n}const Y3=(t,e,n,{allOwnKeys:i}={})=>(ud(e,(a,c)=>{n&&ji(a)?t[c]=RA(a,n):t[c]=a},{allOwnKeys:i}),t),X3=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Q3=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},J3=(t,e,n,i)=>{let a,c,u;const p={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),c=a.length;c-- >0;)u=a[c],(!i||i(u,t,e))&&!p[u]&&(e[u]=t[u],p[u]=!0);t=n!==!1&&Rv(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},e6=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},t6=t=>{if(!t)return null;if(hu(t))return t;let e=t.length;if(!IA(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},n6=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Rv(Uint8Array)),i6=(t,e)=>{const i=(t&&t[Ym]).call(t);let a;for(;(a=i.next())&&!a.done;){const c=a.value;e.call(t,c[0],c[1])}},s6=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},r6=Xs("HTMLFormElement"),a6=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,a){return i.toUpperCase()+a}),GT=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),o6=Xs("RegExp"),MA=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};ud(n,(a,c)=>{let u;(u=e(a,c,t))!==!1&&(i[c]=u||a)}),Object.defineProperties(t,i)},l6=t=>{MA(t,(e,n)=>{if(ji(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(ji(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},c6=(t,e)=>{const n={},i=a=>{a.forEach(c=>{n[c]=!0})};return hu(t)?i(t):i(String(t).split(e)),n},u6=()=>{},h6=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function d6(t){return!!(t&&ji(t.append)&&t[PA]==="FormData"&&t[Ym])}const f6=t=>{const e=new Array(10),n=(i,a)=>{if(cd(i)){if(e.indexOf(i)>=0)return;if(ld(i))return i;if(!("toJSON"in i)){e[a]=i;const c=hu(i)?[]:{};return ud(i,(u,p)=>{const y=n(u,a+1);!Wc(y)&&(c[p]=y)}),e[a]=void 0,c}}return i};return n(t,0)},m6=Xs("AsyncFunction"),p6=t=>t&&(cd(t)||ji(t))&&ji(t.then)&&ji(t.catch),OA=((t,e)=>t?setImmediate:e?((n,i)=>(yl.addEventListener("message",({source:a,data:c})=>{a===yl&&c===n&&i.length&&i.shift()()},!1),a=>{i.push(a),yl.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ji(yl.postMessage)),g6=typeof queueMicrotask<"u"?queueMicrotask.bind(yl):typeof process<"u"&&process.nextTick||OA,y6=t=>t!=null&&ji(t[Ym]),le={isArray:hu,isArrayBuffer:jA,isBuffer:ld,isFormData:H3,isArrayBufferView:D3,isString:M3,isNumber:IA,isBoolean:O3,isObject:cd,isPlainObject:Gf,isEmptyObject:k3,isReadableStream:G3,isRequest:Z3,isResponse:W3,isHeaders:K3,isUndefined:Wc,isDate:V3,isFile:B3,isBlob:U3,isRegExp:o6,isFunction:ji,isStream:F3,isURLSearchParams:q3,isTypedArray:n6,isFileList:z3,forEach:ud,merge:Qy,extend:Y3,trim:$3,stripBOM:X3,inherits:Q3,toFlatObject:J3,kindOf:Xm,kindOfTest:Xs,endsWith:e6,toArray:t6,forEachEntry:i6,matchAll:s6,isHTMLForm:r6,hasOwnProperty:GT,hasOwnProp:GT,reduceDescriptors:MA,freezeMethods:l6,toObjectSet:c6,toCamelCase:a6,noop:u6,toFiniteNumber:h6,findKey:LA,global:yl,isContextDefined:DA,isSpecCompliantForm:d6,toJSONObject:f6,isAsyncFn:m6,isThenable:p6,setImmediate:OA,asap:g6,isIterable:y6};function Qe(t,e,n,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),a&&(this.response=a,this.status=a.status?a.status:null)}le.inherits(Qe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:le.toJSONObject(this.config),code:this.code,status:this.status}}});const kA=Qe.prototype,VA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{VA[t]={value:t}});Object.defineProperties(Qe,VA);Object.defineProperty(kA,"isAxiosError",{value:!0});Qe.from=(t,e,n,i,a,c)=>{const u=Object.create(kA);le.toFlatObject(t,u,function(x){return x!==Error.prototype},_=>_!=="isAxiosError");const p=t&&t.message?t.message:"Error",y=e==null&&t?t.code:e;return Qe.call(u,p,y,n,i,a),t&&u.cause==null&&Object.defineProperty(u,"cause",{value:t,configurable:!0}),u.name=t&&t.name||"Error",c&&Object.assign(u,c),u};const v6=null;function Jy(t){return le.isPlainObject(t)||le.isArray(t)}function BA(t){return le.endsWith(t,"[]")?t.slice(0,-2):t}function ZT(t,e,n){return t?t.concat(e).map(function(a,c){return a=BA(a),!n&&c?"["+a+"]":a}).join(n?".":""):e}function _6(t){return le.isArray(t)&&!t.some(Jy)}const x6=le.toFlatObject(le,{},null,function(e){return/^is[A-Z]/.test(e)});function Jm(t,e,n){if(!le.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=le.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(F,k){return!le.isUndefined(k[F])});const i=n.metaTokens,a=n.visitor||x,c=n.dots,u=n.indexes,y=(n.Blob||typeof Blob<"u"&&Blob)&&le.isSpecCompliantForm(e);if(!le.isFunction(a))throw new TypeError("visitor must be a function");function _(j){if(j===null)return"";if(le.isDate(j))return j.toISOString();if(le.isBoolean(j))return j.toString();if(!y&&le.isBlob(j))throw new Qe("Blob is not supported. Use a Buffer instead.");return le.isArrayBuffer(j)||le.isTypedArray(j)?y&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function x(j,F,k){let $=j;if(j&&!k&&typeof j=="object"){if(le.endsWith(F,"{}"))F=i?F:F.slice(0,-2),j=JSON.stringify(j);else if(le.isArray(j)&&_6(j)||(le.isFileList(j)||le.endsWith(F,"[]"))&&($=le.toArray(j)))return F=BA(F),$.forEach(function(X,ve){!(le.isUndefined(X)||X===null)&&e.append(u===!0?ZT([F],ve,c):u===null?F:F+"[]",_(X))}),!1}return Jy(j)?!0:(e.append(ZT(k,F,c),_(j)),!1)}const T=[],A=Object.assign(x6,{defaultVisitor:x,convertValue:_,isVisitable:Jy});function D(j,F){if(!le.isUndefined(j)){if(T.indexOf(j)!==-1)throw Error("Circular reference detected in "+F.join("."));T.push(j),le.forEach(j,function($,Y){(!(le.isUndefined($)||$===null)&&a.call(e,$,le.isString(Y)?Y.trim():Y,F,A))===!0&&D($,F?F.concat(Y):[Y])}),T.pop()}}if(!le.isObject(t))throw new TypeError("data must be an object");return D(t),e}function WT(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Pv(t,e){this._pairs=[],t&&Jm(t,this,e)}const UA=Pv.prototype;UA.append=function(e,n){this._pairs.push([e,n])};UA.toString=function(e){const n=e?function(i){return e.call(this,i,WT)}:WT;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function b6(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function zA(t,e,n){if(!e)return t;const i=n&&n.encode||b6;le.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let c;if(a?c=a(e,n):c=le.isURLSearchParams(e)?e.toString():new Pv(e,n).toString(i),c){const u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+c}return t}class KT{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){le.forEach(this.handlers,function(i){i!==null&&e(i)})}}const FA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},w6=typeof URLSearchParams<"u"?URLSearchParams:Pv,T6=typeof FormData<"u"?FormData:null,E6=typeof Blob<"u"?Blob:null,S6={isBrowser:!0,classes:{URLSearchParams:w6,FormData:T6,Blob:E6},protocols:["http","https","file","blob","url","data"]},jv=typeof window<"u"&&typeof document<"u",e0=typeof navigator=="object"&&navigator||void 0,A6=jv&&(!e0||["ReactNative","NativeScript","NS"].indexOf(e0.product)<0),N6=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",C6=jv&&window.location.href||"http://localhost",R6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:jv,hasStandardBrowserEnv:A6,hasStandardBrowserWebWorkerEnv:N6,navigator:e0,origin:C6},Symbol.toStringTag,{value:"Module"})),$n={...R6,...S6};function P6(t,e){return Jm(t,new $n.classes.URLSearchParams,{visitor:function(n,i,a,c){return $n.isNode&&le.isBuffer(n)?(this.append(i,n.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)},...e})}function j6(t){return le.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function I6(t){const e={},n=Object.keys(t);let i;const a=n.length;let c;for(i=0;i<a;i++)c=n[i],e[c]=t[c];return e}function HA(t){function e(n,i,a,c){let u=n[c++];if(u==="__proto__")return!0;const p=Number.isFinite(+u),y=c>=n.length;return u=!u&&le.isArray(a)?a.length:u,y?(le.hasOwnProp(a,u)?a[u]=[a[u],i]:a[u]=i,!p):((!a[u]||!le.isObject(a[u]))&&(a[u]=[]),e(n,i,a[u],c)&&le.isArray(a[u])&&(a[u]=I6(a[u])),!p)}if(le.isFormData(t)&&le.isFunction(t.entries)){const n={};return le.forEachEntry(t,(i,a)=>{e(j6(i),a,n,0)}),n}return null}function L6(t,e,n){if(le.isString(t))try{return(e||JSON.parse)(t),le.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const hd={transitional:FA,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",a=i.indexOf("application/json")>-1,c=le.isObject(e);if(c&&le.isHTMLForm(e)&&(e=new FormData(e)),le.isFormData(e))return a?JSON.stringify(HA(e)):e;if(le.isArrayBuffer(e)||le.isBuffer(e)||le.isStream(e)||le.isFile(e)||le.isBlob(e)||le.isReadableStream(e))return e;if(le.isArrayBufferView(e))return e.buffer;if(le.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let p;if(c){if(i.indexOf("application/x-www-form-urlencoded")>-1)return P6(e,this.formSerializer).toString();if((p=le.isFileList(e))||i.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return Jm(p?{"files[]":e}:e,y&&new y,this.formSerializer)}}return c||a?(n.setContentType("application/json",!1),L6(e)):e}],transformResponse:[function(e){const n=this.transitional||hd.transitional,i=n&&n.forcedJSONParsing,a=this.responseType==="json";if(le.isResponse(e)||le.isReadableStream(e))return e;if(e&&le.isString(e)&&(i&&!this.responseType||a)){const u=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(p){if(u)throw p.name==="SyntaxError"?Qe.from(p,Qe.ERR_BAD_RESPONSE,this,null,this.response):p}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$n.classes.FormData,Blob:$n.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};le.forEach(["delete","get","head","post","put","patch"],t=>{hd.headers[t]={}});const D6=le.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),M6=t=>{const e={};let n,i,a;return t&&t.split(`
`).forEach(function(u){a=u.indexOf(":"),n=u.substring(0,a).trim().toLowerCase(),i=u.substring(a+1).trim(),!(!n||e[n]&&D6[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},$T=Symbol("internals");function oh(t){return t&&String(t).trim().toLowerCase()}function Zf(t){return t===!1||t==null?t:le.isArray(t)?t.map(Zf):String(t)}function O6(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const k6=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ny(t,e,n,i,a){if(le.isFunction(i))return i.call(this,e,n);if(a&&(e=n),!!le.isString(e)){if(le.isString(i))return e.indexOf(i)!==-1;if(le.isRegExp(i))return i.test(e)}}function V6(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function B6(t,e){const n=le.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(a,c,u){return this[i].call(this,e,a,c,u)},configurable:!0})})}let Ii=class{constructor(e){e&&this.set(e)}set(e,n,i){const a=this;function c(p,y,_){const x=oh(y);if(!x)throw new Error("header name must be a non-empty string");const T=le.findKey(a,x);(!T||a[T]===void 0||_===!0||_===void 0&&a[T]!==!1)&&(a[T||y]=Zf(p))}const u=(p,y)=>le.forEach(p,(_,x)=>c(_,x,y));if(le.isPlainObject(e)||e instanceof this.constructor)u(e,n);else if(le.isString(e)&&(e=e.trim())&&!k6(e))u(M6(e),n);else if(le.isObject(e)&&le.isIterable(e)){let p={},y,_;for(const x of e){if(!le.isArray(x))throw TypeError("Object iterator must return a key-value pair");p[_=x[0]]=(y=p[_])?le.isArray(y)?[...y,x[1]]:[y,x[1]]:x[1]}u(p,n)}else e!=null&&c(n,e,i);return this}get(e,n){if(e=oh(e),e){const i=le.findKey(this,e);if(i){const a=this[i];if(!n)return a;if(n===!0)return O6(a);if(le.isFunction(n))return n.call(this,a,i);if(le.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=oh(e),e){const i=le.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||ny(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let a=!1;function c(u){if(u=oh(u),u){const p=le.findKey(i,u);p&&(!n||ny(i,i[p],p,n))&&(delete i[p],a=!0)}}return le.isArray(e)?e.forEach(c):c(e),a}clear(e){const n=Object.keys(this);let i=n.length,a=!1;for(;i--;){const c=n[i];(!e||ny(this,this[c],c,e,!0))&&(delete this[c],a=!0)}return a}normalize(e){const n=this,i={};return le.forEach(this,(a,c)=>{const u=le.findKey(i,c);if(u){n[u]=Zf(a),delete n[c];return}const p=e?V6(c):String(c).trim();p!==c&&delete n[c],n[p]=Zf(a),i[p]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return le.forEach(this,(i,a)=>{i!=null&&i!==!1&&(n[a]=e&&le.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(a=>i.set(a)),i}static accessor(e){const i=(this[$T]=this[$T]={accessors:{}}).accessors,a=this.prototype;function c(u){const p=oh(u);i[p]||(B6(a,u),i[p]=!0)}return le.isArray(e)?e.forEach(c):c(e),this}};Ii.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);le.reduceDescriptors(Ii.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});le.freezeMethods(Ii);function iy(t,e){const n=this||hd,i=e||n,a=Ii.from(i.headers);let c=i.data;return le.forEach(t,function(p){c=p.call(n,c,a.normalize(),e?e.status:void 0)}),a.normalize(),c}function qA(t){return!!(t&&t.__CANCEL__)}function du(t,e,n){Qe.call(this,t??"canceled",Qe.ERR_CANCELED,e,n),this.name="CanceledError"}le.inherits(du,Qe,{__CANCEL__:!0});function GA(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new Qe("Request failed with status code "+n.status,[Qe.ERR_BAD_REQUEST,Qe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function U6(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function z6(t,e){t=t||10;const n=new Array(t),i=new Array(t);let a=0,c=0,u;return e=e!==void 0?e:1e3,function(y){const _=Date.now(),x=i[c];u||(u=_),n[a]=y,i[a]=_;let T=c,A=0;for(;T!==a;)A+=n[T++],T=T%t;if(a=(a+1)%t,a===c&&(c=(c+1)%t),_-u<e)return;const D=x&&_-x;return D?Math.round(A*1e3/D):void 0}}function F6(t,e){let n=0,i=1e3/e,a,c;const u=(_,x=Date.now())=>{n=x,a=null,c&&(clearTimeout(c),c=null),t(..._)};return[(..._)=>{const x=Date.now(),T=x-n;T>=i?u(_,x):(a=_,c||(c=setTimeout(()=>{c=null,u(a)},i-T)))},()=>a&&u(a)]}const vm=(t,e,n=3)=>{let i=0;const a=z6(50,250);return F6(c=>{const u=c.loaded,p=c.lengthComputable?c.total:void 0,y=u-i,_=a(y),x=u<=p;i=u;const T={loaded:u,total:p,progress:p?u/p:void 0,bytes:y,rate:_||void 0,estimated:_&&p&&x?(p-u)/_:void 0,event:c,lengthComputable:p!=null,[e?"download":"upload"]:!0};t(T)},n)},YT=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},XT=t=>(...e)=>le.asap(()=>t(...e)),H6=$n.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,$n.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL($n.origin),$n.navigator&&/(msie|trident)/i.test($n.navigator.userAgent)):()=>!0,q6=$n.hasStandardBrowserEnv?{write(t,e,n,i,a,c){const u=[t+"="+encodeURIComponent(e)];le.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),le.isString(i)&&u.push("path="+i),le.isString(a)&&u.push("domain="+a),c===!0&&u.push("secure"),document.cookie=u.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function G6(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Z6(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function ZA(t,e,n){let i=!G6(e);return t&&(i||n==!1)?Z6(t,e):e}const QT=t=>t instanceof Ii?{...t}:t;function Pl(t,e){e=e||{};const n={};function i(_,x,T,A){return le.isPlainObject(_)&&le.isPlainObject(x)?le.merge.call({caseless:A},_,x):le.isPlainObject(x)?le.merge({},x):le.isArray(x)?x.slice():x}function a(_,x,T,A){if(le.isUndefined(x)){if(!le.isUndefined(_))return i(void 0,_,T,A)}else return i(_,x,T,A)}function c(_,x){if(!le.isUndefined(x))return i(void 0,x)}function u(_,x){if(le.isUndefined(x)){if(!le.isUndefined(_))return i(void 0,_)}else return i(void 0,x)}function p(_,x,T){if(T in e)return i(_,x);if(T in t)return i(void 0,_)}const y={url:c,method:c,data:c,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:p,headers:(_,x,T)=>a(QT(_),QT(x),T,!0)};return le.forEach(Object.keys({...t,...e}),function(x){const T=y[x]||a,A=T(t[x],e[x],x);le.isUndefined(A)&&T!==p||(n[x]=A)}),n}const WA=t=>{const e=Pl({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:c,headers:u,auth:p}=e;if(e.headers=u=Ii.from(u),e.url=zA(ZA(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),p&&u.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):""))),le.isFormData(n)){if($n.hasStandardBrowserEnv||$n.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if(le.isFunction(n.getHeaders)){const y=n.getHeaders(),_=["content-type","content-length"];Object.entries(y).forEach(([x,T])=>{_.includes(x.toLowerCase())&&u.set(x,T)})}}if($n.hasStandardBrowserEnv&&(i&&le.isFunction(i)&&(i=i(e)),i||i!==!1&&H6(e.url))){const y=a&&c&&q6.read(c);y&&u.set(a,y)}return e},W6=typeof XMLHttpRequest<"u",K6=W6&&function(t){return new Promise(function(n,i){const a=WA(t);let c=a.data;const u=Ii.from(a.headers).normalize();let{responseType:p,onUploadProgress:y,onDownloadProgress:_}=a,x,T,A,D,j;function F(){D&&D(),j&&j(),a.cancelToken&&a.cancelToken.unsubscribe(x),a.signal&&a.signal.removeEventListener("abort",x)}let k=new XMLHttpRequest;k.open(a.method.toUpperCase(),a.url,!0),k.timeout=a.timeout;function $(){if(!k)return;const X=Ii.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),he={data:!p||p==="text"||p==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:X,config:t,request:k};GA(function(z){n(z),F()},function(z){i(z),F()},he),k=null}"onloadend"in k?k.onloadend=$:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout($)},k.onabort=function(){k&&(i(new Qe("Request aborted",Qe.ECONNABORTED,t,k)),k=null)},k.onerror=function(ve){const he=ve&&ve.message?ve.message:"Network Error",we=new Qe(he,Qe.ERR_NETWORK,t,k);we.event=ve||null,i(we),k=null},k.ontimeout=function(){let ve=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const he=a.transitional||FA;a.timeoutErrorMessage&&(ve=a.timeoutErrorMessage),i(new Qe(ve,he.clarifyTimeoutError?Qe.ETIMEDOUT:Qe.ECONNABORTED,t,k)),k=null},c===void 0&&u.setContentType(null),"setRequestHeader"in k&&le.forEach(u.toJSON(),function(ve,he){k.setRequestHeader(he,ve)}),le.isUndefined(a.withCredentials)||(k.withCredentials=!!a.withCredentials),p&&p!=="json"&&(k.responseType=a.responseType),_&&([A,j]=vm(_,!0),k.addEventListener("progress",A)),y&&k.upload&&([T,D]=vm(y),k.upload.addEventListener("progress",T),k.upload.addEventListener("loadend",D)),(a.cancelToken||a.signal)&&(x=X=>{k&&(i(!X||X.type?new du(null,t,k):X),k.abort(),k=null)},a.cancelToken&&a.cancelToken.subscribe(x),a.signal&&(a.signal.aborted?x():a.signal.addEventListener("abort",x)));const Y=U6(a.url);if(Y&&$n.protocols.indexOf(Y)===-1){i(new Qe("Unsupported protocol "+Y+":",Qe.ERR_BAD_REQUEST,t));return}k.send(c||null)})},$6=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,a;const c=function(_){if(!a){a=!0,p();const x=_ instanceof Error?_:this.reason;i.abort(x instanceof Qe?x:new du(x instanceof Error?x.message:x))}};let u=e&&setTimeout(()=>{u=null,c(new Qe(`timeout ${e} of ms exceeded`,Qe.ETIMEDOUT))},e);const p=()=>{t&&(u&&clearTimeout(u),u=null,t.forEach(_=>{_.unsubscribe?_.unsubscribe(c):_.removeEventListener("abort",c)}),t=null)};t.forEach(_=>_.addEventListener("abort",c));const{signal:y}=i;return y.unsubscribe=()=>le.asap(p),y}},Y6=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,a;for(;i<n;)a=i+e,yield t.slice(i,a),i=a},X6=async function*(t,e){for await(const n of Q6(t))yield*Y6(n,e)},Q6=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},JT=(t,e,n,i)=>{const a=X6(t,e);let c=0,u,p=y=>{u||(u=!0,i&&i(y))};return new ReadableStream({async pull(y){try{const{done:_,value:x}=await a.next();if(_){p(),y.close();return}let T=x.byteLength;if(n){let A=c+=T;n(A)}y.enqueue(new Uint8Array(x))}catch(_){throw p(_),_}},cancel(y){return p(y),a.return()}},{highWaterMark:2})},e1=64*1024,{isFunction:Nf}=le,J6=(({Request:t,Response:e})=>({Request:t,Response:e}))(le.global),{ReadableStream:t1,TextEncoder:n1}=le.global,i1=(t,...e)=>{try{return!!t(...e)}catch{return!1}},eV=t=>{t=le.merge.call({skipUndefined:!0},J6,t);const{fetch:e,Request:n,Response:i}=t,a=e?Nf(e):typeof fetch=="function",c=Nf(n),u=Nf(i);if(!a)return!1;const p=a&&Nf(t1),y=a&&(typeof n1=="function"?(j=>F=>j.encode(F))(new n1):async j=>new Uint8Array(await new n(j).arrayBuffer())),_=c&&p&&i1(()=>{let j=!1;const F=new n($n.origin,{body:new t1,method:"POST",get duplex(){return j=!0,"half"}}).headers.has("Content-Type");return j&&!F}),x=u&&p&&i1(()=>le.isReadableStream(new i("").body)),T={stream:x&&(j=>j.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(j=>{!T[j]&&(T[j]=(F,k)=>{let $=F&&F[j];if($)return $.call(F);throw new Qe(`Response type '${j}' is not supported`,Qe.ERR_NOT_SUPPORT,k)})});const A=async j=>{if(j==null)return 0;if(le.isBlob(j))return j.size;if(le.isSpecCompliantForm(j))return(await new n($n.origin,{method:"POST",body:j}).arrayBuffer()).byteLength;if(le.isArrayBufferView(j)||le.isArrayBuffer(j))return j.byteLength;if(le.isURLSearchParams(j)&&(j=j+""),le.isString(j))return(await y(j)).byteLength},D=async(j,F)=>{const k=le.toFiniteNumber(j.getContentLength());return k??A(F)};return async j=>{let{url:F,method:k,data:$,signal:Y,cancelToken:X,timeout:ve,onDownloadProgress:he,onUploadProgress:we,responseType:z,headers:M,withCredentials:B="same-origin",fetchOptions:O}=WA(j),U=e||fetch;z=z?(z+"").toLowerCase():"text";let W=$6([Y,X&&X.toAbortSignal()],ve),q=null;const Be=W&&W.unsubscribe&&(()=>{W.unsubscribe()});let Me;try{if(we&&_&&k!=="get"&&k!=="head"&&(Me=await D(M,$))!==0){let ce=new n(F,{method:"POST",body:$,duplex:"half"}),xe;if(le.isFormData($)&&(xe=ce.headers.get("content-type"))&&M.setContentType(xe),ce.body){const[be,Se]=YT(Me,vm(XT(we)));$=JT(ce.body,e1,be,Se)}}le.isString(B)||(B=B?"include":"omit");const Q=c&&"credentials"in n.prototype,ue={...O,signal:W,method:k.toUpperCase(),headers:M.normalize().toJSON(),body:$,duplex:"half",credentials:Q?B:void 0};q=c&&new n(F,ue);let de=await(c?U(q,O):U(F,ue));const je=x&&(z==="stream"||z==="response");if(x&&(he||je&&Be)){const ce={};["status","statusText","headers"].forEach(Re=>{ce[Re]=de[Re]});const xe=le.toFiniteNumber(de.headers.get("content-length")),[be,Se]=he&&YT(xe,vm(XT(he),!0))||[];de=new i(JT(de.body,e1,be,()=>{Se&&Se(),Be&&Be()}),ce)}z=z||"text";let H=await T[le.findKey(T,z)||"text"](de,j);return!je&&Be&&Be(),await new Promise((ce,xe)=>{GA(ce,xe,{data:H,headers:Ii.from(de.headers),status:de.status,statusText:de.statusText,config:j,request:q})})}catch(Q){throw Be&&Be(),Q&&Q.name==="TypeError"&&/Load failed|fetch/i.test(Q.message)?Object.assign(new Qe("Network Error",Qe.ERR_NETWORK,j,q),{cause:Q.cause||Q}):Qe.from(Q,Q&&Q.code,j,q)}}},tV=new Map,KA=t=>{let e=t?t.env:{};const{fetch:n,Request:i,Response:a}=e,c=[i,a,n];let u=c.length,p=u,y,_,x=tV;for(;p--;)y=c[p],_=x.get(y),_===void 0&&x.set(y,_=p?new Map:eV(e)),x=_;return _};KA();const t0={http:v6,xhr:K6,fetch:{get:KA}};le.forEach(t0,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const s1=t=>`- ${t}`,nV=t=>le.isFunction(t)||t===null||t===!1,$A={getAdapter:(t,e)=>{t=le.isArray(t)?t:[t];const{length:n}=t;let i,a;const c={};for(let u=0;u<n;u++){i=t[u];let p;if(a=i,!nV(i)&&(a=t0[(p=String(i)).toLowerCase()],a===void 0))throw new Qe(`Unknown adapter '${p}'`);if(a&&(le.isFunction(a)||(a=a.get(e))))break;c[p||"#"+u]=a}if(!a){const u=Object.entries(c).map(([y,_])=>`adapter ${y} `+(_===!1?"is not supported by the environment":"is not available in the build"));let p=n?u.length>1?`since :
`+u.map(s1).join(`
`):" "+s1(u[0]):"as no adapter specified";throw new Qe("There is no suitable adapter to dispatch the request "+p,"ERR_NOT_SUPPORT")}return a},adapters:t0};function sy(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new du(null,t)}function r1(t){return sy(t),t.headers=Ii.from(t.headers),t.data=iy.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),$A.getAdapter(t.adapter||hd.adapter,t)(t).then(function(i){return sy(t),i.data=iy.call(t,t.transformResponse,i),i.headers=Ii.from(i.headers),i},function(i){return qA(i)||(sy(t),i&&i.response&&(i.response.data=iy.call(t,t.transformResponse,i.response),i.response.headers=Ii.from(i.response.headers))),Promise.reject(i)})}const YA="1.12.2",ep={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ep[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const a1={};ep.transitional=function(e,n,i){function a(c,u){return"[Axios v"+YA+"] Transitional option '"+c+"'"+u+(i?". "+i:"")}return(c,u,p)=>{if(e===!1)throw new Qe(a(u," has been removed"+(n?" in "+n:"")),Qe.ERR_DEPRECATED);return n&&!a1[u]&&(a1[u]=!0,console.warn(a(u," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(c,u,p):!0}};ep.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function iV(t,e,n){if(typeof t!="object")throw new Qe("options must be an object",Qe.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let a=i.length;for(;a-- >0;){const c=i[a],u=e[c];if(u){const p=t[c],y=p===void 0||u(p,c,t);if(y!==!0)throw new Qe("option "+c+" must be "+y,Qe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Qe("Unknown option "+c,Qe.ERR_BAD_OPTION)}}const Wf={assertOptions:iV,validators:ep},gr=Wf.validators;let bl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new KT,response:new KT}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const c=a.stack?a.stack.replace(/^.+\n/,""):"";try{i.stack?c&&!String(i.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+c):i.stack=c}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Pl(this.defaults,n);const{transitional:i,paramsSerializer:a,headers:c}=n;i!==void 0&&Wf.assertOptions(i,{silentJSONParsing:gr.transitional(gr.boolean),forcedJSONParsing:gr.transitional(gr.boolean),clarifyTimeoutError:gr.transitional(gr.boolean)},!1),a!=null&&(le.isFunction(a)?n.paramsSerializer={serialize:a}:Wf.assertOptions(a,{encode:gr.function,serialize:gr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Wf.assertOptions(n,{baseUrl:gr.spelling("baseURL"),withXsrfToken:gr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let u=c&&le.merge(c.common,c[n.method]);c&&le.forEach(["delete","get","head","post","put","patch","common"],j=>{delete c[j]}),n.headers=Ii.concat(u,c);const p=[];let y=!0;this.interceptors.request.forEach(function(F){typeof F.runWhen=="function"&&F.runWhen(n)===!1||(y=y&&F.synchronous,p.unshift(F.fulfilled,F.rejected))});const _=[];this.interceptors.response.forEach(function(F){_.push(F.fulfilled,F.rejected)});let x,T=0,A;if(!y){const j=[r1.bind(this),void 0];for(j.unshift(...p),j.push(..._),A=j.length,x=Promise.resolve(n);T<A;)x=x.then(j[T++],j[T++]);return x}A=p.length;let D=n;for(;T<A;){const j=p[T++],F=p[T++];try{D=j(D)}catch(k){F.call(this,k);break}}try{x=r1.call(this,D)}catch(j){return Promise.reject(j)}for(T=0,A=_.length;T<A;)x=x.then(_[T++],_[T++]);return x}getUri(e){e=Pl(this.defaults,e);const n=ZA(e.baseURL,e.url,e.allowAbsoluteUrls);return zA(n,e.params,e.paramsSerializer)}};le.forEach(["delete","get","head","options"],function(e){bl.prototype[e]=function(n,i){return this.request(Pl(i||{},{method:e,url:n,data:(i||{}).data}))}});le.forEach(["post","put","patch"],function(e){function n(i){return function(c,u,p){return this.request(Pl(p||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:c,data:u}))}}bl.prototype[e]=n(),bl.prototype[e+"Form"]=n(!0)});let sV=class XA{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(c){n=c});const i=this;this.promise.then(a=>{if(!i._listeners)return;let c=i._listeners.length;for(;c-- >0;)i._listeners[c](a);i._listeners=null}),this.promise.then=a=>{let c;const u=new Promise(p=>{i.subscribe(p),c=p}).then(a);return u.cancel=function(){i.unsubscribe(c)},u},e(function(c,u,p){i.reason||(i.reason=new du(c,u,p),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new XA(function(a){e=a}),cancel:e}}};function rV(t){return function(n){return t.apply(null,n)}}function aV(t){return le.isObject(t)&&t.isAxiosError===!0}const n0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(n0).forEach(([t,e])=>{n0[e]=t});function QA(t){const e=new bl(t),n=RA(bl.prototype.request,e);return le.extend(n,bl.prototype,e,{allOwnKeys:!0}),le.extend(n,e,null,{allOwnKeys:!0}),n.create=function(a){return QA(Pl(t,a))},n}const Yt=QA(hd);Yt.Axios=bl;Yt.CanceledError=du;Yt.CancelToken=sV;Yt.isCancel=qA;Yt.VERSION=YA;Yt.toFormData=Jm;Yt.AxiosError=Qe;Yt.Cancel=Yt.CanceledError;Yt.all=function(e){return Promise.all(e)};Yt.spread=rV;Yt.isAxiosError=aV;Yt.mergeConfig=Pl;Yt.AxiosHeaders=Ii;Yt.formToJSON=t=>HA(le.isHTMLForm(t)?new FormData(t):t);Yt.getAdapter=$A.getAdapter;Yt.HttpStatusCode=n0;Yt.default=Yt;const{Axios:nU,AxiosError:iU,CanceledError:sU,isCancel:rU,CancelToken:aU,VERSION:oU,all:lU,Cancel:cU,isAxiosError:uU,spread:hU,toFormData:dU,AxiosHeaders:fU,HttpStatusCode:mU,formToJSON:pU,getAdapter:gU,mergeConfig:yU}=Yt;delete uu.Icon.Default.prototype._getIconUrl;uu.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const oV=()=>{const{cartItems:t,cartTotal:e,clearCart:n}=$m(),i=jl(),a=V.useRef(),c=cu.currentUser,[u,p]=V.useState(!1),[y,_]=V.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",state:"",pincode:"",country:"India"}),[x,T]=V.useState(null),[A,D]=V.useState(!1),[j,F]=V.useState("card"),[k,$]=V.useState([12.2253,79.0747]),[Y,X]=V.useState(5),[ve,he]=V.useState("satellite"),we=new uu.Icon({iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41]}),z=Me=>{const{name:Q,value:ue}=Me.target;_({...y,[Q]:ue})},M=async(Me,Q)=>{try{const de=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${Me}&lon=${Q}&zoom=18&addressdetails=1`)).json();if(de?.address){const je=de.address;return{address:`${je.road||""} ${je.house_number||""} ${je.neighbourhood||""}`.trim(),city:je.city||je.town||je.village||je.county||"",state:je.state||"",pincode:je.postcode||"",country:je.country||"India"}}}catch(ue){throw console.error("Reverse geocoding error:",ue),new Error("Could not fetch location details.")}},B=async(Me,Q)=>{try{const ue=await M(Me,Q);_(de=>({...de,...ue}))}catch(ue){alert(ue.message)}},O=()=>{if(!navigator.geolocation){alert("Geolocation not supported by your browser");return}D(!0),navigator.geolocation.getCurrentPosition(async Me=>{const{latitude:Q,longitude:ue}=Me.coords;T({lat:Q,lng:ue}),$([Q,ue]),X(16);try{await B(Q,ue)}catch{}finally{D(!1)}},Me=>{console.error("Geolocation error:",Me);let Q="Location access failed.";switch(Me.code){case Me.PERMISSION_DENIED:Q="Location access denied. Please allow location access and try again.";break;case Me.POSITION_UNAVAILABLE:Q="Location information unavailable.";break;case Me.TIMEOUT:Q="Location request timed out.";break}alert(Q),D(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})},U=async Me=>{const{lat:Q,lng:ue}=Me.latlng;T({lat:Q,lng:ue}),$([Q,ue]);try{await B(Q,ue)}catch{}},W=()=>(j3({click:U}),null),q=async Me=>{if(Me.preventDefault(),!x){alert("Please set a delivery location.");return}p(!0);try{const{data:Q}=await Yt.post("http://localhost:5000/create-order",{amount:e,currency:"INR"}),{orderId:ue,keyId:de,amount:je}=Q;await HT(Uh(ha,"orders"),{userId:c?.uid,items:t,amount:e,currency:"INR",status:"Success",razorpayOrderId:ue,createdAt:Yy(),shipping:{firstName:y.firstName,lastName:y.lastName,email:y.email,phone:y.phone,address:y.address,city:y.city,state:y.state,pincode:y.pincode,country:y.country,location:x}});const H={key:de,amount:je,currency:"INR",name:"Your Shop",description:"Order Payment",order_id:ue,handler:async function(xe){try{(await Yt.post("http://localhost:5000/verify-payment",{razorpayOrderId:xe.razorpay_order_id,razorpayPaymentId:xe.razorpay_payment_id,razorpaySignature:xe.razorpay_signature})).data.success?(await HT(Uh(ha,"payments"),{userId:c?.uid,orderId:ue,paymentId:xe.razorpay_payment_id,signature:xe.razorpay_signature,createdAt:Yy()}),n(),i("/orderconfirmation",{state:{orderId:ue,payment:"online"}})):alert("Payment verification failed!")}catch(be){console.error("Verify error:",be),alert("Verification failed.")}finally{p(!1)}},prefill:{name:`${y.firstName} ${y.lastName}`,email:y.email,contact:y.phone},theme:{color:"#22c55e"}};new window.Razorpay(H).open()}catch(Q){console.error("Order error:",Q),alert("Failed to start payment."),p(!1)}};if(t.length===0)return f.jsx("div",{className:"container mx-auto px-4 py-12",children:f.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[f.jsx("div",{className:"text-6xl mb-6",children:"🛒"}),f.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Your cart is empty"}),f.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"There's nothing to checkout. Add some items to your cart first."}),f.jsx(tt,{to:"/cart",className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-8 rounded-lg transition",children:"Back to Cart"})]})});const Be={satellite:{url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",attribution:"&copy; Google Satellite",subdomains:["mt0","mt1","mt2","mt3"]},hybrid:{url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",attribution:"&copy; Google Hybrid",subdomains:["mt0","mt1","mt2","mt3"]},street:{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"&copy; OpenStreetMap contributors"},detailed:{url:"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",attribution:"&copy; OpenStreetMap contributors, Tiles style by Humanitarian OpenStreetMap Team"}};return f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-center text-gray-800 mb-8",children:"Checkout"}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[f.jsx("div",{children:f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Order Summary"}),f.jsx("div",{className:"space-y-4",children:t.map(Me=>f.jsxs("div",{className:"flex items-center border-b border-gray-100 pb-4",children:[f.jsx("img",{src:Me.image,alt:Me.name,className:"w-16 h-16 object-cover rounded-lg"}),f.jsxs("div",{className:"ml-4 flex-grow",children:[f.jsx("h3",{className:"font-medium text-gray-800",children:Me.name}),f.jsxs("p",{className:"text-green-600 font-bold",children:["₹",Me.price," × ",Me.quantity]})]}),f.jsx("div",{className:"ml-4",children:f.jsxs("p",{className:"font-bold text-green-600",children:["₹",Me.price*Me.quantity]})})]},Me.id))}),f.jsxs("div",{className:"border-t border-gray-200 mt-4 pt-4",children:[f.jsxs("div",{className:"flex justify-between mb-2",children:[f.jsx("span",{children:"Subtotal"}),f.jsxs("span",{children:["₹",e]})]}),f.jsxs("div",{className:"flex justify-between mb-2",children:[f.jsx("span",{children:"Delivery Fee"}),f.jsx("span",{className:"text-green-600",children:"Free"})]}),f.jsxs("div",{className:"flex justify-between font-bold text-lg mt-2 pt-2 border-t border-gray-200",children:[f.jsx("span",{children:"Total"}),f.jsxs("span",{children:["₹",e]})]})]})]})}),f.jsx("div",{children:f.jsxs("form",{onSubmit:q,className:"bg-white rounded-lg shadow-md p-6",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Shipping Information"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),f.jsx("input",{type:"text",name:"firstName",value:y.firstName,onChange:z,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),f.jsx("input",{type:"text",name:"lastName",value:y.lastName,onChange:z,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),f.jsx("input",{type:"email",name:"email",value:y.email,onChange:z,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),f.jsx("input",{type:"tel",name:"phone",value:y.phone,onChange:z,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]})]}),f.jsxs("div",{className:"mb-4",children:[f.jsxs("div",{className:"flex justify-between items-center mb-3",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Delivery Location"}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsxs("select",{value:ve,onChange:Me=>he(Me.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1",children:[f.jsx("option",{value:"satellite",children:"Satellite"}),f.jsx("option",{value:"street",children:"Street"})]}),f.jsx("button",{type:"button",onClick:O,disabled:A,className:"text-sm bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded flex items-center",children:A?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"animate-spin -ml-1 mr-1 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Detecting..."]}):f.jsxs(f.Fragment,{children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Use my location"]})})]})]}),f.jsx("div",{className:"mb-4 border rounded-lg overflow-hidden",children:f.jsxs(SA,{center:k,zoom:Y,style:{height:"300px",width:"100%"},ref:a,children:[f.jsx(CA,{attribution:Be[ve].attribution,url:Be[ve].url,subdomains:Be[ve].subdomains}),f.jsx(W,{}),x&&f.jsx(AA,{position:[x.lat,x.lng],icon:we,children:f.jsx(NA,{children:f.jsxs("div",{className:"text-sm",children:[f.jsx("strong",{children:"Delivery Location"}),f.jsx("br",{}),y.address&&`${y.address}, `,y.city&&`${y.city}, `,y.state&&`${y.state} - `,y.pincode]})})})]})}),f.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"💡 Click on the map to set your delivery location manually"}),f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),f.jsx("input",{type:"text",name:"address",value:y.address,onChange:z,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0,placeholder:"Street address"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),f.jsx("input",{type:"text",name:"city",value:y.city,onChange:z,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),f.jsx("input",{type:"text",name:"state",value:y.state,onChange:z,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pincode"}),f.jsx("input",{type:"text",name:"pincode",value:y.pincode,onChange:z,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0,pattern:"[0-9]{6}",title:"6-digit pincode"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),f.jsx("input",{type:"text",name:"country",value:y.country,onChange:z,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]})]}),f.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Payment Method"}),f.jsxs("div",{className:"mb-6 space-y-3",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{id:"card",name:"paymentMethod",type:"radio",value:"card",checked:j==="card",onChange:()=>F("card"),className:"h-4 w-4 text-green-600 focus:ring-green-500"}),f.jsx("label",{htmlFor:"card",className:"ml-3 block text-sm font-medium text-gray-700",children:"Credit/Debit Card"})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{id:"upi",name:"paymentMethod",type:"radio",value:"upi",checked:j==="upi",onChange:()=>F("upi"),className:"h-4 w-4 text-green-600 focus:ring-green-500"}),f.jsx("label",{htmlFor:"upi",className:"ml-3 block text-sm font-medium text-gray-700",children:"UPI"})]})]}),f.jsxs("div",{className:"flex space-x-4",children:[f.jsx(tt,{to:"/cart",className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-3 px-6 rounded-lg transition text-center",children:"Back to Cart"}),f.jsxs("button",{type:"submit",className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg transition",children:["Pay ₹",e]})]})]})})]})]})},lV=()=>{const[t,e]=V.useState(!1);V.useEffect(()=>{const a=()=>{window.scrollY>300?e(!0):e(!1)};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})},i=()=>{const a="918807239379",u=encodeURIComponent("I want fruit bunch"),p=`https://wa.me/${a}?text=${u}`;window.open(p,"_blank")};return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"fixed bottom-6 right-6 z-50 w-14 h-14 bg-green-500 rounded-full flex items-center justify-center shadow-lg cursor-pointer hover:bg-green-600 transition-transform transform hover:scale-110",onClick:i,children:f.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.864 3.49"})})}),t&&f.jsx("div",{className:"fixed bottom-24 right-7 z-50 w-12 h-12 bg-gray-700 rounded-full flex items-center justify-center shadow-lg cursor-pointer hover:bg-gray-800 transition-all duration-300 opacity-80 hover:opacity-100",onClick:n,children:f.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 15l7-7 7 7"})})})]})},cV=()=>{const[t,e]=V.useState(""),[n,i]=V.useState(!1),[a,c]=V.useState(!1),u=async p=>{p.preventDefault(),c(!0);try{await oL(cu,t),console.log("Password reset email sent to:",t),i(!0)}catch(y){console.error("Password reset error:",y.message),alert(y.message)}finally{c(!1)}};return f.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-100 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[f.jsx("div",{className:"absolute -top-20 -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),f.jsx("div",{className:"absolute top-40 -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),f.jsx("div",{className:"absolute -bottom-20 left-40 w-72 h-72 bg-teal-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-4000"}),f.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-2xl shadow-lg z-10 transform transition-all duration-500 hover:shadow-xl",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"mx-auto h-16 w-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),f.jsx("h2",{className:"mt-2 text-3xl font-bold text-gray-900",children:"Reset your password"}),f.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",f.jsx(tt,{to:"/login",className:"font-medium text-green-600 hover:text-green-500 transition-colors duration-300",children:"return to sign in"})]})]}),n?f.jsxs("div",{className:"text-center py-6",children:[f.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),f.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"Check your email"}),f.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["We've sent a password reset link to ",f.jsx("span",{className:"font-medium text-green-600",children:t})]}),f.jsx("div",{className:"mt-6",children:f.jsx("button",{onClick:()=>i(!1),className:"text-sm font-medium text-green-600 hover:text-green-500 transition-colors duration-300",children:"Didn't receive the email? Click to resend"})}),f.jsx("div",{className:"mt-4",children:f.jsxs(tt,{to:"/login",className:"inline-flex items-center text-sm font-medium text-green-600 hover:text-green-500 transition-colors duration-300",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to sign in"]})})]}):f.jsxs(f.Fragment,{children:[f.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Enter your email address and we'll send you a link to reset your password."}),f.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[f.jsx("div",{className:"rounded-md shadow-sm",children:f.jsxs("div",{className:"relative",children:[f.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),f.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Email address",value:t,onChange:p=>e(p.target.value)}),f.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none opacity-0 peer-focus:opacity-100 transition-opacity duration-300",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]})}),f.jsx("div",{children:f.jsxs("button",{type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",disabled:a,children:[a?f.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,a?"Sending...":"Send reset link"]})})]})]})]})]})},o1=sA(),uV=()=>{const[t,e]=V.useState(null),[n,i]=V.useState(!0),[a,c]=V.useState([]),[u,p]=V.useState(null),[y,_]=V.useState("profile"),x=jl();return V.useEffect(()=>{const T=localStorage.getItem("user");if(T){const A=JSON.parse(T);e(A),(async()=>{try{const j=Uh(o1,"orders"),F=fA(j,Mk("userId","==",A.uid)),$=(await $y(F)).docs.map(Y=>({id:Y.id,...Y.data()}));if(c($),$.length>0){const Y=$[0],X=Y.createdAt?.toDate?.()||new Date,ve=new Date(X);ve.setDate(X.getDate()+26);const he=new Date;if(he>ve)p(null);else{const z=Math.max(0,Math.ceil((ve-he)/864e5));p({plan:Y.items?.[0]?.name||"Standard",product:Y.items?.[0]?.description||"Subscription",status:Y.status,startDate:X.toISOString(),expiryDate:ve.toISOString(),price:`₹${Y.amount}`,daysLeft:z})}}}catch(j){console.error("Error fetching orders:",j)}})()}i(!1)},[o1]),n?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):t?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 py-8 px-4",children:f.jsxs("div",{className:"max-w-6xl mx-auto",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"Profile Settings"}),f.jsx("p",{className:"text-gray-600",children:"Manage your account information and preferences"})]}),f.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[f.jsx("div",{className:"md:col-span-1",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 sticky top-8",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsxs("div",{className:"relative inline-block",children:[f.jsx("img",{src:`https://ui-avatars.com/api/?background=10b981&color=fff&size=128&name=${encodeURIComponent(t.name)}&bold=true`,alt:"Profile",className:"w-24 h-24 rounded-full mx-auto border-4 border-white shadow-lg"}),f.jsx("div",{className:"absolute bottom-2 right-2 w-6 h-6 bg-green-500 border-2 border-white rounded-full"})]}),f.jsx("h2",{className:"text-xl font-semibold mt-4 text-gray-900",children:t.name}),f.jsx("p",{className:"text-gray-600 text-sm",children:t.email})]}),f.jsxs("nav",{className:"space-y-2",children:[f.jsxs("button",{onClick:()=>_("profile"),className:`flex items-center space-x-3 p-3 rounded-lg w-full text-left ${y==="profile"?"bg-green-50 text-green-600":"text-gray-700 hover:bg-gray-50"}`,children:[f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),f.jsx("span",{className:"font-medium",children:"Profile"})]}),f.jsxs("button",{onClick:()=>_("subscription"),className:`flex items-center space-x-3 p-3 rounded-lg w-full text-left ${y==="subscription"?"bg-green-50 text-green-600":"text-gray-700 hover:bg-gray-50"}`,children:[f.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),f.jsx("span",{children:"Subscription"})]})]})]})}),f.jsx("div",{className:"md:col-span-3",children:y==="subscription"?f.jsxs(f.Fragment,{children:[u?f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden mb-8",children:[f.jsx("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 p-6",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Current Subscription"}),f.jsx("p",{className:"text-green-100",children:"Active plan with premium features"})]}),f.jsx("div",{className:"bg-white text-green-600 px-4 py-2 rounded-full font-semibold",children:u.plan})]})}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:f.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),f.jsx("h4",{className:"font-semibold text-gray-900",children:"Product"}),f.jsxs("p",{className:"text-gray-600 text-sm",children:[u.product,"..more"]})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:f.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),f.jsx("h4",{className:"font-semibold text-gray-900",children:"Expiry Date"}),f.jsx("p",{className:"text-gray-600 text-sm",children:new Date(u.expiryDate).toLocaleDateString()})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:f.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),f.jsx("h4",{className:"font-semibold text-gray-900",children:"Price"}),f.jsx("p",{className:"text-gray-600 text-sm",children:u.price})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:f.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3"})})}),f.jsx("h4",{className:"font-semibold text-gray-900",children:"Days Left"}),f.jsxs("p",{className:"text-gray-600 text-sm",children:[u.daysLeft," days"]})]})]}),f.jsxs("div",{className:"flex gap-4 mt-6",children:[f.jsxs("button",{onClick:()=>x("/subscription"),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg transition duration-200 flex items-center",children:[f.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Renew Subscription"]}),f.jsxs("button",{onClick:()=>x("/subscription"),className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-6 py-2 rounded-lg transition duration-200 flex items-center",children:[f.jsxs("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Change Plan"]})]})]})]}):f.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-6 mb-8 text-center",children:[f.jsx("h3",{className:"text-lg font-semibold text-red-700 mb-2",children:"Subscription Expired"}),f.jsx("p",{className:"text-gray-600 mb-4",children:"Your subscription has expired. Please renew to continue enjoying premium features."}),f.jsx("button",{onClick:()=>x("/subscription"),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg transition duration-200",children:"Renew Now"})]}),f.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden mb-8",children:f.jsxs("div",{className:"p-6 border-b border-gray-100",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order History"}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-gray-50",children:[f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"#"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plan"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"})]})}),f.jsx("tbody",{className:"divide-y divide-gray-200",children:a.map((T,A)=>f.jsxs("tr",{className:"hover:bg-gray-50",children:[f.jsx("td",{className:"px-4 py-3 text-sm font-medium text-green-600",children:A+1}),f.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:T.items?.[0]?.name}),f.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:T.items?.[0]?.description}),f.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:new Date(T.createdAt?.toDate?.()).toLocaleDateString()}),f.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:["Rs: ",T.amount]})]},T.id))})]})})]})})]}):f.jsx(f.Fragment,{children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[f.jsxs("div",{className:"p-6 border-b border-gray-100",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Personal Information"}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),f.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:t.name})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),f.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:t.email})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Member Since"}),f.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Status"}),f.jsxs("div",{className:"p-3 bg-green-50 text-green-700 rounded-lg border border-green-200 flex items-center",children:[f.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Active"]})]})]})]}),f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Actions"}),f.jsxs("div",{className:"flex flex-wrap gap-4",children:[f.jsxs("button",{onClick:()=>x("/forgot-password"),className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-6 py-2 rounded-lg transition duration-200 flex items-center",children:[f.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Change Password"]}),f.jsxs("button",{onClick:()=>{const T=LS();mL(T).then(()=>{localStorage.removeItem("user"),window.location.href="/login"}).catch(A=>{console.error("Logout error:",A)})},className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg transition duration-200 flex items-center ml-auto",children:[f.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})]})]})]})})})]})]})}):f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 flex items-center justify-center",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:f.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),f.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Authentication Required"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"Please login to view your profile"}),f.jsx("a",{href:"/login",className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg transition duration-200",children:"Go to Login"})]})})},Iv=V.createContext({});function Lv(t){const e=V.useRef(null);return e.current===null&&(e.current=t()),e.current}const Dv=typeof window<"u",JA=Dv?V.useLayoutEffect:V.useEffect,tp=V.createContext(null);function Mv(t,e){t.indexOf(e)===-1&&t.push(e)}function Ov(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ya=(t,e,n)=>n>e?e:n<t?t:n;let kv=()=>{};const va={},eN=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function tN(t){return typeof t=="object"&&t!==null}const nN=t=>/^0[^.\s]+$/u.test(t);function Vv(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ts=t=>t,hV=(t,e)=>n=>e(t(n)),dd=(...t)=>t.reduce(hV),zh=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Bv{constructor(){this.subscriptions=[]}add(e){return Mv(this.subscriptions,e),()=>Ov(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let c=0;c<a;c++){const u=this.subscriptions[c];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Er=t=>t*1e3,ws=t=>t/1e3;function iN(t,e){return e?t*(1e3/e):0}const sN=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,dV=1e-7,fV=12;function mV(t,e,n,i,a){let c,u,p=0;do u=e+(n-e)/2,c=sN(u,i,a)-t,c>0?n=u:e=u;while(Math.abs(c)>dV&&++p<fV);return u}function fd(t,e,n,i){if(t===e&&n===i)return Ts;const a=c=>mV(c,0,1,t,n);return c=>c===0||c===1?c:sN(a(c),e,i)}const rN=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,aN=t=>e=>1-t(1-e),oN=fd(.33,1.53,.69,.99),Uv=aN(oN),lN=rN(Uv),cN=t=>(t*=2)<1?.5*Uv(t):.5*(2-Math.pow(2,-10*(t-1))),zv=t=>1-Math.sin(Math.acos(t)),uN=aN(zv),hN=rN(zv),pV=fd(.42,0,1,1),gV=fd(0,0,.58,1),dN=fd(.42,0,.58,1),yV=t=>Array.isArray(t)&&typeof t[0]!="number",fN=t=>Array.isArray(t)&&typeof t[0]=="number",vV={linear:Ts,easeIn:pV,easeInOut:dN,easeOut:gV,circIn:zv,circInOut:hN,circOut:uN,backIn:Uv,backInOut:lN,backOut:oN,anticipate:cN},_V=t=>typeof t=="string",l1=t=>{if(fN(t)){kv(t.length===4);const[e,n,i,a]=t;return fd(e,n,i,a)}else if(_V(t))return vV[t];return t},Cf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function xV(t,e){let n=new Set,i=new Set,a=!1,c=!1;const u=new WeakSet;let p={delta:0,timestamp:0,isProcessing:!1};function y(x){u.has(x)&&(_.schedule(x),t()),x(p)}const _={schedule:(x,T=!1,A=!1)=>{const j=A&&a?n:i;return T&&u.add(x),j.has(x)||j.add(x),x},cancel:x=>{i.delete(x),u.delete(x)},process:x=>{if(p=x,a){c=!0;return}a=!0,[n,i]=[i,n],n.forEach(y),n.clear(),a=!1,c&&(c=!1,_.process(x))}};return _}const bV=40;function mN(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},c=()=>n=!0,u=Cf.reduce((X,ve)=>(X[ve]=xV(c),X),{}),{setup:p,read:y,resolveKeyframes:_,preUpdate:x,update:T,preRender:A,render:D,postRender:j}=u,F=()=>{const X=va.useManualTiming?a.timestamp:performance.now();n=!1,va.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(X-a.timestamp,bV),1)),a.timestamp=X,a.isProcessing=!0,p.process(a),y.process(a),_.process(a),x.process(a),T.process(a),A.process(a),D.process(a),j.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(F))},k=()=>{n=!0,i=!0,a.isProcessing||t(F)};return{schedule:Cf.reduce((X,ve)=>{const he=u[ve];return X[ve]=(we,z=!1,M=!1)=>(n||k(),he.schedule(we,z,M)),X},{}),cancel:X=>{for(let ve=0;ve<Cf.length;ve++)u[Cf[ve]].cancel(X)},state:a,steps:u}}const{schedule:Vt,cancel:jo,state:On,steps:ry}=mN(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ts,!0);let Kf;function wV(){Kf=void 0}const Pi={now:()=>(Kf===void 0&&Pi.set(On.isProcessing||va.useManualTiming?On.timestamp:performance.now()),Kf),set:t=>{Kf=t,queueMicrotask(wV)}},pN=t=>e=>typeof e=="string"&&e.startsWith(t),Fv=pN("--"),TV=pN("var(--"),Hv=t=>TV(t)?EV.test(t.split("/*")[0].trim()):!1,EV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,fu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Fh={...fu,transform:t=>ya(0,1,t)},Rf={...fu,default:1},Eh=t=>Math.round(t*1e5)/1e5,qv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function SV(t){return t==null}const AV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Gv=(t,e)=>n=>!!(typeof n=="string"&&AV.test(n)&&n.startsWith(t)||e&&!SV(n)&&Object.prototype.hasOwnProperty.call(n,e)),gN=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,c,u,p]=i.match(qv);return{[t]:parseFloat(a),[e]:parseFloat(c),[n]:parseFloat(u),alpha:p!==void 0?parseFloat(p):1}},NV=t=>ya(0,255,t),ay={...fu,transform:t=>Math.round(NV(t))},vl={test:Gv("rgb","red"),parse:gN("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+ay.transform(t)+", "+ay.transform(e)+", "+ay.transform(n)+", "+Eh(Fh.transform(i))+")"};function CV(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const i0={test:Gv("#"),parse:CV,transform:vl.transform},md=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),mo=md("deg"),Sr=md("%"),We=md("px"),RV=md("vh"),PV=md("vw"),c1={...Sr,parse:t=>Sr.parse(t)/100,transform:t=>Sr.transform(t*100)},Cc={test:Gv("hsl","hue"),parse:gN("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Sr.transform(Eh(e))+", "+Sr.transform(Eh(n))+", "+Eh(Fh.transform(i))+")"},ln={test:t=>vl.test(t)||i0.test(t)||Cc.test(t),parse:t=>vl.test(t)?vl.parse(t):Cc.test(t)?Cc.parse(t):i0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?vl.transform(t):Cc.transform(t),getAnimatableNone:t=>{const e=ln.parse(t);return e.alpha=0,ln.transform(e)}},jV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function IV(t){return isNaN(t)&&typeof t=="string"&&(t.match(qv)?.length||0)+(t.match(jV)?.length||0)>0}const yN="number",vN="color",LV="var",DV="var(",u1="${}",MV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Hh(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let c=0;const p=e.replace(MV,y=>(ln.test(y)?(i.color.push(c),a.push(vN),n.push(ln.parse(y))):y.startsWith(DV)?(i.var.push(c),a.push(LV),n.push(y)):(i.number.push(c),a.push(yN),n.push(parseFloat(y))),++c,u1)).split(u1);return{values:n,split:p,indexes:i,types:a}}function _N(t){return Hh(t).values}function xN(t){const{split:e,types:n}=Hh(t),i=e.length;return a=>{let c="";for(let u=0;u<i;u++)if(c+=e[u],a[u]!==void 0){const p=n[u];p===yN?c+=Eh(a[u]):p===vN?c+=ln.transform(a[u]):c+=a[u]}return c}}const OV=t=>typeof t=="number"?0:ln.test(t)?ln.getAnimatableNone(t):t;function kV(t){const e=_N(t);return xN(t)(e.map(OV))}const Io={test:IV,parse:_N,createTransformer:xN,getAnimatableNone:kV};function oy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function VV({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,c=0,u=0;if(!e)a=c=u=n;else{const p=n<.5?n*(1+e):n+e-n*e,y=2*n-p;a=oy(y,p,t+1/3),c=oy(y,p,t),u=oy(y,p,t-1/3)}return{red:Math.round(a*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:i}}function _m(t,e){return n=>n>0?e:t}const Gt=(t,e,n)=>t+(e-t)*n,ly=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},BV=[i0,vl,Cc],UV=t=>BV.find(e=>e.test(t));function h1(t){const e=UV(t);if(!e)return!1;let n=e.parse(t);return e===Cc&&(n=VV(n)),n}const d1=(t,e)=>{const n=h1(t),i=h1(e);if(!n||!i)return _m(t,e);const a={...n};return c=>(a.red=ly(n.red,i.red,c),a.green=ly(n.green,i.green,c),a.blue=ly(n.blue,i.blue,c),a.alpha=Gt(n.alpha,i.alpha,c),vl.transform(a))},s0=new Set(["none","hidden"]);function zV(t,e){return s0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function FV(t,e){return n=>Gt(t,e,n)}function Zv(t){return typeof t=="number"?FV:typeof t=="string"?Hv(t)?_m:ln.test(t)?d1:GV:Array.isArray(t)?bN:typeof t=="object"?ln.test(t)?d1:HV:_m}function bN(t,e){const n=[...t],i=n.length,a=t.map((c,u)=>Zv(c)(c,e[u]));return c=>{for(let u=0;u<i;u++)n[u]=a[u](c);return n}}function HV(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=Zv(t[a])(t[a],e[a]));return a=>{for(const c in i)n[c]=i[c](a);return n}}function qV(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const c=e.types[a],u=t.indexes[c][i[c]],p=t.values[u]??0;n[a]=p,i[c]++}return n}const GV=(t,e)=>{const n=Io.createTransformer(e),i=Hh(t),a=Hh(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?s0.has(t)&&!a.values.length||s0.has(e)&&!i.values.length?zV(t,e):dd(bN(qV(i,a),a.values),n):_m(t,e)};function wN(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Gt(t,e,n):Zv(t)(t,e)}const ZV=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Vt.update(e,n),stop:()=>jo(e),now:()=>On.isProcessing?On.timestamp:Pi.now()}},TN=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let c=0;c<a;c++)i+=Math.round(t(c/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},xm=2e4;function Wv(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<xm;)e+=n,i=t.next(e);return e>=xm?1/0:e}function WV(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(Wv(i),xm);return{type:"keyframes",ease:c=>i.next(a*c).value/e,duration:ws(a)}}const KV=5;function EN(t,e,n){const i=Math.max(e-KV,0);return iN(n-t(i),e-i)}const $t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},cy=.001;function $V({duration:t=$t.duration,bounce:e=$t.bounce,velocity:n=$t.velocity,mass:i=$t.mass}){let a,c,u=1-e;u=ya($t.minDamping,$t.maxDamping,u),t=ya($t.minDuration,$t.maxDuration,ws(t)),u<1?(a=_=>{const x=_*u,T=x*t,A=x-n,D=r0(_,u),j=Math.exp(-T);return cy-A/D*j},c=_=>{const T=_*u*t,A=T*n+n,D=Math.pow(u,2)*Math.pow(_,2)*t,j=Math.exp(-T),F=r0(Math.pow(_,2),u);return(-a(_)+cy>0?-1:1)*((A-D)*j)/F}):(a=_=>{const x=Math.exp(-_*t),T=(_-n)*t+1;return-cy+x*T},c=_=>{const x=Math.exp(-_*t),T=(n-_)*(t*t);return x*T});const p=5/t,y=XV(a,c,p);if(t=Er(t),isNaN(y))return{stiffness:$t.stiffness,damping:$t.damping,duration:t};{const _=Math.pow(y,2)*i;return{stiffness:_,damping:u*2*Math.sqrt(i*_),duration:t}}}const YV=12;function XV(t,e,n){let i=n;for(let a=1;a<YV;a++)i=i-t(i)/e(i);return i}function r0(t,e){return t*Math.sqrt(1-e*e)}const QV=["duration","bounce"],JV=["stiffness","damping","mass"];function f1(t,e){return e.some(n=>t[n]!==void 0)}function e5(t){let e={velocity:$t.velocity,stiffness:$t.stiffness,damping:$t.damping,mass:$t.mass,isResolvedFromDuration:!1,...t};if(!f1(t,JV)&&f1(t,QV))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,c=2*ya(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:$t.mass,stiffness:a,damping:c}}else{const n=$V(t);e={...e,...n,mass:$t.mass},e.isResolvedFromDuration=!0}return e}function bm(t=$t.visualDuration,e=$t.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const c=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],p={done:!1,value:c},{stiffness:y,damping:_,mass:x,duration:T,velocity:A,isResolvedFromDuration:D}=e5({...n,velocity:-ws(n.velocity||0)}),j=A||0,F=_/(2*Math.sqrt(y*x)),k=u-c,$=ws(Math.sqrt(y/x)),Y=Math.abs(k)<5;i||(i=Y?$t.restSpeed.granular:$t.restSpeed.default),a||(a=Y?$t.restDelta.granular:$t.restDelta.default);let X;if(F<1){const he=r0($,F);X=we=>{const z=Math.exp(-F*$*we);return u-z*((j+F*$*k)/he*Math.sin(he*we)+k*Math.cos(he*we))}}else if(F===1)X=he=>u-Math.exp(-$*he)*(k+(j+$*k)*he);else{const he=$*Math.sqrt(F*F-1);X=we=>{const z=Math.exp(-F*$*we),M=Math.min(he*we,300);return u-z*((j+F*$*k)*Math.sinh(M)+he*k*Math.cosh(M))/he}}const ve={calculatedDuration:D&&T||null,next:he=>{const we=X(he);if(D)p.done=he>=T;else{let z=he===0?j:0;F<1&&(z=he===0?Er(j):EN(X,he,we));const M=Math.abs(z)<=i,B=Math.abs(u-we)<=a;p.done=M&&B}return p.value=p.done?u:we,p},toString:()=>{const he=Math.min(Wv(ve),xm),we=TN(z=>ve.next(he*z).value,he,30);return he+"ms "+we},toTransition:()=>{}};return ve}bm.applyToOptions=t=>{const e=WV(t,100,bm);return t.ease=e.ease,t.duration=Er(e.duration),t.type="keyframes",t};function a0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:c=500,modifyTarget:u,min:p,max:y,restDelta:_=.5,restSpeed:x}){const T=t[0],A={done:!1,value:T},D=M=>p!==void 0&&M<p||y!==void 0&&M>y,j=M=>p===void 0?y:y===void 0||Math.abs(p-M)<Math.abs(y-M)?p:y;let F=n*e;const k=T+F,$=u===void 0?k:u(k);$!==k&&(F=$-T);const Y=M=>-F*Math.exp(-M/i),X=M=>$+Y(M),ve=M=>{const B=Y(M),O=X(M);A.done=Math.abs(B)<=_,A.value=A.done?$:O};let he,we;const z=M=>{D(A.value)&&(he=M,we=bm({keyframes:[A.value,j(A.value)],velocity:EN(X,M,A.value),damping:a,stiffness:c,restDelta:_,restSpeed:x}))};return z(0),{calculatedDuration:null,next:M=>{let B=!1;return!we&&he===void 0&&(B=!0,ve(M),z(M)),he!==void 0&&M>=he?we.next(M-he):(!B&&ve(M),A)}}}function t5(t,e,n){const i=[],a=n||va.mix||wN,c=t.length-1;for(let u=0;u<c;u++){let p=a(t[u],t[u+1]);if(e){const y=Array.isArray(e)?e[u]||Ts:e;p=dd(y,p)}i.push(p)}return i}function n5(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const c=t.length;if(kv(c===e.length),c===1)return()=>e[0];if(c===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[c-1]&&(t=[...t].reverse(),e=[...e].reverse());const p=t5(e,i,a),y=p.length,_=x=>{if(u&&x<t[0])return e[0];let T=0;if(y>1)for(;T<t.length-2&&!(x<t[T+1]);T++);const A=zh(t[T],t[T+1],x);return p[T](A)};return n?x=>_(ya(t[0],t[c-1],x)):_}function i5(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=zh(0,e,i);t.push(Gt(n,1,a))}}function s5(t){const e=[0];return i5(e,t.length-1),e}function r5(t,e){return t.map(n=>n*e)}function a5(t,e){return t.map(()=>e||dN).splice(0,t.length-1)}function Sh({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=yV(i)?i.map(l1):l1(i),c={done:!1,value:e[0]},u=r5(n&&n.length===e.length?n:s5(e),t),p=n5(u,e,{ease:Array.isArray(a)?a:a5(e,a)});return{calculatedDuration:t,next:y=>(c.value=p(y),c.done=y>=t,c)}}const o5=t=>t!==null;function Kv(t,{repeat:e,repeatType:n="loop"},i,a=1){const c=t.filter(o5),p=a<0||e&&n!=="loop"&&e%2===1?0:c.length-1;return!p||i===void 0?c[p]:i}const l5={decay:a0,inertia:a0,tween:Sh,keyframes:Sh,spring:bm};function SN(t){typeof t.type=="string"&&(t.type=l5[t.type])}class $v{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const c5=t=>t/100;class Yv extends $v{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Pi.now()&&this.tick(Pi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;SN(e);const{type:n=Sh,repeat:i=0,repeatDelay:a=0,repeatType:c,velocity:u=0}=e;let{keyframes:p}=e;const y=n||Sh;y!==Sh&&typeof p[0]!="number"&&(this.mixKeyframes=dd(c5,wN(p[0],p[1])),p=[0,100]);const _=y({...e,keyframes:p});c==="mirror"&&(this.mirroredGenerator=y({...e,keyframes:[...p].reverse(),velocity:-u})),_.calculatedDuration===null&&(_.calculatedDuration=Wv(_));const{calculatedDuration:x}=_;this.calculatedDuration=x,this.resolvedDuration=x+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=_}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:c,mirroredGenerator:u,resolvedDuration:p,calculatedDuration:y}=this;if(this.startTime===null)return i.next(0);const{delay:_=0,keyframes:x,repeat:T,repeatType:A,repeatDelay:D,type:j,onUpdate:F,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const $=this.currentTime-_*(this.playbackSpeed>=0?1:-1),Y=this.playbackSpeed>=0?$<0:$>a;this.currentTime=Math.max($,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let X=this.currentTime,ve=i;if(T){const M=Math.min(this.currentTime,a)/p;let B=Math.floor(M),O=M%1;!O&&M>=1&&(O=1),O===1&&B--,B=Math.min(B,T+1),!!(B%2)&&(A==="reverse"?(O=1-O,D&&(O-=D/p)):A==="mirror"&&(ve=u)),X=ya(0,1,O)*p}const he=Y?{done:!1,value:x[0]}:ve.next(X);c&&(he.value=c(he.value));let{done:we}=he;!Y&&y!==null&&(we=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&we);return z&&j!==a0&&(he.value=Kv(x,this.options,k,this.speed)),F&&F(he.value),z&&this.finish(),he}then(e,n){return this.finished.then(e,n)}get duration(){return ws(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ws(e)}get time(){return ws(this.currentTime)}set time(e){e=Er(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Pi.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ws(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=ZV,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Pi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function u5(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const _l=t=>t*180/Math.PI,o0=t=>{const e=_l(Math.atan2(t[1],t[0]));return l0(e)},h5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:o0,rotateZ:o0,skewX:t=>_l(Math.atan(t[1])),skewY:t=>_l(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},l0=t=>(t=t%360,t<0&&(t+=360),t),m1=o0,p1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),g1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),d5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:p1,scaleY:g1,scale:t=>(p1(t)+g1(t))/2,rotateX:t=>l0(_l(Math.atan2(t[6],t[5]))),rotateY:t=>l0(_l(Math.atan2(-t[2],t[0]))),rotateZ:m1,rotate:m1,skewX:t=>_l(Math.atan(t[4])),skewY:t=>_l(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function c0(t){return t.includes("scale")?1:0}function u0(t,e){if(!t||t==="none")return c0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=d5,a=n;else{const p=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=h5,a=p}if(!a)return c0(e);const c=i[e],u=a[1].split(",").map(m5);return typeof c=="function"?c(u):u[c]}const f5=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return u0(n,e)};function m5(t){return parseFloat(t.trim())}const mu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pu=new Set(mu),y1=t=>t===fu||t===We,p5=new Set(["x","y","z"]),g5=mu.filter(t=>!p5.has(t));function y5(t){const e=[];return g5.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const wl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>u0(e,"x"),y:(t,{transform:e})=>u0(e,"y")};wl.translateX=wl.x;wl.translateY=wl.y;const Tl=new Set;let h0=!1,d0=!1,f0=!1;function AN(){if(d0){const t=Array.from(Tl).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=y5(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([c,u])=>{i.getValue(c)?.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}d0=!1,h0=!1,Tl.forEach(t=>t.complete(f0)),Tl.clear()}function NN(){Tl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(d0=!0)})}function v5(){f0=!0,NN(),AN(),f0=!1}class Xv{constructor(e,n,i,a,c,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=c,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Tl.add(this),h0||(h0=!0,Vt.read(NN),Vt.resolveKeyframes(AN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const c=a?.get(),u=e[e.length-1];if(c!==void 0)e[0]=c;else if(i&&n){const p=i.readValue(n,u);p!=null&&(e[0]=p)}e[0]===void 0&&(e[0]=u),a&&c===void 0&&a.set(e[0])}u5(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Tl.delete(this)}cancel(){this.state==="scheduled"&&(Tl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const _5=t=>t.startsWith("--");function x5(t,e,n){_5(e)?t.style.setProperty(e,n):t.style[e]=n}const b5=Vv(()=>window.ScrollTimeline!==void 0),w5={};function T5(t,e){const n=Vv(t);return()=>w5[e]??n()}const CN=T5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),yh=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,v1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yh([0,.65,.55,1]),circOut:yh([.55,0,1,.45]),backIn:yh([.31,.01,.66,-.59]),backOut:yh([.33,1.53,.69,.99])};function RN(t,e){if(t)return typeof t=="function"?CN()?TN(t,e):"ease-out":fN(t)?yh(t):Array.isArray(t)?t.map(n=>RN(n,e)||v1.easeOut):v1[t]}function E5(t,e,n,{delay:i=0,duration:a=300,repeat:c=0,repeatType:u="loop",ease:p="easeOut",times:y}={},_=void 0){const x={[e]:n};y&&(x.offset=y);const T=RN(p,a);Array.isArray(T)&&(x.easing=T);const A={delay:i,duration:a,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"};return _&&(A.pseudoElement=_),t.animate(x,A)}function PN(t){return typeof t=="function"&&"applyToOptions"in t}function S5({type:t,...e}){return PN(t)&&CN()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class A5 extends $v{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:c,allowFlatten:u=!1,finalKeyframe:p,onComplete:y}=e;this.isPseudoElement=!!c,this.allowFlatten=u,this.options=e,kv(typeof e.type!="string");const _=S5(e);this.animation=E5(n,i,a,_,c),_.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const x=Kv(a,this.options,p,this.speed);this.updateMotionValue?this.updateMotionValue(x):x5(n,i,x),this.animation.cancel()}y?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ws(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ws(e)}get time(){return ws(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Er(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&b5()?(this.animation.timeline=e,Ts):n(this)}}const jN={anticipate:cN,backInOut:lN,circInOut:hN};function N5(t){return t in jN}function C5(t){typeof t.ease=="string"&&N5(t.ease)&&(t.ease=jN[t.ease])}const _1=10;class R5 extends A5{constructor(e){C5(e),SN(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:c,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const p=new Yv({...u,autoplay:!1}),y=Er(this.finishedTime??this.time);n.setWithVelocity(p.sample(y-_1).value,p.sample(y).value,_1),p.stop()}}const x1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Io.test(t)||t==="0")&&!t.startsWith("url("));function P5(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function j5(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const c=t[t.length-1],u=x1(a,e),p=x1(c,e);return!u||!p?!1:P5(t)||(n==="spring"||PN(n))&&i}function m0(t){t.duration=0,t.type="keyframes"}const I5=new Set(["opacity","clipPath","filter","transform"]),L5=Vv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function D5(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:c,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:y,transformTemplate:_}=e.owner.getProps();return L5()&&n&&I5.has(n)&&(n!=="transform"||!_)&&!y&&!i&&a!=="mirror"&&c!==0&&u!=="inertia"}const M5=40;class O5 extends $v{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:c=0,repeatType:u="loop",keyframes:p,name:y,motionValue:_,element:x,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Pi.now();const A={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:c,repeatType:u,name:y,motionValue:_,element:x,...T},D=x?.KeyframeResolver||Xv;this.keyframeResolver=new D(p,(j,F,k)=>this.onKeyframesResolved(j,F,A,!k),y,_,x),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:c,type:u,velocity:p,delay:y,isHandoff:_,onUpdate:x}=i;this.resolvedAt=Pi.now(),j5(e,c,u,p)||((va.instantAnimations||!y)&&x?.(Kv(e,i,n)),e[0]=e[e.length-1],m0(i),i.repeat=0);const A={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>M5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},D=!_&&D5(A)?new R5({...A,element:A.motionValue.owner.current}):new Yv(A);D.finished.then(()=>this.notifyFinished()).catch(Ts),this.pendingTimeline&&(this.stopTimeline=D.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=D}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),v5()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const k5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function V5(t){const e=k5.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function IN(t,e,n=1){const[i,a]=V5(t);if(!i)return;const c=window.getComputedStyle(e).getPropertyValue(i);if(c){const u=c.trim();return eN(u)?parseFloat(u):u}return Hv(a)?IN(a,e,n+1):a}function Qv(t,e){return t?.[e]??t?.default??t}const LN=new Set(["width","height","top","left","right","bottom",...mu]),B5={test:t=>t==="auto",parse:t=>t},DN=t=>e=>e.test(t),MN=[fu,We,Sr,mo,PV,RV,B5],b1=t=>MN.find(DN(t));function U5(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||nN(t):!0}const z5=new Set(["brightness","contrast","saturate","opacity"]);function F5(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(qv)||[];if(!i)return t;const a=n.replace(i,"");let c=z5.has(e)?1:0;return i!==n&&(c*=100),e+"("+c+a+")"}const H5=/\b([a-z-]*)\(.*?\)/gu,p0={...Io,getAnimatableNone:t=>{const e=t.match(H5);return e?e.map(F5).join(" "):t}},w1={...fu,transform:Math.round},q5={rotate:mo,rotateX:mo,rotateY:mo,rotateZ:mo,scale:Rf,scaleX:Rf,scaleY:Rf,scaleZ:Rf,skew:mo,skewX:mo,skewY:mo,distance:We,translateX:We,translateY:We,translateZ:We,x:We,y:We,z:We,perspective:We,transformPerspective:We,opacity:Fh,originX:c1,originY:c1,originZ:We},Jv={borderWidth:We,borderTopWidth:We,borderRightWidth:We,borderBottomWidth:We,borderLeftWidth:We,borderRadius:We,radius:We,borderTopLeftRadius:We,borderTopRightRadius:We,borderBottomRightRadius:We,borderBottomLeftRadius:We,width:We,maxWidth:We,height:We,maxHeight:We,top:We,right:We,bottom:We,left:We,padding:We,paddingTop:We,paddingRight:We,paddingBottom:We,paddingLeft:We,margin:We,marginTop:We,marginRight:We,marginBottom:We,marginLeft:We,backgroundPositionX:We,backgroundPositionY:We,...q5,zIndex:w1,fillOpacity:Fh,strokeOpacity:Fh,numOctaves:w1},G5={...Jv,color:ln,backgroundColor:ln,outlineColor:ln,fill:ln,stroke:ln,borderColor:ln,borderTopColor:ln,borderRightColor:ln,borderBottomColor:ln,borderLeftColor:ln,filter:p0,WebkitFilter:p0},ON=t=>G5[t];function kN(t,e){let n=ON(t);return n!==p0&&(n=Io),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Z5=new Set(["auto","none","0"]);function W5(t,e,n){let i=0,a;for(;i<t.length&&!a;){const c=t[i];typeof c=="string"&&!Z5.has(c)&&Hh(c).values.length&&(a=t[i]),i++}if(a&&n)for(const c of e)t[c]=kN(n,a)}class K5 extends Xv{constructor(e,n,i,a,c){super(e,n,i,a,c,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let _=e[y];if(typeof _=="string"&&(_=_.trim(),Hv(_))){const x=IN(_,n.current);x!==void 0&&(e[y]=x),y===e.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!LN.has(i)||e.length!==2)return;const[a,c]=e,u=b1(a),p=b1(c);if(u!==p)if(y1(u)&&y1(p))for(let y=0;y<e.length;y++){const _=e[y];typeof _=="string"&&(e[y]=parseFloat(_))}else wl[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||U5(e[a]))&&i.push(a);i.length&&W5(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wl[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const c=i.length-1,u=i[c];i[c]=wl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([p,y])=>{e.getValue(p).set(y)}),this.resolveNoneKeyframes()}}function $5(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const VN=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function BN(t){return tN(t)&&"offsetHeight"in t}const T1=30,Y5=t=>!isNaN(parseFloat(t));class X5{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=Pi.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Pi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Y5(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Bv);const i=this.events[e].add(n);return e==="change"?()=>{i(),Vt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Pi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>T1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,T1);return iN(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Kc(t,e){return new X5(t,e)}const{schedule:e_}=mN(queueMicrotask,!1),Fs={x:!1,y:!1};function UN(){return Fs.x||Fs.y}function Q5(t){return t==="x"||t==="y"?Fs[t]?null:(Fs[t]=!0,()=>{Fs[t]=!1}):Fs.x||Fs.y?null:(Fs.x=Fs.y=!0,()=>{Fs.x=Fs.y=!1})}function zN(t,e){const n=$5(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function E1(t){return!(t.pointerType==="touch"||UN())}function J5(t,e,n={}){const[i,a,c]=zN(t,n),u=p=>{if(!E1(p))return;const{target:y}=p,_=e(y,p);if(typeof _!="function"||!y)return;const x=T=>{E1(T)&&(_(T),y.removeEventListener("pointerleave",x))};y.addEventListener("pointerleave",x,a)};return i.forEach(p=>{p.addEventListener("pointerenter",u,a)}),c}const FN=(t,e)=>e?t===e?!0:FN(t,e.parentElement):!1,t_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,e9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function t9(t){return e9.has(t.tagName)||t.tabIndex!==-1}const $f=new WeakSet;function S1(t){return e=>{e.key==="Enter"&&t(e)}}function uy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const n9=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=S1(()=>{if($f.has(n))return;uy(n,"down");const a=S1(()=>{uy(n,"up")}),c=()=>uy(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",c,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function A1(t){return t_(t)&&!UN()}function i9(t,e,n={}){const[i,a,c]=zN(t,n),u=p=>{const y=p.currentTarget;if(!A1(p))return;$f.add(y);const _=e(y,p),x=(D,j)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",A),$f.has(y)&&$f.delete(y),A1(D)&&typeof _=="function"&&_(D,{success:j})},T=D=>{x(D,y===window||y===document||n.useGlobalTarget||FN(y,D.target))},A=D=>{x(D,!1)};window.addEventListener("pointerup",T,a),window.addEventListener("pointercancel",A,a)};return i.forEach(p=>{(n.useGlobalTarget?window:p).addEventListener("pointerdown",u,a),BN(p)&&(p.addEventListener("focus",_=>n9(_,a)),!t9(p)&&!p.hasAttribute("tabindex")&&(p.tabIndex=0))}),c}function HN(t){return tN(t)&&"ownerSVGElement"in t}function s9(t){return HN(t)&&t.tagName==="svg"}const Yn=t=>!!(t&&t.getVelocity),r9=[...MN,ln,Io],a9=t=>r9.find(DN(t)),n_=V.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function N1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function o9(...t){return e=>{let n=!1;const i=t.map(a=>{const c=N1(a,e);return!n&&typeof c=="function"&&(n=!0),c});if(n)return()=>{for(let a=0;a<i.length;a++){const c=i[a];typeof c=="function"?c():N1(t[a],null)}}}}function l9(...t){return V.useCallback(o9(...t),t)}class c9 extends V.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=BN(i)&&i.offsetWidth||0,c=this.props.sizeRef.current;c.height=n.offsetHeight||0,c.width=n.offsetWidth||0,c.top=n.offsetTop,c.left=n.offsetLeft,c.right=a-c.width-c.left}return null}componentDidUpdate(){}render(){return this.props.children}}function u9({children:t,isPresent:e,anchorX:n,root:i}){const a=V.useId(),c=V.useRef(null),u=V.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:p}=V.useContext(n_),y=l9(c,t?.ref);return V.useInsertionEffect(()=>{const{width:_,height:x,top:T,left:A,right:D}=u.current;if(e||!c.current||!_||!x)return;const j=n==="left"?`left: ${A}`:`right: ${D}`;c.current.dataset.motionPopId=a;const F=document.createElement("style");p&&(F.nonce=p);const k=i??document.head;return k.appendChild(F),F.sheet&&F.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${_}px !important;
            height: ${x}px !important;
            ${j}px !important;
            top: ${T}px !important;
          }
        `),()=>{k.contains(F)&&k.removeChild(F)}},[e]),f.jsx(c9,{isPresent:e,childRef:c,sizeRef:u,children:V.cloneElement(t,{ref:y})})}const h9=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:c,mode:u,anchorX:p,root:y})=>{const _=Lv(d9),x=V.useId();let T=!0,A=V.useMemo(()=>(T=!1,{id:x,initial:e,isPresent:n,custom:a,onExitComplete:D=>{_.set(D,!0);for(const j of _.values())if(!j)return;i&&i()},register:D=>(_.set(D,!1),()=>_.delete(D))}),[n,_,i]);return c&&T&&(A={...A}),V.useMemo(()=>{_.forEach((D,j)=>_.set(j,!1))},[n]),V.useEffect(()=>{!n&&!_.size&&i&&i()},[n]),u==="popLayout"&&(t=f.jsx(u9,{isPresent:n,anchorX:p,root:y,children:t})),f.jsx(tp.Provider,{value:A,children:t})};function d9(){return new Map}function qN(t=!0){const e=V.useContext(tp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,c=V.useId();V.useEffect(()=>{if(t)return a(c)},[t]);const u=V.useCallback(()=>t&&i&&i(c),[c,i,t]);return!n&&i?[!1,u]:[!0]}const Pf=t=>t.key||"";function C1(t){const e=[];return V.Children.forEach(t,n=>{V.isValidElement(n)&&e.push(n)}),e}const jf=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:c="sync",propagate:u=!1,anchorX:p="left",root:y})=>{const[_,x]=qN(u),T=V.useMemo(()=>C1(t),[t]),A=u&&!_?[]:T.map(Pf),D=V.useRef(!0),j=V.useRef(T),F=Lv(()=>new Map),[k,$]=V.useState(T),[Y,X]=V.useState(T);JA(()=>{D.current=!1,j.current=T;for(let we=0;we<Y.length;we++){const z=Pf(Y[we]);A.includes(z)?F.delete(z):F.get(z)!==!0&&F.set(z,!1)}},[Y,A.length,A.join("-")]);const ve=[];if(T!==k){let we=[...T];for(let z=0;z<Y.length;z++){const M=Y[z],B=Pf(M);A.includes(B)||(we.splice(z,0,M),ve.push(M))}return c==="wait"&&ve.length&&(we=ve),X(C1(we)),$(T),null}const{forceRender:he}=V.useContext(Iv);return f.jsx(f.Fragment,{children:Y.map(we=>{const z=Pf(we),M=u&&!_?!1:T===Y||A.includes(z),B=()=>{if(F.has(z))F.set(z,!0);else return;let O=!0;F.forEach(U=>{U||(O=!1)}),O&&(he?.(),X(j.current),u&&x?.(),i&&i())};return f.jsx(h9,{isPresent:M,initial:!D.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:c,root:y,onExitComplete:M?void 0:B,anchorX:p,children:we},z)})})},GN=V.createContext({strict:!1}),R1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$c={};for(const t in R1)$c[t]={isEnabled:e=>R1[t].some(n=>!!e[n])};function f9(t){for(const e in t)$c[e]={...$c[e],...t[e]}}const m9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||m9.has(t)}let ZN=t=>!wm(t);function p9(t){typeof t=="function"&&(ZN=e=>e.startsWith("on")?!wm(e):t(e))}try{p9(require("@emotion/is-prop-valid").default)}catch{}function g9(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(ZN(a)||n===!0&&wm(a)||!e&&!wm(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const np=V.createContext({});function ip(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function qh(t){return typeof t=="string"||Array.isArray(t)}const i_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],s_=["initial",...i_];function sp(t){return ip(t.animate)||s_.some(e=>qh(t[e]))}function WN(t){return!!(sp(t)||t.variants)}function y9(t,e){if(sp(t)){const{initial:n,animate:i}=t;return{initial:n===!1||qh(n)?n:void 0,animate:qh(i)?i:void 0}}return t.inherit!==!1?e:{}}function v9(t){const{initial:e,animate:n}=y9(t,V.useContext(np));return V.useMemo(()=>({initial:e,animate:n}),[P1(e),P1(n)])}function P1(t){return Array.isArray(t)?t.join(" "):t}const Gh={};function _9(t){for(const e in t)Gh[e]=t[e],Fv(e)&&(Gh[e].isCSSVariable=!0)}function KN(t,{layout:e,layoutId:n}){return pu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Gh[t]||t==="opacity")}const x9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},b9=mu.length;function w9(t,e,n){let i="",a=!0;for(let c=0;c<b9;c++){const u=mu[c],p=t[u];if(p===void 0)continue;let y=!0;if(typeof p=="number"?y=p===(u.startsWith("scale")?1:0):y=parseFloat(p)===0,!y||n){const _=VN(p,Jv[u]);if(!y){a=!1;const x=x9[u]||u;i+=`${x}(${_}) `}n&&(e[u]=_)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function r_(t,e,n){const{style:i,vars:a,transformOrigin:c}=t;let u=!1,p=!1;for(const y in e){const _=e[y];if(pu.has(y)){u=!0;continue}else if(Fv(y)){a[y]=_;continue}else{const x=VN(_,Jv[y]);y.startsWith("origin")?(p=!0,c[y]=x):i[y]=x}}if(e.transform||(u||n?i.transform=w9(e,t.transform,n):i.transform&&(i.transform="none")),p){const{originX:y="50%",originY:_="50%",originZ:x=0}=c;i.transformOrigin=`${y} ${_} ${x}`}}const a_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function $N(t,e,n){for(const i in e)!Yn(e[i])&&!KN(i,n)&&(t[i]=e[i])}function T9({transformTemplate:t},e){return V.useMemo(()=>{const n=a_();return r_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function E9(t,e){const n=t.style||{},i={};return $N(i,n,t),Object.assign(i,T9(t,e)),i}function S9(t,e){const n={},i=E9(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const A9={offset:"stroke-dashoffset",array:"stroke-dasharray"},N9={offset:"strokeDashoffset",array:"strokeDasharray"};function C9(t,e,n=1,i=0,a=!0){t.pathLength=1;const c=a?A9:N9;t[c.offset]=We.transform(-i);const u=We.transform(e),p=We.transform(n);t[c.array]=`${u} ${p}`}function YN(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:c=1,pathOffset:u=0,...p},y,_,x){if(r_(t,p,_),y){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:T,style:A}=t;T.transform&&(A.transform=T.transform,delete T.transform),(A.transform||T.transformOrigin)&&(A.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),A.transform&&(A.transformBox=x?.transformBox??"fill-box",delete T.transformBox),e!==void 0&&(T.x=e),n!==void 0&&(T.y=n),i!==void 0&&(T.scale=i),a!==void 0&&C9(T,a,c,u,!1)}const XN=()=>({...a_(),attrs:{}}),QN=t=>typeof t=="string"&&t.toLowerCase()==="svg";function R9(t,e,n,i){const a=V.useMemo(()=>{const c=XN();return YN(c,e,QN(i),t.transformTemplate,t.style),{...c.attrs,style:{...c.style}}},[e]);if(t.style){const c={};$N(c,t.style,t),a.style={...c,...a.style}}return a}const P9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function o_(t){return typeof t!="string"||t.includes("-")?!1:!!(P9.indexOf(t)>-1||/[A-Z]/u.test(t))}function j9(t,e,n,{latestValues:i},a,c=!1){const p=(o_(t)?R9:S9)(e,i,a,t),y=g9(e,typeof t=="string",c),_=t!==V.Fragment?{...y,...p,ref:n}:{},{children:x}=e,T=V.useMemo(()=>Yn(x)?x.get():x,[x]);return V.createElement(t,{..._,children:T})}function j1(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function l_(t,e,n,i){if(typeof e=="function"){const[a,c]=j1(i);e=e(n!==void 0?n:t.custom,a,c)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,c]=j1(i);e=e(n!==void 0?n:t.custom,a,c)}return e}function Yf(t){return Yn(t)?t.get():t}function I9({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:L9(n,i,a,t),renderState:e()}}function L9(t,e,n,i){const a={},c=i(t,{});for(const A in c)a[A]=Yf(c[A]);let{initial:u,animate:p}=t;const y=sp(t),_=WN(t);e&&_&&!y&&t.inherit!==!1&&(u===void 0&&(u=e.initial),p===void 0&&(p=e.animate));let x=n?n.initial===!1:!1;x=x||u===!1;const T=x?p:u;if(T&&typeof T!="boolean"&&!ip(T)){const A=Array.isArray(T)?T:[T];for(let D=0;D<A.length;D++){const j=l_(t,A[D]);if(j){const{transitionEnd:F,transition:k,...$}=j;for(const Y in $){let X=$[Y];if(Array.isArray(X)){const ve=x?X.length-1:0;X=X[ve]}X!==null&&(a[Y]=X)}for(const Y in F)a[Y]=F[Y]}}}return a}const JN=t=>(e,n)=>{const i=V.useContext(np),a=V.useContext(tp),c=()=>I9(t,e,i,a);return n?c():Lv(c)};function c_(t,e,n){const{style:i}=t,a={};for(const c in i)(Yn(i[c])||e.style&&Yn(e.style[c])||KN(c,t)||n?.getValue(c)?.liveStyle!==void 0)&&(a[c]=i[c]);return a}const D9=JN({scrapeMotionValuesFromProps:c_,createRenderState:a_});function eC(t,e,n){const i=c_(t,e,n);for(const a in t)if(Yn(t[a])||Yn(e[a])){const c=mu.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[c]=t[a]}return i}const M9=JN({scrapeMotionValuesFromProps:eC,createRenderState:XN}),O9=Symbol.for("motionComponentSymbol");function Rc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function k9(t,e,n){return V.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Rc(n)&&(n.current=i))},[e])}const u_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),V9="framerAppearId",tC="data-"+u_(V9),nC=V.createContext({});function B9(t,e,n,i,a){const{visualElement:c}=V.useContext(np),u=V.useContext(GN),p=V.useContext(tp),y=V.useContext(n_).reducedMotion,_=V.useRef(null);i=i||u.renderer,!_.current&&i&&(_.current=i(t,{visualState:e,parent:c,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:y}));const x=_.current,T=V.useContext(nC);x&&!x.projection&&a&&(x.type==="html"||x.type==="svg")&&U9(_.current,n,a,T);const A=V.useRef(!1);V.useInsertionEffect(()=>{x&&A.current&&x.update(n,p)});const D=n[tC],j=V.useRef(!!D&&!window.MotionHandoffIsComplete?.(D)&&window.MotionHasOptimisedAnimation?.(D));return JA(()=>{x&&(A.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),x.scheduleRenderMicrotask(),j.current&&x.animationState&&x.animationState.animateChanges())}),V.useEffect(()=>{x&&(!j.current&&x.animationState&&x.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(D)}),j.current=!1),x.enteringChildren=void 0)}),x}function U9(t,e,n,i){const{layoutId:a,layout:c,drag:u,dragConstraints:p,layoutScroll:y,layoutRoot:_,layoutCrossfade:x}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:iC(t.parent)),t.projection.setOptions({layoutId:a,layout:c,alwaysMeasureLayout:!!u||p&&Rc(p),visualElement:t,animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,crossfade:x,layoutScroll:y,layoutRoot:_})}function iC(t){if(t)return t.options.allowProjection!==!1?t.projection:iC(t.parent)}function hy(t,{forwardMotionProps:e=!1}={},n,i){n&&f9(n);const a=o_(t)?M9:D9;function c(p,y){let _;const x={...V.useContext(n_),...p,layoutId:z9(p)},{isStatic:T}=x,A=v9(p),D=a(p,T);if(!T&&Dv){F9();const j=H9(x);_=j.MeasureLayout,A.visualElement=B9(t,D,x,i,j.ProjectionNode)}return f.jsxs(np.Provider,{value:A,children:[_&&A.visualElement?f.jsx(_,{visualElement:A.visualElement,...x}):null,j9(t,p,k9(D,A.visualElement,y),D,T,e)]})}c.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=V.forwardRef(c);return u[O9]=t,u}function z9({layoutId:t}){const e=V.useContext(Iv).id;return e&&t!==void 0?e+"-"+t:t}function F9(t,e){V.useContext(GN).strict}function H9(t){const{drag:e,layout:n}=$c;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function q9(t,e){if(typeof Proxy>"u")return hy;const n=new Map,i=(c,u)=>hy(c,u,t,e),a=(c,u)=>i(c,u);return new Proxy(a,{get:(c,u)=>u==="create"?i:(n.has(u)||n.set(u,hy(u,void 0,t,e)),n.get(u))})}function sC({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function G9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Z9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function dy(t){return t===void 0||t===1}function g0({scale:t,scaleX:e,scaleY:n}){return!dy(t)||!dy(e)||!dy(n)}function pl(t){return g0(t)||rC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function rC(t){return I1(t.x)||I1(t.y)}function I1(t){return t&&t!=="0%"}function Tm(t,e,n){const i=t-n,a=e*i;return n+a}function L1(t,e,n,i,a){return a!==void 0&&(t=Tm(t,a,i)),Tm(t,n,i)+e}function y0(t,e=0,n=1,i,a){t.min=L1(t.min,e,n,i,a),t.max=L1(t.max,e,n,i,a)}function aC(t,{x:e,y:n}){y0(t.x,e.translate,e.scale,e.originPoint),y0(t.y,n.translate,n.scale,n.originPoint)}const D1=.999999999999,M1=1.0000000000001;function W9(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let c,u;for(let p=0;p<a;p++){c=n[p],u=c.projectionDelta;const{visualElement:y}=c.options;y&&y.props.style&&y.props.style.display==="contents"||(i&&c.options.layoutScroll&&c.scroll&&c!==c.root&&jc(t,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,aC(t,u)),i&&pl(c.latestValues)&&jc(t,c.latestValues))}e.x<M1&&e.x>D1&&(e.x=1),e.y<M1&&e.y>D1&&(e.y=1)}function Pc(t,e){t.min=t.min+e,t.max=t.max+e}function O1(t,e,n,i,a=.5){const c=Gt(t.min,t.max,a);y0(t,e,n,c,i)}function jc(t,e){O1(t.x,e.x,e.scaleX,e.scale,e.originX),O1(t.y,e.y,e.scaleY,e.scale,e.originY)}function oC(t,e){return sC(Z9(t.getBoundingClientRect(),e))}function K9(t,e,n){const i=oC(t,n),{scroll:a}=e;return a&&(Pc(i.x,a.offset.x),Pc(i.y,a.offset.y)),i}const k1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ic=()=>({x:k1(),y:k1()}),V1=()=>({min:0,max:0}),tn=()=>({x:V1(),y:V1()}),v0={current:null},lC={current:!1};function $9(){if(lC.current=!0,!!Dv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>v0.current=t.matches;t.addEventListener("change",e),e()}else v0.current=!1}const Y9=new WeakMap;function X9(t,e,n){for(const i in e){const a=e[i],c=n[i];if(Yn(a))t.addValue(i,a);else if(Yn(c))t.addValue(i,Kc(a,{owner:t}));else if(c!==a)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(i);t.addValue(i,Kc(u!==void 0?u:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const B1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Q9{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:c,visualState:u},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Xv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=Pi.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,Vt.render(this.render,!1,!0))};const{latestValues:y,renderState:_}=u;this.latestValues=y,this.baseTarget={...y},this.initialValues=n.initial?{...y}:{},this.renderState=_,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=p,this.blockInitialAnimation=!!c,this.isControllingVariants=sp(n),this.isVariantNode=WN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:x,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const A in T){const D=T[A];y[A]!==void 0&&Yn(D)&&D.set(y[A])}}mount(e){this.current=e,Y9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),lC.current||$9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:v0.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),jo(this.notifyUpdate),jo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=pu.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Vt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in $c){const n=$c[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const c=this.features[e];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<B1.length;i++){const a=B1[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const c="on"+a,u=e[c];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=X9(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Kc(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(eN(i)||nN(i))?i=parseFloat(i):!a9(i)&&Io.test(n)&&(i=kN(e,n)),this.setBaseTarget(e,Yn(i)?i.get():i)),Yn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const c=l_(this.props,n,this.presenceContext?.custom);c&&(i=c[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Yn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Bv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){e_.render(this.render)}}class cC extends Q9{constructor(){super(...arguments),this.KeyframeResolver=K5}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Yn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function uC(t,{style:e,vars:n},i,a){const c=t.style;let u;for(u in e)c[u]=e[u];a?.applyProjectionStyles(c,i);for(u in n)c.setProperty(u,n[u])}function J9(t){return window.getComputedStyle(t)}class e7 extends cC{constructor(){super(...arguments),this.type="html",this.renderInstance=uC}readValueFromInstance(e,n){if(pu.has(n))return this.projection?.isProjecting?c0(n):f5(e,n);{const i=J9(e),a=(Fv(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return oC(e,n)}build(e,n,i){r_(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return c_(e,n,i)}}const hC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function t7(t,e,n,i){uC(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(hC.has(a)?a:u_(a),e.attrs[a])}class n7 extends cC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=tn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(pu.has(n)){const i=ON(n);return i&&i.default||0}return n=hC.has(n)?n:u_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return eC(e,n,i)}build(e,n,i){YN(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){t7(e,n,i,a)}mount(e){this.isSVGTag=QN(e.tagName),super.mount(e)}}const i7=(t,e)=>o_(t)?new n7(e):new e7(e,{allowProjection:t!==V.Fragment});function Vc(t,e,n){const i=t.getProps();return l_(i,e,n!==void 0?n:i.custom,t)}const _0=t=>Array.isArray(t);function s7(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Kc(n))}function r7(t){return _0(t)?t[t.length-1]||0:t}function a7(t,e){const n=Vc(t,e);let{transitionEnd:i={},transition:a={},...c}=n||{};c={...c,...i};for(const u in c){const p=r7(c[u]);s7(t,u,p)}}function o7(t){return!!(Yn(t)&&t.add)}function x0(t,e){const n=t.getValue("willChange");if(o7(n))return n.add(e);if(!n&&va.WillChange){const i=new va.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function dC(t){return t.props[tC]}const l7=t=>t!==null;function c7(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(l7),c=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[c]}const u7={type:"spring",stiffness:500,damping:25,restSpeed:10},h7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),d7={type:"keyframes",duration:.8},f7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},m7=(t,{keyframes:e})=>e.length>2?d7:pu.has(t)?t.startsWith("scale")?h7(e[1]):u7:f7;function p7({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:c,repeatType:u,repeatDelay:p,from:y,elapsed:_,...x}){return!!Object.keys(x).length}const h_=(t,e,n,i={},a,c)=>u=>{const p=Qv(i,t)||{},y=p.delay||i.delay||0;let{elapsed:_=0}=i;_=_-Er(y);const x={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...p,delay:-_,onUpdate:A=>{e.set(A),p.onUpdate&&p.onUpdate(A)},onComplete:()=>{u(),p.onComplete&&p.onComplete()},name:t,motionValue:e,element:c?void 0:a};p7(p)||Object.assign(x,m7(t,x)),x.duration&&(x.duration=Er(x.duration)),x.repeatDelay&&(x.repeatDelay=Er(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let T=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(m0(x),x.delay===0&&(T=!0)),(va.instantAnimations||va.skipAnimations)&&(T=!0,m0(x),x.delay=0),x.allowFlatten=!p.type&&!p.ease,T&&!c&&e.get()!==void 0){const A=c7(x.keyframes,p);if(A!==void 0){Vt.update(()=>{x.onUpdate(A),x.onComplete()});return}}return p.isSync?new Yv(x):new O5(x)};function g7({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function fC(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:c=t.getDefaultTransition(),transitionEnd:u,...p}=e;i&&(c=i);const y=[],_=a&&t.animationState&&t.animationState.getState()[a];for(const x in p){const T=t.getValue(x,t.latestValues[x]??null),A=p[x];if(A===void 0||_&&g7(_,x))continue;const D={delay:n,...Qv(c||{},x)},j=T.get();if(j!==void 0&&!T.isAnimating&&!Array.isArray(A)&&A===j&&!D.velocity)continue;let F=!1;if(window.MotionHandoffAnimation){const $=dC(t);if($){const Y=window.MotionHandoffAnimation($,x,Vt);Y!==null&&(D.startTime=Y,F=!0)}}x0(t,x),T.start(h_(x,T,A,t.shouldReduceMotion&&LN.has(x)?{type:!1}:D,t,F));const k=T.animation;k&&y.push(k)}return u&&Promise.all(y).then(()=>{Vt.update(()=>{u&&a7(t,u)})}),y}function mC(t,e,n,i=0,a=1){const c=Array.from(t).sort((_,x)=>_.sortNodePosition(x)).indexOf(e),u=t.size,p=(u-1)*i;return typeof n=="function"?n(c,u):a===1?c*i:p-c*i}function b0(t,e,n={}){const i=Vc(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const c=i?()=>Promise.all(fC(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(y=0)=>{const{delayChildren:_=0,staggerChildren:x,staggerDirection:T}=a;return y7(t,e,y,_,x,T,n)}:()=>Promise.resolve(),{when:p}=a;if(p){const[y,_]=p==="beforeChildren"?[c,u]:[u,c];return y().then(()=>_())}else return Promise.all([c(),u(n.delay)])}function y7(t,e,n=0,i=0,a=0,c=1,u){const p=[];for(const y of t.variantChildren)y.notify("AnimationStart",e),p.push(b0(y,e,{...u,delay:n+(typeof i=="function"?0:i)+mC(t.variantChildren,y,i,a,c)}).then(()=>y.notify("AnimationComplete",e)));return Promise.all(p)}function v7(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(c=>b0(t,c,n));i=Promise.all(a)}else if(typeof e=="string")i=b0(t,e,n);else{const a=typeof e=="function"?Vc(t,e,n.custom):e;i=Promise.all(fC(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function pC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const _7=s_.length;function gC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?gC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<_7;n++){const i=s_[n],a=t.props[i];(qh(a)||a===!1)&&(e[i]=a)}return e}const x7=[...i_].reverse(),b7=i_.length;function w7(t){return e=>Promise.all(e.map(({animation:n,options:i})=>v7(t,n,i)))}function T7(t){let e=w7(t),n=U1(),i=!0;const a=y=>(_,x)=>{const T=Vc(t,x,y==="exit"?t.presenceContext?.custom:void 0);if(T){const{transition:A,transitionEnd:D,...j}=T;_={..._,...j,...D}}return _};function c(y){e=y(t)}function u(y){const{props:_}=t,x=gC(t.parent)||{},T=[],A=new Set;let D={},j=1/0;for(let k=0;k<b7;k++){const $=x7[k],Y=n[$],X=_[$]!==void 0?_[$]:x[$],ve=qh(X),he=$===y?Y.isActive:null;he===!1&&(j=k);let we=X===x[$]&&X!==_[$]&&ve;if(we&&i&&t.manuallyAnimateOnMount&&(we=!1),Y.protectedKeys={...D},!Y.isActive&&he===null||!X&&!Y.prevProp||ip(X)||typeof X=="boolean")continue;const z=E7(Y.prevProp,X);let M=z||$===y&&Y.isActive&&!we&&ve||k>j&&ve,B=!1;const O=Array.isArray(X)?X:[X];let U=O.reduce(a($),{});he===!1&&(U={});const{prevResolvedValues:W={}}=Y,q={...W,...U},Be=ue=>{M=!0,A.has(ue)&&(B=!0,A.delete(ue)),Y.needsAnimating[ue]=!0;const de=t.getValue(ue);de&&(de.liveStyle=!1)};for(const ue in q){const de=U[ue],je=W[ue];if(D.hasOwnProperty(ue))continue;let H=!1;_0(de)&&_0(je)?H=!pC(de,je):H=de!==je,H?de!=null?Be(ue):A.add(ue):de!==void 0&&A.has(ue)?Be(ue):Y.protectedKeys[ue]=!0}Y.prevProp=X,Y.prevResolvedValues=U,Y.isActive&&(D={...D,...U}),i&&t.blockInitialAnimation&&(M=!1);const Me=we&&z;M&&(!Me||B)&&T.push(...O.map(ue=>{const de={type:$};if(typeof ue=="string"&&i&&!Me&&t.manuallyAnimateOnMount&&t.parent){const{parent:je}=t,H=Vc(je,ue);if(je.enteringChildren&&H){const{delayChildren:ce}=H.transition||{};de.delay=mC(je.enteringChildren,t,ce)}}return{animation:ue,options:de}}))}if(A.size){const k={};if(typeof _.initial!="boolean"){const $=Vc(t,Array.isArray(_.initial)?_.initial[0]:_.initial);$&&$.transition&&(k.transition=$.transition)}A.forEach($=>{const Y=t.getBaseTarget($),X=t.getValue($);X&&(X.liveStyle=!0),k[$]=Y??null}),T.push({animation:k})}let F=!!T.length;return i&&(_.initial===!1||_.initial===_.animate)&&!t.manuallyAnimateOnMount&&(F=!1),i=!1,F?e(T):Promise.resolve()}function p(y,_){if(n[y].isActive===_)return Promise.resolve();t.variantChildren?.forEach(T=>T.animationState?.setActive(y,_)),n[y].isActive=_;const x=u(y);for(const T in n)n[T].protectedKeys={};return x}return{animateChanges:u,setActive:p,setAnimateFunction:c,getState:()=>n,reset:()=>{n=U1(),i=!0}}}function E7(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!pC(e,t):!1}function fl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function U1(){return{animate:fl(!0),whileInView:fl(),whileHover:fl(),whileTap:fl(),whileDrag:fl(),whileFocus:fl(),exit:fl()}}class Oo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class S7 extends Oo{constructor(e){super(e),e.animationState||(e.animationState=T7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ip(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let A7=0;class N7 extends Oo{constructor(){super(...arguments),this.id=A7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const C7={animation:{Feature:S7},exit:{Feature:N7}};function Zh(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function pd(t){return{point:{x:t.pageX,y:t.pageY}}}const R7=t=>e=>t_(e)&&t(e,pd(e));function Ah(t,e,n,i){return Zh(t,e,R7(n),i)}const yC=1e-4,P7=1-yC,j7=1+yC,vC=.01,I7=0-vC,L7=0+vC;function fi(t){return t.max-t.min}function D7(t,e,n){return Math.abs(t-e)<=n}function z1(t,e,n,i=.5){t.origin=i,t.originPoint=Gt(e.min,e.max,t.origin),t.scale=fi(n)/fi(e),t.translate=Gt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=P7&&t.scale<=j7||isNaN(t.scale))&&(t.scale=1),(t.translate>=I7&&t.translate<=L7||isNaN(t.translate))&&(t.translate=0)}function Nh(t,e,n,i){z1(t.x,e.x,n.x,i?i.originX:void 0),z1(t.y,e.y,n.y,i?i.originY:void 0)}function F1(t,e,n){t.min=n.min+e.min,t.max=t.min+fi(e)}function M7(t,e,n){F1(t.x,e.x,n.x),F1(t.y,e.y,n.y)}function H1(t,e,n){t.min=e.min-n.min,t.max=t.min+fi(e)}function Ch(t,e,n){H1(t.x,e.x,n.x),H1(t.y,e.y,n.y)}function _s(t){return[t("x"),t("y")]}const _C=({current:t})=>t?t.ownerDocument.defaultView:null,q1=(t,e)=>Math.abs(t-e);function O7(t,e){const n=q1(t.x,e.x),i=q1(t.y,e.y);return Math.sqrt(n**2+i**2)}class xC{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:c=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=my(this.lastMoveEventInfo,this.history),D=this.startEvent!==null,j=O7(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!D&&!j)return;const{point:F}=A,{timestamp:k}=On;this.history.push({...F,timestamp:k});const{onStart:$,onMove:Y}=this.handlers;D||($&&$(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),Y&&Y(this.lastMoveEvent,A)},this.handlePointerMove=(A,D)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=fy(D,this.transformPagePoint),Vt.update(this.updatePoint,!0)},this.handlePointerUp=(A,D)=>{this.end();const{onEnd:j,onSessionEnd:F,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const $=my(A.type==="pointercancel"?this.lastMoveEventInfo:fy(D,this.transformPagePoint),this.history);this.startEvent&&j&&j(A,$),F&&F(A,$)},!t_(e))return;this.dragSnapToOrigin=c,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const p=pd(e),y=fy(p,this.transformPagePoint),{point:_}=y,{timestamp:x}=On;this.history=[{..._,timestamp:x}];const{onSessionStart:T}=n;T&&T(e,my(y,this.history)),this.removeListeners=dd(Ah(this.contextWindow,"pointermove",this.handlePointerMove),Ah(this.contextWindow,"pointerup",this.handlePointerUp),Ah(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),jo(this.updatePoint)}}function fy(t,e){return e?{point:e(t.point)}:t}function G1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function my({point:t},e){return{point:t,delta:G1(t,bC(e)),offset:G1(t,k7(e)),velocity:V7(e,.1)}}function k7(t){return t[0]}function bC(t){return t[t.length-1]}function V7(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=bC(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>Er(e)));)n--;if(!i)return{x:0,y:0};const c=ws(a.timestamp-i.timestamp);if(c===0)return{x:0,y:0};const u={x:(a.x-i.x)/c,y:(a.y-i.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function B7(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Gt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Gt(n,t,i.max):Math.min(t,n)),t}function Z1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function U7(t,{top:e,left:n,bottom:i,right:a}){return{x:Z1(t.x,n,a),y:Z1(t.y,e,i)}}function W1(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function z7(t,e){return{x:W1(t.x,e.x),y:W1(t.y,e.y)}}function F7(t,e){let n=.5;const i=fi(t),a=fi(e);return a>i?n=zh(e.min,e.max-i,t.min):i>a&&(n=zh(t.min,t.max-a,e.min)),ya(0,1,n)}function H7(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const w0=.35;function q7(t=w0){return t===!1?t=0:t===!0&&(t=w0),{x:K1(t,"left","right"),y:K1(t,"top","bottom")}}function K1(t,e,n){return{min:$1(t,e),max:$1(t,n)}}function $1(t,e){return typeof t=="number"?t:t[e]||0}const G7=new WeakMap;class Z7{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const c=T=>{const{dragSnapToOrigin:A}=this.getProps();A?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(pd(T).point)},u=(T,A)=>{const{drag:D,dragPropagation:j,onDragStart:F}=this.getProps();if(D&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Q5(D),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=A,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_s($=>{let Y=this.getAxisMotionValue($).get()||0;if(Sr.test(Y)){const{projection:X}=this.visualElement;if(X&&X.layout){const ve=X.layout.layoutBox[$];ve&&(Y=fi(ve)*(parseFloat(Y)/100))}}this.originPoint[$]=Y}),F&&Vt.postRender(()=>F(T,A)),x0(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},p=(T,A)=>{this.latestPointerEvent=T,this.latestPanInfo=A;const{dragPropagation:D,dragDirectionLock:j,onDirectionLock:F,onDrag:k}=this.getProps();if(!D&&!this.openDragLock)return;const{offset:$}=A;if(j&&this.currentDirection===null){this.currentDirection=W7($),this.currentDirection!==null&&F&&F(this.currentDirection);return}this.updateAxis("x",A.point,$),this.updateAxis("y",A.point,$),this.visualElement.render(),k&&k(T,A)},y=(T,A)=>{this.latestPointerEvent=T,this.latestPanInfo=A,this.stop(T,A),this.latestPointerEvent=null,this.latestPanInfo=null},_=()=>_s(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:x}=this.getProps();this.panSession=new xC(e,{onSessionStart:c,onStart:u,onMove:p,onSessionEnd:y,resumeAnimation:_},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:x,distanceThreshold:i,contextWindow:_C(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:p}=this.getProps();p&&Vt.postRender(()=>p(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!If(e,a,this.currentDirection))return;const c=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=B7(u,this.constraints[e],this.elastic[e])),c.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Rc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=U7(i.layoutBox,e):this.constraints=!1,this.elastic=q7(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&_s(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=H7(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Rc(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const c=K9(i,a.root,this.visualElement.getTransformPagePoint());let u=z7(a.layout.layoutBox,c);if(n){const p=n(G9(u));this.hasMutatedConstraints=!!p,p&&(u=sC(p))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:p}=this.getProps(),y=this.constraints||{},_=_s(x=>{if(!If(x,n,this.currentDirection))return;let T=y&&y[x]||{};u&&(T={min:0,max:0});const A=a?200:1e6,D=a?40:1e7,j={type:"inertia",velocity:i?e[x]:0,bounceStiffness:A,bounceDamping:D,timeConstant:750,restDelta:1,restSpeed:10,...c,...T};return this.startAxisValueAnimation(x,j)});return Promise.all(_).then(p)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return x0(this.visualElement,e),i.start(h_(e,i,0,n,this.visualElement,!1))}stopAnimation(){_s(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){_s(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){_s(n=>{const{drag:i}=this.getProps();if(!If(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,c=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:p}=a.layout.layoutBox[n];c.set(e[n]-Gt(u,p,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Rc(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};_s(u=>{const p=this.getAxisMotionValue(u);if(p&&this.constraints!==!1){const y=p.get();a[u]=F7({min:y,max:y},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),_s(u=>{if(!If(u,e,null))return;const p=this.getAxisMotionValue(u),{min:y,max:_}=this.constraints[u];p.set(Gt(y,_,a[u]))})}addListeners(){if(!this.visualElement.current)return;G7.set(this.visualElement,this);const e=this.visualElement.current,n=Ah(e,"pointerdown",y=>{const{drag:_,dragListener:x=!0}=this.getProps();_&&x&&this.start(y)}),i=()=>{const{dragConstraints:y}=this.getProps();Rc(y)&&y.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,c=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Vt.read(i);const u=Zh(window,"resize",()=>this.scalePositionWithinConstraints()),p=a.addEventListener("didUpdate",(({delta:y,hasLayoutChanged:_})=>{this.isDragging&&_&&(_s(x=>{const T=this.getAxisMotionValue(x);T&&(this.originPoint[x]+=y[x].translate,T.set(T.get()+y[x].translate))}),this.visualElement.render())}));return()=>{u(),n(),c(),p&&p()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:c=!1,dragElastic:u=w0,dragMomentum:p=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:c,dragElastic:u,dragMomentum:p}}}function If(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function W7(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class K7 extends Oo{constructor(e){super(e),this.removeGroupControls=Ts,this.removeListeners=Ts,this.controls=new Z7(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ts}unmount(){this.removeGroupControls(),this.removeListeners()}}const Y1=t=>(e,n)=>{t&&Vt.postRender(()=>t(e,n))};class $7 extends Oo{constructor(){super(...arguments),this.removePointerDownListener=Ts}onPointerDown(e){this.session=new xC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_C(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:Y1(e),onStart:Y1(n),onMove:i,onEnd:(c,u)=>{delete this.session,a&&Vt.postRender(()=>a(c,u))}}}mount(){this.removePointerDownListener=Ah(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Xf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function X1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const lh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(We.test(t))t=parseFloat(t);else return t;const n=X1(t,e.target.x),i=X1(t,e.target.y);return`${n}% ${i}%`}},Y7={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=Io.parse(t);if(a.length>5)return i;const c=Io.createTransformer(t),u=typeof a[0]!="number"?1:0,p=n.x.scale*e.x,y=n.y.scale*e.y;a[0+u]/=p,a[1+u]/=y;const _=Gt(p,y,.5);return typeof a[2+u]=="number"&&(a[2+u]/=_),typeof a[3+u]=="number"&&(a[3+u]/=_),c(a)}};let py=!1;class X7 extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:c}=e;_9(Q7),c&&(n.group&&n.group.add(c),i&&i.register&&a&&i.register(c),py&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),Xf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:c}=this.props,{projection:u}=i;return u&&(u.isPresent=c,py=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==c?u.willUpdate():this.safeToRemove(),e.isPresent!==c&&(c?u.promote():u.relegate()||Vt.postRender(()=>{const p=u.getStack();(!p||!p.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),e_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;py=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function wC(t){const[e,n]=qN(),i=V.useContext(Iv);return f.jsx(X7,{...t,layoutGroup:i,switchLayoutGroup:V.useContext(nC),isPresent:e,safeToRemove:n})}const Q7={borderRadius:{...lh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:lh,borderTopRightRadius:lh,borderBottomLeftRadius:lh,borderBottomRightRadius:lh,boxShadow:Y7};function J7(t,e,n){const i=Yn(t)?t:Kc(t);return i.start(h_("",i,e,n)),i.animation}const eB=(t,e)=>t.depth-e.depth;class tB{constructor(){this.children=[],this.isDirty=!1}add(e){Mv(this.children,e),this.isDirty=!0}remove(e){Ov(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(eB),this.isDirty=!1,this.children.forEach(e)}}function nB(t,e){const n=Pi.now(),i=({timestamp:a})=>{const c=a-n;c>=e&&(jo(i),t(c-e))};return Vt.setup(i,!0),()=>jo(i)}const TC=["TopLeft","TopRight","BottomLeft","BottomRight"],iB=TC.length,Q1=t=>typeof t=="string"?parseFloat(t):t,J1=t=>typeof t=="number"||We.test(t);function sB(t,e,n,i,a,c){a?(t.opacity=Gt(0,n.opacity??1,rB(i)),t.opacityExit=Gt(e.opacity??1,0,aB(i))):c&&(t.opacity=Gt(e.opacity??1,n.opacity??1,i));for(let u=0;u<iB;u++){const p=`border${TC[u]}Radius`;let y=eE(e,p),_=eE(n,p);if(y===void 0&&_===void 0)continue;y||(y=0),_||(_=0),y===0||_===0||J1(y)===J1(_)?(t[p]=Math.max(Gt(Q1(y),Q1(_),i),0),(Sr.test(_)||Sr.test(y))&&(t[p]+="%")):t[p]=_}(e.rotate||n.rotate)&&(t.rotate=Gt(e.rotate||0,n.rotate||0,i))}function eE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const rB=EC(0,.5,uN),aB=EC(.5,.95,Ts);function EC(t,e,n){return i=>i<t?0:i>e?1:n(zh(t,e,i))}function tE(t,e){t.min=e.min,t.max=e.max}function vs(t,e){tE(t.x,e.x),tE(t.y,e.y)}function nE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function iE(t,e,n,i,a){return t-=e,t=Tm(t,1/n,i),a!==void 0&&(t=Tm(t,1/a,i)),t}function oB(t,e=0,n=1,i=.5,a,c=t,u=t){if(Sr.test(e)&&(e=parseFloat(e),e=Gt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let p=Gt(c.min,c.max,i);t===c&&(p-=e),t.min=iE(t.min,e,n,p,a),t.max=iE(t.max,e,n,p,a)}function sE(t,e,[n,i,a],c,u){oB(t,e[n],e[i],e[a],e.scale,c,u)}const lB=["x","scaleX","originX"],cB=["y","scaleY","originY"];function rE(t,e,n,i){sE(t.x,e,lB,n?n.x:void 0,i?i.x:void 0),sE(t.y,e,cB,n?n.y:void 0,i?i.y:void 0)}function aE(t){return t.translate===0&&t.scale===1}function SC(t){return aE(t.x)&&aE(t.y)}function oE(t,e){return t.min===e.min&&t.max===e.max}function uB(t,e){return oE(t.x,e.x)&&oE(t.y,e.y)}function lE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function AC(t,e){return lE(t.x,e.x)&&lE(t.y,e.y)}function cE(t){return fi(t.x)/fi(t.y)}function uE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class hB{constructor(){this.members=[]}add(e){Mv(this.members,e),e.scheduleRender()}remove(e){if(Ov(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const c=this.members[a];if(c.isPresent!==!1){i=c;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dB(t,e,n){let i="";const a=t.x.translate/e.x,c=t.y.translate/e.y,u=n?.z||0;if((a||c||u)&&(i=`translate3d(${a}px, ${c}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:_,rotate:x,rotateX:T,rotateY:A,skewX:D,skewY:j}=n;_&&(i=`perspective(${_}px) ${i}`),x&&(i+=`rotate(${x}deg) `),T&&(i+=`rotateX(${T}deg) `),A&&(i+=`rotateY(${A}deg) `),D&&(i+=`skewX(${D}deg) `),j&&(i+=`skewY(${j}deg) `)}const p=t.x.scale*e.x,y=t.y.scale*e.y;return(p!==1||y!==1)&&(i+=`scale(${p}, ${y})`),i||"none"}const gy=["","X","Y","Z"],fB=1e3;let mB=0;function yy(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function NC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=dC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:c}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Vt,!(a||c))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&NC(i)}function CC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},p=e?.()){this.id=mB++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(yB),this.nodes.forEach(bB),this.nodes.forEach(wB),this.nodes.forEach(vB)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=p?p.root||p:this,this.path=p?[...p.path,p]:[],this.parent=p,this.depth=p?p.depth+1:0;for(let y=0;y<this.path.length;y++)this.path[y].shouldResetTransform=!0;this.root===this&&(this.nodes=new tB)}addEventListener(u,p){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Bv),this.eventHandlers.get(u).add(p)}notifyListeners(u,...p){const y=this.eventHandlers.get(u);y&&y.notify(...p)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=HN(u)&&!s9(u),this.instance=u;const{layoutId:p,layout:y,visualElement:_}=this.options;if(_&&!_.current&&_.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(y||p)&&(this.isLayoutDirty=!0),t){let x,T=0;const A=()=>this.root.updateBlockedByResize=!1;Vt.read(()=>{T=window.innerWidth}),t(u,()=>{const D=window.innerWidth;D!==T&&(T=D,this.root.updateBlockedByResize=!0,x&&x(),x=nB(A,250),Xf.hasAnimatedSinceResize&&(Xf.hasAnimatedSinceResize=!1,this.nodes.forEach(fE)))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&_&&(p||y)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:T,hasRelativeLayoutChanged:A,layout:D})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||_.getDefaultTransition()||NB,{onLayoutAnimationStart:F,onLayoutAnimationComplete:k}=_.getProps(),$=!this.targetLayout||!AC(this.targetLayout,D),Y=!T&&A;if(this.options.layoutRoot||this.resumeFrom||Y||T&&($||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const X={...Qv(j,"layout"),onPlay:F,onComplete:k};(_.shouldReduceMotion||this.options.layoutRoot)&&(X.delay=0,X.type=!1),this.startAnimation(X),this.setAnimationOrigin(x,Y)}else T||fE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=D})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),jo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(TB),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&NC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const T=this.path[x];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:p,layout:y}=this.options;if(p===void 0&&!y)return;const _=this.getTransformTemplate();this.prevTransformTemplateValue=_?_(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(hE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(dE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(xB),this.nodes.forEach(pB),this.nodes.forEach(gB)):this.nodes.forEach(dE),this.clearAllSnapshots();const p=Pi.now();On.delta=ya(0,1e3/60,p-On.timestamp),On.timestamp=p,On.isProcessing=!0,ry.update.process(On),ry.preRender.process(On),ry.render.process(On),On.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,e_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_B),this.sharedNodes.forEach(EB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Vt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Vt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fi(this.snapshot.measuredBox.x)&&!fi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let y=0;y<this.path.length;y++)this.path[y].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=tn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:p}=this.options;p&&p.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let p=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(p=!1),p&&this.instance){const y=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:y,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:y}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,p=this.projectionDelta&&!SC(this.projectionDelta),y=this.getTransformTemplate(),_=y?y(this.latestValues,""):void 0,x=_!==this.prevTransformTemplateValue;u&&this.instance&&(p||pl(this.latestValues)||x)&&(a(this.instance,_),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const p=this.measurePageBox();let y=this.removeElementScroll(p);return u&&(y=this.removeTransform(y)),CB(y),{animationId:this.root.animationId,measuredBox:p,layoutBox:y,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return tn();const p=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(RB))){const{scroll:_}=this.root;_&&(Pc(p.x,_.offset.x),Pc(p.y,_.offset.y))}return p}removeElementScroll(u){const p=tn();if(vs(p,u),this.scroll?.wasRoot)return p;for(let y=0;y<this.path.length;y++){const _=this.path[y],{scroll:x,options:T}=_;_!==this.root&&x&&T.layoutScroll&&(x.wasRoot&&vs(p,u),Pc(p.x,x.offset.x),Pc(p.y,x.offset.y))}return p}applyTransform(u,p=!1){const y=tn();vs(y,u);for(let _=0;_<this.path.length;_++){const x=this.path[_];!p&&x.options.layoutScroll&&x.scroll&&x!==x.root&&jc(y,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),pl(x.latestValues)&&jc(y,x.latestValues)}return pl(this.latestValues)&&jc(y,this.latestValues),y}removeTransform(u){const p=tn();vs(p,u);for(let y=0;y<this.path.length;y++){const _=this.path[y];if(!_.instance||!pl(_.latestValues))continue;g0(_.latestValues)&&_.updateSnapshot();const x=tn(),T=_.measurePageBox();vs(x,T),rE(p,_.latestValues,_.snapshot?_.snapshot.layoutBox:void 0,x)}return pl(this.latestValues)&&rE(p,this.latestValues),p}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==On.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const y=!!this.resumingFrom||this!==p;if(!(u||y&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:T}=this.options;if(!(!this.layout||!(x||T))){if(this.resolvedRelativeTargetAt=On.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tn(),this.relativeTargetOrigin=tn(),Ch(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),vs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=tn(),this.targetWithTransforms=tn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),M7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vs(this.target,this.layout.layoutBox),aC(this.target,this.targetDelta)):vs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tn(),this.relativeTargetOrigin=tn(),Ch(this.relativeTargetOrigin,this.target,A.target),vs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||g0(this.parent.latestValues)||rC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),p=!!this.resumingFrom||this!==u;let y=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(y=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(y=!1),this.resolvedRelativeTargetAt===On.timestamp&&(y=!1),y)return;const{layout:_,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(_||x))return;vs(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,A=this.treeScale.y;W9(this.layoutCorrected,this.treeScale,this.path,p),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=tn());const{target:D}=u;if(!D){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(nE(this.prevProjectionDelta.x,this.projectionDelta.x),nE(this.prevProjectionDelta.y,this.projectionDelta.y)),Nh(this.projectionDelta,this.layoutCorrected,D,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==A||!uE(this.projectionDelta.x,this.prevProjectionDelta.x)||!uE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",D))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ic(),this.projectionDelta=Ic(),this.projectionDeltaWithTransform=Ic()}setAnimationOrigin(u,p=!1){const y=this.snapshot,_=y?y.latestValues:{},x={...this.latestValues},T=Ic();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!p;const A=tn(),D=y?y.source:void 0,j=this.layout?this.layout.source:void 0,F=D!==j,k=this.getStack(),$=!k||k.members.length<=1,Y=!!(F&&!$&&this.options.crossfade===!0&&!this.path.some(AB));this.animationProgress=0;let X;this.mixTargetDelta=ve=>{const he=ve/1e3;mE(T.x,u.x,he),mE(T.y,u.y,he),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ch(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),SB(this.relativeTarget,this.relativeTargetOrigin,A,he),X&&uB(this.relativeTarget,X)&&(this.isProjectionDirty=!1),X||(X=tn()),vs(X,this.relativeTarget)),F&&(this.animationValues=x,sB(x,_,this.latestValues,he,Y,$)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=he},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(jo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Vt.update(()=>{Xf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Kc(0)),this.currentAnimation=J7(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),u.onUpdate&&u.onUpdate(p)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(fB),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:p,target:y,layout:_,latestValues:x}=u;if(!(!p||!y||!_)){if(this!==u&&this.layout&&_&&RC(this.options.animationType,this.layout.layoutBox,_.layoutBox)){y=this.target||tn();const T=fi(this.layout.layoutBox.x);y.x.min=u.target.x.min,y.x.max=y.x.min+T;const A=fi(this.layout.layoutBox.y);y.y.min=u.target.y.min,y.y.max=y.y.min+A}vs(p,y),jc(p,x),Nh(this.projectionDeltaWithTransform,this.layoutCorrected,p,x)}}registerSharedNode(u,p){this.sharedNodes.has(u)||this.sharedNodes.set(u,new hB),this.sharedNodes.get(u).add(p);const _=p.options.initialPromotionConfig;p.promote({transition:_?_.transition:void 0,preserveFollowOpacity:_&&_.shouldPreserveFollowOpacity?_.shouldPreserveFollowOpacity(p):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:p,preserveFollowOpacity:y}={}){const _=this.getStack();_&&_.promote(this,y),u&&(this.projectionDelta=void 0,this.needsReset=!0),p&&this.setOptions({transition:p})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let p=!1;const{latestValues:y}=u;if((y.z||y.rotate||y.rotateX||y.rotateY||y.rotateZ||y.skewX||y.skewY)&&(p=!0),!p)return;const _={};y.z&&yy("z",u,_,this.animationValues);for(let x=0;x<gy.length;x++)yy(`rotate${gy[x]}`,u,_,this.animationValues),yy(`skew${gy[x]}`,u,_,this.animationValues);u.render();for(const x in _)u.setStaticValue(x,_[x]),this.animationValues&&(this.animationValues[x]=_[x]);u.scheduleRender()}applyProjectionStyles(u,p){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const y=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Yf(p?.pointerEvents)||"",u.transform=y?y(this.latestValues,""):"none";return}const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Yf(p?.pointerEvents)||""),this.hasProjected&&!pl(this.latestValues)&&(u.transform=y?y({},""):"none",this.hasProjected=!1);return}u.visibility="";const x=_.animationValues||_.latestValues;this.applyTransformsToTarget();let T=dB(this.projectionDeltaWithTransform,this.treeScale,x);y&&(T=y(x,T)),u.transform=T;const{x:A,y:D}=this.projectionDelta;u.transformOrigin=`${A.origin*100}% ${D.origin*100}% 0`,_.animationValues?u.opacity=_===this?x.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:u.opacity=_===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const j in Gh){if(x[j]===void 0)continue;const{correct:F,applyTo:k,isCSSVariable:$}=Gh[j],Y=T==="none"?x[j]:F(x[j],_);if(k){const X=k.length;for(let ve=0;ve<X;ve++)u[k[ve]]=Y}else $?this.options.visualElement.renderState.vars[j]=Y:u[j]=Y}this.options.layoutId&&(u.pointerEvents=_===this?Yf(p?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(hE),this.root.sharedNodes.clear()}}}function pB(t){t.updateLayout()}function gB(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,c=e.source!==t.layout.source;a==="size"?_s(x=>{const T=c?e.measuredBox[x]:e.layoutBox[x],A=fi(T);T.min=n[x].min,T.max=T.min+A}):RC(a,e.layoutBox,n)&&_s(x=>{const T=c?e.measuredBox[x]:e.layoutBox[x],A=fi(n[x]);T.max=T.min+A,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+A)});const u=Ic();Nh(u,n,e.layoutBox);const p=Ic();c?Nh(p,t.applyTransform(i,!0),e.measuredBox):Nh(p,n,e.layoutBox);const y=!SC(u);let _=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:T,layout:A}=x;if(T&&A){const D=tn();Ch(D,e.layoutBox,T.layoutBox);const j=tn();Ch(j,n,A.layoutBox),AC(D,j)||(_=!0),x.options.layoutRoot&&(t.relativeTarget=j,t.relativeTargetOrigin=D,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:p,layoutDelta:u,hasLayoutChanged:y,hasRelativeLayoutChanged:_})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function yB(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function vB(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function _B(t){t.clearSnapshot()}function hE(t){t.clearMeasurements()}function dE(t){t.isLayoutDirty=!1}function xB(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function fE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function bB(t){t.resolveTargetDelta()}function wB(t){t.calcProjection()}function TB(t){t.resetSkewAndRotation()}function EB(t){t.removeLeadSnapshot()}function mE(t,e,n){t.translate=Gt(e.translate,0,n),t.scale=Gt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function pE(t,e,n,i){t.min=Gt(e.min,n.min,i),t.max=Gt(e.max,n.max,i)}function SB(t,e,n,i){pE(t.x,e.x,n.x,i),pE(t.y,e.y,n.y,i)}function AB(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const NB={duration:.45,ease:[.4,0,.1,1]},gE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),yE=gE("applewebkit/")&&!gE("chrome/")?Math.round:Ts;function vE(t){t.min=yE(t.min),t.max=yE(t.max)}function CB(t){vE(t.x),vE(t.y)}function RC(t,e,n){return t==="position"||t==="preserve-aspect"&&!D7(cE(e),cE(n),.2)}function RB(t){return t!==t.root&&t.scroll?.wasRoot}const PB=CC({attachResizeListener:(t,e)=>Zh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vy={current:void 0},PC=CC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!vy.current){const t=new PB({});t.mount(window),t.setOptions({layoutScroll:!0}),vy.current=t}return vy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),jB={pan:{Feature:$7},drag:{Feature:K7,ProjectionNode:PC,MeasureLayout:wC}};function _E(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,c=i[a];c&&Vt.postRender(()=>c(e,pd(e)))}class IB extends Oo{mount(){const{current:e}=this.node;e&&(this.unmount=J5(e,(n,i)=>(_E(this.node,i,"Start"),a=>_E(this.node,a,"End"))))}unmount(){}}class LB extends Oo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=dd(Zh(this.node.current,"focus",()=>this.onFocus()),Zh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function xE(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),c=i[a];c&&Vt.postRender(()=>c(e,pd(e)))}class DB extends Oo{mount(){const{current:e}=this.node;e&&(this.unmount=i9(e,(n,i)=>(xE(this.node,i,"Start"),(a,{success:c})=>xE(this.node,a,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const T0=new WeakMap,_y=new WeakMap,MB=t=>{const e=T0.get(t.target);e&&e(t)},OB=t=>{t.forEach(MB)};function kB({root:t,...e}){const n=t||document;_y.has(n)||_y.set(n,{});const i=_y.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(OB,{root:t,...e})),i[a]}function VB(t,e,n){const i=kB(e);return T0.set(t,n),i.observe(t),()=>{T0.delete(t),i.unobserve(t)}}const BB={some:0,all:1};class UB extends Oo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:c}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:BB[a]},p=y=>{const{isIntersecting:_}=y;if(this.isInView===_||(this.isInView=_,c&&!_&&this.hasEnteredView))return;_&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",_);const{onViewportEnter:x,onViewportLeave:T}=this.node.getProps(),A=_?x:T;A&&A(y)};return VB(this.node.current,u,p)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(zB(e,n))&&this.startObserver()}unmount(){}}function zB({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const FB={inView:{Feature:UB},tap:{Feature:DB},focus:{Feature:LB},hover:{Feature:IB}},HB={layout:{ProjectionNode:PC,MeasureLayout:wC}},qB={...C7,...FB,...jB,...HB},Ni=q9(qB,i7),GB=()=>{const t=Ys(),{orderId:e,payment:n}=t.state||{},[i,a]=V.useState(null),[c,u]=V.useState(!0),[p,y]=V.useState(!1);return V.useEffect(()=>{if(!e)return;(async()=>{try{const T=ou(ha,"orders",e),A=await wv(T);A.exists()&&a(A.data())}catch(T){console.error("Error fetching order:",T)}finally{u(!1)}})();const x=setTimeout(()=>y(!0),2e3);return()=>clearTimeout(x)},[e]),e?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-green-50 to-teal-50 py-8 px-4",children:f.jsxs("div",{className:"max-w-2xl mx-auto",children:[f.jsxs(Ni.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8",children:[f.jsx(Ni.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15,delay:.2},className:"w-24 h-24 bg-gradient-to-r from-emerald-500 to-green-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:f.jsx("i",{className:"fas fa-check-circle text-4xl text-white"})}),f.jsx(Ni.h1,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-4xl font-bold bg-gradient-to-r from-emerald-600 to-green-600 bg-clip-text text-transparent mb-4",children:"Order Confirmed!"}),f.jsx(Ni.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"text-lg text-gray-600",children:"Thank you for your purchase! Your order has been successfully placed."})]}),f.jsx(Ni.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.8},className:"flex justify-center mb-8",children:f.jsxs("span",{className:`inline-flex items-center px-6 py-3 rounded-full text-sm font-semibold ${n==="success"?"bg-emerald-100 text-emerald-800 border border-emerald-200":"bg-amber-100 text-amber-800 border border-amber-200"}`,children:[f.jsx("i",{className:`fas ${n==="success"?"fa-check-circle":"fa-clock"} mr-2`}),"Payment ",n?.toUpperCase()]})}),f.jsxs(Ni.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:1},className:"bg-white rounded-2xl shadow-xl overflow-hidden mb-8 border border-emerald-100",children:[f.jsx("div",{className:"bg-gradient-to-r from-emerald-600 to-green-600 p-6",children:f.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center",children:[f.jsx("i",{className:"fas fa-receipt mr-3"}),"Order Details"]})}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[f.jsxs("span",{className:"text-gray-600 font-medium flex items-center",children:[f.jsx("i",{className:"fas fa-hashtag mr-2 text-emerald-500"}),"Order ID"]}),f.jsxs("span",{className:"font-mono font-semibold text-emerald-600 bg-emerald-50 px-3 py-1 rounded-lg",children:["#",e.slice(-8)]})]}),f.jsx(jf,{children:c&&f.jsxs(Ni.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-8",children:[f.jsx(Ni.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-8 h-8 border-2 border-emerald-500 border-t-transparent rounded-full mx-auto mb-4"}),f.jsx("p",{className:"text-gray-500",children:"Loading order details..."})]})}),f.jsx(jf,{children:!c&&i&&f.jsxs(Ni.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"space-y-4 mt-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-emerald-50 p-4 rounded-xl",children:[f.jsxs("div",{className:"text-sm text-emerald-600 font-medium mb-1",children:[f.jsx("i",{className:"fas fa-rupee-sign mr-1"}),"Amount"]}),f.jsxs("div",{className:"text-lg font-bold text-emerald-700",children:["₹",i.amount]})]}),f.jsxs("div",{className:"bg-green-50 p-4 rounded-xl",children:[f.jsx("div",{className:"text-sm text-green-600 font-medium mb-1",children:"Date"}),f.jsx("div",{className:"text-sm font-semibold text-green-700",children:i.createdAt?.toDate?i.createdAt.toDate().toLocaleDateString():"N/A"})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-teal-50 p-4 rounded-xl",children:[f.jsx("div",{className:"text-sm text-teal-600 font-medium mb-1",children:"Status"}),f.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-teal-100 text-teal-800",children:i.status||"Confirmed"})]}),f.jsxs("div",{className:"bg-cyan-50 p-4 rounded-xl",children:[f.jsx("div",{className:"text-sm text-cyan-600 font-medium mb-1",children:"Plan"}),f.jsx("div",{className:"text-sm font-semibold text-cyan-700",children:i.items[0].name})]})]})]})}),f.jsx(jf,{children:!c&&!i&&f.jsxs(Ni.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-6 text-red-500",children:[f.jsx("i",{className:"fas fa-exclamation-circle text-2xl mb-2"}),f.jsx("p",{children:"Order details not found."})]})})]})]}),f.jsxs(Ni.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:2},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[f.jsxs(tt,{to:"/",className:"flex-1 bg-gradient-to-r from-emerald-600 to-green-600 text-white px-8 py-4 rounded-xl hover:from-emerald-700 hover:to-green-700 transition-all duration-300 font-semibold text-center group",children:[f.jsx("i",{className:"fas fa-shopping-bag mr-2 group-hover:scale-110 transition-transform"}),"Continue Shopping"]}),f.jsxs(tt,{to:"/profile",className:"flex-1 border-2 border-emerald-600 text-emerald-600 px-8 py-4 rounded-xl hover:bg-emerald-50 transition-all duration-300 font-semibold text-center group",children:[f.jsx("i",{className:"fas fa-clipboard-list mr-2 group-hover:scale-110 transition-transform"}),"View My Orders"]})]}),f.jsx(jf,{children:p&&f.jsx(f.Fragment,{children:[...Array(5)].map((_,x)=>f.jsx(Ni.div,{initial:{scale:0,opacity:0,x:Math.random()*100-50,y:Math.random()*100-50},animate:{scale:[0,1,0],opacity:[0,1,0],rotate:Math.random()*360},transition:{duration:2,delay:x*.3,repeat:1/0,repeatDelay:5},className:"fixed text-emerald-400 text-2xl pointer-events-none",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},children:f.jsx("i",{className:"fas fa-star"})},x))})})]})}):f.jsx(Ni.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen bg-gradient-to-br from-emerald-50 to-green-50 flex items-center justify-center px-4",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[f.jsx(Ni.div,{initial:{scale:0},animate:{scale:1},className:"text-red-500 text-6xl mb-4",children:f.jsx("i",{className:"fas fa-exclamation-triangle"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Invalid Order Confirmation"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't find your order details. Please check your confirmation link."}),f.jsxs(tt,{to:"/",className:"inline-flex items-center bg-emerald-600 text-white px-6 py-3 rounded-xl hover:bg-emerald-700 transition-all duration-300 font-medium",children:[f.jsx("i",{className:"fas fa-home mr-2"}),"Go back to Home"]})]})})};delete uu.Icon.Default.prototype._getIconUrl;uu.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const ZB=new uu.Icon({iconUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32' fill='%2300C853'%3E%3Cpath d='M16 2C10.48 2 6 6.48 6 12c0 8 10 18 10 18s10-10 10-18c0-5.52-4.48-10-10-10zm0 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z'/%3E%3C/svg%3E",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[32,32],iconAnchor:[16,32]}),WB=()=>{const[t,e]=V.useState("subscriptions"),[n,i]=V.useState([]),[a,c]=V.useState([]),[u,p]=V.useState(!0),[y,_]=V.useState(null),[x,T]=V.useState(!1),[A,D]=V.useState({}),[j,F]=V.useState(new Date().toISOString().split("T")[0]),[k,$]=V.useState(!1);V.useEffect(()=>{Y()},[]),V.useEffect(()=>{t==="attendance"&&X()},[t,j,a]);const Y=async()=>{try{p(!0);const O=fA(Uh(ha,"orders"),Ok("createdAt","desc")),W=(await $y(O)).docs.map(Q=>{const ue=Q.data();return{id:Q.id,...ue,createdAt:ue.createdAt?.toDate?.()||new Date,shippingAddress:{address:ue.shipping?.address||"",city:ue.shipping?.city||"",state:ue.shipping?.state||"",pincode:ue.shipping?.pincode||"",country:ue.shipping?.country||"",location:ue.shipping?.location||null}}});c(W);const Me=(await $y(Uh(ha,"users"))).docs.map(Q=>({id:Q.id,...Q.data()})).map(Q=>{const ue=W.filter(je=>je.userId===Q.id),de=ue.length>0?{...ue[0],daysLeft:ve(ue[0].createdAt),status:he(ue[0].createdAt)}:null;return{user:Q,orders:ue,activeSubscription:de,totalOrders:ue.length,totalSpent:ue.reduce((je,H)=>je+(H.amount||0),0)}});i(Me)}catch(O){console.error("Error fetching data:",O)}finally{p(!1)}},X=async()=>{try{const O=a.filter(U=>U.createdAt.toISOString().split("T")[0]===j);D({date:j,totalOrders:O.length,delivered:O.filter(U=>U.deliveryStatus==="delivered").length,notDelivered:O.filter(U=>!U.deliveryStatus||U.deliveryStatus==="pending"||U.deliveryStatus==="not_delivered").length,orders:O})}catch(O){console.error("Error fetching attendance data:",O)}},ve=O=>{const U=new Date(O);U.setDate(U.getDate()+26);const q=Math.ceil((U-new Date)/(1e3*60*60*24));return Math.max(0,q)},he=O=>{const U=ve(O);return U===0?"expired":U<=7?"expiring_soon":"active"},we=async(O,U)=>{try{const W=ou(ha,"orders",O);await Uk(W,{deliveryStatus:U,updatedAt:jt.now()}),c(q=>q.map(Be=>Be.id===O?{...Be,deliveryStatus:U}:Be)),y?.id===O&&_(q=>({...q,deliveryStatus:U})),alert(`Delivery status updated to ${U}`)}catch(W){console.error("Error updating delivery status:",W),alert("Error updating delivery status")}},z=async O=>{try{alert(`Cancelled delivery for user ${O} for today`)}catch(U){console.error("Error cancelling delivery:",U)}},M=O=>{_(O),T(!0)},B=O=>{const W={active:{color:"bg-emerald-100 text-emerald-800 border-emerald-200",label:"Active"},expiring_soon:{color:"bg-amber-100 text-amber-800 border-amber-200",label:"Expiring Soon"},expired:{color:"bg-red-100 text-red-800 border-red-200",label:"Expired"},delivered:{color:"bg-emerald-100 text-emerald-800 border-emerald-200",label:"Delivered"},pending:{color:"bg-amber-100 text-amber-800 border-amber-200",label:"Pending"},not_delivered:{color:"bg-red-100 text-red-800 border-red-200",label:"Not Delivered"}}[O]||{color:"bg-gray-100 text-gray-800 border-gray-200",label:O};return f.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${W.color}`,children:W.label})};return u?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-green-50 flex items-center justify-center",children:f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"}),f.jsxs("p",{className:"mt-3 text-emerald-700 font-medium",children:[f.jsx("i",{className:"fas fa-spinner fa-spin mr-2"}),"Loading dashboard..."]})]})}):f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-green-50",children:[f.jsx("div",{className:"lg:hidden bg-white shadow-sm border-b border-emerald-100",children:f.jsxs("div",{className:"flex items-center justify-between p-4",children:[f.jsx("button",{onClick:()=>$(!k),className:"p-2 rounded-lg bg-emerald-50 text-emerald-700",children:f.jsx("i",{className:"fas fa-bars"})}),f.jsxs("div",{className:"text-emerald-700 font-semibold",children:[f.jsx("i",{className:"fas fa-leaf mr-2"}),"Admin Dashboard"]}),f.jsx("div",{className:"w-6"})]})}),f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:`fixed lg:static inset-y-0 left-0 z-40 w-64 h-[100vh] bg-white shadow-xl transform ${k?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out`,children:f.jsxs("div",{className:"flex flex-col h-full",children:[f.jsxs("div",{className:"py-6 p-2 bg-gradient-to-r from-emerald-600 to-green-600 text-white",children:[f.jsx("h1",{className:"text-xl font-bold",children:"Fruit Bunch Admin"}),f.jsx("p",{className:"text-emerald-100 text-sm mt-1",children:"Sustainable Delivery Management"})]}),f.jsx("nav",{className:"flex-1 p-4 space-y-2",children:[{id:"subscriptions",label:"Subscriptions",icon:"fa-chart-pie"},{id:"orders",label:"Orders",icon:"fa-box"},{id:"attendance",label:"Attendance",icon:"fa-users"},{id:"analytics",label:"Analytics",icon:"fa-chart-line"}].map(O=>f.jsxs("button",{onClick:()=>{e(O.id),$(!1)},className:`w-full flex items-center px-4 py-3 rounded-xl text-left transition-all duration-200 ${t===O.id?"bg-emerald-50 text-emerald-700 border-l-4 border-emerald-600 shadow-sm":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[f.jsx("i",{className:`fas ${O.icon} text-lg mr-3`}),f.jsx("span",{className:"font-medium",children:O.label})]},O.id))}),f.jsx("div",{className:"p-4 border-t border-gray-100",children:f.jsx("div",{className:"text-center text-sm text-gray-500",children:new Date().toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})})]})}),f.jsxs("div",{className:"flex-1 lg:ml-0",children:[f.jsx("div",{className:"bg-white/80 backdrop-blur-sm shadow-sm border-b border-emerald-100",children:f.jsx("div",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900 capitalize",children:t.replace("_"," ")}),f.jsx("p",{className:"text-gray-600",children:"Manage your delivery operations efficiently"})]}),f.jsxs("div",{className:"hidden lg:flex items-center space-x-4",children:[f.jsxs("div",{className:"text-right",children:[f.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[f.jsx("i",{className:"fas fa-user-shield mr-1"}),"Welcome back, Admin"]}),f.jsxs("div",{className:"text-xs text-gray-500",children:[f.jsx("i",{className:"fas fa-sync-alt mr-1"}),"Last updated: Just now"]})]}),f.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-emerald-500 to-green-500 rounded-full flex items-center justify-center text-white font-semibold",children:f.jsx("i",{className:"fas fa-user"})})]})]})})}),f.jsxs("div",{className:"p-6",children:[t==="subscriptions"&&f.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-emerald-100 overflow-hidden",children:[f.jsx("div",{className:"px-6 py-5 bg-gradient-to-r from-emerald-50 to-green-50 border-b border-emerald-100",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"User Subscriptions"}),f.jsx("p",{className:"text-emerald-700",children:"Active subscriptions and customer management"})]}),f.jsx("div",{className:"text-2xl text-emerald-600",children:f.jsx("i",{className:"fas fa-users"})})]})}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"User"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Subscription"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Orders"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Total Spent"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(O=>f.jsxs("tr",{className:"hover:bg-emerald-50/50 transition-colors",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-gradient-to-r from-emerald-400 to-green-400 rounded-full flex items-center justify-center text-white font-semibold",children:f.jsx("i",{className:"fas fa-user"})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("div",{className:"text-sm font-medium text-gray-900",children:O.user.name||"No Name"}),f.jsx("div",{className:"text-sm text-gray-500",children:O.user.email})]})]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:O.activeSubscription?f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-medium text-gray-900",children:O.activeSubscription.items?.[0]?.name||"Subscription"}),f.jsxs("div",{className:"text-sm text-emerald-600 font-semibold",children:[O.activeSubscription.daysLeft," days left"]})]}):f.jsxs("span",{className:"text-sm text-gray-500",children:[f.jsx("i",{className:"fas fa-times mr-1"}),"No active subscription"]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:O.activeSubscription?B(O.activeSubscription.status):B("expired")}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:[f.jsx("i",{className:"fas fa-hashtag mr-1"}),O.totalOrders]}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-emerald-600",children:[f.jsx("i",{className:"fas fa-rupee-sign mr-1"}),O.totalSpent]}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[f.jsxs("button",{onClick:()=>O.orders.length>0&&M(O.orders[0]),className:"text-emerald-600 hover:text-emerald-800 px-3 py-1 rounded-lg bg-emerald-50 hover:bg-emerald-100 transition-colors",children:[f.jsx("i",{className:"fas fa-eye mr-1"}),"View"]}),f.jsxs("button",{onClick:()=>z(O.user.id),className:"text-amber-600 hover:text-amber-800 px-3 py-1 rounded-lg bg-amber-50 hover:bg-amber-100 transition-colors",children:[f.jsx("i",{className:"fas fa-ban mr-1"}),"Cancel"]})]})]},O.user.id))})]})})]}),t==="orders"&&f.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-emerald-100 overflow-hidden",children:[f.jsx("div",{className:"px-6 py-5 bg-gradient-to-r from-emerald-50 to-green-50 border-b border-emerald-100",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Order Management"}),f.jsx("p",{className:"text-emerald-700",children:"Track and manage all delivery orders"})]}),f.jsx("div",{className:"text-2xl text-emerald-600",children:f.jsx("i",{className:"fas fa-boxes"})})]})}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Order ID"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"User"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Amount"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Date"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(O=>f.jsxs("tr",{className:"hover:bg-emerald-50/50 transition-colors",children:[f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono font-semibold text-emerald-600",children:[f.jsx("i",{className:"fas fa-hashtag mr-1"}),"#",O.id.slice(-8)]}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:n.find(U=>U.user.id===O.userId)?.user.name||"Unknown User"}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-emerald-600",children:[f.jsx("i",{className:"fas fa-rupee-sign mr-1"}),O.amount]}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:O.createdAt.toLocaleDateString()}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:B(O.deliveryStatus||"pending")}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[f.jsxs("button",{onClick:()=>M(O),className:"text-emerald-600 hover:text-emerald-800 px-3 py-1 rounded-lg bg-emerald-50 hover:bg-emerald-100 transition-colors",children:[f.jsx("i",{className:"fas fa-eye mr-1"}),"View"]}),f.jsxs("select",{value:O.deliveryStatus||"pending",onChange:U=>we(O.id,U.target.value),className:"text-sm border border-emerald-200 rounded-lg px-3 py-1 bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:[f.jsxs("option",{value:"pending",children:[f.jsx("i",{className:"fas fa-hourglass-half"})," Pending"]}),f.jsxs("option",{value:"delivered",children:[f.jsx("i",{className:"fas fa-check-circle"})," Delivered"]}),f.jsxs("option",{value:"not_delivered",children:[f.jsx("i",{className:"fas fa-times-circle"})," Not Delivered"]})]})]})]},O.id))})]})})]}),t==="attendance"&&f.jsx("div",{className:"space-y-6",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-emerald-100 overflow-hidden",children:[f.jsx("div",{className:"px-6 py-5 bg-gradient-to-r from-emerald-50 to-green-50 border-b border-emerald-100",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Daily Attendance"}),f.jsx("p",{className:"text-emerald-700",children:"Track delivery performance and attendance"})]}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("input",{type:"date",value:j,onChange:O=>F(O.target.value),className:"border border-emerald-200 rounded-xl px-4 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent"}),f.jsx("div",{className:"text-2xl text-emerald-600",children:f.jsx("i",{className:"fas fa-calendar-check"})})]})]})}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[f.jsxs("div",{className:"bg-gradient-to-br from-emerald-500 to-green-500 p-6 rounded-2xl text-white shadow-lg",children:[f.jsx("div",{className:"text-3xl font-bold",children:A.totalOrders||0}),f.jsx("div",{className:"text-emerald-100",children:"Total Orders"}),f.jsxs("div",{className:"text-xs text-emerald-200 mt-2",children:[f.jsx("i",{className:"fas fa-info-circle mr-1"}),"All scheduled deliveries"]})]}),f.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 p-6 rounded-2xl text-white shadow-lg",children:[f.jsx("div",{className:"text-3xl font-bold",children:A.delivered||0}),f.jsx("div",{className:"text-emerald-100",children:"Successful Deliveries"}),f.jsxs("div",{className:"text-xs text-emerald-200 mt-2",children:[f.jsx("i",{className:"fas fa-truck mr-1"}),"Completed orders"]})]}),f.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-orange-500 p-6 rounded-2xl text-white shadow-lg",children:[f.jsx("div",{className:"text-3xl font-bold",children:A.notDelivered||0}),f.jsx("div",{className:"text-amber-100",children:"Pending Actions"}),f.jsxs("div",{className:"text-xs text-amber-200 mt-2",children:[f.jsx("i",{className:"fas fa-clock mr-1"}),"Requires attention"]})]})]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Order ID"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"User"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.orders?.map(O=>f.jsxs("tr",{className:"hover:bg-emerald-50/50 transition-colors",children:[f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono font-semibold text-emerald-600",children:[f.jsx("i",{className:"fas fa-hashtag mr-1"}),"#",O.id.slice(-8)]}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[f.jsx("i",{className:"fas fa-user mr-1"}),n.find(U=>U.user.id===O.userId)?.user.name||"Unknown User"]}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:B(O.deliveryStatus||"pending")}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:f.jsxs("select",{value:O.deliveryStatus||"pending",onChange:U=>we(O.id,U.target.value),className:"text-sm border border-emerald-200 rounded-lg px-3 py-1 bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:[f.jsx("option",{value:"pending",children:"Pending"}),f.jsx("option",{value:"delivered",children:"Delivered"}),f.jsx("option",{value:"not_delivered",children:"Not Delivered"})]})})]},O.id))})]})})]})]})}),t==="analytics"&&f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"bg-gradient-to-br from-emerald-500 to-green-500 p-6 rounded-2xl text-white shadow-lg",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-semibold text-emerald-100",children:[f.jsx("i",{className:"fas fa-users mr-2"}),"Total Users"]}),f.jsx("div",{className:"text-3xl font-bold mt-2",children:n.length})]}),f.jsx("div",{className:"text-3xl",children:f.jsx("i",{className:"fas fa-user-friends"})})]}),f.jsxs("div",{className:"text-emerald-200 text-sm mt-4",children:[f.jsx("i",{className:"fas fa-chart-line mr-1"}),"Active subscribers"]})]}),f.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 p-6 rounded-2xl text-white shadow-lg",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-semibold text-emerald-100",children:[f.jsx("i",{className:"fas fa-shopping-cart mr-2"}),"Total Orders"]}),f.jsx("div",{className:"text-3xl font-bold mt-2",children:a.length})]}),f.jsx("div",{className:"text-3xl",children:f.jsx("i",{className:"fas fa-boxes"})})]}),f.jsxs("div",{className:"text-emerald-200 text-sm mt-4",children:[f.jsx("i",{className:"fas fa-truck mr-1"}),"All-time deliveries"]})]}),f.jsxs("div",{className:"bg-gradient-to-br from-emerald-600 to-green-700 p-6 rounded-2xl text-white shadow-lg",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-semibold text-emerald-100",children:[f.jsx("i",{className:"fas fa-rupee-sign mr-2"}),"Total Revenue"]}),f.jsxs("div",{className:"text-3xl font-bold mt-2",children:["₹",a.reduce((O,U)=>O+(U.amount||0),0)]})]}),f.jsx("div",{className:"text-3xl",children:f.jsx("i",{className:"fas fa-money-bill-wave"})})]}),f.jsxs("div",{className:"text-emerald-200 text-sm mt-4",children:[f.jsx("i",{className:"fas fa-trending-up mr-1"}),"Lifetime earnings"]})]})]})]})]})]}),x&&y&&f.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"px-6 py-4 bg-gradient-to-r from-emerald-600 to-green-600 text-white rounded-t-2xl flex justify-between items-center",children:[f.jsx("h3",{className:"text-xl font-bold",children:"Order Details"}),f.jsx("button",{onClick:()=>T(!1),className:"text-white hover:text-emerald-200 transition-colors",children:f.jsx("i",{className:"fas fa-times"})})]}),f.jsx("div",{className:"p-6",children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-gray-900 mb-4 text-lg",children:"Order Information"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[f.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Order ID:"}),f.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:y.id})]}),f.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[f.jsx("span",{className:"text-sm font-medium text-gray-700",children:"User:"}),f.jsxs("span",{className:"text-sm font-semibold text-emerald-600",children:[y.shipping?.firstName," ",y.shipping?.lastName]})]}),f.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[f.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Date:"}),f.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:new Date(y.createdAt).toLocaleDateString()})]}),f.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[f.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Amount:"}),f.jsxs("span",{className:"text-sm font-semibold text-emerald-600",children:["₹",y.amount]})]}),f.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[f.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Status:"}),f.jsx("span",{children:B(y.deliveryStatus)})]})]}),f.jsx("h4",{className:"font-semibold text-gray-900 mb-4 mt-6 text-lg",children:"Delivery Address"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{className:"font-medium",children:y.shipping?.address}),f.jsxs("p",{className:"text-gray-600",children:[y.shipping?.city,", ",y.shipping?.state]}),f.jsxs("p",{className:"text-gray-600",children:[y.shipping?.pincode,", ",y.shipping?.country]}),f.jsxs("p",{className:"text-gray-600",children:["Email: ",y.shipping?.email]}),f.jsxs("p",{className:"text-gray-600",children:["Phone: ",y.shipping?.phone]})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-gray-900 mb-4 text-lg",children:"Delivery Location"}),y.shipping?.location?f.jsxs(SA,{center:[y.shipping.location.lat,y.shipping.location.lng],zoom:13,scrollWheelZoom:!1,className:"w-full h-64 rounded-xl",children:[f.jsx(CA,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),f.jsx(AA,{position:[y.shipping.location.lat,y.shipping.location.lng],icon:ZB,children:f.jsx(NA,{children:"Delivery Location"})})]}):f.jsx("p",{className:"text-gray-500",children:"Location not available"}),f.jsx("h4",{className:"font-semibold text-gray-900 mb-4 mt-6 text-lg",children:"Items"}),f.jsx("div",{className:"space-y-3",children:y.items?.map((O,U)=>f.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-emerald-50 to-green-50 rounded-xl border border-emerald-100",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("img",{src:O.image,alt:O.name,className:"w-12 h-12 object-cover rounded-lg"}),f.jsxs("div",{className:"ml-4",children:[f.jsx("p",{className:"font-medium text-gray-900",children:O.name}),f.jsxs("p",{className:"text-sm text-emerald-600",children:["Quantity: ",O.quantity]})]})]}),f.jsxs("p",{className:"font-semibold text-emerald-600",children:["₹",O.price*O.quantity]})]},U))})]})]})})]})})]})},KB=()=>{const[t,e]=V.useState("introduction"),n=[{id:"introduction",title:"Introduction"},{id:"accounts",title:"User Accounts"},{id:"subscriptions",title:"Subscriptions"},{id:"payments",title:"Payments"},{id:"delivery",title:"Delivery Policy"},{id:"cancellations",title:"Cancellations & Refunds"}];return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-8",children:f.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsxs(tt,{to:"/",className:"inline-flex items-center text-green-600 hover:text-green-700 mb-6",children:[f.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Home"]}),f.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Terms & Conditions"}),f.jsxs("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:["Last updated: ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[f.jsx("div",{className:"lg:col-span-1",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg sticky top-8 p-6",children:[f.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Table of Contents"}),f.jsx("nav",{className:"space-y-2",children:n.map(i=>f.jsx("button",{onClick:()=>e(i.id),className:`block w-full text-left px-3 py-2 rounded-lg transition-colors ${t===i.id?"bg-green-50 text-green-700 font-medium":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:i.title},i.id))})]})}),f.jsxs("div",{className:"lg:col-span-3",children:[f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[t==="introduction"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"1. Introduction"}),f.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[f.jsxs("p",{children:["Welcome to ",f.jsx("strong",{children:"FreshDaily"}),' ("we," "our," or "us"). These Terms and Conditions govern your use of our subscription-based daily delivery service. By accessing or using our services, you agree to be bound by these terms.']}),f.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 my-6",children:[f.jsx("p",{className:"text-blue-800 font-medium",children:"Important:"}),f.jsx("p",{className:"text-blue-700 text-sm mt-1",children:"Please read these terms carefully before using our services. If you disagree with any part of these terms, you may not access our services."})]}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-6",children:"1.1 Definitions"}),f.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Service:"})," Our daily delivery subscription service"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"User:"})," Any individual or entity using our services"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Subscription:"})," A recurring service plan with specified duration"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Content:"})," All materials provided through our service"]})]})]})]}),t==="accounts"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"2. User Accounts"}),f.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2.1 Account Registration"}),f.jsx("p",{children:"To use our services, you must register for an account by providing accurate and complete information. You are responsible for maintaining the confidentiality of your account credentials."}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2.2 Account Security"}),f.jsx("p",{children:"You must notify us immediately of any unauthorized use of your account. We reserve the right to suspend or terminate accounts that violate these terms."}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2.3 Age Requirement"}),f.jsx("p",{children:"You must be at least 18 years old to use our services. By registering, you represent that you meet this age requirement."})]})]}),t==="subscriptions"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"3. Subscriptions"}),f.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"3.1 Subscription Plans"}),f.jsx("p",{children:"We offer various subscription plans with different durations and features. All subscriptions automatically renew unless canceled before the renewal date."}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"3.2 Subscription Period"}),f.jsx("p",{children:"Each subscription period is 26 days. The service will automatically renew for subsequent 26-day periods unless canceled."}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"3.3 Cancellation Policy"}),f.jsx("p",{children:"You may cancel your subscription at any time. Cancellations will take effect at the end of the current billing period."}),f.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-4 my-6",children:[f.jsx("p",{className:"text-yellow-800 font-medium",children:"Note:"}),f.jsx("p",{className:"text-yellow-700 text-sm mt-1",children:"Canceling your subscription does not entitle you to a refund for the current period."})]})]})]}),t==="payments"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"4. Payments"}),f.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"4.1 Payment Methods"}),f.jsx("p",{children:"We accept various payment methods including credit/debit cards, UPI, and other electronic payment systems. All payments are processed through secure third-party payment gateways."}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"4.2 Billing Cycle"}),f.jsx("p",{children:"Payments are charged at the beginning of each subscription period. You will receive a notification before each renewal."}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"4.3 Price Changes"}),f.jsx("p",{children:"We reserve the right to change subscription prices. Existing subscribers will be notified 30 days in advance of any price changes."})]})]}),t==="delivery"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"5. Delivery Policy"}),f.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"5.1 Delivery Areas"}),f.jsx("p",{children:"We currently deliver to specified areas within our service coverage. Delivery availability may vary based on your location."}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"5.2 Delivery Times"}),f.jsx("p",{children:"Deliveries are made daily within specified time windows. While we strive for punctuality, delivery times may vary due to unforeseen circumstances."}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"5.3 Delivery Issues"}),f.jsx("p",{children:"If you encounter any delivery issues, please contact our support team within 24 hours of the scheduled delivery time."})]})]}),t==="cancellations"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"6. Cancellations & Refunds"}),f.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"6.1 Subscription Cancellation"}),f.jsx("p",{children:"You may cancel your subscription at any time through your account dashboard. The cancellation will take effect at the end of your current billing period."}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"6.2 Refund Policy"}),f.jsx("p",{children:"We offer refunds only under specific circumstances:"}),f.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[f.jsx("li",{children:"Service interruption for more than 3 consecutive days"}),f.jsx("li",{children:"Technical issues preventing service access"}),f.jsx("li",{children:"Duplicate payments"})]}),f.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 my-6",children:[f.jsx("p",{className:"text-red-800 font-medium",children:"No Refunds For:"}),f.jsxs("ul",{className:"text-red-700 text-sm mt-1 list-disc list-inside ml-4",children:[f.jsx("li",{children:"Change of mind after subscription"}),f.jsx("li",{children:"Non-usage of service during active period"}),f.jsx("li",{children:"Partial month usage"})]})]})]})]}),f.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:f.jsxs("div",{className:"flex justify-between",children:[f.jsxs("button",{onClick:()=>{const i=n.findIndex(a=>a.id===t);i>0&&e(n[i-1].id)},className:"flex items-center text-green-600 hover:text-green-700",children:[f.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous Section"]}),f.jsxs("button",{onClick:()=>{const i=n.findIndex(a=>a.id===t);i<n.length-1&&e(n[i+1].id)},className:"flex items-center text-green-600 hover:text-green-700",children:["Next Section",f.jsx("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})})]}),f.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mt-6",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Acceptance of Terms"}),f.jsx("p",{className:"text-gray-600 mb-4",children:"By using our services, you acknowledge that you have read, understood, and agree to be bound by these Terms and Conditions."}),f.jsx("div",{className:"flex justify-center space-x-4",children:f.jsx(tt,{to:"/privacypolicy",className:"bg-gray-200 hover:bg-gray-300 text-gray-800 px-6 py-2 rounded-lg transition",children:"Privacy Policy"})})]})})]})]})]})})},$B=()=>{const[t,e]=V.useState("overview"),n=[{id:"overview",title:"Overview"},{id:"information",title:"Information We Collect"},{id:"usage",title:"How We Use Information"},{id:"sharing",title:"Information Sharing"},{id:"cookies",title:"Cookies & Tracking"}];return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 py-8",children:f.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsxs(tt,{to:"/",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-6",children:[f.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Home"]}),f.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Privacy Policy"}),f.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"We are committed to protecting your privacy and ensuring transparency about how we handle your personal information."}),f.jsxs("div",{className:"mt-4 text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[f.jsx("div",{className:"lg:col-span-1",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg sticky top-8 p-6",children:[f.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Quick Navigation"}),f.jsx("nav",{className:"space-y-2",children:n.map(i=>f.jsx("button",{onClick:()=>e(i.id),className:`block w-full text-left px-3 py-2 rounded-lg transition-colors ${t===i.id?"bg-blue-50 text-blue-700 font-medium":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:i.title},i.id))}),f.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[f.jsx("h4",{className:"font-semibold text-blue-900 text-sm mb-2",children:"Questions?"}),f.jsxs("p",{className:"text-blue-700 text-xs",children:["Contact our privacy team at"," ",f.jsx("a",{href:"mailto:privacy@freshdaily.com",className:"underline",children:"privacy@freshdaily.com"})]})]})]})}),f.jsxs("div",{className:"lg:col-span-3",children:[f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[t==="overview"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"1. Overview"}),f.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[f.jsxs("p",{children:["At ",f.jsx("strong",{children:"FreshDaily"}),", we are committed to protecting your privacy and ensuring the security of your personal information. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our services."]}),f.jsxs("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 my-6",children:[f.jsx("p",{className:"text-green-800 font-medium",children:"Our Commitment:"}),f.jsxs("ul",{className:"text-green-700 text-sm mt-1 list-disc list-inside ml-4",children:[f.jsx("li",{children:"We never sell your personal information"}),f.jsx("li",{children:"We minimize data collection to what's necessary"}),f.jsx("li",{children:"We implement robust security measures"}),f.jsx("li",{children:"We are transparent about our practices"})]})]}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-6",children:"1.1 Scope"}),f.jsx("p",{children:'This policy applies to all information collected through our website, mobile applications, and services (collectively, the "Services").'})]})]}),t==="information"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"2. Information We Collect"}),f.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2.1 Personal Information"}),f.jsx("p",{children:"We collect information that identifies you as an individual:"}),f.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Contact Information:"})," Name, email address, phone number"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Account Information:"})," Username, password, profile details"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Payment Information:"})," Billing address, payment method details"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Delivery Information:"})," Shipping address, location data"]})]}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2.2 Usage Information"}),f.jsx("p",{children:"We automatically collect information about your interaction with our Services:"}),f.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[f.jsx("li",{children:"IP address and device information"}),f.jsx("li",{children:"Browser type and version"}),f.jsx("li",{children:"Pages visited and time spent"}),f.jsx("li",{children:"Subscription usage patterns"})]}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2.3 Location Information"}),f.jsx("p",{children:"With your permission, we collect precise location data to provide delivery services and improve user experience."})]})]}),t==="usage"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"3. How We Use Your Information"}),f.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-6",children:[f.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[f.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Service Provision"}),f.jsxs("ul",{className:"text-blue-700 text-sm space-y-1 list-disc list-inside ml-2",children:[f.jsx("li",{children:"Process subscriptions and payments"}),f.jsx("li",{children:"Schedule and manage deliveries"}),f.jsx("li",{children:"Provide customer support"}),f.jsx("li",{children:"Send service notifications"})]})]}),f.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[f.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"Service Improvement"}),f.jsxs("ul",{className:"text-green-700 text-sm space-y-1 list-disc list-inside ml-2",children:[f.jsx("li",{children:"Analyze usage patterns"}),f.jsx("li",{children:"Improve service quality"}),f.jsx("li",{children:"Develop new features"}),f.jsx("li",{children:"Personalize user experience"})]})]})]}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"3.1 Legal Bases for Processing"}),f.jsx("p",{children:"We process your information based on:"}),f.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Contractual necessity:"})," To provide the services you requested"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Legal compliance:"})," To meet regulatory requirements"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Legitimate interests:"})," To improve our services"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Consent:"})," For specific purposes where required"]})]})]})]}),t==="sharing"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"4. Information Sharing & Disclosure"}),f.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-6",children:[f.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-4",children:f.jsx("p",{className:"text-yellow-800 font-medium",children:"We do not sell your personal information to third parties."})}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"4.1 Service Providers"}),f.jsx("p",{children:"We share information with trusted service providers who assist in our operations:"}),f.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[f.jsx("li",{children:"Payment processors (Razorpay, Stripe)"}),f.jsx("li",{children:"Delivery and logistics partners"}),f.jsx("li",{children:"Cloud storage providers (Firebase)"}),f.jsx("li",{children:"Customer support platforms"})]}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"4.2 Legal Requirements"}),f.jsx("p",{children:"We may disclose information when required by law or to:"}),f.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[f.jsx("li",{children:"Comply with legal processes"}),f.jsx("li",{children:"Protect our rights and property"}),f.jsx("li",{children:"Prevent fraud or security issues"}),f.jsx("li",{children:"Protect the safety of our users"})]})]})]}),t==="cookies"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"5. Cookies & Tracking Technologies"}),f.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"5.1 Types of Cookies We Use"}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Purpose"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Duration"})]})}),f.jsxs("tbody",{className:"divide-y divide-gray-200",children:[f.jsxs("tr",{children:[f.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:"Essential"}),f.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:"Basic website functionality"}),f.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:"Session"})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:"Analytics"}),f.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:"Service improvement"}),f.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:"2 years"})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:"Preferences"}),f.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:"Remember your settings"}),f.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:"1 year"})]})]})]})}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"5.2 Managing Cookies"}),f.jsx("p",{children:"You can control cookie settings through your browser. However, disabling essential cookies may affect service functionality."})]})]}),t==="rights"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"7. Your Privacy Rights"}),f.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-6",children:[f.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[f.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Access & Portability"}),f.jsx("p",{className:"text-sm text-gray-600",children:"Request a copy of your personal data in a machine-readable format"})]}),f.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[f.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Correction"}),f.jsx("p",{className:"text-sm text-gray-600",children:"Update or correct inaccurate personal information"})]}),f.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[f.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Deletion"}),f.jsx("p",{className:"text-sm text-gray-600",children:"Request deletion of your personal data under certain conditions"})]}),f.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[f.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Objection"}),f.jsx("p",{className:"text-sm text-gray-600",children:"Object to processing of your personal data for specific purposes"})]})]}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"7.1 Exercising Your Rights"}),f.jsxs("p",{children:["To exercise any of these rights, please contact us at"," ",f.jsx("a",{href:"mailto:privacy@freshdaily.com",className:"text-blue-600 underline",children:"privacy@freshdaily.com"}),". We will respond to your request within 30 days."]})]})]}),f.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:f.jsxs("div",{className:"flex justify-between",children:[f.jsxs("button",{onClick:()=>{const i=n.findIndex(a=>a.id===t);i>0&&e(n[i-1].id)},className:"flex items-center text-blue-600 hover:text-blue-700",children:[f.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous Section"]}),f.jsxs("button",{onClick:()=>{const i=n.findIndex(a=>a.id===t);i<n.length-1&&e(n[i+1].id)},className:"flex items-center text-blue-600 hover:text-blue-700",children:["Next Section",f.jsx("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})})]}),f.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mt-6",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Contact Our Privacy Team"}),f.jsx("p",{className:"text-gray-600 mb-4",children:"If you have any questions about this Privacy Policy or our data practices, please contact us."}),f.jsxs("div",{className:"flex justify-center space-x-4",children:[f.jsx("a",{href:"mailto:fruitbunch.tvm@gmail.com",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition",children:"Email Privacy Team"}),f.jsx(tt,{to:"/termsandconditions",className:"bg-gray-200 hover:bg-gray-300 text-gray-800 px-6 py-2 rounded-lg transition",children:"View Terms"})]})]})})]})]})]})})};function YB(){return f.jsxs("div",{className:"min-h-screen flex flex-col",children:[f.jsx($k,{}),f.jsx("main",{className:"flex-grow",children:f.jsx(qP,{})}),f.jsx(Yk,{}),f.jsx(lV,{})]})}function XB(){return f.jsx(Wk,{children:f.jsx(pj,{basename:"/fruitbunch",children:f.jsxs(ZP,{children:[f.jsxs(Zn,{element:f.jsx(YB,{}),children:[f.jsx(Zn,{path:"/",element:f.jsx(t3,{})}),f.jsx(Zn,{path:"/subscription",element:f.jsx(l3,{})}),f.jsx(Zn,{path:"/corporate",element:f.jsx(c3,{})}),f.jsx(Zn,{path:"/about",element:f.jsx(d3,{})}),f.jsx(Zn,{path:"/cart",element:f.jsx(p3,{})}),f.jsx(Zn,{path:"/profile",element:f.jsx(uV,{})}),f.jsx(Zn,{path:"/orderconfirmation",element:f.jsx(GB,{})}),f.jsx(Zn,{path:"/checkout",element:f.jsx(Hk,{children:f.jsx(oV,{})})})]}),f.jsx(Zn,{path:"/admin",element:f.jsx(qk,{children:f.jsx(WB,{})})}),f.jsx(Zn,{path:"/termsandconditions",element:f.jsx(KB,{})}),f.jsx(Zn,{path:"/privacypolicy",element:f.jsx($B,{})}),f.jsx(Zn,{path:"/login",element:f.jsx(f3,{})}),f.jsx(Zn,{path:"/signup",element:f.jsx(m3,{})}),f.jsx(Zn,{path:"/forgot-password",element:f.jsx(cV,{})})]})})})}JR.createRoot(document.getElementById("root")).render(f.jsx(V.StrictMode,{children:f.jsx(XB,{})}));
