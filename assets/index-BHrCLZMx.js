(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();function NE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Bg={exports:{}},lh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sw;function $R(){if(sw)return lh;sw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,c){var u=null;if(c!==void 0&&(u=""+c),a.key!==void 0&&(u=""+a.key),"key"in a){c={};for(var m in a)m!=="key"&&(c[m]=a[m])}else c=a;return a=c.ref,{$$typeof:t,type:i,key:u,ref:a!==void 0?a:null,props:c}}return lh.Fragment=e,lh.jsx=n,lh.jsxs=n,lh}var rw;function YR(){return rw||(rw=1,Bg.exports=$R()),Bg.exports}var f=YR(),zg={exports:{}},Je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aw;function QR(){if(aw)return Je;aw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),T=Symbol.iterator;function A(B){return B===null||typeof B!="object"?null:(B=T&&B[T]||B["@@iterator"],typeof B=="function"?B:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,z={};function k(B,ce,be){this.props=B,this.context=ce,this.refs=z,this.updater=be||j}k.prototype.isReactComponent={},k.prototype.setState=function(B,ce){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ce,"setState")},k.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function $(){}$.prototype=k.prototype;function Y(B,ce,be){this.props=B,this.context=ce,this.refs=z,this.updater=be||j}var Q=Y.prototype=new $;Q.constructor=Y,I(Q,k.prototype),Q.isPureReactComponent=!0;var ve=Array.isArray,he={H:null,A:null,T:null,S:null,V:null},we=Object.prototype.hasOwnProperty;function F(B,ce,be,xe,Te,Re){return be=Re.ref,{$$typeof:t,type:B,key:ce,ref:be!==void 0?be:null,props:Re}}function O(B,ce){return F(B.type,ce,void 0,void 0,void 0,B.props)}function U(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function W(B){var ce={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(be){return ce[be]})}var M=/\/+/g;function G(B,ce){return typeof B=="object"&&B!==null&&B.key!=null?W(""+B.key):ce.toString(36)}function H(){}function Ue(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(H,H):(B.status="pending",B.then(function(ce){B.status==="pending"&&(B.status="fulfilled",B.value=ce)},function(ce){B.status==="pending"&&(B.status="rejected",B.reason=ce)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function je(B,ce,be,xe,Te){var Re=typeof B;(Re==="undefined"||Re==="boolean")&&(B=null);var Se=!1;if(B===null)Se=!0;else switch(Re){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(B.$$typeof){case t:case e:Se=!0;break;case x:return Se=B._init,je(Se(B._payload),ce,be,xe,Te)}}if(Se)return Te=Te(B),Se=xe===""?"."+G(B,0):xe,ve(Te)?(be="",Se!=null&&(be=Se.replace(M,"$&/")+"/"),je(Te,ce,be,"",function(mi){return mi})):Te!=null&&(U(Te)&&(Te=O(Te,be+(Te.key==null||B&&B.key===Te.key?"":(""+Te.key).replace(M,"$&/")+"/")+Se)),ce.push(Te)),1;Se=0;var At=xe===""?".":xe+":";if(ve(B))for(var st=0;st<B.length;st++)xe=B[st],Re=At+G(xe,st),Se+=je(xe,ce,be,Re,Te);else if(st=A(B),typeof st=="function")for(B=st.call(B),st=0;!(xe=B.next()).done;)xe=xe.value,Re=At+G(xe,st++),Se+=je(xe,ce,be,Re,Te);else if(Re==="object"){if(typeof B.then=="function")return je(Ue(B),ce,be,xe,Te);throw ce=String(B),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return Se}function J(B,ce,be){if(B==null)return B;var xe=[],Te=0;return je(B,xe,"","",function(Re){return ce.call(be,Re,Te++)}),xe}function de(B){if(B._status===-1){var ce=B._result;ce=ce(),ce.then(function(be){(B._status===0||B._status===-1)&&(B._status=1,B._result=be)},function(be){(B._status===0||B._status===-1)&&(B._status=2,B._result=be)}),B._status===-1&&(B._status=0,B._result=ce)}if(B._status===1)return B._result.default;throw B._result}var le=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function Me(){}return Je.Children={map:J,forEach:function(B,ce,be){J(B,function(){ce.apply(this,arguments)},be)},count:function(B){var ce=0;return J(B,function(){ce++}),ce},toArray:function(B){return J(B,function(ce){return ce})||[]},only:function(B){if(!U(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Je.Component=k,Je.Fragment=n,Je.Profiler=a,Je.PureComponent=Y,Je.StrictMode=i,Je.Suspense=g,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,Je.__COMPILER_RUNTIME={__proto__:null,c:function(B){return he.H.useMemoCache(B)}},Je.cache=function(B){return function(){return B.apply(null,arguments)}},Je.cloneElement=function(B,ce,be){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var xe=I({},B.props),Te=B.key,Re=void 0;if(ce!=null)for(Se in ce.ref!==void 0&&(Re=void 0),ce.key!==void 0&&(Te=""+ce.key),ce)!we.call(ce,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&ce.ref===void 0||(xe[Se]=ce[Se]);var Se=arguments.length-2;if(Se===1)xe.children=be;else if(1<Se){for(var At=Array(Se),st=0;st<Se;st++)At[st]=arguments[st+2];xe.children=At}return F(B.type,Te,void 0,void 0,Re,xe)},Je.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:c,_context:B},B},Je.createElement=function(B,ce,be){var xe,Te={},Re=null;if(ce!=null)for(xe in ce.key!==void 0&&(Re=""+ce.key),ce)we.call(ce,xe)&&xe!=="key"&&xe!=="__self"&&xe!=="__source"&&(Te[xe]=ce[xe]);var Se=arguments.length-2;if(Se===1)Te.children=be;else if(1<Se){for(var At=Array(Se),st=0;st<Se;st++)At[st]=arguments[st+2];Te.children=At}if(B&&B.defaultProps)for(xe in Se=B.defaultProps,Se)Te[xe]===void 0&&(Te[xe]=Se[xe]);return F(B,Re,void 0,void 0,null,Te)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(B){return{$$typeof:m,render:B}},Je.isValidElement=U,Je.lazy=function(B){return{$$typeof:x,_payload:{_status:-1,_result:B},_init:de}},Je.memo=function(B,ce){return{$$typeof:_,type:B,compare:ce===void 0?null:ce}},Je.startTransition=function(B){var ce=he.T,be={};he.T=be;try{var xe=B(),Te=he.S;Te!==null&&Te(be,xe),typeof xe=="object"&&xe!==null&&typeof xe.then=="function"&&xe.then(Me,le)}catch(Re){le(Re)}finally{he.T=ce}},Je.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},Je.use=function(B){return he.H.use(B)},Je.useActionState=function(B,ce,be){return he.H.useActionState(B,ce,be)},Je.useCallback=function(B,ce){return he.H.useCallback(B,ce)},Je.useContext=function(B){return he.H.useContext(B)},Je.useDebugValue=function(){},Je.useDeferredValue=function(B,ce){return he.H.useDeferredValue(B,ce)},Je.useEffect=function(B,ce,be){var xe=he.H;if(typeof be=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return xe.useEffect(B,ce)},Je.useId=function(){return he.H.useId()},Je.useImperativeHandle=function(B,ce,be){return he.H.useImperativeHandle(B,ce,be)},Je.useInsertionEffect=function(B,ce){return he.H.useInsertionEffect(B,ce)},Je.useLayoutEffect=function(B,ce){return he.H.useLayoutEffect(B,ce)},Je.useMemo=function(B,ce){return he.H.useMemo(B,ce)},Je.useOptimistic=function(B,ce){return he.H.useOptimistic(B,ce)},Je.useReducer=function(B,ce,be){return he.H.useReducer(B,ce,be)},Je.useRef=function(B){return he.H.useRef(B)},Je.useState=function(B){return he.H.useState(B)},Je.useSyncExternalStore=function(B,ce,be){return he.H.useSyncExternalStore(B,ce,be)},Je.useTransition=function(){return he.H.useTransition()},Je.version="19.1.1",Je}var ow;function A0(){return ow||(ow=1,zg.exports=QR()),zg.exports}var V=A0();const Sy=NE(V);var Fg={exports:{}},ch={},Hg={exports:{}},qg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lw;function XR(){return lw||(lw=1,(function(t){function e(J,de){var le=J.length;J.push(de);e:for(;0<le;){var Me=le-1>>>1,B=J[Me];if(0<a(B,de))J[Me]=de,J[le]=B,le=Me;else break e}}function n(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var de=J[0],le=J.pop();if(le!==de){J[0]=le;e:for(var Me=0,B=J.length,ce=B>>>1;Me<ce;){var be=2*(Me+1)-1,xe=J[be],Te=be+1,Re=J[Te];if(0>a(xe,le))Te<B&&0>a(Re,xe)?(J[Me]=Re,J[Te]=le,Me=Te):(J[Me]=xe,J[be]=le,Me=be);else if(Te<B&&0>a(Re,le))J[Me]=Re,J[Te]=le,Me=Te;else break e}}return de}function a(J,de){var le=J.sortIndex-de.sortIndex;return le!==0?le:J.id-de.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,m=u.now();t.unstable_now=function(){return u.now()-m}}var g=[],_=[],x=1,T=null,A=3,j=!1,I=!1,z=!1,k=!1,$=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function ve(J){for(var de=n(_);de!==null;){if(de.callback===null)i(_);else if(de.startTime<=J)i(_),de.sortIndex=de.expirationTime,e(g,de);else break;de=n(_)}}function he(J){if(z=!1,ve(J),!I)if(n(g)!==null)I=!0,we||(we=!0,G());else{var de=n(_);de!==null&&je(he,de.startTime-J)}}var we=!1,F=-1,O=5,U=-1;function W(){return k?!0:!(t.unstable_now()-U<O)}function M(){if(k=!1,we){var J=t.unstable_now();U=J;var de=!0;try{e:{I=!1,z&&(z=!1,Y(F),F=-1),j=!0;var le=A;try{t:{for(ve(J),T=n(g);T!==null&&!(T.expirationTime>J&&W());){var Me=T.callback;if(typeof Me=="function"){T.callback=null,A=T.priorityLevel;var B=Me(T.expirationTime<=J);if(J=t.unstable_now(),typeof B=="function"){T.callback=B,ve(J),de=!0;break t}T===n(g)&&i(g),ve(J)}else i(g);T=n(g)}if(T!==null)de=!0;else{var ce=n(_);ce!==null&&je(he,ce.startTime-J),de=!1}}break e}finally{T=null,A=le,j=!1}de=void 0}}finally{de?G():we=!1}}}var G;if(typeof Q=="function")G=function(){Q(M)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Ue=H.port2;H.port1.onmessage=M,G=function(){Ue.postMessage(null)}}else G=function(){$(M,0)};function je(J,de){F=$(function(){J(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_next=function(J){switch(A){case 1:case 2:case 3:var de=3;break;default:de=A}var le=A;A=de;try{return J()}finally{A=le}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(J,de){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var le=A;A=J;try{return de()}finally{A=le}},t.unstable_scheduleCallback=function(J,de,le){var Me=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Me+le:Me):le=Me,J){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=le+B,J={id:x++,callback:de,priorityLevel:J,startTime:le,expirationTime:B,sortIndex:-1},le>Me?(J.sortIndex=le,e(_,J),n(g)===null&&J===n(_)&&(z?(Y(F),F=-1):z=!0,je(he,le-Me))):(J.sortIndex=B,e(g,J),I||j||(I=!0,we||(we=!0,G()))),J},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(J){var de=A;return function(){var le=A;A=de;try{return J.apply(this,arguments)}finally{A=le}}}})(qg)),qg}var cw;function JR(){return cw||(cw=1,Hg.exports=XR()),Hg.exports}var Gg={exports:{}},Gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uw;function eP(){if(uw)return Gn;uw=1;var t=A0();function e(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)_+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function c(g,_,x){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:g,containerInfo:_,implementation:x}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Gn.createPortal=function(g,_){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(g,_,null,x)},Gn.flushSync=function(g){var _=u.T,x=i.p;try{if(u.T=null,i.p=2,g)return g()}finally{u.T=_,i.p=x,i.d.f()}},Gn.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,i.d.C(g,_))},Gn.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},Gn.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var x=_.as,T=m(x,_.crossOrigin),A=typeof _.integrity=="string"?_.integrity:void 0,j=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;x==="style"?i.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:j}):x==="script"&&i.d.X(g,{crossOrigin:T,integrity:A,fetchPriority:j,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Gn.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var x=m(_.as,_.crossOrigin);i.d.M(g,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&i.d.M(g)},Gn.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var x=_.as,T=m(x,_.crossOrigin);i.d.L(g,x,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Gn.preloadModule=function(g,_){if(typeof g=="string")if(_){var x=m(_.as,_.crossOrigin);i.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else i.d.m(g)},Gn.requestFormReset=function(g){i.d.r(g)},Gn.unstable_batchedUpdates=function(g,_){return g(_)},Gn.useFormState=function(g,_,x){return u.H.useFormState(g,_,x)},Gn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Gn.version="19.1.1",Gn}var hw;function CE(){if(hw)return Gg.exports;hw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gg.exports=eP(),Gg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dw;function tP(){if(dw)return ch;dw=1;var t=JR(),e=A0(),n=CE();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function c(s){var r=s,l=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(l=r.return),s=r.return;while(s)}return r.tag===3?l:null}function u(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function m(s){if(c(s)!==s)throw Error(i(188))}function g(s){var r=s.alternate;if(!r){if(r=c(s),r===null)throw Error(i(188));return r!==s?null:s}for(var l=s,d=r;;){var v=l.return;if(v===null)break;var b=v.alternate;if(b===null){if(d=v.return,d!==null){l=d;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===l)return m(v),s;if(b===d)return m(v),r;b=b.sibling}throw Error(i(188))}if(l.return!==d.return)l=v,d=b;else{for(var C=!1,P=v.child;P;){if(P===l){C=!0,l=v,d=b;break}if(P===d){C=!0,d=v,l=b;break}P=P.sibling}if(!C){for(P=b.child;P;){if(P===l){C=!0,l=b,d=v;break}if(P===d){C=!0,d=b,l=v;break}P=P.sibling}if(!C)throw Error(i(189))}}if(l.alternate!==d)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:r}function _(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=_(s),r!==null)return r;s=s.sibling}return null}var x=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function G(s){return s===null||typeof s!="object"?null:(s=M&&s[M]||s["@@iterator"],typeof s=="function"?s:null)}var H=Symbol.for("react.client.reference");function Ue(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===H?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case I:return"Fragment";case k:return"Profiler";case z:return"StrictMode";case he:return"Suspense";case we:return"SuspenseList";case U:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case j:return"Portal";case Q:return(s.displayName||"Context")+".Provider";case Y:return(s._context.displayName||"Context")+".Consumer";case ve:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case F:return r=s.displayName||null,r!==null?r:Ue(s.type)||"Memo";case O:r=s._payload,s=s._init;try{return Ue(s(r))}catch{}}return null}var je=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},Me=[],B=-1;function ce(s){return{current:s}}function be(s){0>B||(s.current=Me[B],Me[B]=null,B--)}function xe(s,r){B++,Me[B]=s.current,s.current=r}var Te=ce(null),Re=ce(null),Se=ce(null),At=ce(null);function st(s,r){switch(xe(Se,r),xe(Re,s),xe(Te,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?Ib(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=Ib(r),s=Db(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}be(Te),xe(Te,s)}function mi(){be(Te),be(Re),be(Se)}function Pr(s){s.memoizedState!==null&&xe(At,s);var r=Te.current,l=Db(r,s.type);r!==l&&(xe(Re,s),xe(Te,l))}function Js(s){Re.current===s&&(be(Te),be(Re)),At.current===s&&(be(At),ih._currentValue=le)}var es=Object.prototype.hasOwnProperty,Ns=t.unstable_scheduleCallback,ba=t.unstable_cancelCallback,Vl=t.unstable_shouldYield,wa=t.unstable_requestPaint,_n=t.unstable_now,jr=t.unstable_getCurrentPriorityLevel,Qt=t.unstable_ImmediatePriority,Xt=t.unstable_UserBlockingPriority,Li=t.unstable_NormalPriority,Ul=t.unstable_LowPriority,Ta=t.unstable_IdlePriority,xu=t.log,Ir=t.unstable_setDisableYieldValue,ts=null,hn=null;function Xn(s){if(typeof xu=="function"&&Ir(s),hn&&typeof hn.setStrictMode=="function")try{hn.setStrictMode(ts,s)}catch{}}var In=Math.clz32?Math.clz32:zl,Bl=Math.log,zo=Math.LN2;function zl(s){return s>>>=0,s===0?32:31-(Bl(s)/zo|0)|0}var Mi=256,ns=4194304;function pi(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function gi(s,r,l){var d=s.pendingLanes;if(d===0)return 0;var v=0,b=s.suspendedLanes,C=s.pingedLanes;s=s.warmLanes;var P=d&134217727;return P!==0?(d=P&~b,d!==0?v=pi(d):(C&=P,C!==0?v=pi(C):l||(l=P&~s,l!==0&&(v=pi(l))))):(P=d&~b,P!==0?v=pi(P):C!==0?v=pi(C):l||(l=d&~s,l!==0&&(v=pi(l)))),v===0?0:r!==0&&r!==v&&(r&b)===0&&(b=v&-v,l=r&-r,b>=l||b===32&&(l&4194048)!==0)?r:v}function yi(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Ea(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fo(){var s=Mi;return Mi<<=1,(Mi&4194048)===0&&(Mi=256),s}function Cs(){var s=ns;return ns<<=1,(ns&62914560)===0&&(ns=4194304),s}function Dr(s){for(var r=[],l=0;31>l;l++)r.push(s);return r}function Lt(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Fl(s,r,l,d,v,b){var C=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var P=s.entanglements,Z=s.expirationTimes,ie=s.hiddenUpdates;for(l=C&~l;0<l;){var fe=31-In(l),ge=1<<fe;P[fe]=0,Z[fe]=-1;var se=ie[fe];if(se!==null)for(ie[fe]=null,fe=0;fe<se.length;fe++){var ae=se[fe];ae!==null&&(ae.lane&=-536870913)}l&=~ge}d!==0&&er(s,d,0),b!==0&&v===0&&s.tag!==0&&(s.suspendedLanes|=b&~(C&~r))}function er(s,r,l){s.pendingLanes|=r,s.suspendedLanes&=~r;var d=31-In(r);s.entangledLanes|=r,s.entanglements[d]=s.entanglements[d]|1073741824|l&4194090}function tr(s,r){var l=s.entangledLanes|=r;for(s=s.entanglements;l;){var d=31-In(l),v=1<<d;v&r|s[d]&r&&(s[d]|=r),l&=~v}}function Ho(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function qo(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Rs(){var s=de.p;return s!==0?s:(s=window.event,s===void 0?32:Xb(s.type))}function Go(s,r){var l=de.p;try{return de.p=s,r()}finally{de.p=l}}var is=Math.random().toString(36).slice(2),Bt="__reactFiber$"+is,dn="__reactProps$"+is,Ps="__reactContainer$"+is,xn="__reactEvents$"+is,De="__reactListeners$"+is,Hl="__reactHandles$"+is,vi="__reactResources$"+is,js="__reactMarker$"+is;function Lr(s){delete s[Bt],delete s[dn],delete s[xn],delete s[De],delete s[Hl]}function _i(s){var r=s[Bt];if(r)return r;for(var l=s.parentNode;l;){if(r=l[Ps]||l[Bt]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(s=kb(s);s!==null;){if(l=s[Bt])return l;s=kb(s)}return r}s=l,l=s.parentNode}return null}function Oi(s){if(s=s[Bt]||s[Ps]){var r=s.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return s}return null}function Jn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Is(s){var r=s[vi];return r||(r=s[vi]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function zt(s){s[js]=!0}var ql=new Set,Mr={};function ss(s,r){ki(s,r),ki(s+"Capture",r)}function ki(s,r){for(Mr[s]=r,s=0;s<r.length;s++)ql.add(r[s])}var Or=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ei={},Sa={};function bu(s){return es.call(Sa,s)?!0:es.call(ei,s)?!1:Or.test(s)?Sa[s]=!0:(ei[s]=!0,!1)}function kr(s,r,l){if(bu(r))if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var d=r.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+l)}}function Vr(s,r,l){if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+l)}}function xi(s,r,l,d){if(d===null)s.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(r,l,""+d)}}var Ds,rs;function as(s){if(Ds===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);Ds=r&&r[1]||"",rs=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ds+s+rs}var Ur=!1;function os(s,r){if(!s||Ur)return"";Ur=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(r){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(ae){var se=ae}Reflect.construct(s,[],ge)}else{try{ge.call()}catch(ae){se=ae}s.call(ge.prototype)}}else{try{throw Error()}catch(ae){se=ae}(ge=s())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(ae){if(ae&&se&&typeof ae.stack=="string")return[ae.stack,se.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),C=b[0],P=b[1];if(C&&P){var Z=C.split(`
`),ie=P.split(`
`);for(v=d=0;d<Z.length&&!Z[d].includes("DetermineComponentFrameRoot");)d++;for(;v<ie.length&&!ie[v].includes("DetermineComponentFrameRoot");)v++;if(d===Z.length||v===ie.length)for(d=Z.length-1,v=ie.length-1;1<=d&&0<=v&&Z[d]!==ie[v];)v--;for(;1<=d&&0<=v;d--,v--)if(Z[d]!==ie[v]){if(d!==1||v!==1)do if(d--,v--,0>v||Z[d]!==ie[v]){var fe=`
`+Z[d].replace(" at new "," at ");return s.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",s.displayName)),fe}while(1<=d&&0<=v);break}}}finally{Ur=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?as(l):""}function ot(s){switch(s.tag){case 26:case 27:case 5:return as(s.type);case 16:return as("Lazy");case 13:return as("Suspense");case 19:return as("SuspenseList");case 0:case 15:return os(s.type,!1);case 11:return os(s.type.render,!1);case 1:return os(s.type,!0);case 31:return as("Activity");default:return""}}function ht(s){try{var r="";do r+=ot(s),s=s.return;while(s);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function wt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ti(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function bi(s){var r=ti(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,r),d=""+s[r];if(!s.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var v=l.get,b=l.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return v.call(this)},set:function(C){d=""+C,b.call(this,C)}}),Object.defineProperty(s,r,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(C){d=""+C},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function ls(s){s._valueTracker||(s._valueTracker=bi(s))}function Ce(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var l=r.getValue(),d="";return s&&(d=ti(s)?s.checked?"true":"false":s.value),s=d,s!==l?(r.setValue(s),!0):!1}function vt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Ls=/[\n"\\]/g;function Ft(s){return s.replace(Ls,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function bn(s,r,l,d,v,b,C,P){s.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.type=C:s.removeAttribute("type"),r!=null?C==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+wt(r)):s.value!==""+wt(r)&&(s.value=""+wt(r)):C!=="submit"&&C!=="reset"||s.removeAttribute("value"),r!=null?nr(s,C,wt(r)):l!=null?nr(s,C,wt(l)):d!=null&&s.removeAttribute("value"),v==null&&b!=null&&(s.defaultChecked=!!b),v!=null&&(s.checked=v&&typeof v!="function"&&typeof v!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?s.name=""+wt(P):s.removeAttribute("name")}function Zo(s,r,l,d,v,b,C,P){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.type=b),r!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||r!=null))return;l=l!=null?""+wt(l):"",r=r!=null?""+wt(r):l,P||r===s.value||(s.value=r),s.defaultValue=r}d=d??v,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=P?s.checked:!!d,s.defaultChecked=!!d,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(s.name=C)}function nr(s,r,l){r==="number"&&vt(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function zn(s,r,l,d){if(s=s.options,r){r={};for(var v=0;v<l.length;v++)r["$"+l[v]]=!0;for(l=0;l<s.length;l++)v=r.hasOwnProperty("$"+s[l].value),s[l].selected!==v&&(s[l].selected=v),v&&d&&(s[l].defaultSelected=!0)}else{for(l=""+wt(l),r=null,v=0;v<s.length;v++){if(s[v].value===l){s[v].selected=!0,d&&(s[v].defaultSelected=!0);return}r!==null||s[v].disabled||(r=s[v])}r!==null&&(r.selected=!0)}}function It(s,r,l){if(r!=null&&(r=""+wt(r),r!==s.value&&(s.value=r),l==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=l!=null?""+wt(l):""}function cs(s,r,l,d){if(r==null){if(d!=null){if(l!=null)throw Error(i(92));if(je(d)){if(1<d.length)throw Error(i(93));d=d[0]}l=d}l==null&&(l=""),r=l}l=wt(r),s.defaultValue=l,d=s.textContent,d===l&&d!==""&&d!==null&&(s.value=d)}function wn(s,r){if(r){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=r;return}}s.textContent=r}var ni=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Br(s,r,l){var d=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":d?s.setProperty(r,l):typeof l!="number"||l===0||ni.has(r)?r==="float"?s.cssFloat=l:s[r]=(""+l).trim():s[r]=l+"px"}function Ms(s,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||r!=null&&r.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var v in r)d=r[v],r.hasOwnProperty(v)&&l[v]!==d&&Br(s,v,d)}else for(var b in r)r.hasOwnProperty(b)&&Br(s,b,r[b])}function ir(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Aa=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ii(s){return zr.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Fr=null;function sr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Os=null,fn=null;function Gl(s){var r=Oi(s);if(r&&(s=r.stateNode)){var l=s[dn]||null;e:switch(s=r.stateNode,r.type){case"input":if(bn(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ft(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var d=l[r];if(d!==s&&d.form===s.form){var v=d[dn]||null;if(!v)throw Error(i(90));bn(d,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(r=0;r<l.length;r++)d=l[r],d.form===s.form&&Ce(d)}break e;case"textarea":It(s,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&zn(s,!!l.multiple,r,!1)}}}var ze=!1;function Tn(s,r,l){if(ze)return s(r,l);ze=!0;try{var d=s(r);return d}finally{if(ze=!1,(Os!==null||fn!==null)&&(ef(),Os&&(r=Os,s=fn,fn=Os=null,Gl(r),s)))for(r=0;r<s.length;r++)Gl(s[r])}}function dt(s,r){var l=s.stateNode;if(l===null)return null;var d=l[dn]||null;if(d===null)return null;l=d[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vi=!1;if(En)try{var us={};Object.defineProperty(us,"passive",{get:function(){Vi=!0}}),window.addEventListener("test",us,us),window.removeEventListener("test",us,us)}catch{Vi=!1}var Fn=null,ft=null,rr=null;function ar(){if(rr)return rr;var s,r=ft,l=r.length,d,v="value"in Fn?Fn.value:Fn.textContent,b=v.length;for(s=0;s<l&&r[s]===v[s];s++);var C=l-s;for(d=1;d<=C&&r[l-d]===v[b-d];d++);return rr=v.slice(s,1<d?1-d:void 0)}function Dt(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function si(){return!0}function Na(){return!1}function Wt(s){function r(l,d,v,b,C){this._reactName=l,this._targetInst=v,this.type=d,this.nativeEvent=b,this.target=C,this.currentTarget=null;for(var P in s)s.hasOwnProperty(P)&&(l=s[P],this[P]=l?l(b):b[P]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?si:Na,this.isPropagationStopped=Na,this}return x(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),r}var Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},or=Wt(Sn),ks=x({},Sn,{view:0,detail:0}),Hr=Wt(ks),qr,Qe,hs,mn=x({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==hs&&(hs&&s.type==="mousemove"?(qr=s.screenX-hs.screenX,Qe=s.screenY-hs.screenY):Qe=qr=0,hs=s),qr)},movementY:function(s){return"movementY"in s?s.movementY:Qe}}),Ui=Wt(mn),Zl=x({},mn,{dataTransfer:0}),Wl=Wt(Zl),Vs=x({},ks,{relatedTarget:0}),Ca=Wt(Vs),Wo=x({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ko=Wt(Wo),$o=x({},Sn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ra=Wt($o),Pa=x({},Sn,{data:0}),Hn=Wt(Pa),Kl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ds={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yo(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Bi[s])?!!r[s]:!1}function Gr(){return Yo}var ja=x({},ks,{key:function(s){if(s.key){var r=Kl[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Dt(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ds[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gr,charCode:function(s){return s.type==="keypress"?Dt(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Dt(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ia=Wt(ja),An=x({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Da=Wt(An),$l=x({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gr}),lr=Wt($l),p=x({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),E=Wt(p),N=x({},mn,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),D=Wt(N),te=x({},Sn,{newState:0,oldState:0}),re=Wt(te),Ee=[9,13,27,32],Fe=En&&"CompositionEvent"in window,nt=null;En&&"documentMode"in document&&(nt=document.documentMode);var gt=En&&"TextEvent"in window&&!nt,Mt=En&&(!Fe||nt&&8<nt&&11>=nt),ri=" ",wi=!1;function ai(s,r){switch(s){case"keyup":return Ee.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zi(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Fi=!1;function La(s,r){switch(s){case"compositionend":return zi(r);case"keypress":return r.which!==32?null:(wi=!0,ri);case"textInput":return s=r.data,s===ri&&wi?null:s;default:return null}}function cp(s,r){if(Fi)return s==="compositionend"||!Fe&&ai(s,r)?(s=ar(),rr=ft=Fn=null,Fi=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Mt&&r.locale!=="ko"?null:r.data;default:return null}}var Hi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zr(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!Hi[s.type]:r==="textarea"}function vd(s,r,l,d){Os?fn?fn.push(d):fn=[d]:Os=d,r=of(r,"onChange"),0<r.length&&(l=new or("onChange","change",null,l,d),s.push({event:l,listeners:r}))}var oi=null,Qo=null;function Ma(s){Nb(s,0)}function Yl(s){var r=Jn(s);if(Ce(r))return s}function Oa(s,r){if(s==="change")return r}var wu=!1;if(En){var ka;if(En){var Tu="oninput"in document;if(!Tu){var Us=document.createElement("div");Us.setAttribute("oninput","return;"),Tu=typeof Us.oninput=="function"}ka=Tu}else ka=!1;wu=ka&&(!document.documentMode||9<document.documentMode)}function Xo(){oi&&(oi.detachEvent("onpropertychange",_d),Qo=oi=null)}function _d(s){if(s.propertyName==="value"&&Yl(Qo)){var r=[];vd(r,Qo,s,sr(s)),Tn(Ma,r)}}function Eu(s,r,l){s==="focusin"?(Xo(),oi=r,Qo=l,oi.attachEvent("onpropertychange",_d)):s==="focusout"&&Xo()}function up(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Yl(Qo)}function Bs(s,r){if(s==="click")return Yl(r)}function hp(s,r){if(s==="input"||s==="change")return Yl(r)}function Va(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var li=typeof Object.is=="function"?Object.is:Va;function ci(s,r){if(li(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var l=Object.keys(s),d=Object.keys(r);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var v=l[d];if(!es.call(r,v)||!li(s[v],r[v]))return!1}return!0}function Jo(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Su(s,r){var l=Jo(s);s=0;for(var d;l;){if(l.nodeType===3){if(d=s+l.textContent.length,s<=r&&d>=r)return{node:l,offset:r-s};s=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Jo(l)}}function Ql(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?Ql(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function el(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=vt(s.document);r instanceof s.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)s=r.contentWindow;else break;r=vt(s.document)}return r}function tl(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var Xl=En&&"documentMode"in document&&11>=document.documentMode,qi=null,Ua=null,Wr=null,Jl=!1;function xd(s,r,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Jl||qi==null||qi!==vt(d)||(d=qi,"selectionStart"in d&&tl(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Wr&&ci(Wr,d)||(Wr=d,d=of(Ua,"onSelect"),0<d.length&&(r=new or("onSelect","select",null,r,l),s.push({event:r,listeners:d}),r.target=qi)))}function fs(s,r){var l={};return l[s.toLowerCase()]=r.toLowerCase(),l["Webkit"+s]="webkit"+r,l["Moz"+s]="moz"+r,l}var Ba={animationend:fs("Animation","AnimationEnd"),animationiteration:fs("Animation","AnimationIteration"),animationstart:fs("Animation","AnimationStart"),transitionrun:fs("Transition","TransitionRun"),transitionstart:fs("Transition","TransitionStart"),transitioncancel:fs("Transition","TransitionCancel"),transitionend:fs("Transition","TransitionEnd")},ec={},bd={};En&&(bd=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function cr(s){if(ec[s])return ec[s];if(!Ba[s])return s;var r=Ba[s],l;for(l in r)if(r.hasOwnProperty(l)&&l in bd)return ec[s]=r[l];return s}var wd=cr("animationend"),Gi=cr("animationiteration"),nl=cr("animationstart"),dp=cr("transitionrun"),tc=cr("transitionstart"),fp=cr("transitioncancel"),Au=cr("transitionend"),Td=new Map,Kr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kr.push("scrollEnd");function Zi(s,r){Td.set(s,r),ss(r,[s])}var $r=new WeakMap;function ui(s,r){if(typeof s=="object"&&s!==null){var l=$r.get(s);return l!==void 0?l:(r={value:s,source:r,stack:ht(r)},$r.set(s,r),r)}return{value:s,source:r,stack:ht(r)}}var hi=[],za=0,Wi=0;function il(){for(var s=za,r=Wi=za=0;r<s;){var l=hi[r];hi[r++]=null;var d=hi[r];hi[r++]=null;var v=hi[r];hi[r++]=null;var b=hi[r];if(hi[r++]=null,d!==null&&v!==null){var C=d.pending;C===null?v.next=v:(v.next=C.next,C.next=v),d.pending=v}b!==0&&rl(l,v,b)}}function sl(s,r,l,d){hi[za++]=s,hi[za++]=r,hi[za++]=l,hi[za++]=d,Wi|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function Yr(s,r,l,d){return sl(s,r,l,d),ur(s)}function Fa(s,r){return sl(s,null,null,r),ur(s)}function rl(s,r,l){s.lanes|=l;var d=s.alternate;d!==null&&(d.lanes|=l);for(var v=!1,b=s.return;b!==null;)b.childLanes|=l,d=b.alternate,d!==null&&(d.childLanes|=l),b.tag===22&&(s=b.stateNode,s===null||s._visibility&1||(v=!0)),s=b,b=b.return;return s.tag===3?(b=s.stateNode,v&&r!==null&&(v=31-In(l),s=b.hiddenUpdates,d=s[v],d===null?s[v]=[r]:d.push(r),r.lane=l|536870912),b):null}function ur(s){if(50<$u)throw $u=0,ug=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var Qr={};function Ed(s,r,l,d){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function di(s,r,l,d){return new Ed(s,r,l,d)}function nc(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ms(s,r){var l=s.alternate;return l===null?(l=di(s.tag,r,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=r,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,r=s.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function Nu(s,r){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,r=l.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function al(s,r,l,d,v,b){var C=0;if(d=s,typeof s=="function")nc(s)&&(C=1);else if(typeof s=="string")C=OR(s,l,Te.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case U:return s=di(31,l,r,v),s.elementType=U,s.lanes=b,s;case I:return hr(l.children,v,b,r);case z:C=8,v|=24;break;case k:return s=di(12,l,r,v|2),s.elementType=k,s.lanes=b,s;case he:return s=di(13,l,r,v),s.elementType=he,s.lanes=b,s;case we:return s=di(19,l,r,v),s.elementType=we,s.lanes=b,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case $:case Q:C=10;break e;case Y:C=9;break e;case ve:C=11;break e;case F:C=14;break e;case O:C=16,d=null;break e}C=29,l=Error(i(130,s===null?"null":typeof s,"")),d=null}return r=di(C,l,r,v),r.elementType=s,r.type=d,r.lanes=b,r}function hr(s,r,l,d){return s=di(7,s,d,r),s.lanes=l,s}function Cu(s,r,l){return s=di(6,s,null,r),s.lanes=l,s}function ic(s,r,l){return r=di(4,s.children!==null?s.children:[],s.key,r),r.lanes=l,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var Xr=[],Ha=0,o=null,h=0,y=[],w=0,S=null,R=1,q="";function ee(s,r){Xr[Ha++]=h,Xr[Ha++]=o,o=s,h=r}function oe(s,r,l){y[w++]=R,y[w++]=q,y[w++]=S,S=s;var d=R;s=q;var v=32-In(d)-1;d&=~(1<<v),l+=1;var b=32-In(r)+v;if(30<b){var C=v-v%5;b=(d&(1<<C)-1).toString(32),d>>=C,v-=C,R=1<<32-In(r)+v|l<<v|d,q=b+s}else R=1<<b|l<<v|d,q=s}function _e(s){s.return!==null&&(ee(s,1),oe(s,1,0))}function Ae(s){for(;s===o;)o=Xr[--Ha],Xr[Ha]=null,h=Xr[--Ha],Xr[Ha]=null;for(;s===S;)S=y[--w],y[w]=null,q=y[--w],y[w]=null,R=y[--w],y[w]=null}var Ie=null,Oe=null,Ke=!1,Rt=null,Ht=!1,Nn=Error(i(519));function Ti(s){var r=Error(i(418,""));throw Ga(ui(r,s)),Nn}function Sd(s){var r=s.stateNode,l=s.type,d=s.memoizedProps;switch(r[Bt]=s,r[dn]=d,l){case"dialog":at("cancel",r),at("close",r);break;case"iframe":case"object":case"embed":at("load",r);break;case"video":case"audio":for(l=0;l<Qu.length;l++)at(Qu[l],r);break;case"source":at("error",r);break;case"img":case"image":case"link":at("error",r),at("load",r);break;case"details":at("toggle",r);break;case"input":at("invalid",r),Zo(r,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),ls(r);break;case"select":at("invalid",r);break;case"textarea":at("invalid",r),cs(r,d.value,d.defaultValue,d.children),ls(r)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||d.suppressHydrationWarning===!0||jb(r.textContent,l)?(d.popover!=null&&(at("beforetoggle",r),at("toggle",r)),d.onScroll!=null&&at("scroll",r),d.onScrollEnd!=null&&at("scrollend",r),d.onClick!=null&&(r.onclick=lf),r=!0):r=!1,r||Ti(s)}function Ad(s){for(Ie=s.return;Ie;)switch(Ie.tag){case 5:case 13:Ht=!1;return;case 27:case 3:Ht=!0;return;default:Ie=Ie.return}}function ol(s){if(s!==Ie)return!1;if(!Ke)return Ad(s),Ke=!0,!1;var r=s.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Ag(s.type,s.memoizedProps)),l=!l),l&&Oe&&Ti(s),Ad(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,r=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(r===0){Oe=qs(s.nextSibling);break e}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;s=s.nextSibling}Oe=null}}else r===27?(r=Oe,ao(s.type)?(s=Pg,Pg=null,Oe=s):Oe=r):Oe=Ie?qs(s.stateNode.nextSibling):null;return!0}function qa(){Oe=Ie=null,Ke=!1}function Nd(){var s=Rt;return s!==null&&(Ai===null?Ai=s:Ai.push.apply(Ai,s),Rt=null),s}function Ga(s){Rt===null?Rt=[s]:Rt.push(s)}var Ot=ce(null),ps=null,zs=null;function dr(s,r,l){xe(Ot,r._currentValue),r._currentValue=l}function Fs(s){s._currentValue=Ot.current,be(Ot)}function ll(s,r,l){for(;s!==null;){var d=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,d!==null&&(d.childLanes|=r)):d!==null&&(d.childLanes&r)!==r&&(d.childLanes|=r),s===l)break;s=s.return}}function sc(s,r,l,d){var v=s.child;for(v!==null&&(v.return=s);v!==null;){var b=v.dependencies;if(b!==null){var C=v.child;b=b.firstContext;e:for(;b!==null;){var P=b;b=v;for(var Z=0;Z<r.length;Z++)if(P.context===r[Z]){b.lanes|=l,P=b.alternate,P!==null&&(P.lanes|=l),ll(b.return,l,s),d||(C=null);break e}b=P.next}}else if(v.tag===18){if(C=v.return,C===null)throw Error(i(341));C.lanes|=l,b=C.alternate,b!==null&&(b.lanes|=l),ll(C,l,s),C=null}else C=v.child;if(C!==null)C.return=v;else for(C=v;C!==null;){if(C===s){C=null;break}if(v=C.sibling,v!==null){v.return=C.return,C=v;break}C=C.return}v=C}}function cl(s,r,l,d){s=null;for(var v=r,b=!1;v!==null;){if(!b){if((v.flags&524288)!==0)b=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var C=v.alternate;if(C===null)throw Error(i(387));if(C=C.memoizedProps,C!==null){var P=v.type;li(v.pendingProps.value,C.value)||(s!==null?s.push(P):s=[P])}}else if(v===At.current){if(C=v.alternate,C===null)throw Error(i(387));C.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(s!==null?s.push(ih):s=[ih])}v=v.return}s!==null&&sc(r,s,l,d),r.flags|=262144}function Cd(s){for(s=s.firstContext;s!==null;){if(!li(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ul(s){ps=s,zs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function qn(s){return y_(ps,s)}function Rd(s,r){return ps===null&&ul(s),y_(s,r)}function y_(s,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},zs===null){if(s===null)throw Error(i(308));zs=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else zs=zs.next=r;return l}var MC=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(l,d){s.push(d)}};this.abort=function(){r.aborted=!0,s.forEach(function(l){return l()})}},OC=t.unstable_scheduleCallback,kC=t.unstable_NormalPriority,pn={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mp(){return{controller:new MC,data:new Map,refCount:0}}function Ru(s){s.refCount--,s.refCount===0&&OC(kC,function(){s.controller.abort()})}var Pu=null,pp=0,rc=0,ac=null;function VC(s,r){if(Pu===null){var l=Pu=[];pp=0,rc=yg(),ac={status:"pending",value:void 0,then:function(d){l.push(d)}}}return pp++,r.then(v_,v_),r}function v_(){if(--pp===0&&Pu!==null){ac!==null&&(ac.status="fulfilled");var s=Pu;Pu=null,rc=0,ac=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function UC(s,r){var l=[],d={status:"pending",value:null,reason:null,then:function(v){l.push(v)}};return s.then(function(){d.status="fulfilled",d.value=r;for(var v=0;v<l.length;v++)(0,l[v])(r)},function(v){for(d.status="rejected",d.reason=v,v=0;v<l.length;v++)(0,l[v])(void 0)}),d}var __=J.S;J.S=function(s,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&VC(s,r),__!==null&&__(s,r)};var hl=ce(null);function gp(){var s=hl.current;return s!==null?s:Pt.pooledCache}function Pd(s,r){r===null?xe(hl,hl.current):xe(hl,r.pool)}function x_(){var s=gp();return s===null?null:{parent:pn._currentValue,pool:s}}var ju=Error(i(460)),b_=Error(i(474)),jd=Error(i(542)),yp={then:function(){}};function w_(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Id(){}function T_(s,r,l){switch(l=s[l],l===void 0?s.push(r):l!==r&&(r.then(Id,Id),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,S_(s),s;default:if(typeof r.status=="string")r.then(Id,Id);else{if(s=Pt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(d){if(r.status==="pending"){var v=r;v.status="fulfilled",v.value=d}},function(d){if(r.status==="pending"){var v=r;v.status="rejected",v.reason=d}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,S_(s),s}throw Iu=r,ju}}var Iu=null;function E_(){if(Iu===null)throw Error(i(459));var s=Iu;return Iu=null,s}function S_(s){if(s===ju||s===jd)throw Error(i(483))}var Za=!1;function vp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _p(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Wa(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ka(s,r,l){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(xt&2)!==0){var v=d.pending;return v===null?r.next=r:(r.next=v.next,v.next=r),d.pending=r,r=ur(s),rl(s,null,l),r}return sl(s,d,r,l),ur(s)}function Du(s,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var d=r.lanes;d&=s.pendingLanes,l|=d,r.lanes=l,tr(s,l)}}function xp(s,r){var l=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var v=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?v=b=C:b=b.next=C,l=l.next}while(l!==null);b===null?v=b=r:b=b.next=r}else v=b=r;l={baseState:d.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=r:s.next=r,l.lastBaseUpdate=r}var bp=!1;function Lu(){if(bp){var s=ac;if(s!==null)throw s}}function Mu(s,r,l,d){bp=!1;var v=s.updateQueue;Za=!1;var b=v.firstBaseUpdate,C=v.lastBaseUpdate,P=v.shared.pending;if(P!==null){v.shared.pending=null;var Z=P,ie=Z.next;Z.next=null,C===null?b=ie:C.next=ie,C=Z;var fe=s.alternate;fe!==null&&(fe=fe.updateQueue,P=fe.lastBaseUpdate,P!==C&&(P===null?fe.firstBaseUpdate=ie:P.next=ie,fe.lastBaseUpdate=Z))}if(b!==null){var ge=v.baseState;C=0,fe=ie=Z=null,P=b;do{var se=P.lane&-536870913,ae=se!==P.lane;if(ae?(mt&se)===se:(d&se)===se){se!==0&&se===rc&&(bp=!0),fe!==null&&(fe=fe.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var Ze=s,Be=P;se=r;var St=l;switch(Be.tag){case 1:if(Ze=Be.payload,typeof Ze=="function"){ge=Ze.call(St,ge,se);break e}ge=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=Be.payload,se=typeof Ze=="function"?Ze.call(St,ge,se):Ze,se==null)break e;ge=x({},ge,se);break e;case 2:Za=!0}}se=P.callback,se!==null&&(s.flags|=64,ae&&(s.flags|=8192),ae=v.callbacks,ae===null?v.callbacks=[se]:ae.push(se))}else ae={lane:se,tag:P.tag,payload:P.payload,callback:P.callback,next:null},fe===null?(ie=fe=ae,Z=ge):fe=fe.next=ae,C|=se;if(P=P.next,P===null){if(P=v.shared.pending,P===null)break;ae=P,P=ae.next,ae.next=null,v.lastBaseUpdate=ae,v.shared.pending=null}}while(!0);fe===null&&(Z=ge),v.baseState=Z,v.firstBaseUpdate=ie,v.lastBaseUpdate=fe,b===null&&(v.shared.lanes=0),no|=C,s.lanes=C,s.memoizedState=ge}}function A_(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function N_(s,r){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)A_(l[s],r)}var oc=ce(null),Dd=ce(0);function C_(s,r){s=ra,xe(Dd,s),xe(oc,r),ra=s|r.baseLanes}function wp(){xe(Dd,ra),xe(oc,oc.current)}function Tp(){ra=Dd.current,be(oc),be(Dd)}var $a=0,tt=null,Tt=null,rn=null,Ld=!1,lc=!1,dl=!1,Md=0,Ou=0,cc=null,BC=0;function Jt(){throw Error(i(321))}function Ep(s,r){if(r===null)return!1;for(var l=0;l<r.length&&l<s.length;l++)if(!li(s[l],r[l]))return!1;return!0}function Sp(s,r,l,d,v,b){return $a=b,tt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,J.H=s===null||s.memoizedState===null?hx:dx,dl=!1,b=l(d,v),dl=!1,lc&&(b=P_(r,l,d,v)),R_(s),b}function R_(s){J.H=zd;var r=Tt!==null&&Tt.next!==null;if($a=0,rn=Tt=tt=null,Ld=!1,Ou=0,cc=null,r)throw Error(i(300));s===null||Cn||(s=s.dependencies,s!==null&&Cd(s)&&(Cn=!0))}function P_(s,r,l,d){tt=s;var v=0;do{if(lc&&(cc=null),Ou=0,lc=!1,25<=v)throw Error(i(301));if(v+=1,rn=Tt=null,s.updateQueue!=null){var b=s.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}J.H=WC,b=r(l,d)}while(lc);return b}function zC(){var s=J.H,r=s.useState()[0];return r=typeof r.then=="function"?ku(r):r,s=s.useState()[0],(Tt!==null?Tt.memoizedState:null)!==s&&(tt.flags|=1024),r}function Ap(){var s=Md!==0;return Md=0,s}function Np(s,r,l){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~l}function Cp(s){if(Ld){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Ld=!1}$a=0,rn=Tt=tt=null,lc=!1,Ou=Md=0,cc=null}function Ei(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?tt.memoizedState=rn=s:rn=rn.next=s,rn}function an(){if(Tt===null){var s=tt.alternate;s=s!==null?s.memoizedState:null}else s=Tt.next;var r=rn===null?tt.memoizedState:rn.next;if(r!==null)rn=r,Tt=s;else{if(s===null)throw tt.alternate===null?Error(i(467)):Error(i(310));Tt=s,s={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},rn===null?tt.memoizedState=rn=s:rn=rn.next=s}return rn}function Rp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ku(s){var r=Ou;return Ou+=1,cc===null&&(cc=[]),s=T_(cc,s,r),r=tt,(rn===null?r.memoizedState:rn.next)===null&&(r=r.alternate,J.H=r===null||r.memoizedState===null?hx:dx),s}function Od(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return ku(s);if(s.$$typeof===Q)return qn(s)}throw Error(i(438,String(s)))}function Pp(s){var r=null,l=tt.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var d=tt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(r={data:d.data.map(function(v){return v.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=Rp(),tt.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(s),d=0;d<s;d++)l[d]=W;return r.index++,l}function Jr(s,r){return typeof r=="function"?r(s):r}function kd(s){var r=an();return jp(r,Tt,s)}function jp(s,r,l){var d=s.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=l;var v=s.baseQueue,b=d.pending;if(b!==null){if(v!==null){var C=v.next;v.next=b.next,b.next=C}r.baseQueue=v=b,d.pending=null}if(b=s.baseState,v===null)s.memoizedState=b;else{r=v.next;var P=C=null,Z=null,ie=r,fe=!1;do{var ge=ie.lane&-536870913;if(ge!==ie.lane?(mt&ge)===ge:($a&ge)===ge){var se=ie.revertLane;if(se===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),ge===rc&&(fe=!0);else if(($a&se)===se){ie=ie.next,se===rc&&(fe=!0);continue}else ge={lane:0,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},Z===null?(P=Z=ge,C=b):Z=Z.next=ge,tt.lanes|=se,no|=se;ge=ie.action,dl&&l(b,ge),b=ie.hasEagerState?ie.eagerState:l(b,ge)}else se={lane:ge,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},Z===null?(P=Z=se,C=b):Z=Z.next=se,tt.lanes|=ge,no|=ge;ie=ie.next}while(ie!==null&&ie!==r);if(Z===null?C=b:Z.next=P,!li(b,s.memoizedState)&&(Cn=!0,fe&&(l=ac,l!==null)))throw l;s.memoizedState=b,s.baseState=C,s.baseQueue=Z,d.lastRenderedState=b}return v===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function Ip(s){var r=an(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var d=l.dispatch,v=l.pending,b=r.memoizedState;if(v!==null){l.pending=null;var C=v=v.next;do b=s(b,C.action),C=C.next;while(C!==v);li(b,r.memoizedState)||(Cn=!0),r.memoizedState=b,r.baseQueue===null&&(r.baseState=b),l.lastRenderedState=b}return[b,d]}function j_(s,r,l){var d=tt,v=an(),b=Ke;if(b){if(l===void 0)throw Error(i(407));l=l()}else l=r();var C=!li((Tt||v).memoizedState,l);C&&(v.memoizedState=l,Cn=!0),v=v.queue;var P=L_.bind(null,d,v,s);if(Vu(2048,8,P,[s]),v.getSnapshot!==r||C||rn!==null&&rn.memoizedState.tag&1){if(d.flags|=2048,uc(9,Vd(),D_.bind(null,d,v,l,r),null),Pt===null)throw Error(i(349));b||($a&124)!==0||I_(d,r,l)}return l}function I_(s,r,l){s.flags|=16384,s={getSnapshot:r,value:l},r=tt.updateQueue,r===null?(r=Rp(),tt.updateQueue=r,r.stores=[s]):(l=r.stores,l===null?r.stores=[s]:l.push(s))}function D_(s,r,l,d){r.value=l,r.getSnapshot=d,M_(r)&&O_(s)}function L_(s,r,l){return l(function(){M_(r)&&O_(s)})}function M_(s){var r=s.getSnapshot;s=s.value;try{var l=r();return!li(s,l)}catch{return!0}}function O_(s){var r=Fa(s,2);r!==null&&Xi(r,s,2)}function Dp(s){var r=Ei();if(typeof s=="function"){var l=s;if(s=l(),dl){Xn(!0);try{l()}finally{Xn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:s},r}function k_(s,r,l,d){return s.baseState=l,jp(s,Tt,typeof d=="function"?d:Jr)}function FC(s,r,l,d,v){if(Bd(s))throw Error(i(485));if(s=r.action,s!==null){var b={payload:v,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){b.listeners.push(C)}};J.T!==null?l(!0):b.isTransition=!1,d(b),l=r.pending,l===null?(b.next=r.pending=b,V_(r,b)):(b.next=l.next,r.pending=l.next=b)}}function V_(s,r){var l=r.action,d=r.payload,v=s.state;if(r.isTransition){var b=J.T,C={};J.T=C;try{var P=l(v,d),Z=J.S;Z!==null&&Z(C,P),U_(s,r,P)}catch(ie){Lp(s,r,ie)}finally{J.T=b}}else try{b=l(v,d),U_(s,r,b)}catch(ie){Lp(s,r,ie)}}function U_(s,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){B_(s,r,d)},function(d){return Lp(s,r,d)}):B_(s,r,l)}function B_(s,r,l){r.status="fulfilled",r.value=l,z_(r),s.state=l,r=s.pending,r!==null&&(l=r.next,l===r?s.pending=null:(l=l.next,r.next=l,V_(s,l)))}function Lp(s,r,l){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do r.status="rejected",r.reason=l,z_(r),r=r.next;while(r!==d)}s.action=null}function z_(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function F_(s,r){return r}function H_(s,r){if(Ke){var l=Pt.formState;if(l!==null){e:{var d=tt;if(Ke){if(Oe){t:{for(var v=Oe,b=Ht;v.nodeType!==8;){if(!b){v=null;break t}if(v=qs(v.nextSibling),v===null){v=null;break t}}b=v.data,v=b==="F!"||b==="F"?v:null}if(v){Oe=qs(v.nextSibling),d=v.data==="F!";break e}}Ti(d)}d=!1}d&&(r=l[0])}}return l=Ei(),l.memoizedState=l.baseState=r,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:F_,lastRenderedState:r},l.queue=d,l=lx.bind(null,tt,d),d.dispatch=l,d=Dp(!1),b=Up.bind(null,tt,!1,d.queue),d=Ei(),v={state:r,dispatch:null,action:s,pending:null},d.queue=v,l=FC.bind(null,tt,v,b,l),v.dispatch=l,d.memoizedState=s,[r,l,!1]}function q_(s){var r=an();return G_(r,Tt,s)}function G_(s,r,l){if(r=jp(s,r,F_)[0],s=kd(Jr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var d=ku(r)}catch(C){throw C===ju?jd:C}else d=r;r=an();var v=r.queue,b=v.dispatch;return l!==r.memoizedState&&(tt.flags|=2048,uc(9,Vd(),HC.bind(null,v,l),null)),[d,b,s]}function HC(s,r){s.action=r}function Z_(s){var r=an(),l=Tt;if(l!==null)return G_(r,l,s);an(),r=r.memoizedState,l=an();var d=l.queue.dispatch;return l.memoizedState=s,[r,d,!1]}function uc(s,r,l,d){return s={tag:s,create:l,deps:d,inst:r,next:null},r=tt.updateQueue,r===null&&(r=Rp(),tt.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=s.next=s:(d=l.next,l.next=s,s.next=d,r.lastEffect=s),s}function Vd(){return{destroy:void 0,resource:void 0}}function W_(){return an().memoizedState}function Ud(s,r,l,d){var v=Ei();d=d===void 0?null:d,tt.flags|=s,v.memoizedState=uc(1|r,Vd(),l,d)}function Vu(s,r,l,d){var v=an();d=d===void 0?null:d;var b=v.memoizedState.inst;Tt!==null&&d!==null&&Ep(d,Tt.memoizedState.deps)?v.memoizedState=uc(r,b,l,d):(tt.flags|=s,v.memoizedState=uc(1|r,b,l,d))}function K_(s,r){Ud(8390656,8,s,r)}function $_(s,r){Vu(2048,8,s,r)}function Y_(s,r){return Vu(4,2,s,r)}function Q_(s,r){return Vu(4,4,s,r)}function X_(s,r){if(typeof r=="function"){s=s();var l=r(s);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function J_(s,r,l){l=l!=null?l.concat([s]):null,Vu(4,4,X_.bind(null,r,s),l)}function Mp(){}function ex(s,r){var l=an();r=r===void 0?null:r;var d=l.memoizedState;return r!==null&&Ep(r,d[1])?d[0]:(l.memoizedState=[s,r],s)}function tx(s,r){var l=an();r=r===void 0?null:r;var d=l.memoizedState;if(r!==null&&Ep(r,d[1]))return d[0];if(d=s(),dl){Xn(!0);try{s()}finally{Xn(!1)}}return l.memoizedState=[d,r],d}function Op(s,r,l){return l===void 0||($a&1073741824)!==0?s.memoizedState=r:(s.memoizedState=l,s=sb(),tt.lanes|=s,no|=s,l)}function nx(s,r,l,d){return li(l,r)?l:oc.current!==null?(s=Op(s,l,d),li(s,r)||(Cn=!0),s):($a&42)===0?(Cn=!0,s.memoizedState=l):(s=sb(),tt.lanes|=s,no|=s,r)}function ix(s,r,l,d,v){var b=de.p;de.p=b!==0&&8>b?b:8;var C=J.T,P={};J.T=P,Up(s,!1,r,l);try{var Z=v(),ie=J.S;if(ie!==null&&ie(P,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var fe=UC(Z,d);Uu(s,r,fe,Qi(s))}else Uu(s,r,d,Qi(s))}catch(ge){Uu(s,r,{then:function(){},status:"rejected",reason:ge},Qi())}finally{de.p=b,J.T=C}}function qC(){}function kp(s,r,l,d){if(s.tag!==5)throw Error(i(476));var v=sx(s).queue;ix(s,v,r,le,l===null?qC:function(){return rx(s),l(d)})}function sx(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:le},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:l},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function rx(s){var r=sx(s).next.queue;Uu(s,r,{},Qi())}function Vp(){return qn(ih)}function ax(){return an().memoizedState}function ox(){return an().memoizedState}function GC(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var l=Qi();s=Wa(l);var d=Ka(r,s,l);d!==null&&(Xi(d,r,l),Du(d,r,l)),r={cache:mp()},s.payload=r;return}r=r.return}}function ZC(s,r,l){var d=Qi();l={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Bd(s)?cx(r,l):(l=Yr(s,r,l,d),l!==null&&(Xi(l,s,d),ux(l,r,d)))}function lx(s,r,l){var d=Qi();Uu(s,r,l,d)}function Uu(s,r,l,d){var v={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Bd(s))cx(r,v);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=r.lastRenderedReducer,b!==null))try{var C=r.lastRenderedState,P=b(C,l);if(v.hasEagerState=!0,v.eagerState=P,li(P,C))return sl(s,r,v,0),Pt===null&&il(),!1}catch{}finally{}if(l=Yr(s,r,v,d),l!==null)return Xi(l,s,d),ux(l,r,d),!0}return!1}function Up(s,r,l,d){if(d={lane:2,revertLane:yg(),action:d,hasEagerState:!1,eagerState:null,next:null},Bd(s)){if(r)throw Error(i(479))}else r=Yr(s,l,d,2),r!==null&&Xi(r,s,2)}function Bd(s){var r=s.alternate;return s===tt||r!==null&&r===tt}function cx(s,r){lc=Ld=!0;var l=s.pending;l===null?r.next=r:(r.next=l.next,l.next=r),s.pending=r}function ux(s,r,l){if((l&4194048)!==0){var d=r.lanes;d&=s.pendingLanes,l|=d,r.lanes=l,tr(s,l)}}var zd={readContext:qn,use:Od,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useLayoutEffect:Jt,useInsertionEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useSyncExternalStore:Jt,useId:Jt,useHostTransitionStatus:Jt,useFormState:Jt,useActionState:Jt,useOptimistic:Jt,useMemoCache:Jt,useCacheRefresh:Jt},hx={readContext:qn,use:Od,useCallback:function(s,r){return Ei().memoizedState=[s,r===void 0?null:r],s},useContext:qn,useEffect:K_,useImperativeHandle:function(s,r,l){l=l!=null?l.concat([s]):null,Ud(4194308,4,X_.bind(null,r,s),l)},useLayoutEffect:function(s,r){return Ud(4194308,4,s,r)},useInsertionEffect:function(s,r){Ud(4,2,s,r)},useMemo:function(s,r){var l=Ei();r=r===void 0?null:r;var d=s();if(dl){Xn(!0);try{s()}finally{Xn(!1)}}return l.memoizedState=[d,r],d},useReducer:function(s,r,l){var d=Ei();if(l!==void 0){var v=l(r);if(dl){Xn(!0);try{l(r)}finally{Xn(!1)}}}else v=r;return d.memoizedState=d.baseState=v,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:v},d.queue=s,s=s.dispatch=ZC.bind(null,tt,s),[d.memoizedState,s]},useRef:function(s){var r=Ei();return s={current:s},r.memoizedState=s},useState:function(s){s=Dp(s);var r=s.queue,l=lx.bind(null,tt,r);return r.dispatch=l,[s.memoizedState,l]},useDebugValue:Mp,useDeferredValue:function(s,r){var l=Ei();return Op(l,s,r)},useTransition:function(){var s=Dp(!1);return s=ix.bind(null,tt,s.queue,!0,!1),Ei().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,l){var d=tt,v=Ei();if(Ke){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),Pt===null)throw Error(i(349));(mt&124)!==0||I_(d,r,l)}v.memoizedState=l;var b={value:l,getSnapshot:r};return v.queue=b,K_(L_.bind(null,d,b,s),[s]),d.flags|=2048,uc(9,Vd(),D_.bind(null,d,b,l,r),null),l},useId:function(){var s=Ei(),r=Pt.identifierPrefix;if(Ke){var l=q,d=R;l=(d&~(1<<32-In(d)-1)).toString(32)+l,r="«"+r+"R"+l,l=Md++,0<l&&(r+="H"+l.toString(32)),r+="»"}else l=BC++,r="«"+r+"r"+l.toString(32)+"»";return s.memoizedState=r},useHostTransitionStatus:Vp,useFormState:H_,useActionState:H_,useOptimistic:function(s){var r=Ei();r.memoizedState=r.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=Up.bind(null,tt,!0,l),l.dispatch=r,[s,r]},useMemoCache:Pp,useCacheRefresh:function(){return Ei().memoizedState=GC.bind(null,tt)}},dx={readContext:qn,use:Od,useCallback:ex,useContext:qn,useEffect:$_,useImperativeHandle:J_,useInsertionEffect:Y_,useLayoutEffect:Q_,useMemo:tx,useReducer:kd,useRef:W_,useState:function(){return kd(Jr)},useDebugValue:Mp,useDeferredValue:function(s,r){var l=an();return nx(l,Tt.memoizedState,s,r)},useTransition:function(){var s=kd(Jr)[0],r=an().memoizedState;return[typeof s=="boolean"?s:ku(s),r]},useSyncExternalStore:j_,useId:ax,useHostTransitionStatus:Vp,useFormState:q_,useActionState:q_,useOptimistic:function(s,r){var l=an();return k_(l,Tt,s,r)},useMemoCache:Pp,useCacheRefresh:ox},WC={readContext:qn,use:Od,useCallback:ex,useContext:qn,useEffect:$_,useImperativeHandle:J_,useInsertionEffect:Y_,useLayoutEffect:Q_,useMemo:tx,useReducer:Ip,useRef:W_,useState:function(){return Ip(Jr)},useDebugValue:Mp,useDeferredValue:function(s,r){var l=an();return Tt===null?Op(l,s,r):nx(l,Tt.memoizedState,s,r)},useTransition:function(){var s=Ip(Jr)[0],r=an().memoizedState;return[typeof s=="boolean"?s:ku(s),r]},useSyncExternalStore:j_,useId:ax,useHostTransitionStatus:Vp,useFormState:Z_,useActionState:Z_,useOptimistic:function(s,r){var l=an();return Tt!==null?k_(l,Tt,s,r):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Pp,useCacheRefresh:ox},hc=null,Bu=0;function Fd(s){var r=Bu;return Bu+=1,hc===null&&(hc=[]),T_(hc,s,r)}function zu(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Hd(s,r){throw r.$$typeof===T?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function fx(s){var r=s._init;return r(s._payload)}function mx(s){function r(X,K){if(s){var ne=X.deletions;ne===null?(X.deletions=[K],X.flags|=16):ne.push(K)}}function l(X,K){if(!s)return null;for(;K!==null;)r(X,K),K=K.sibling;return null}function d(X){for(var K=new Map;X!==null;)X.key!==null?K.set(X.key,X):K.set(X.index,X),X=X.sibling;return K}function v(X,K){return X=ms(X,K),X.index=0,X.sibling=null,X}function b(X,K,ne){return X.index=ne,s?(ne=X.alternate,ne!==null?(ne=ne.index,ne<K?(X.flags|=67108866,K):ne):(X.flags|=67108866,K)):(X.flags|=1048576,K)}function C(X){return s&&X.alternate===null&&(X.flags|=67108866),X}function P(X,K,ne,me){return K===null||K.tag!==6?(K=Cu(ne,X.mode,me),K.return=X,K):(K=v(K,ne),K.return=X,K)}function Z(X,K,ne,me){var Le=ne.type;return Le===I?fe(X,K,ne.props.children,me,ne.key):K!==null&&(K.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===O&&fx(Le)===K.type)?(K=v(K,ne.props),zu(K,ne),K.return=X,K):(K=al(ne.type,ne.key,ne.props,null,X.mode,me),zu(K,ne),K.return=X,K)}function ie(X,K,ne,me){return K===null||K.tag!==4||K.stateNode.containerInfo!==ne.containerInfo||K.stateNode.implementation!==ne.implementation?(K=ic(ne,X.mode,me),K.return=X,K):(K=v(K,ne.children||[]),K.return=X,K)}function fe(X,K,ne,me,Le){return K===null||K.tag!==7?(K=hr(ne,X.mode,me,Le),K.return=X,K):(K=v(K,ne),K.return=X,K)}function ge(X,K,ne){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Cu(""+K,X.mode,ne),K.return=X,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case A:return ne=al(K.type,K.key,K.props,null,X.mode,ne),zu(ne,K),ne.return=X,ne;case j:return K=ic(K,X.mode,ne),K.return=X,K;case O:var me=K._init;return K=me(K._payload),ge(X,K,ne)}if(je(K)||G(K))return K=hr(K,X.mode,ne,null),K.return=X,K;if(typeof K.then=="function")return ge(X,Fd(K),ne);if(K.$$typeof===Q)return ge(X,Rd(X,K),ne);Hd(X,K)}return null}function se(X,K,ne,me){var Le=K!==null?K.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Le!==null?null:P(X,K,""+ne,me);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case A:return ne.key===Le?Z(X,K,ne,me):null;case j:return ne.key===Le?ie(X,K,ne,me):null;case O:return Le=ne._init,ne=Le(ne._payload),se(X,K,ne,me)}if(je(ne)||G(ne))return Le!==null?null:fe(X,K,ne,me,null);if(typeof ne.then=="function")return se(X,K,Fd(ne),me);if(ne.$$typeof===Q)return se(X,K,Rd(X,ne),me);Hd(X,ne)}return null}function ae(X,K,ne,me,Le){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return X=X.get(ne)||null,P(K,X,""+me,Le);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case A:return X=X.get(me.key===null?ne:me.key)||null,Z(K,X,me,Le);case j:return X=X.get(me.key===null?ne:me.key)||null,ie(K,X,me,Le);case O:var it=me._init;return me=it(me._payload),ae(X,K,ne,me,Le)}if(je(me)||G(me))return X=X.get(ne)||null,fe(K,X,me,Le,null);if(typeof me.then=="function")return ae(X,K,ne,Fd(me),Le);if(me.$$typeof===Q)return ae(X,K,ne,Rd(K,me),Le);Hd(K,me)}return null}function Ze(X,K,ne,me){for(var Le=null,it=null,ke=K,He=K=0,Pn=null;ke!==null&&He<ne.length;He++){ke.index>He?(Pn=ke,ke=null):Pn=ke.sibling;var yt=se(X,ke,ne[He],me);if(yt===null){ke===null&&(ke=Pn);break}s&&ke&&yt.alternate===null&&r(X,ke),K=b(yt,K,He),it===null?Le=yt:it.sibling=yt,it=yt,ke=Pn}if(He===ne.length)return l(X,ke),Ke&&ee(X,He),Le;if(ke===null){for(;He<ne.length;He++)ke=ge(X,ne[He],me),ke!==null&&(K=b(ke,K,He),it===null?Le=ke:it.sibling=ke,it=ke);return Ke&&ee(X,He),Le}for(ke=d(ke);He<ne.length;He++)Pn=ae(ke,X,He,ne[He],me),Pn!==null&&(s&&Pn.alternate!==null&&ke.delete(Pn.key===null?He:Pn.key),K=b(Pn,K,He),it===null?Le=Pn:it.sibling=Pn,it=Pn);return s&&ke.forEach(function(ho){return r(X,ho)}),Ke&&ee(X,He),Le}function Be(X,K,ne,me){if(ne==null)throw Error(i(151));for(var Le=null,it=null,ke=K,He=K=0,Pn=null,yt=ne.next();ke!==null&&!yt.done;He++,yt=ne.next()){ke.index>He?(Pn=ke,ke=null):Pn=ke.sibling;var ho=se(X,ke,yt.value,me);if(ho===null){ke===null&&(ke=Pn);break}s&&ke&&ho.alternate===null&&r(X,ke),K=b(ho,K,He),it===null?Le=ho:it.sibling=ho,it=ho,ke=Pn}if(yt.done)return l(X,ke),Ke&&ee(X,He),Le;if(ke===null){for(;!yt.done;He++,yt=ne.next())yt=ge(X,yt.value,me),yt!==null&&(K=b(yt,K,He),it===null?Le=yt:it.sibling=yt,it=yt);return Ke&&ee(X,He),Le}for(ke=d(ke);!yt.done;He++,yt=ne.next())yt=ae(ke,X,He,yt.value,me),yt!==null&&(s&&yt.alternate!==null&&ke.delete(yt.key===null?He:yt.key),K=b(yt,K,He),it===null?Le=yt:it.sibling=yt,it=yt);return s&&ke.forEach(function(KR){return r(X,KR)}),Ke&&ee(X,He),Le}function St(X,K,ne,me){if(typeof ne=="object"&&ne!==null&&ne.type===I&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case A:e:{for(var Le=ne.key;K!==null;){if(K.key===Le){if(Le=ne.type,Le===I){if(K.tag===7){l(X,K.sibling),me=v(K,ne.props.children),me.return=X,X=me;break e}}else if(K.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===O&&fx(Le)===K.type){l(X,K.sibling),me=v(K,ne.props),zu(me,ne),me.return=X,X=me;break e}l(X,K);break}else r(X,K);K=K.sibling}ne.type===I?(me=hr(ne.props.children,X.mode,me,ne.key),me.return=X,X=me):(me=al(ne.type,ne.key,ne.props,null,X.mode,me),zu(me,ne),me.return=X,X=me)}return C(X);case j:e:{for(Le=ne.key;K!==null;){if(K.key===Le)if(K.tag===4&&K.stateNode.containerInfo===ne.containerInfo&&K.stateNode.implementation===ne.implementation){l(X,K.sibling),me=v(K,ne.children||[]),me.return=X,X=me;break e}else{l(X,K);break}else r(X,K);K=K.sibling}me=ic(ne,X.mode,me),me.return=X,X=me}return C(X);case O:return Le=ne._init,ne=Le(ne._payload),St(X,K,ne,me)}if(je(ne))return Ze(X,K,ne,me);if(G(ne)){if(Le=G(ne),typeof Le!="function")throw Error(i(150));return ne=Le.call(ne),Be(X,K,ne,me)}if(typeof ne.then=="function")return St(X,K,Fd(ne),me);if(ne.$$typeof===Q)return St(X,K,Rd(X,ne),me);Hd(X,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,K!==null&&K.tag===6?(l(X,K.sibling),me=v(K,ne),me.return=X,X=me):(l(X,K),me=Cu(ne,X.mode,me),me.return=X,X=me),C(X)):l(X,K)}return function(X,K,ne,me){try{Bu=0;var Le=St(X,K,ne,me);return hc=null,Le}catch(ke){if(ke===ju||ke===jd)throw ke;var it=di(29,ke,null,X.mode);return it.lanes=me,it.return=X,it}finally{}}}var dc=mx(!0),px=mx(!1),gs=ce(null),fr=null;function Ya(s){var r=s.alternate;xe(gn,gn.current&1),xe(gs,s),fr===null&&(r===null||oc.current!==null||r.memoizedState!==null)&&(fr=s)}function gx(s){if(s.tag===22){if(xe(gn,gn.current),xe(gs,s),fr===null){var r=s.alternate;r!==null&&r.memoizedState!==null&&(fr=s)}}else Qa()}function Qa(){xe(gn,gn.current),xe(gs,gs.current)}function ea(s){be(gs),fr===s&&(fr=null),be(gn)}var gn=ce(0);function qd(s){for(var r=s;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Rg(l)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Bp(s,r,l,d){r=s.memoizedState,l=l(d,r),l=l==null?r:x({},r,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var zp={enqueueSetState:function(s,r,l){s=s._reactInternals;var d=Qi(),v=Wa(d);v.payload=r,l!=null&&(v.callback=l),r=Ka(s,v,d),r!==null&&(Xi(r,s,d),Du(r,s,d))},enqueueReplaceState:function(s,r,l){s=s._reactInternals;var d=Qi(),v=Wa(d);v.tag=1,v.payload=r,l!=null&&(v.callback=l),r=Ka(s,v,d),r!==null&&(Xi(r,s,d),Du(r,s,d))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var l=Qi(),d=Wa(l);d.tag=2,r!=null&&(d.callback=r),r=Ka(s,d,l),r!==null&&(Xi(r,s,l),Du(r,s,l))}};function yx(s,r,l,d,v,b,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,b,C):r.prototype&&r.prototype.isPureReactComponent?!ci(l,d)||!ci(v,b):!0}function vx(s,r,l,d){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,d),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,d),r.state!==s&&zp.enqueueReplaceState(r,r.state,null)}function fl(s,r){var l=r;if("ref"in r){l={};for(var d in r)d!=="ref"&&(l[d]=r[d])}if(s=s.defaultProps){l===r&&(l=x({},l));for(var v in s)l[v]===void 0&&(l[v]=s[v])}return l}var Gd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function _x(s){Gd(s)}function xx(s){console.error(s)}function bx(s){Gd(s)}function Zd(s,r){try{var l=s.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(d){setTimeout(function(){throw d})}}function wx(s,r,l){try{var d=s.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Fp(s,r,l){return l=Wa(l),l.tag=3,l.payload={element:null},l.callback=function(){Zd(s,r)},l}function Tx(s){return s=Wa(s),s.tag=3,s}function Ex(s,r,l,d){var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var b=d.value;s.payload=function(){return v(b)},s.callback=function(){wx(r,l,d)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(s.callback=function(){wx(r,l,d),typeof v!="function"&&(io===null?io=new Set([this]):io.add(this));var P=d.stack;this.componentDidCatch(d.value,{componentStack:P!==null?P:""})})}function KC(s,r,l,d,v){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(r=l.alternate,r!==null&&cl(r,l,v,!0),l=gs.current,l!==null){switch(l.tag){case 13:return fr===null?dg():l.alternate===null&&Kt===0&&(Kt=3),l.flags&=-257,l.flags|=65536,l.lanes=v,d===yp?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([d]):r.add(d),mg(s,d,v)),!1;case 22:return l.flags|=65536,d===yp?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([d]):l.add(d)),mg(s,d,v)),!1}throw Error(i(435,l.tag))}return mg(s,d,v),dg(),!1}if(Ke)return r=gs.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=v,d!==Nn&&(s=Error(i(422),{cause:d}),Ga(ui(s,l)))):(d!==Nn&&(r=Error(i(423),{cause:d}),Ga(ui(r,l))),s=s.current.alternate,s.flags|=65536,v&=-v,s.lanes|=v,d=ui(d,l),v=Fp(s.stateNode,d,v),xp(s,v),Kt!==4&&(Kt=2)),!1;var b=Error(i(520),{cause:d});if(b=ui(b,l),Ku===null?Ku=[b]:Ku.push(b),Kt!==4&&(Kt=2),r===null)return!0;d=ui(d,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,s=v&-v,l.lanes|=s,s=Fp(l.stateNode,d,s),xp(l,s),!1;case 1:if(r=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(io===null||!io.has(b))))return l.flags|=65536,v&=-v,l.lanes|=v,v=Tx(v),Ex(v,s,l,d),xp(l,v),!1}l=l.return}while(l!==null);return!1}var Sx=Error(i(461)),Cn=!1;function Dn(s,r,l,d){r.child=s===null?px(r,null,l,d):dc(r,s.child,l,d)}function Ax(s,r,l,d,v){l=l.render;var b=r.ref;if("ref"in d){var C={};for(var P in d)P!=="ref"&&(C[P]=d[P])}else C=d;return ul(r),d=Sp(s,r,l,C,b,v),P=Ap(),s!==null&&!Cn?(Np(s,r,v),ta(s,r,v)):(Ke&&P&&_e(r),r.flags|=1,Dn(s,r,d,v),r.child)}function Nx(s,r,l,d,v){if(s===null){var b=l.type;return typeof b=="function"&&!nc(b)&&b.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=b,Cx(s,r,b,d,v)):(s=al(l.type,null,d,r,r.mode,v),s.ref=r.ref,s.return=r,r.child=s)}if(b=s.child,!Yp(s,v)){var C=b.memoizedProps;if(l=l.compare,l=l!==null?l:ci,l(C,d)&&s.ref===r.ref)return ta(s,r,v)}return r.flags|=1,s=ms(b,d),s.ref=r.ref,s.return=r,r.child=s}function Cx(s,r,l,d,v){if(s!==null){var b=s.memoizedProps;if(ci(b,d)&&s.ref===r.ref)if(Cn=!1,r.pendingProps=d=b,Yp(s,v))(s.flags&131072)!==0&&(Cn=!0);else return r.lanes=s.lanes,ta(s,r,v)}return Hp(s,r,l,d,v)}function Rx(s,r,l){var d=r.pendingProps,v=d.children,b=s!==null?s.memoizedState:null;if(d.mode==="hidden"){if((r.flags&128)!==0){if(d=b!==null?b.baseLanes|l:l,s!==null){for(v=r.child=s.child,b=0;v!==null;)b=b|v.lanes|v.childLanes,v=v.sibling;r.childLanes=b&~d}else r.childLanes=0,r.child=null;return Px(s,r,d,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Pd(r,b!==null?b.cachePool:null),b!==null?C_(r,b):wp(),gx(r);else return r.lanes=r.childLanes=536870912,Px(s,r,b!==null?b.baseLanes|l:l,l)}else b!==null?(Pd(r,b.cachePool),C_(r,b),Qa(),r.memoizedState=null):(s!==null&&Pd(r,null),wp(),Qa());return Dn(s,r,v,l),r.child}function Px(s,r,l,d){var v=gp();return v=v===null?null:{parent:pn._currentValue,pool:v},r.memoizedState={baseLanes:l,cachePool:v},s!==null&&Pd(r,null),wp(),gx(r),s!==null&&cl(s,r,d,!0),null}function Wd(s,r){var l=r.ref;if(l===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(r.flags|=4194816)}}function Hp(s,r,l,d,v){return ul(r),l=Sp(s,r,l,d,void 0,v),d=Ap(),s!==null&&!Cn?(Np(s,r,v),ta(s,r,v)):(Ke&&d&&_e(r),r.flags|=1,Dn(s,r,l,v),r.child)}function jx(s,r,l,d,v,b){return ul(r),r.updateQueue=null,l=P_(r,d,l,v),R_(s),d=Ap(),s!==null&&!Cn?(Np(s,r,b),ta(s,r,b)):(Ke&&d&&_e(r),r.flags|=1,Dn(s,r,l,b),r.child)}function Ix(s,r,l,d,v){if(ul(r),r.stateNode===null){var b=Qr,C=l.contextType;typeof C=="object"&&C!==null&&(b=qn(C)),b=new l(d,b),r.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=zp,r.stateNode=b,b._reactInternals=r,b=r.stateNode,b.props=d,b.state=r.memoizedState,b.refs={},vp(r),C=l.contextType,b.context=typeof C=="object"&&C!==null?qn(C):Qr,b.state=r.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(Bp(r,l,C,d),b.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(C=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),C!==b.state&&zp.enqueueReplaceState(b,b.state,null),Mu(r,d,b,v),Lu(),b.state=r.memoizedState),typeof b.componentDidMount=="function"&&(r.flags|=4194308),d=!0}else if(s===null){b=r.stateNode;var P=r.memoizedProps,Z=fl(l,P);b.props=Z;var ie=b.context,fe=l.contextType;C=Qr,typeof fe=="object"&&fe!==null&&(C=qn(fe));var ge=l.getDerivedStateFromProps;fe=typeof ge=="function"||typeof b.getSnapshotBeforeUpdate=="function",P=r.pendingProps!==P,fe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(P||ie!==C)&&vx(r,b,d,C),Za=!1;var se=r.memoizedState;b.state=se,Mu(r,d,b,v),Lu(),ie=r.memoizedState,P||se!==ie||Za?(typeof ge=="function"&&(Bp(r,l,ge,d),ie=r.memoizedState),(Z=Za||yx(r,l,Z,d,se,ie,C))?(fe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(r.flags|=4194308)):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=d,r.memoizedState=ie),b.props=d,b.state=ie,b.context=C,d=Z):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),d=!1)}else{b=r.stateNode,_p(s,r),C=r.memoizedProps,fe=fl(l,C),b.props=fe,ge=r.pendingProps,se=b.context,ie=l.contextType,Z=Qr,typeof ie=="object"&&ie!==null&&(Z=qn(ie)),P=l.getDerivedStateFromProps,(ie=typeof P=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(C!==ge||se!==Z)&&vx(r,b,d,Z),Za=!1,se=r.memoizedState,b.state=se,Mu(r,d,b,v),Lu();var ae=r.memoizedState;C!==ge||se!==ae||Za||s!==null&&s.dependencies!==null&&Cd(s.dependencies)?(typeof P=="function"&&(Bp(r,l,P,d),ae=r.memoizedState),(fe=Za||yx(r,l,fe,d,se,ae,Z)||s!==null&&s.dependencies!==null&&Cd(s.dependencies))?(ie||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,ae,Z),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,ae,Z)),typeof b.componentDidUpdate=="function"&&(r.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof b.componentDidUpdate!="function"||C===s.memoizedProps&&se===s.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&se===s.memoizedState||(r.flags|=1024),r.memoizedProps=d,r.memoizedState=ae),b.props=d,b.state=ae,b.context=Z,d=fe):(typeof b.componentDidUpdate!="function"||C===s.memoizedProps&&se===s.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&se===s.memoizedState||(r.flags|=1024),d=!1)}return b=d,Wd(s,r),d=(r.flags&128)!==0,b||d?(b=r.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:b.render(),r.flags|=1,s!==null&&d?(r.child=dc(r,s.child,null,v),r.child=dc(r,null,l,v)):Dn(s,r,l,v),r.memoizedState=b.state,s=r.child):s=ta(s,r,v),s}function Dx(s,r,l,d){return qa(),r.flags|=256,Dn(s,r,l,d),r.child}var qp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gp(s){return{baseLanes:s,cachePool:x_()}}function Zp(s,r,l){return s=s!==null?s.childLanes&~l:0,r&&(s|=ys),s}function Lx(s,r,l){var d=r.pendingProps,v=!1,b=(r.flags&128)!==0,C;if((C=b)||(C=s!==null&&s.memoizedState===null?!1:(gn.current&2)!==0),C&&(v=!0,r.flags&=-129),C=(r.flags&32)!==0,r.flags&=-33,s===null){if(Ke){if(v?Ya(r):Qa(),Ke){var P=Oe,Z;if(Z=P){e:{for(Z=P,P=Ht;Z.nodeType!==8;){if(!P){P=null;break e}if(Z=qs(Z.nextSibling),Z===null){P=null;break e}}P=Z}P!==null?(r.memoizedState={dehydrated:P,treeContext:S!==null?{id:R,overflow:q}:null,retryLane:536870912,hydrationErrors:null},Z=di(18,null,null,0),Z.stateNode=P,Z.return=r,r.child=Z,Ie=r,Oe=null,Z=!0):Z=!1}Z||Ti(r)}if(P=r.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return Rg(P)?r.lanes=32:r.lanes=536870912,null;ea(r)}return P=d.children,d=d.fallback,v?(Qa(),v=r.mode,P=Kd({mode:"hidden",children:P},v),d=hr(d,v,l,null),P.return=r,d.return=r,P.sibling=d,r.child=P,v=r.child,v.memoizedState=Gp(l),v.childLanes=Zp(s,C,l),r.memoizedState=qp,d):(Ya(r),Wp(r,P))}if(Z=s.memoizedState,Z!==null&&(P=Z.dehydrated,P!==null)){if(b)r.flags&256?(Ya(r),r.flags&=-257,r=Kp(s,r,l)):r.memoizedState!==null?(Qa(),r.child=s.child,r.flags|=128,r=null):(Qa(),v=d.fallback,P=r.mode,d=Kd({mode:"visible",children:d.children},P),v=hr(v,P,l,null),v.flags|=2,d.return=r,v.return=r,d.sibling=v,r.child=d,dc(r,s.child,null,l),d=r.child,d.memoizedState=Gp(l),d.childLanes=Zp(s,C,l),r.memoizedState=qp,r=v);else if(Ya(r),Rg(P)){if(C=P.nextSibling&&P.nextSibling.dataset,C)var ie=C.dgst;C=ie,d=Error(i(419)),d.stack="",d.digest=C,Ga({value:d,source:null,stack:null}),r=Kp(s,r,l)}else if(Cn||cl(s,r,l,!1),C=(l&s.childLanes)!==0,Cn||C){if(C=Pt,C!==null&&(d=l&-l,d=(d&42)!==0?1:Ho(d),d=(d&(C.suspendedLanes|l))!==0?0:d,d!==0&&d!==Z.retryLane))throw Z.retryLane=d,Fa(s,d),Xi(C,s,d),Sx;P.data==="$?"||dg(),r=Kp(s,r,l)}else P.data==="$?"?(r.flags|=192,r.child=s.child,r=null):(s=Z.treeContext,Oe=qs(P.nextSibling),Ie=r,Ke=!0,Rt=null,Ht=!1,s!==null&&(y[w++]=R,y[w++]=q,y[w++]=S,R=s.id,q=s.overflow,S=r),r=Wp(r,d.children),r.flags|=4096);return r}return v?(Qa(),v=d.fallback,P=r.mode,Z=s.child,ie=Z.sibling,d=ms(Z,{mode:"hidden",children:d.children}),d.subtreeFlags=Z.subtreeFlags&65011712,ie!==null?v=ms(ie,v):(v=hr(v,P,l,null),v.flags|=2),v.return=r,d.return=r,d.sibling=v,r.child=d,d=v,v=r.child,P=s.child.memoizedState,P===null?P=Gp(l):(Z=P.cachePool,Z!==null?(ie=pn._currentValue,Z=Z.parent!==ie?{parent:ie,pool:ie}:Z):Z=x_(),P={baseLanes:P.baseLanes|l,cachePool:Z}),v.memoizedState=P,v.childLanes=Zp(s,C,l),r.memoizedState=qp,d):(Ya(r),l=s.child,s=l.sibling,l=ms(l,{mode:"visible",children:d.children}),l.return=r,l.sibling=null,s!==null&&(C=r.deletions,C===null?(r.deletions=[s],r.flags|=16):C.push(s)),r.child=l,r.memoizedState=null,l)}function Wp(s,r){return r=Kd({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Kd(s,r){return s=di(22,s,null,r),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Kp(s,r,l){return dc(r,s.child,null,l),s=Wp(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function Mx(s,r,l){s.lanes|=r;var d=s.alternate;d!==null&&(d.lanes|=r),ll(s.return,r,l)}function $p(s,r,l,d,v){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:v}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=d,b.tail=l,b.tailMode=v)}function Ox(s,r,l){var d=r.pendingProps,v=d.revealOrder,b=d.tail;if(Dn(s,r,d.children,l),d=gn.current,(d&2)!==0)d=d&1|2,r.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Mx(s,l,r);else if(s.tag===19)Mx(s,l,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}switch(xe(gn,d),v){case"forwards":for(l=r.child,v=null;l!==null;)s=l.alternate,s!==null&&qd(s)===null&&(v=l),l=l.sibling;l=v,l===null?(v=r.child,r.child=null):(v=l.sibling,l.sibling=null),$p(r,!1,v,l,b);break;case"backwards":for(l=null,v=r.child,r.child=null;v!==null;){if(s=v.alternate,s!==null&&qd(s)===null){r.child=v;break}s=v.sibling,v.sibling=l,l=v,v=s}$p(r,!0,l,null,b);break;case"together":$p(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ta(s,r,l){if(s!==null&&(r.dependencies=s.dependencies),no|=r.lanes,(l&r.childLanes)===0)if(s!==null){if(cl(s,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,l=ms(s,s.pendingProps),r.child=l,l.return=r;s.sibling!==null;)s=s.sibling,l=l.sibling=ms(s,s.pendingProps),l.return=r;l.sibling=null}return r.child}function Yp(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Cd(s)))}function $C(s,r,l){switch(r.tag){case 3:st(r,r.stateNode.containerInfo),dr(r,pn,s.memoizedState.cache),qa();break;case 27:case 5:Pr(r);break;case 4:st(r,r.stateNode.containerInfo);break;case 10:dr(r,r.type,r.memoizedProps.value);break;case 13:var d=r.memoizedState;if(d!==null)return d.dehydrated!==null?(Ya(r),r.flags|=128,null):(l&r.child.childLanes)!==0?Lx(s,r,l):(Ya(r),s=ta(s,r,l),s!==null?s.sibling:null);Ya(r);break;case 19:var v=(s.flags&128)!==0;if(d=(l&r.childLanes)!==0,d||(cl(s,r,l,!1),d=(l&r.childLanes)!==0),v){if(d)return Ox(s,r,l);r.flags|=128}if(v=r.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),xe(gn,gn.current),d)break;return null;case 22:case 23:return r.lanes=0,Rx(s,r,l);case 24:dr(r,pn,s.memoizedState.cache)}return ta(s,r,l)}function kx(s,r,l){if(s!==null)if(s.memoizedProps!==r.pendingProps)Cn=!0;else{if(!Yp(s,l)&&(r.flags&128)===0)return Cn=!1,$C(s,r,l);Cn=(s.flags&131072)!==0}else Cn=!1,Ke&&(r.flags&1048576)!==0&&oe(r,h,r.index);switch(r.lanes=0,r.tag){case 16:e:{s=r.pendingProps;var d=r.elementType,v=d._init;if(d=v(d._payload),r.type=d,typeof d=="function")nc(d)?(s=fl(d,s),r.tag=1,r=Ix(null,r,d,s,l)):(r.tag=0,r=Hp(null,r,d,s,l));else{if(d!=null){if(v=d.$$typeof,v===ve){r.tag=11,r=Ax(null,r,d,s,l);break e}else if(v===F){r.tag=14,r=Nx(null,r,d,s,l);break e}}throw r=Ue(d)||d,Error(i(306,r,""))}}return r;case 0:return Hp(s,r,r.type,r.pendingProps,l);case 1:return d=r.type,v=fl(d,r.pendingProps),Ix(s,r,d,v,l);case 3:e:{if(st(r,r.stateNode.containerInfo),s===null)throw Error(i(387));d=r.pendingProps;var b=r.memoizedState;v=b.element,_p(s,r),Mu(r,d,null,l);var C=r.memoizedState;if(d=C.cache,dr(r,pn,d),d!==b.cache&&sc(r,[pn],l,!0),Lu(),d=C.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:C.cache},r.updateQueue.baseState=b,r.memoizedState=b,r.flags&256){r=Dx(s,r,d,l);break e}else if(d!==v){v=ui(Error(i(424)),r),Ga(v),r=Dx(s,r,d,l);break e}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Oe=qs(s.firstChild),Ie=r,Ke=!0,Rt=null,Ht=!0,l=px(r,null,d,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(qa(),d===v){r=ta(s,r,l);break e}Dn(s,r,d,l)}r=r.child}return r;case 26:return Wd(s,r),s===null?(l=zb(r.type,null,r.pendingProps,null))?r.memoizedState=l:Ke||(l=r.type,s=r.pendingProps,d=cf(Se.current).createElement(l),d[Bt]=r,d[dn]=s,Mn(d,l,s),zt(d),r.stateNode=d):r.memoizedState=zb(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return Pr(r),s===null&&Ke&&(d=r.stateNode=Vb(r.type,r.pendingProps,Se.current),Ie=r,Ht=!0,v=Oe,ao(r.type)?(Pg=v,Oe=qs(d.firstChild)):Oe=v),Dn(s,r,r.pendingProps.children,l),Wd(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Ke&&((v=d=Oe)&&(d=TR(d,r.type,r.pendingProps,Ht),d!==null?(r.stateNode=d,Ie=r,Oe=qs(d.firstChild),Ht=!1,v=!0):v=!1),v||Ti(r)),Pr(r),v=r.type,b=r.pendingProps,C=s!==null?s.memoizedProps:null,d=b.children,Ag(v,b)?d=null:C!==null&&Ag(v,C)&&(r.flags|=32),r.memoizedState!==null&&(v=Sp(s,r,zC,null,null,l),ih._currentValue=v),Wd(s,r),Dn(s,r,d,l),r.child;case 6:return s===null&&Ke&&((s=l=Oe)&&(l=ER(l,r.pendingProps,Ht),l!==null?(r.stateNode=l,Ie=r,Oe=null,s=!0):s=!1),s||Ti(r)),null;case 13:return Lx(s,r,l);case 4:return st(r,r.stateNode.containerInfo),d=r.pendingProps,s===null?r.child=dc(r,null,d,l):Dn(s,r,d,l),r.child;case 11:return Ax(s,r,r.type,r.pendingProps,l);case 7:return Dn(s,r,r.pendingProps,l),r.child;case 8:return Dn(s,r,r.pendingProps.children,l),r.child;case 12:return Dn(s,r,r.pendingProps.children,l),r.child;case 10:return d=r.pendingProps,dr(r,r.type,d.value),Dn(s,r,d.children,l),r.child;case 9:return v=r.type._context,d=r.pendingProps.children,ul(r),v=qn(v),d=d(v),r.flags|=1,Dn(s,r,d,l),r.child;case 14:return Nx(s,r,r.type,r.pendingProps,l);case 15:return Cx(s,r,r.type,r.pendingProps,l);case 19:return Ox(s,r,l);case 31:return d=r.pendingProps,l=r.mode,d={mode:d.mode,children:d.children},s===null?(l=Kd(d,l),l.ref=r.ref,r.child=l,l.return=r,r=l):(l=ms(s.child,d),l.ref=r.ref,r.child=l,l.return=r,r=l),r;case 22:return Rx(s,r,l);case 24:return ul(r),d=qn(pn),s===null?(v=gp(),v===null&&(v=Pt,b=mp(),v.pooledCache=b,b.refCount++,b!==null&&(v.pooledCacheLanes|=l),v=b),r.memoizedState={parent:d,cache:v},vp(r),dr(r,pn,v)):((s.lanes&l)!==0&&(_p(s,r),Mu(r,null,null,l),Lu()),v=s.memoizedState,b=r.memoizedState,v.parent!==d?(v={parent:d,cache:d},r.memoizedState=v,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=v),dr(r,pn,d)):(d=b.cache,dr(r,pn,d),d!==v.cache&&sc(r,[pn],l,!0))),Dn(s,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function na(s){s.flags|=4}function Vx(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Zb(r)){if(r=gs.current,r!==null&&((mt&4194048)===mt?fr!==null:(mt&62914560)!==mt&&(mt&536870912)===0||r!==fr))throw Iu=yp,b_;s.flags|=8192}}function $d(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Cs():536870912,s.lanes|=r,gc|=r)}function Fu(s,r){if(!Ke)switch(s.tailMode){case"hidden":r=s.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function qt(s){var r=s.alternate!==null&&s.alternate.child===s.child,l=0,d=0;if(r)for(var v=s.child;v!==null;)l|=v.lanes|v.childLanes,d|=v.subtreeFlags&65011712,d|=v.flags&65011712,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)l|=v.lanes|v.childLanes,d|=v.subtreeFlags,d|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=d,s.childLanes=l,r}function YC(s,r,l){var d=r.pendingProps;switch(Ae(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(r),null;case 1:return qt(r),null;case 3:return l=r.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),r.memoizedState.cache!==d&&(r.flags|=2048),Fs(pn),mi(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(ol(r)?na(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Nd())),qt(r),null;case 26:return l=r.memoizedState,s===null?(na(r),l!==null?(qt(r),Vx(r,l)):(qt(r),r.flags&=-16777217)):l?l!==s.memoizedState?(na(r),qt(r),Vx(r,l)):(qt(r),r.flags&=-16777217):(s.memoizedProps!==d&&na(r),qt(r),r.flags&=-16777217),null;case 27:Js(r),l=Se.current;var v=r.type;if(s!==null&&r.stateNode!=null)s.memoizedProps!==d&&na(r);else{if(!d){if(r.stateNode===null)throw Error(i(166));return qt(r),null}s=Te.current,ol(r)?Sd(r):(s=Vb(v,d,l),r.stateNode=s,na(r))}return qt(r),null;case 5:if(Js(r),l=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==d&&na(r);else{if(!d){if(r.stateNode===null)throw Error(i(166));return qt(r),null}if(s=Te.current,ol(r))Sd(r);else{switch(v=cf(Se.current),s){case 1:s=v.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=v.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=v.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=v.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=v.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof d.is=="string"?v.createElement("select",{is:d.is}):v.createElement("select"),d.multiple?s.multiple=!0:d.size&&(s.size=d.size);break;default:s=typeof d.is=="string"?v.createElement(l,{is:d.is}):v.createElement(l)}}s[Bt]=r,s[dn]=d;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)s.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=s;e:switch(Mn(s,l,d),l){case"button":case"input":case"select":case"textarea":s=!!d.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&na(r)}}return qt(r),r.flags&=-16777217,null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==d&&na(r);else{if(typeof d!="string"&&r.stateNode===null)throw Error(i(166));if(s=Se.current,ol(r)){if(s=r.stateNode,l=r.memoizedProps,d=null,v=Ie,v!==null)switch(v.tag){case 27:case 5:d=v.memoizedProps}s[Bt]=r,s=!!(s.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||jb(s.nodeValue,l)),s||Ti(r)}else s=cf(s).createTextNode(d),s[Bt]=r,r.stateNode=s}return qt(r),null;case 13:if(d=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(v=ol(r),d!==null&&d.dehydrated!==null){if(s===null){if(!v)throw Error(i(318));if(v=r.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[Bt]=r}else qa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;qt(r),v=!1}else v=Nd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=v),v=!0;if(!v)return r.flags&256?(ea(r),r):(ea(r),null)}if(ea(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=d!==null,s=s!==null&&s.memoizedState!==null,l){d=r.child,v=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(v=d.alternate.memoizedState.cachePool.pool);var b=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==v&&(d.flags|=2048)}return l!==s&&l&&(r.child.flags|=8192),$d(r,r.updateQueue),qt(r),null;case 4:return mi(),s===null&&bg(r.stateNode.containerInfo),qt(r),null;case 10:return Fs(r.type),qt(r),null;case 19:if(be(gn),v=r.memoizedState,v===null)return qt(r),null;if(d=(r.flags&128)!==0,b=v.rendering,b===null)if(d)Fu(v,!1);else{if(Kt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(b=qd(s),b!==null){for(r.flags|=128,Fu(v,!1),s=b.updateQueue,r.updateQueue=s,$d(r,s),r.subtreeFlags=0,s=l,l=r.child;l!==null;)Nu(l,s),l=l.sibling;return xe(gn,gn.current&1|2),r.child}s=s.sibling}v.tail!==null&&_n()>Xd&&(r.flags|=128,d=!0,Fu(v,!1),r.lanes=4194304)}else{if(!d)if(s=qd(b),s!==null){if(r.flags|=128,d=!0,s=s.updateQueue,r.updateQueue=s,$d(r,s),Fu(v,!0),v.tail===null&&v.tailMode==="hidden"&&!b.alternate&&!Ke)return qt(r),null}else 2*_n()-v.renderingStartTime>Xd&&l!==536870912&&(r.flags|=128,d=!0,Fu(v,!1),r.lanes=4194304);v.isBackwards?(b.sibling=r.child,r.child=b):(s=v.last,s!==null?s.sibling=b:r.child=b,v.last=b)}return v.tail!==null?(r=v.tail,v.rendering=r,v.tail=r.sibling,v.renderingStartTime=_n(),r.sibling=null,s=gn.current,xe(gn,d?s&1|2:s&1),r):(qt(r),null);case 22:case 23:return ea(r),Tp(),d=r.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(r.flags|=8192):d&&(r.flags|=8192),d?(l&536870912)!==0&&(r.flags&128)===0&&(qt(r),r.subtreeFlags&6&&(r.flags|=8192)):qt(r),l=r.updateQueue,l!==null&&$d(r,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==l&&(r.flags|=2048),s!==null&&be(hl),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Fs(pn),qt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function QC(s,r){switch(Ae(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Fs(pn),mi(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Js(r),null;case 13:if(ea(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));qa()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return be(gn),null;case 4:return mi(),null;case 10:return Fs(r.type),null;case 22:case 23:return ea(r),Tp(),s!==null&&be(hl),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Fs(pn),null;case 25:return null;default:return null}}function Ux(s,r){switch(Ae(r),r.tag){case 3:Fs(pn),mi();break;case 26:case 27:case 5:Js(r);break;case 4:mi();break;case 13:ea(r);break;case 19:be(gn);break;case 10:Fs(r.type);break;case 22:case 23:ea(r),Tp(),s!==null&&be(hl);break;case 24:Fs(pn)}}function Hu(s,r){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var v=d.next;l=v;do{if((l.tag&s)===s){d=void 0;var b=l.create,C=l.inst;d=b(),C.destroy=d}l=l.next}while(l!==v)}}catch(P){Nt(r,r.return,P)}}function Xa(s,r,l){try{var d=r.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var b=v.next;d=b;do{if((d.tag&s)===s){var C=d.inst,P=C.destroy;if(P!==void 0){C.destroy=void 0,v=r;var Z=l,ie=P;try{ie()}catch(fe){Nt(v,Z,fe)}}}d=d.next}while(d!==b)}}catch(fe){Nt(r,r.return,fe)}}function Bx(s){var r=s.updateQueue;if(r!==null){var l=s.stateNode;try{N_(r,l)}catch(d){Nt(s,s.return,d)}}}function zx(s,r,l){l.props=fl(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(d){Nt(s,r,d)}}function qu(s,r){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof l=="function"?s.refCleanup=l(d):l.current=d}}catch(v){Nt(s,r,v)}}function mr(s,r){var l=s.ref,d=s.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(v){Nt(s,r,v)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(v){Nt(s,r,v)}else l.current=null}function Fx(s){var r=s.type,l=s.memoizedProps,d=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(v){Nt(s,s.return,v)}}function Qp(s,r,l){try{var d=s.stateNode;vR(d,s.type,l,r),d[dn]=r}catch(v){Nt(s,s.return,v)}}function Hx(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ao(s.type)||s.tag===4}function Xp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Hx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ao(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Jp(s,r,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(s),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=lf));else if(d!==4&&(d===27&&ao(s.type)&&(l=s.stateNode,r=null),s=s.child,s!==null))for(Jp(s,r,l),s=s.sibling;s!==null;)Jp(s,r,l),s=s.sibling}function Yd(s,r,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,r?l.insertBefore(s,r):l.appendChild(s);else if(d!==4&&(d===27&&ao(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Yd(s,r,l),s=s.sibling;s!==null;)Yd(s,r,l),s=s.sibling}function qx(s){var r=s.stateNode,l=s.memoizedProps;try{for(var d=s.type,v=r.attributes;v.length;)r.removeAttributeNode(v[0]);Mn(r,d,l),r[Bt]=s,r[dn]=l}catch(b){Nt(s,s.return,b)}}var ia=!1,en=!1,eg=!1,Gx=typeof WeakSet=="function"?WeakSet:Set,Rn=null;function XC(s,r){if(s=s.containerInfo,Eg=pf,s=el(s),tl(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var v=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var C=0,P=-1,Z=-1,ie=0,fe=0,ge=s,se=null;t:for(;;){for(var ae;ge!==l||v!==0&&ge.nodeType!==3||(P=C+v),ge!==b||d!==0&&ge.nodeType!==3||(Z=C+d),ge.nodeType===3&&(C+=ge.nodeValue.length),(ae=ge.firstChild)!==null;)se=ge,ge=ae;for(;;){if(ge===s)break t;if(se===l&&++ie===v&&(P=C),se===b&&++fe===d&&(Z=C),(ae=ge.nextSibling)!==null)break;ge=se,se=ge.parentNode}ge=ae}l=P===-1||Z===-1?null:{start:P,end:Z}}else l=null}l=l||{start:0,end:0}}else l=null;for(Sg={focusedElem:s,selectionRange:l},pf=!1,Rn=r;Rn!==null;)if(r=Rn,s=r.child,(r.subtreeFlags&1024)!==0&&s!==null)s.return=r,Rn=s;else for(;Rn!==null;){switch(r=Rn,b=r.alternate,s=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&b!==null){s=void 0,l=r,v=b.memoizedProps,b=b.memoizedState,d=l.stateNode;try{var Ze=fl(l.type,v,l.elementType===l.type);s=d.getSnapshotBeforeUpdate(Ze,b),d.__reactInternalSnapshotBeforeUpdate=s}catch(Be){Nt(l,l.return,Be)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,l=s.nodeType,l===9)Cg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Cg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Rn=s;break}Rn=r.return}}function Zx(s,r,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:Ja(s,l),d&4&&Hu(5,l);break;case 1:if(Ja(s,l),d&4)if(s=l.stateNode,r===null)try{s.componentDidMount()}catch(C){Nt(l,l.return,C)}else{var v=fl(l.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(v,r,s.__reactInternalSnapshotBeforeUpdate)}catch(C){Nt(l,l.return,C)}}d&64&&Bx(l),d&512&&qu(l,l.return);break;case 3:if(Ja(s,l),d&64&&(s=l.updateQueue,s!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{N_(s,r)}catch(C){Nt(l,l.return,C)}}break;case 27:r===null&&d&4&&qx(l);case 26:case 5:Ja(s,l),r===null&&d&4&&Fx(l),d&512&&qu(l,l.return);break;case 12:Ja(s,l);break;case 13:Ja(s,l),d&4&&$x(s,l),d&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=oR.bind(null,l),SR(s,l))));break;case 22:if(d=l.memoizedState!==null||ia,!d){r=r!==null&&r.memoizedState!==null||en,v=ia;var b=en;ia=d,(en=r)&&!b?eo(s,l,(l.subtreeFlags&8772)!==0):Ja(s,l),ia=v,en=b}break;case 30:break;default:Ja(s,l)}}function Wx(s){var r=s.alternate;r!==null&&(s.alternate=null,Wx(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&Lr(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var kt=null,Si=!1;function sa(s,r,l){for(l=l.child;l!==null;)Kx(s,r,l),l=l.sibling}function Kx(s,r,l){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(ts,l)}catch{}switch(l.tag){case 26:en||mr(l,r),sa(s,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:en||mr(l,r);var d=kt,v=Si;ao(l.type)&&(kt=l.stateNode,Si=!1),sa(s,r,l),Ju(l.stateNode),kt=d,Si=v;break;case 5:en||mr(l,r);case 6:if(d=kt,v=Si,kt=null,sa(s,r,l),kt=d,Si=v,kt!==null)if(Si)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(l.stateNode)}catch(b){Nt(l,r,b)}else try{kt.removeChild(l.stateNode)}catch(b){Nt(l,r,b)}break;case 18:kt!==null&&(Si?(s=kt,Ob(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),oh(s)):Ob(kt,l.stateNode));break;case 4:d=kt,v=Si,kt=l.stateNode.containerInfo,Si=!0,sa(s,r,l),kt=d,Si=v;break;case 0:case 11:case 14:case 15:en||Xa(2,l,r),en||Xa(4,l,r),sa(s,r,l);break;case 1:en||(mr(l,r),d=l.stateNode,typeof d.componentWillUnmount=="function"&&zx(l,r,d)),sa(s,r,l);break;case 21:sa(s,r,l);break;case 22:en=(d=en)||l.memoizedState!==null,sa(s,r,l),en=d;break;default:sa(s,r,l)}}function $x(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{oh(s)}catch(l){Nt(r,r.return,l)}}function JC(s){switch(s.tag){case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new Gx),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new Gx),r;default:throw Error(i(435,s.tag))}}function tg(s,r){var l=JC(s);r.forEach(function(d){var v=lR.bind(null,s,d);l.has(d)||(l.add(d),d.then(v,v))})}function Ki(s,r){var l=r.deletions;if(l!==null)for(var d=0;d<l.length;d++){var v=l[d],b=s,C=r,P=C;e:for(;P!==null;){switch(P.tag){case 27:if(ao(P.type)){kt=P.stateNode,Si=!1;break e}break;case 5:kt=P.stateNode,Si=!1;break e;case 3:case 4:kt=P.stateNode.containerInfo,Si=!0;break e}P=P.return}if(kt===null)throw Error(i(160));Kx(b,C,v),kt=null,Si=!1,b=v.alternate,b!==null&&(b.return=null),v.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Yx(r,s),r=r.sibling}var Hs=null;function Yx(s,r){var l=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ki(r,s),$i(s),d&4&&(Xa(3,s,s.return),Hu(3,s),Xa(5,s,s.return));break;case 1:Ki(r,s),$i(s),d&512&&(en||l===null||mr(l,l.return)),d&64&&ia&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var v=Hs;if(Ki(r,s),$i(s),d&512&&(en||l===null||mr(l,l.return)),d&4){var b=l!==null?l.memoizedState:null;if(d=s.memoizedState,l===null)if(d===null)if(s.stateNode===null){e:{d=s.type,l=s.memoizedProps,v=v.ownerDocument||v;t:switch(d){case"title":b=v.getElementsByTagName("title")[0],(!b||b[js]||b[Bt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=v.createElement(d),v.head.insertBefore(b,v.querySelector("head > title"))),Mn(b,d,l),b[Bt]=s,zt(b),d=b;break e;case"link":var C=qb("link","href",v).get(d+(l.href||""));if(C){for(var P=0;P<C.length;P++)if(b=C[P],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice(P,1);break t}}b=v.createElement(d),Mn(b,d,l),v.head.appendChild(b);break;case"meta":if(C=qb("meta","content",v).get(d+(l.content||""))){for(P=0;P<C.length;P++)if(b=C[P],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice(P,1);break t}}b=v.createElement(d),Mn(b,d,l),v.head.appendChild(b);break;default:throw Error(i(468,d))}b[Bt]=s,zt(b),d=b}s.stateNode=d}else Gb(v,s.type,s.stateNode);else s.stateNode=Hb(v,d,s.memoizedProps);else b!==d?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,d===null?Gb(v,s.type,s.stateNode):Hb(v,d,s.memoizedProps)):d===null&&s.stateNode!==null&&Qp(s,s.memoizedProps,l.memoizedProps)}break;case 27:Ki(r,s),$i(s),d&512&&(en||l===null||mr(l,l.return)),l!==null&&d&4&&Qp(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Ki(r,s),$i(s),d&512&&(en||l===null||mr(l,l.return)),s.flags&32){v=s.stateNode;try{wn(v,"")}catch(ae){Nt(s,s.return,ae)}}d&4&&s.stateNode!=null&&(v=s.memoizedProps,Qp(s,v,l!==null?l.memoizedProps:v)),d&1024&&(eg=!0);break;case 6:if(Ki(r,s),$i(s),d&4){if(s.stateNode===null)throw Error(i(162));d=s.memoizedProps,l=s.stateNode;try{l.nodeValue=d}catch(ae){Nt(s,s.return,ae)}}break;case 3:if(df=null,v=Hs,Hs=uf(r.containerInfo),Ki(r,s),Hs=v,$i(s),d&4&&l!==null&&l.memoizedState.isDehydrated)try{oh(r.containerInfo)}catch(ae){Nt(s,s.return,ae)}eg&&(eg=!1,Qx(s));break;case 4:d=Hs,Hs=uf(s.stateNode.containerInfo),Ki(r,s),$i(s),Hs=d;break;case 12:Ki(r,s),$i(s);break;case 13:Ki(r,s),$i(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(og=_n()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,tg(s,d)));break;case 22:v=s.memoizedState!==null;var Z=l!==null&&l.memoizedState!==null,ie=ia,fe=en;if(ia=ie||v,en=fe||Z,Ki(r,s),en=fe,ia=ie,$i(s),d&8192)e:for(r=s.stateNode,r._visibility=v?r._visibility&-2:r._visibility|1,v&&(l===null||Z||ia||en||ml(s)),l=null,r=s;;){if(r.tag===5||r.tag===26){if(l===null){Z=l=r;try{if(b=Z.stateNode,v)C=b.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{P=Z.stateNode;var ge=Z.memoizedProps.style,se=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;P.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(ae){Nt(Z,Z.return,ae)}}}else if(r.tag===6){if(l===null){Z=r;try{Z.stateNode.nodeValue=v?"":Z.memoizedProps}catch(ae){Nt(Z,Z.return,ae)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}d&4&&(d=s.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,tg(s,l))));break;case 19:Ki(r,s),$i(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,tg(s,d)));break;case 30:break;case 21:break;default:Ki(r,s),$i(s)}}function $i(s){var r=s.flags;if(r&2){try{for(var l,d=s.return;d!==null;){if(Hx(d)){l=d;break}d=d.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var v=l.stateNode,b=Xp(s);Yd(s,b,v);break;case 5:var C=l.stateNode;l.flags&32&&(wn(C,""),l.flags&=-33);var P=Xp(s);Yd(s,P,C);break;case 3:case 4:var Z=l.stateNode.containerInfo,ie=Xp(s);Jp(s,ie,Z);break;default:throw Error(i(161))}}catch(fe){Nt(s,s.return,fe)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function Qx(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;Qx(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Ja(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Zx(s,r.alternate,r),r=r.sibling}function ml(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Xa(4,r,r.return),ml(r);break;case 1:mr(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&zx(r,r.return,l),ml(r);break;case 27:Ju(r.stateNode);case 26:case 5:mr(r,r.return),ml(r);break;case 22:r.memoizedState===null&&ml(r);break;case 30:ml(r);break;default:ml(r)}s=s.sibling}}function eo(s,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var d=r.alternate,v=s,b=r,C=b.flags;switch(b.tag){case 0:case 11:case 15:eo(v,b,l),Hu(4,b);break;case 1:if(eo(v,b,l),d=b,v=d.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ie){Nt(d,d.return,ie)}if(d=b,v=d.updateQueue,v!==null){var P=d.stateNode;try{var Z=v.shared.hiddenCallbacks;if(Z!==null)for(v.shared.hiddenCallbacks=null,v=0;v<Z.length;v++)A_(Z[v],P)}catch(ie){Nt(d,d.return,ie)}}l&&C&64&&Bx(b),qu(b,b.return);break;case 27:qx(b);case 26:case 5:eo(v,b,l),l&&d===null&&C&4&&Fx(b),qu(b,b.return);break;case 12:eo(v,b,l);break;case 13:eo(v,b,l),l&&C&4&&$x(v,b);break;case 22:b.memoizedState===null&&eo(v,b,l),qu(b,b.return);break;case 30:break;default:eo(v,b,l)}r=r.sibling}}function ng(s,r){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Ru(l))}function ig(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Ru(s))}function pr(s,r,l,d){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Xx(s,r,l,d),r=r.sibling}function Xx(s,r,l,d){var v=r.flags;switch(r.tag){case 0:case 11:case 15:pr(s,r,l,d),v&2048&&Hu(9,r);break;case 1:pr(s,r,l,d);break;case 3:pr(s,r,l,d),v&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Ru(s)));break;case 12:if(v&2048){pr(s,r,l,d),s=r.stateNode;try{var b=r.memoizedProps,C=b.id,P=b.onPostCommit;typeof P=="function"&&P(C,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Z){Nt(r,r.return,Z)}}else pr(s,r,l,d);break;case 13:pr(s,r,l,d);break;case 23:break;case 22:b=r.stateNode,C=r.alternate,r.memoizedState!==null?b._visibility&2?pr(s,r,l,d):Gu(s,r):b._visibility&2?pr(s,r,l,d):(b._visibility|=2,fc(s,r,l,d,(r.subtreeFlags&10256)!==0)),v&2048&&ng(C,r);break;case 24:pr(s,r,l,d),v&2048&&ig(r.alternate,r);break;default:pr(s,r,l,d)}}function fc(s,r,l,d,v){for(v=v&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var b=s,C=r,P=l,Z=d,ie=C.flags;switch(C.tag){case 0:case 11:case 15:fc(b,C,P,Z,v),Hu(8,C);break;case 23:break;case 22:var fe=C.stateNode;C.memoizedState!==null?fe._visibility&2?fc(b,C,P,Z,v):Gu(b,C):(fe._visibility|=2,fc(b,C,P,Z,v)),v&&ie&2048&&ng(C.alternate,C);break;case 24:fc(b,C,P,Z,v),v&&ie&2048&&ig(C.alternate,C);break;default:fc(b,C,P,Z,v)}r=r.sibling}}function Gu(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=s,d=r,v=d.flags;switch(d.tag){case 22:Gu(l,d),v&2048&&ng(d.alternate,d);break;case 24:Gu(l,d),v&2048&&ig(d.alternate,d);break;default:Gu(l,d)}r=r.sibling}}var Zu=8192;function mc(s){if(s.subtreeFlags&Zu)for(s=s.child;s!==null;)Jx(s),s=s.sibling}function Jx(s){switch(s.tag){case 26:mc(s),s.flags&Zu&&s.memoizedState!==null&&VR(Hs,s.memoizedState,s.memoizedProps);break;case 5:mc(s);break;case 3:case 4:var r=Hs;Hs=uf(s.stateNode.containerInfo),mc(s),Hs=r;break;case 22:s.memoizedState===null&&(r=s.alternate,r!==null&&r.memoizedState!==null?(r=Zu,Zu=16777216,mc(s),Zu=r):mc(s));break;default:mc(s)}}function eb(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Wu(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var d=r[l];Rn=d,nb(d,s)}eb(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)tb(s),s=s.sibling}function tb(s){switch(s.tag){case 0:case 11:case 15:Wu(s),s.flags&2048&&Xa(9,s,s.return);break;case 3:Wu(s);break;case 12:Wu(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Qd(s)):Wu(s);break;default:Wu(s)}}function Qd(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var d=r[l];Rn=d,nb(d,s)}eb(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Xa(8,r,r.return),Qd(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,Qd(r));break;default:Qd(r)}s=s.sibling}}function nb(s,r){for(;Rn!==null;){var l=Rn;switch(l.tag){case 0:case 11:case 15:Xa(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Ru(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,Rn=d;else e:for(l=s;Rn!==null;){d=Rn;var v=d.sibling,b=d.return;if(Wx(d),d===l){Rn=null;break e}if(v!==null){v.return=b,Rn=v;break e}Rn=b}}}var eR={getCacheForType:function(s){var r=qn(pn),l=r.data.get(s);return l===void 0&&(l=s(),r.data.set(s,l)),l}},tR=typeof WeakMap=="function"?WeakMap:Map,xt=0,Pt=null,rt=null,mt=0,bt=0,Yi=null,to=!1,pc=!1,sg=!1,ra=0,Kt=0,no=0,pl=0,rg=0,ys=0,gc=0,Ku=null,Ai=null,ag=!1,og=0,Xd=1/0,Jd=null,io=null,Ln=0,so=null,yc=null,vc=0,lg=0,cg=null,ib=null,$u=0,ug=null;function Qi(){if((xt&2)!==0&&mt!==0)return mt&-mt;if(J.T!==null){var s=rc;return s!==0?s:yg()}return Rs()}function sb(){ys===0&&(ys=(mt&536870912)===0||Ke?Fo():536870912);var s=gs.current;return s!==null&&(s.flags|=32),ys}function Xi(s,r,l){(s===Pt&&(bt===2||bt===9)||s.cancelPendingCommit!==null)&&(_c(s,0),ro(s,mt,ys,!1)),Lt(s,l),((xt&2)===0||s!==Pt)&&(s===Pt&&((xt&2)===0&&(pl|=l),Kt===4&&ro(s,mt,ys,!1)),gr(s))}function rb(s,r,l){if((xt&6)!==0)throw Error(i(327));var d=!l&&(r&124)===0&&(r&s.expiredLanes)===0||yi(s,r),v=d?sR(s,r):fg(s,r,!0),b=d;do{if(v===0){pc&&!d&&ro(s,r,0,!1);break}else{if(l=s.current.alternate,b&&!nR(l)){v=fg(s,r,!1),b=!1;continue}if(v===2){if(b=r,s.errorRecoveryDisabledLanes&b)var C=0;else C=s.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){r=C;e:{var P=s;v=Ku;var Z=P.current.memoizedState.isDehydrated;if(Z&&(_c(P,C).flags|=256),C=fg(P,C,!1),C!==2){if(sg&&!Z){P.errorRecoveryDisabledLanes|=b,pl|=b,v=4;break e}b=Ai,Ai=v,b!==null&&(Ai===null?Ai=b:Ai.push.apply(Ai,b))}v=C}if(b=!1,v!==2)continue}}if(v===1){_c(s,0),ro(s,r,0,!0);break}e:{switch(d=s,b=v,b){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:ro(d,r,ys,!to);break e;case 2:Ai=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(v=og+300-_n(),10<v)){if(ro(d,r,ys,!to),gi(d,0,!0)!==0)break e;d.timeoutHandle=Lb(ab.bind(null,d,l,Ai,Jd,ag,r,ys,pl,gc,to,b,2,-0,0),v);break e}ab(d,l,Ai,Jd,ag,r,ys,pl,gc,to,b,0,-0,0)}}break}while(!0);gr(s)}function ab(s,r,l,d,v,b,C,P,Z,ie,fe,ge,se,ae){if(s.timeoutHandle=-1,ge=r.subtreeFlags,(ge&8192||(ge&16785408)===16785408)&&(nh={stylesheets:null,count:0,unsuspend:kR},Jx(r),ge=UR(),ge!==null)){s.cancelPendingCommit=ge(fb.bind(null,s,r,b,l,d,v,C,P,Z,fe,1,se,ae)),ro(s,b,C,!ie);return}fb(s,r,b,l,d,v,C,P,Z)}function nR(s){for(var r=s;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var v=l[d],b=v.getSnapshot;v=v.value;try{if(!li(b(),v))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ro(s,r,l,d){r&=~rg,r&=~pl,s.suspendedLanes|=r,s.pingedLanes&=~r,d&&(s.warmLanes|=r),d=s.expirationTimes;for(var v=r;0<v;){var b=31-In(v),C=1<<b;d[b]=-1,v&=~C}l!==0&&er(s,l,r)}function ef(){return(xt&6)===0?(Yu(0),!1):!0}function hg(){if(rt!==null){if(bt===0)var s=rt.return;else s=rt,zs=ps=null,Cp(s),hc=null,Bu=0,s=rt;for(;s!==null;)Ux(s.alternate,s),s=s.return;rt=null}}function _c(s,r){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,xR(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),hg(),Pt=s,rt=l=ms(s.current,null),mt=r,bt=0,Yi=null,to=!1,pc=yi(s,r),sg=!1,gc=ys=rg=pl=no=Kt=0,Ai=Ku=null,ag=!1,(r&8)!==0&&(r|=r&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=r;0<d;){var v=31-In(d),b=1<<v;r|=s[v],d&=~b}return ra=r,il(),l}function ob(s,r){tt=null,J.H=zd,r===ju||r===jd?(r=E_(),bt=3):r===b_?(r=E_(),bt=4):bt=r===Sx?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Yi=r,rt===null&&(Kt=1,Zd(s,ui(r,s.current)))}function lb(){var s=J.H;return J.H=zd,s===null?zd:s}function cb(){var s=J.A;return J.A=eR,s}function dg(){Kt=4,to||(mt&4194048)!==mt&&gs.current!==null||(pc=!0),(no&134217727)===0&&(pl&134217727)===0||Pt===null||ro(Pt,mt,ys,!1)}function fg(s,r,l){var d=xt;xt|=2;var v=lb(),b=cb();(Pt!==s||mt!==r)&&(Jd=null,_c(s,r)),r=!1;var C=Kt;e:do try{if(bt!==0&&rt!==null){var P=rt,Z=Yi;switch(bt){case 8:hg(),C=6;break e;case 3:case 2:case 9:case 6:gs.current===null&&(r=!0);var ie=bt;if(bt=0,Yi=null,xc(s,P,Z,ie),l&&pc){C=0;break e}break;default:ie=bt,bt=0,Yi=null,xc(s,P,Z,ie)}}iR(),C=Kt;break}catch(fe){ob(s,fe)}while(!0);return r&&s.shellSuspendCounter++,zs=ps=null,xt=d,J.H=v,J.A=b,rt===null&&(Pt=null,mt=0,il()),C}function iR(){for(;rt!==null;)ub(rt)}function sR(s,r){var l=xt;xt|=2;var d=lb(),v=cb();Pt!==s||mt!==r?(Jd=null,Xd=_n()+500,_c(s,r)):pc=yi(s,r);e:do try{if(bt!==0&&rt!==null){r=rt;var b=Yi;t:switch(bt){case 1:bt=0,Yi=null,xc(s,r,b,1);break;case 2:case 9:if(w_(b)){bt=0,Yi=null,hb(r);break}r=function(){bt!==2&&bt!==9||Pt!==s||(bt=7),gr(s)},b.then(r,r);break e;case 3:bt=7;break e;case 4:bt=5;break e;case 7:w_(b)?(bt=0,Yi=null,hb(r)):(bt=0,Yi=null,xc(s,r,b,7));break;case 5:var C=null;switch(rt.tag){case 26:C=rt.memoizedState;case 5:case 27:var P=rt;if(!C||Zb(C)){bt=0,Yi=null;var Z=P.sibling;if(Z!==null)rt=Z;else{var ie=P.return;ie!==null?(rt=ie,tf(ie)):rt=null}break t}}bt=0,Yi=null,xc(s,r,b,5);break;case 6:bt=0,Yi=null,xc(s,r,b,6);break;case 8:hg(),Kt=6;break e;default:throw Error(i(462))}}rR();break}catch(fe){ob(s,fe)}while(!0);return zs=ps=null,J.H=d,J.A=v,xt=l,rt!==null?0:(Pt=null,mt=0,il(),Kt)}function rR(){for(;rt!==null&&!Vl();)ub(rt)}function ub(s){var r=kx(s.alternate,s,ra);s.memoizedProps=s.pendingProps,r===null?tf(s):rt=r}function hb(s){var r=s,l=r.alternate;switch(r.tag){case 15:case 0:r=jx(l,r,r.pendingProps,r.type,void 0,mt);break;case 11:r=jx(l,r,r.pendingProps,r.type.render,r.ref,mt);break;case 5:Cp(r);default:Ux(l,r),r=rt=Nu(r,ra),r=kx(l,r,ra)}s.memoizedProps=s.pendingProps,r===null?tf(s):rt=r}function xc(s,r,l,d){zs=ps=null,Cp(r),hc=null,Bu=0;var v=r.return;try{if(KC(s,v,r,l,mt)){Kt=1,Zd(s,ui(l,s.current)),rt=null;return}}catch(b){if(v!==null)throw rt=v,b;Kt=1,Zd(s,ui(l,s.current)),rt=null;return}r.flags&32768?(Ke||d===1?s=!0:pc||(mt&536870912)!==0?s=!1:(to=s=!0,(d===2||d===9||d===3||d===6)&&(d=gs.current,d!==null&&d.tag===13&&(d.flags|=16384))),db(r,s)):tf(r)}function tf(s){var r=s;do{if((r.flags&32768)!==0){db(r,to);return}s=r.return;var l=YC(r.alternate,r,ra);if(l!==null){rt=l;return}if(r=r.sibling,r!==null){rt=r;return}rt=r=s}while(r!==null);Kt===0&&(Kt=5)}function db(s,r){do{var l=QC(s.alternate,s);if(l!==null){l.flags&=32767,rt=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(s=s.sibling,s!==null)){rt=s;return}rt=s=l}while(s!==null);Kt=6,rt=null}function fb(s,r,l,d,v,b,C,P,Z){s.cancelPendingCommit=null;do nf();while(Ln!==0);if((xt&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(b=r.lanes|r.childLanes,b|=Wi,Fl(s,l,b,C,P,Z),s===Pt&&(rt=Pt=null,mt=0),yc=r,so=s,vc=l,lg=b,cg=v,ib=d,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,cR(Li,function(){return vb(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||d){d=J.T,J.T=null,v=de.p,de.p=2,C=xt,xt|=4;try{XC(s,r,l)}finally{xt=C,de.p=v,J.T=d}}Ln=1,mb(),pb(),gb()}}function mb(){if(Ln===1){Ln=0;var s=so,r=yc,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=J.T,J.T=null;var d=de.p;de.p=2;var v=xt;xt|=4;try{Yx(r,s);var b=Sg,C=el(s.containerInfo),P=b.focusedElem,Z=b.selectionRange;if(C!==P&&P&&P.ownerDocument&&Ql(P.ownerDocument.documentElement,P)){if(Z!==null&&tl(P)){var ie=Z.start,fe=Z.end;if(fe===void 0&&(fe=ie),"selectionStart"in P)P.selectionStart=ie,P.selectionEnd=Math.min(fe,P.value.length);else{var ge=P.ownerDocument||document,se=ge&&ge.defaultView||window;if(se.getSelection){var ae=se.getSelection(),Ze=P.textContent.length,Be=Math.min(Z.start,Ze),St=Z.end===void 0?Be:Math.min(Z.end,Ze);!ae.extend&&Be>St&&(C=St,St=Be,Be=C);var X=Su(P,Be),K=Su(P,St);if(X&&K&&(ae.rangeCount!==1||ae.anchorNode!==X.node||ae.anchorOffset!==X.offset||ae.focusNode!==K.node||ae.focusOffset!==K.offset)){var ne=ge.createRange();ne.setStart(X.node,X.offset),ae.removeAllRanges(),Be>St?(ae.addRange(ne),ae.extend(K.node,K.offset)):(ne.setEnd(K.node,K.offset),ae.addRange(ne))}}}}for(ge=[],ae=P;ae=ae.parentNode;)ae.nodeType===1&&ge.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<ge.length;P++){var me=ge[P];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}pf=!!Eg,Sg=Eg=null}finally{xt=v,de.p=d,J.T=l}}s.current=r,Ln=2}}function pb(){if(Ln===2){Ln=0;var s=so,r=yc,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=J.T,J.T=null;var d=de.p;de.p=2;var v=xt;xt|=4;try{Zx(s,r.alternate,r)}finally{xt=v,de.p=d,J.T=l}}Ln=3}}function gb(){if(Ln===4||Ln===3){Ln=0,wa();var s=so,r=yc,l=vc,d=ib;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ln=5:(Ln=0,yc=so=null,yb(s,s.pendingLanes));var v=s.pendingLanes;if(v===0&&(io=null),qo(l),r=r.stateNode,hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(ts,r,void 0,(r.current.flags&128)===128)}catch{}if(d!==null){r=J.T,v=de.p,de.p=2,J.T=null;try{for(var b=s.onRecoverableError,C=0;C<d.length;C++){var P=d[C];b(P.value,{componentStack:P.stack})}}finally{J.T=r,de.p=v}}(vc&3)!==0&&nf(),gr(s),v=s.pendingLanes,(l&4194090)!==0&&(v&42)!==0?s===ug?$u++:($u=0,ug=s):$u=0,Yu(0)}}function yb(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Ru(r)))}function nf(s){return mb(),pb(),gb(),vb()}function vb(){if(Ln!==5)return!1;var s=so,r=lg;lg=0;var l=qo(vc),d=J.T,v=de.p;try{de.p=32>l?32:l,J.T=null,l=cg,cg=null;var b=so,C=vc;if(Ln=0,yc=so=null,vc=0,(xt&6)!==0)throw Error(i(331));var P=xt;if(xt|=4,tb(b.current),Xx(b,b.current,C,l),xt=P,Yu(0,!1),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(ts,b)}catch{}return!0}finally{de.p=v,J.T=d,yb(s,r)}}function _b(s,r,l){r=ui(l,r),r=Fp(s.stateNode,r,2),s=Ka(s,r,2),s!==null&&(Lt(s,2),gr(s))}function Nt(s,r,l){if(s.tag===3)_b(s,s,l);else for(;r!==null;){if(r.tag===3){_b(r,s,l);break}else if(r.tag===1){var d=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(io===null||!io.has(d))){s=ui(l,s),l=Tx(2),d=Ka(r,l,2),d!==null&&(Ex(l,d,r,s),Lt(d,2),gr(d));break}}r=r.return}}function mg(s,r,l){var d=s.pingCache;if(d===null){d=s.pingCache=new tR;var v=new Set;d.set(r,v)}else v=d.get(r),v===void 0&&(v=new Set,d.set(r,v));v.has(l)||(sg=!0,v.add(l),s=aR.bind(null,s,r,l),r.then(s,s))}function aR(s,r,l){var d=s.pingCache;d!==null&&d.delete(r),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,Pt===s&&(mt&l)===l&&(Kt===4||Kt===3&&(mt&62914560)===mt&&300>_n()-og?(xt&2)===0&&_c(s,0):rg|=l,gc===mt&&(gc=0)),gr(s)}function xb(s,r){r===0&&(r=Cs()),s=Fa(s,r),s!==null&&(Lt(s,r),gr(s))}function oR(s){var r=s.memoizedState,l=0;r!==null&&(l=r.retryLane),xb(s,l)}function lR(s,r){var l=0;switch(s.tag){case 13:var d=s.stateNode,v=s.memoizedState;v!==null&&(l=v.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(r),xb(s,l)}function cR(s,r){return Ns(s,r)}var sf=null,bc=null,pg=!1,rf=!1,gg=!1,gl=0;function gr(s){s!==bc&&s.next===null&&(bc===null?sf=bc=s:bc=bc.next=s),rf=!0,pg||(pg=!0,hR())}function Yu(s,r){if(!gg&&rf){gg=!0;do for(var l=!1,d=sf;d!==null;){if(s!==0){var v=d.pendingLanes;if(v===0)var b=0;else{var C=d.suspendedLanes,P=d.pingedLanes;b=(1<<31-In(42|s)+1)-1,b&=v&~(C&~P),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,Eb(d,b))}else b=mt,b=gi(d,d===Pt?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||yi(d,b)||(l=!0,Eb(d,b));d=d.next}while(l);gg=!1}}function uR(){bb()}function bb(){rf=pg=!1;var s=0;gl!==0&&(_R()&&(s=gl),gl=0);for(var r=_n(),l=null,d=sf;d!==null;){var v=d.next,b=wb(d,r);b===0?(d.next=null,l===null?sf=v:l.next=v,v===null&&(bc=l)):(l=d,(s!==0||(b&3)!==0)&&(rf=!0)),d=v}Yu(s)}function wb(s,r){for(var l=s.suspendedLanes,d=s.pingedLanes,v=s.expirationTimes,b=s.pendingLanes&-62914561;0<b;){var C=31-In(b),P=1<<C,Z=v[C];Z===-1?((P&l)===0||(P&d)!==0)&&(v[C]=Ea(P,r)):Z<=r&&(s.expiredLanes|=P),b&=~P}if(r=Pt,l=mt,l=gi(s,s===r?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,l===0||s===r&&(bt===2||bt===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&ba(d),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||yi(s,l)){if(r=l&-l,r===s.callbackPriority)return r;switch(d!==null&&ba(d),qo(l)){case 2:case 8:l=Xt;break;case 32:l=Li;break;case 268435456:l=Ta;break;default:l=Li}return d=Tb.bind(null,s),l=Ns(l,d),s.callbackPriority=r,s.callbackNode=l,r}return d!==null&&d!==null&&ba(d),s.callbackPriority=2,s.callbackNode=null,2}function Tb(s,r){if(Ln!==0&&Ln!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(nf()&&s.callbackNode!==l)return null;var d=mt;return d=gi(s,s===Pt?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(rb(s,d,r),wb(s,_n()),s.callbackNode!=null&&s.callbackNode===l?Tb.bind(null,s):null)}function Eb(s,r){if(nf())return null;rb(s,r,!0)}function hR(){bR(function(){(xt&6)!==0?Ns(Qt,uR):bb()})}function yg(){return gl===0&&(gl=Fo()),gl}function Sb(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ii(""+s)}function Ab(s,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,s.id&&l.setAttribute("form",s.id),r.parentNode.insertBefore(l,r),s=new FormData(s),l.parentNode.removeChild(l),s}function dR(s,r,l,d,v){if(r==="submit"&&l&&l.stateNode===v){var b=Sb((v[dn]||null).action),C=d.submitter;C&&(r=(r=C[dn]||null)?Sb(r.formAction):C.getAttribute("formAction"),r!==null&&(b=r,C=null));var P=new or("action","action",null,d,v);s.push({event:P,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(gl!==0){var Z=C?Ab(v,C):new FormData(v);kp(l,{pending:!0,data:Z,method:v.method,action:b},null,Z)}}else typeof b=="function"&&(P.preventDefault(),Z=C?Ab(v,C):new FormData(v),kp(l,{pending:!0,data:Z,method:v.method,action:b},b,Z))},currentTarget:v}]})}}for(var vg=0;vg<Kr.length;vg++){var _g=Kr[vg],fR=_g.toLowerCase(),mR=_g[0].toUpperCase()+_g.slice(1);Zi(fR,"on"+mR)}Zi(wd,"onAnimationEnd"),Zi(Gi,"onAnimationIteration"),Zi(nl,"onAnimationStart"),Zi("dblclick","onDoubleClick"),Zi("focusin","onFocus"),Zi("focusout","onBlur"),Zi(dp,"onTransitionRun"),Zi(tc,"onTransitionStart"),Zi(fp,"onTransitionCancel"),Zi(Au,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ss("onBeforeInput",["compositionend","keypress","textInput","paste"]),ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qu));function Nb(s,r){r=(r&4)!==0;for(var l=0;l<s.length;l++){var d=s[l],v=d.event;d=d.listeners;e:{var b=void 0;if(r)for(var C=d.length-1;0<=C;C--){var P=d[C],Z=P.instance,ie=P.currentTarget;if(P=P.listener,Z!==b&&v.isPropagationStopped())break e;b=P,v.currentTarget=ie;try{b(v)}catch(fe){Gd(fe)}v.currentTarget=null,b=Z}else for(C=0;C<d.length;C++){if(P=d[C],Z=P.instance,ie=P.currentTarget,P=P.listener,Z!==b&&v.isPropagationStopped())break e;b=P,v.currentTarget=ie;try{b(v)}catch(fe){Gd(fe)}v.currentTarget=null,b=Z}}}}function at(s,r){var l=r[xn];l===void 0&&(l=r[xn]=new Set);var d=s+"__bubble";l.has(d)||(Cb(r,s,2,!1),l.add(d))}function xg(s,r,l){var d=0;r&&(d|=4),Cb(l,s,d,r)}var af="_reactListening"+Math.random().toString(36).slice(2);function bg(s){if(!s[af]){s[af]=!0,ql.forEach(function(l){l!=="selectionchange"&&(pR.has(l)||xg(l,!1,s),xg(l,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[af]||(r[af]=!0,xg("selectionchange",!1,r))}}function Cb(s,r,l,d){switch(Xb(r)){case 2:var v=FR;break;case 8:v=HR;break;default:v=Mg}l=v.bind(null,r,l,s),v=void 0,!Vi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(v=!0),d?v!==void 0?s.addEventListener(r,l,{capture:!0,passive:v}):s.addEventListener(r,l,!0):v!==void 0?s.addEventListener(r,l,{passive:v}):s.addEventListener(r,l,!1)}function wg(s,r,l,d,v){var b=d;if((r&1)===0&&(r&2)===0&&d!==null)e:for(;;){if(d===null)return;var C=d.tag;if(C===3||C===4){var P=d.stateNode.containerInfo;if(P===v)break;if(C===4)for(C=d.return;C!==null;){var Z=C.tag;if((Z===3||Z===4)&&C.stateNode.containerInfo===v)return;C=C.return}for(;P!==null;){if(C=_i(P),C===null)return;if(Z=C.tag,Z===5||Z===6||Z===26||Z===27){d=b=C;continue e}P=P.parentNode}}d=d.return}Tn(function(){var ie=b,fe=sr(l),ge=[];e:{var se=Td.get(s);if(se!==void 0){var ae=or,Ze=s;switch(s){case"keypress":if(Dt(l)===0)break e;case"keydown":case"keyup":ae=Ia;break;case"focusin":Ze="focus",ae=Ca;break;case"focusout":Ze="blur",ae=Ca;break;case"beforeblur":case"afterblur":ae=Ca;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Ui;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=Wl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=lr;break;case wd:case Gi:case nl:ae=Ko;break;case Au:ae=E;break;case"scroll":case"scrollend":ae=Hr;break;case"wheel":ae=D;break;case"copy":case"cut":case"paste":ae=Ra;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Da;break;case"toggle":case"beforetoggle":ae=re}var Be=(r&4)!==0,St=!Be&&(s==="scroll"||s==="scrollend"),X=Be?se!==null?se+"Capture":null:se;Be=[];for(var K=ie,ne;K!==null;){var me=K;if(ne=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||ne===null||X===null||(me=dt(K,X),me!=null&&Be.push(Xu(K,me,ne))),St)break;K=K.return}0<Be.length&&(se=new ae(se,Ze,null,l,fe),ge.push({event:se,listeners:Be}))}}if((r&7)===0){e:{if(se=s==="mouseover"||s==="pointerover",ae=s==="mouseout"||s==="pointerout",se&&l!==Fr&&(Ze=l.relatedTarget||l.fromElement)&&(_i(Ze)||Ze[Ps]))break e;if((ae||se)&&(se=fe.window===fe?fe:(se=fe.ownerDocument)?se.defaultView||se.parentWindow:window,ae?(Ze=l.relatedTarget||l.toElement,ae=ie,Ze=Ze?_i(Ze):null,Ze!==null&&(St=c(Ze),Be=Ze.tag,Ze!==St||Be!==5&&Be!==27&&Be!==6)&&(Ze=null)):(ae=null,Ze=ie),ae!==Ze)){if(Be=Ui,me="onMouseLeave",X="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(Be=Da,me="onPointerLeave",X="onPointerEnter",K="pointer"),St=ae==null?se:Jn(ae),ne=Ze==null?se:Jn(Ze),se=new Be(me,K+"leave",ae,l,fe),se.target=St,se.relatedTarget=ne,me=null,_i(fe)===ie&&(Be=new Be(X,K+"enter",Ze,l,fe),Be.target=ne,Be.relatedTarget=St,me=Be),St=me,ae&&Ze)t:{for(Be=ae,X=Ze,K=0,ne=Be;ne;ne=wc(ne))K++;for(ne=0,me=X;me;me=wc(me))ne++;for(;0<K-ne;)Be=wc(Be),K--;for(;0<ne-K;)X=wc(X),ne--;for(;K--;){if(Be===X||X!==null&&Be===X.alternate)break t;Be=wc(Be),X=wc(X)}Be=null}else Be=null;ae!==null&&Rb(ge,se,ae,Be,!1),Ze!==null&&St!==null&&Rb(ge,St,Ze,Be,!0)}}e:{if(se=ie?Jn(ie):window,ae=se.nodeName&&se.nodeName.toLowerCase(),ae==="select"||ae==="input"&&se.type==="file")var Le=Oa;else if(Zr(se))if(wu)Le=hp;else{Le=up;var it=Eu}else ae=se.nodeName,!ae||ae.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?ie&&ir(ie.elementType)&&(Le=Oa):Le=Bs;if(Le&&(Le=Le(s,ie))){vd(ge,Le,l,fe);break e}it&&it(s,se,ie),s==="focusout"&&ie&&se.type==="number"&&ie.memoizedProps.value!=null&&nr(se,"number",se.value)}switch(it=ie?Jn(ie):window,s){case"focusin":(Zr(it)||it.contentEditable==="true")&&(qi=it,Ua=ie,Wr=null);break;case"focusout":Wr=Ua=qi=null;break;case"mousedown":Jl=!0;break;case"contextmenu":case"mouseup":case"dragend":Jl=!1,xd(ge,l,fe);break;case"selectionchange":if(Xl)break;case"keydown":case"keyup":xd(ge,l,fe)}var ke;if(Fe)e:{switch(s){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Fi?ai(s,l)&&(He="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(He="onCompositionStart");He&&(Mt&&l.locale!=="ko"&&(Fi||He!=="onCompositionStart"?He==="onCompositionEnd"&&Fi&&(ke=ar()):(Fn=fe,ft="value"in Fn?Fn.value:Fn.textContent,Fi=!0)),it=of(ie,He),0<it.length&&(He=new Hn(He,s,null,l,fe),ge.push({event:He,listeners:it}),ke?He.data=ke:(ke=zi(l),ke!==null&&(He.data=ke)))),(ke=gt?La(s,l):cp(s,l))&&(He=of(ie,"onBeforeInput"),0<He.length&&(it=new Hn("onBeforeInput","beforeinput",null,l,fe),ge.push({event:it,listeners:He}),it.data=ke)),dR(ge,s,ie,l,fe)}Nb(ge,r)})}function Xu(s,r,l){return{instance:s,listener:r,currentTarget:l}}function of(s,r){for(var l=r+"Capture",d=[];s!==null;){var v=s,b=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||b===null||(v=dt(s,l),v!=null&&d.unshift(Xu(s,v,b)),v=dt(s,r),v!=null&&d.push(Xu(s,v,b))),s.tag===3)return d;s=s.return}return[]}function wc(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Rb(s,r,l,d,v){for(var b=r._reactName,C=[];l!==null&&l!==d;){var P=l,Z=P.alternate,ie=P.stateNode;if(P=P.tag,Z!==null&&Z===d)break;P!==5&&P!==26&&P!==27||ie===null||(Z=ie,v?(ie=dt(l,b),ie!=null&&C.unshift(Xu(l,ie,Z))):v||(ie=dt(l,b),ie!=null&&C.push(Xu(l,ie,Z)))),l=l.return}C.length!==0&&s.push({event:r,listeners:C})}var gR=/\r\n?/g,yR=/\u0000|\uFFFD/g;function Pb(s){return(typeof s=="string"?s:""+s).replace(gR,`
`).replace(yR,"")}function jb(s,r){return r=Pb(r),Pb(s)===r}function lf(){}function Et(s,r,l,d,v,b){switch(l){case"children":typeof d=="string"?r==="body"||r==="textarea"&&d===""||wn(s,d):(typeof d=="number"||typeof d=="bigint")&&r!=="body"&&wn(s,""+d);break;case"className":Vr(s,"class",d);break;case"tabIndex":Vr(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Vr(s,l,d);break;case"style":Ms(s,d,b);break;case"data":if(r!=="object"){Vr(s,"data",d);break}case"src":case"href":if(d===""&&(r!=="a"||l!=="href")){s.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(l);break}d=ii(""+d),s.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(r!=="input"&&Et(s,r,"name",v.name,v,null),Et(s,r,"formEncType",v.formEncType,v,null),Et(s,r,"formMethod",v.formMethod,v,null),Et(s,r,"formTarget",v.formTarget,v,null)):(Et(s,r,"encType",v.encType,v,null),Et(s,r,"method",v.method,v,null),Et(s,r,"target",v.target,v,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(l);break}d=ii(""+d),s.setAttribute(l,d);break;case"onClick":d!=null&&(s.onclick=lf);break;case"onScroll":d!=null&&at("scroll",s);break;case"onScrollEnd":d!=null&&at("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(l=d.__html,l!=null){if(v.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}l=ii(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(l,""+d):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":d===!0?s.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(l,d):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(l,d):s.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(l):s.setAttribute(l,d);break;case"popover":at("beforetoggle",s),at("toggle",s),kr(s,"popover",d);break;case"xlinkActuate":xi(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":xi(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":xi(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":xi(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":xi(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":xi(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":xi(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":xi(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":xi(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":kr(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Aa.get(l)||l,kr(s,l,d))}}function Tg(s,r,l,d,v,b){switch(l){case"style":Ms(s,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(l=d.__html,l!=null){if(v.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof d=="string"?wn(s,d):(typeof d=="number"||typeof d=="bigint")&&wn(s,""+d);break;case"onScroll":d!=null&&at("scroll",s);break;case"onScrollEnd":d!=null&&at("scrollend",s);break;case"onClick":d!=null&&(s.onclick=lf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(v=l.endsWith("Capture"),r=l.slice(2,v?l.length-7:void 0),b=s[dn]||null,b=b!=null?b[l]:null,typeof b=="function"&&s.removeEventListener(r,b,v),typeof d=="function")){typeof b!="function"&&b!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(r,d,v);break e}l in s?s[l]=d:d===!0?s.setAttribute(l,""):kr(s,l,d)}}}function Mn(s,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",s),at("load",s);var d=!1,v=!1,b;for(b in l)if(l.hasOwnProperty(b)){var C=l[b];if(C!=null)switch(b){case"src":d=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Et(s,r,b,C,l,null)}}v&&Et(s,r,"srcSet",l.srcSet,l,null),d&&Et(s,r,"src",l.src,l,null);return;case"input":at("invalid",s);var P=b=C=v=null,Z=null,ie=null;for(d in l)if(l.hasOwnProperty(d)){var fe=l[d];if(fe!=null)switch(d){case"name":v=fe;break;case"type":C=fe;break;case"checked":Z=fe;break;case"defaultChecked":ie=fe;break;case"value":b=fe;break;case"defaultValue":P=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(i(137,r));break;default:Et(s,r,d,fe,l,null)}}Zo(s,b,P,Z,ie,C,v,!1),ls(s);return;case"select":at("invalid",s),d=C=b=null;for(v in l)if(l.hasOwnProperty(v)&&(P=l[v],P!=null))switch(v){case"value":b=P;break;case"defaultValue":C=P;break;case"multiple":d=P;default:Et(s,r,v,P,l,null)}r=b,l=C,s.multiple=!!d,r!=null?zn(s,!!d,r,!1):l!=null&&zn(s,!!d,l,!0);return;case"textarea":at("invalid",s),b=v=d=null;for(C in l)if(l.hasOwnProperty(C)&&(P=l[C],P!=null))switch(C){case"value":d=P;break;case"defaultValue":v=P;break;case"children":b=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(i(91));break;default:Et(s,r,C,P,l,null)}cs(s,d,v,b),ls(s);return;case"option":for(Z in l)if(l.hasOwnProperty(Z)&&(d=l[Z],d!=null))switch(Z){case"selected":s.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Et(s,r,Z,d,l,null)}return;case"dialog":at("beforetoggle",s),at("toggle",s),at("cancel",s),at("close",s);break;case"iframe":case"object":at("load",s);break;case"video":case"audio":for(d=0;d<Qu.length;d++)at(Qu[d],s);break;case"image":at("error",s),at("load",s);break;case"details":at("toggle",s);break;case"embed":case"source":case"link":at("error",s),at("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in l)if(l.hasOwnProperty(ie)&&(d=l[ie],d!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Et(s,r,ie,d,l,null)}return;default:if(ir(r)){for(fe in l)l.hasOwnProperty(fe)&&(d=l[fe],d!==void 0&&Tg(s,r,fe,d,l,void 0));return}}for(P in l)l.hasOwnProperty(P)&&(d=l[P],d!=null&&Et(s,r,P,d,l,null))}function vR(s,r,l,d){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,b=null,C=null,P=null,Z=null,ie=null,fe=null;for(ae in l){var ge=l[ae];if(l.hasOwnProperty(ae)&&ge!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":Z=ge;default:d.hasOwnProperty(ae)||Et(s,r,ae,null,d,ge)}}for(var se in d){var ae=d[se];if(ge=l[se],d.hasOwnProperty(se)&&(ae!=null||ge!=null))switch(se){case"type":b=ae;break;case"name":v=ae;break;case"checked":ie=ae;break;case"defaultChecked":fe=ae;break;case"value":C=ae;break;case"defaultValue":P=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,r));break;default:ae!==ge&&Et(s,r,se,ae,d,ge)}}bn(s,C,P,Z,ie,fe,b,v);return;case"select":ae=C=P=se=null;for(b in l)if(Z=l[b],l.hasOwnProperty(b)&&Z!=null)switch(b){case"value":break;case"multiple":ae=Z;default:d.hasOwnProperty(b)||Et(s,r,b,null,d,Z)}for(v in d)if(b=d[v],Z=l[v],d.hasOwnProperty(v)&&(b!=null||Z!=null))switch(v){case"value":se=b;break;case"defaultValue":P=b;break;case"multiple":C=b;default:b!==Z&&Et(s,r,v,b,d,Z)}r=P,l=C,d=ae,se!=null?zn(s,!!l,se,!1):!!d!=!!l&&(r!=null?zn(s,!!l,r,!0):zn(s,!!l,l?[]:"",!1));return;case"textarea":ae=se=null;for(P in l)if(v=l[P],l.hasOwnProperty(P)&&v!=null&&!d.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:Et(s,r,P,null,d,v)}for(C in d)if(v=d[C],b=l[C],d.hasOwnProperty(C)&&(v!=null||b!=null))switch(C){case"value":se=v;break;case"defaultValue":ae=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==b&&Et(s,r,C,v,d,b)}It(s,se,ae);return;case"option":for(var Ze in l)if(se=l[Ze],l.hasOwnProperty(Ze)&&se!=null&&!d.hasOwnProperty(Ze))switch(Ze){case"selected":s.selected=!1;break;default:Et(s,r,Ze,null,d,se)}for(Z in d)if(se=d[Z],ae=l[Z],d.hasOwnProperty(Z)&&se!==ae&&(se!=null||ae!=null))switch(Z){case"selected":s.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:Et(s,r,Z,se,d,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in l)se=l[Be],l.hasOwnProperty(Be)&&se!=null&&!d.hasOwnProperty(Be)&&Et(s,r,Be,null,d,se);for(ie in d)if(se=d[ie],ae=l[ie],d.hasOwnProperty(ie)&&se!==ae&&(se!=null||ae!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,r));break;default:Et(s,r,ie,se,d,ae)}return;default:if(ir(r)){for(var St in l)se=l[St],l.hasOwnProperty(St)&&se!==void 0&&!d.hasOwnProperty(St)&&Tg(s,r,St,void 0,d,se);for(fe in d)se=d[fe],ae=l[fe],!d.hasOwnProperty(fe)||se===ae||se===void 0&&ae===void 0||Tg(s,r,fe,se,d,ae);return}}for(var X in l)se=l[X],l.hasOwnProperty(X)&&se!=null&&!d.hasOwnProperty(X)&&Et(s,r,X,null,d,se);for(ge in d)se=d[ge],ae=l[ge],!d.hasOwnProperty(ge)||se===ae||se==null&&ae==null||Et(s,r,ge,se,d,ae)}var Eg=null,Sg=null;function cf(s){return s.nodeType===9?s:s.ownerDocument}function Ib(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Db(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Ag(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ng=null;function _R(){var s=window.event;return s&&s.type==="popstate"?s===Ng?!1:(Ng=s,!0):(Ng=null,!1)}var Lb=typeof setTimeout=="function"?setTimeout:void 0,xR=typeof clearTimeout=="function"?clearTimeout:void 0,Mb=typeof Promise=="function"?Promise:void 0,bR=typeof queueMicrotask=="function"?queueMicrotask:typeof Mb<"u"?function(s){return Mb.resolve(null).then(s).catch(wR)}:Lb;function wR(s){setTimeout(function(){throw s})}function ao(s){return s==="head"}function Ob(s,r){var l=r,d=0,v=0;do{var b=l.nextSibling;if(s.removeChild(l),b&&b.nodeType===8)if(l=b.data,l==="/$"){if(0<d&&8>d){l=d;var C=s.ownerDocument;if(l&1&&Ju(C.documentElement),l&2&&Ju(C.body),l&4)for(l=C.head,Ju(l),C=l.firstChild;C;){var P=C.nextSibling,Z=C.nodeName;C[js]||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&C.rel.toLowerCase()==="stylesheet"||l.removeChild(C),C=P}}if(v===0){s.removeChild(b),oh(r);return}v--}else l==="$"||l==="$?"||l==="$!"?v++:d=l.charCodeAt(0)-48;else d=0;l=b}while(l);oh(r)}function Cg(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Cg(l),Lr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function TR(s,r,l,d){for(;s.nodeType===1;){var v=l;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[js])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(b=s.getAttribute("rel"),b==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(b!==v.rel||s.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||s.getAttribute("title")!==(v.title==null?null:v.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(b=s.getAttribute("src"),(b!==(v.src==null?null:v.src)||s.getAttribute("type")!==(v.type==null?null:v.type)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&b&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var b=v.name==null?null:""+v.name;if(v.type==="hidden"&&s.getAttribute("name")===b)return s}else return s;if(s=qs(s.nextSibling),s===null)break}return null}function ER(s,r,l){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=qs(s.nextSibling),s===null))return null;return s}function Rg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function SR(s,r){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")r();else{var d=function(){r(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function qs(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return s}var Pg=null;function kb(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return s;r--}else l==="/$"&&r++}s=s.previousSibling}return null}function Vb(s,r,l){switch(r=cf(l),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Ju(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);Lr(s)}var vs=new Map,Ub=new Set;function uf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var aa=de.d;de.d={f:AR,r:NR,D:CR,C:RR,L:PR,m:jR,X:DR,S:IR,M:LR};function AR(){var s=aa.f(),r=ef();return s||r}function NR(s){var r=Oi(s);r!==null&&r.tag===5&&r.type==="form"?rx(r):aa.r(s)}var Tc=typeof document>"u"?null:document;function Bb(s,r,l){var d=Tc;if(d&&typeof r=="string"&&r){var v=Ft(r);v='link[rel="'+s+'"][href="'+v+'"]',typeof l=="string"&&(v+='[crossorigin="'+l+'"]'),Ub.has(v)||(Ub.add(v),s={rel:s,crossOrigin:l,href:r},d.querySelector(v)===null&&(r=d.createElement("link"),Mn(r,"link",s),zt(r),d.head.appendChild(r)))}}function CR(s){aa.D(s),Bb("dns-prefetch",s,null)}function RR(s,r){aa.C(s,r),Bb("preconnect",s,r)}function PR(s,r,l){aa.L(s,r,l);var d=Tc;if(d&&s&&r){var v='link[rel="preload"][as="'+Ft(r)+'"]';r==="image"&&l&&l.imageSrcSet?(v+='[imagesrcset="'+Ft(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(v+='[imagesizes="'+Ft(l.imageSizes)+'"]')):v+='[href="'+Ft(s)+'"]';var b=v;switch(r){case"style":b=Ec(s);break;case"script":b=Sc(s)}vs.has(b)||(s=x({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:s,as:r},l),vs.set(b,s),d.querySelector(v)!==null||r==="style"&&d.querySelector(eh(b))||r==="script"&&d.querySelector(th(b))||(r=d.createElement("link"),Mn(r,"link",s),zt(r),d.head.appendChild(r)))}}function jR(s,r){aa.m(s,r);var l=Tc;if(l&&s){var d=r&&typeof r.as=="string"?r.as:"script",v='link[rel="modulepreload"][as="'+Ft(d)+'"][href="'+Ft(s)+'"]',b=v;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Sc(s)}if(!vs.has(b)&&(s=x({rel:"modulepreload",href:s},r),vs.set(b,s),l.querySelector(v)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(th(b)))return}d=l.createElement("link"),Mn(d,"link",s),zt(d),l.head.appendChild(d)}}}function IR(s,r,l){aa.S(s,r,l);var d=Tc;if(d&&s){var v=Is(d).hoistableStyles,b=Ec(s);r=r||"default";var C=v.get(b);if(!C){var P={loading:0,preload:null};if(C=d.querySelector(eh(b)))P.loading=5;else{s=x({rel:"stylesheet",href:s,"data-precedence":r},l),(l=vs.get(b))&&jg(s,l);var Z=C=d.createElement("link");zt(Z),Mn(Z,"link",s),Z._p=new Promise(function(ie,fe){Z.onload=ie,Z.onerror=fe}),Z.addEventListener("load",function(){P.loading|=1}),Z.addEventListener("error",function(){P.loading|=2}),P.loading|=4,hf(C,r,d)}C={type:"stylesheet",instance:C,count:1,state:P},v.set(b,C)}}}function DR(s,r){aa.X(s,r);var l=Tc;if(l&&s){var d=Is(l).hoistableScripts,v=Sc(s),b=d.get(v);b||(b=l.querySelector(th(v)),b||(s=x({src:s,async:!0},r),(r=vs.get(v))&&Ig(s,r),b=l.createElement("script"),zt(b),Mn(b,"link",s),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(v,b))}}function LR(s,r){aa.M(s,r);var l=Tc;if(l&&s){var d=Is(l).hoistableScripts,v=Sc(s),b=d.get(v);b||(b=l.querySelector(th(v)),b||(s=x({src:s,async:!0,type:"module"},r),(r=vs.get(v))&&Ig(s,r),b=l.createElement("script"),zt(b),Mn(b,"link",s),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(v,b))}}function zb(s,r,l,d){var v=(v=Se.current)?uf(v):null;if(!v)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=Ec(l.href),l=Is(v).hoistableStyles,d=l.get(r),d||(d={type:"style",instance:null,count:0,state:null},l.set(r,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Ec(l.href);var b=Is(v).hoistableStyles,C=b.get(s);if(C||(v=v.ownerDocument||v,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(s,C),(b=v.querySelector(eh(s)))&&!b._p&&(C.instance=b,C.state.loading=5),vs.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},vs.set(s,l),b||MR(v,s,l,C.state))),r&&d===null)throw Error(i(528,""));return C}if(r&&d!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Sc(l),l=Is(v).hoistableScripts,d=l.get(r),d||(d={type:"script",instance:null,count:0,state:null},l.set(r,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Ec(s){return'href="'+Ft(s)+'"'}function eh(s){return'link[rel="stylesheet"]['+s+"]"}function Fb(s){return x({},s,{"data-precedence":s.precedence,precedence:null})}function MR(s,r,l,d){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?d.loading=1:(r=s.createElement("link"),d.preload=r,r.addEventListener("load",function(){return d.loading|=1}),r.addEventListener("error",function(){return d.loading|=2}),Mn(r,"link",l),zt(r),s.head.appendChild(r))}function Sc(s){return'[src="'+Ft(s)+'"]'}function th(s){return"script[async]"+s}function Hb(s,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var d=s.querySelector('style[data-href~="'+Ft(l.href)+'"]');if(d)return r.instance=d,zt(d),d;var v=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),zt(d),Mn(d,"style",v),hf(d,l.precedence,s),r.instance=d;case"stylesheet":v=Ec(l.href);var b=s.querySelector(eh(v));if(b)return r.state.loading|=4,r.instance=b,zt(b),b;d=Fb(l),(v=vs.get(v))&&jg(d,v),b=(s.ownerDocument||s).createElement("link"),zt(b);var C=b;return C._p=new Promise(function(P,Z){C.onload=P,C.onerror=Z}),Mn(b,"link",d),r.state.loading|=4,hf(b,l.precedence,s),r.instance=b;case"script":return b=Sc(l.src),(v=s.querySelector(th(b)))?(r.instance=v,zt(v),v):(d=l,(v=vs.get(b))&&(d=x({},l),Ig(d,v)),s=s.ownerDocument||s,v=s.createElement("script"),zt(v),Mn(v,"link",d),s.head.appendChild(v),r.instance=v);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(d=r.instance,r.state.loading|=4,hf(d,l.precedence,s));return r.instance}function hf(s,r,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=d.length?d[d.length-1]:null,b=v,C=0;C<d.length;C++){var P=d[C];if(P.dataset.precedence===r)b=P;else if(b!==v)break}b?b.parentNode.insertBefore(s,b.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(s,r.firstChild))}function jg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Ig(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var df=null;function qb(s,r,l){if(df===null){var d=new Map,v=df=new Map;v.set(l,d)}else v=df,d=v.get(l),d||(d=new Map,v.set(l,d));if(d.has(s))return d;for(d.set(s,null),l=l.getElementsByTagName(s),v=0;v<l.length;v++){var b=l[v];if(!(b[js]||b[Bt]||s==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var C=b.getAttribute(r)||"";C=s+C;var P=d.get(C);P?P.push(b):d.set(C,[b])}}return d}function Gb(s,r,l){s=s.ownerDocument||s,s.head.insertBefore(l,r==="title"?s.querySelector("head > title"):null)}function OR(s,r,l){if(l===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Zb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var nh=null;function kR(){}function VR(s,r,l){if(nh===null)throw Error(i(475));var d=nh;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var v=Ec(l.href),b=s.querySelector(eh(v));if(b){s=b._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(d.count++,d=ff.bind(d),s.then(d,d)),r.state.loading|=4,r.instance=b,zt(b);return}b=s.ownerDocument||s,l=Fb(l),(v=vs.get(v))&&jg(l,v),b=b.createElement("link"),zt(b);var C=b;C._p=new Promise(function(P,Z){C.onload=P,C.onerror=Z}),Mn(b,"link",l),r.instance=b}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(d.count++,r=ff.bind(d),s.addEventListener("load",r),s.addEventListener("error",r))}}function UR(){if(nh===null)throw Error(i(475));var s=nh;return s.stylesheets&&s.count===0&&Dg(s,s.stylesheets),0<s.count?function(r){var l=setTimeout(function(){if(s.stylesheets&&Dg(s,s.stylesheets),s.unsuspend){var d=s.unsuspend;s.unsuspend=null,d()}},6e4);return s.unsuspend=r,function(){s.unsuspend=null,clearTimeout(l)}}:null}function ff(){if(this.count--,this.count===0){if(this.stylesheets)Dg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var mf=null;function Dg(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,mf=new Map,r.forEach(BR,s),mf=null,ff.call(s))}function BR(s,r){if(!(r.state.loading&4)){var l=mf.get(s);if(l)var d=l.get(null);else{l=new Map,mf.set(s,l);for(var v=s.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<v.length;b++){var C=v[b];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),d=C)}d&&l.set(null,d)}v=r.instance,C=v.getAttribute("data-precedence"),b=l.get(C)||d,b===d&&l.set(null,v),l.set(C,v),this.count++,d=ff.bind(this),v.addEventListener("load",d),v.addEventListener("error",d),b?b.parentNode.insertBefore(v,b.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(v,s.firstChild)),r.state.loading|=4}}var ih={$$typeof:Q,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function zR(s,r,l,d,v,b,C,P){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dr(0),this.hiddenUpdates=Dr(null),this.identifierPrefix=d,this.onUncaughtError=v,this.onCaughtError=b,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Wb(s,r,l,d,v,b,C,P,Z,ie,fe,ge){return s=new zR(s,r,l,C,P,Z,ie,ge),r=1,b===!0&&(r|=24),b=di(3,null,null,r),s.current=b,b.stateNode=s,r=mp(),r.refCount++,s.pooledCache=r,r.refCount++,b.memoizedState={element:d,isDehydrated:l,cache:r},vp(b),s}function Kb(s){return s?(s=Qr,s):Qr}function $b(s,r,l,d,v,b){v=Kb(v),d.context===null?d.context=v:d.pendingContext=v,d=Wa(r),d.payload={element:l},b=b===void 0?null:b,b!==null&&(d.callback=b),l=Ka(s,d,r),l!==null&&(Xi(l,s,r),Du(l,s,r))}function Yb(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<r?l:r}}function Lg(s,r){Yb(s,r),(s=s.alternate)&&Yb(s,r)}function Qb(s){if(s.tag===13){var r=Fa(s,67108864);r!==null&&Xi(r,s,67108864),Lg(s,67108864)}}var pf=!0;function FR(s,r,l,d){var v=J.T;J.T=null;var b=de.p;try{de.p=2,Mg(s,r,l,d)}finally{de.p=b,J.T=v}}function HR(s,r,l,d){var v=J.T;J.T=null;var b=de.p;try{de.p=8,Mg(s,r,l,d)}finally{de.p=b,J.T=v}}function Mg(s,r,l,d){if(pf){var v=Og(d);if(v===null)wg(s,r,d,gf,l),Jb(s,d);else if(GR(v,s,r,l,d))d.stopPropagation();else if(Jb(s,d),r&4&&-1<qR.indexOf(s)){for(;v!==null;){var b=Oi(v);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var C=pi(b.pendingLanes);if(C!==0){var P=b;for(P.pendingLanes|=2,P.entangledLanes|=2;C;){var Z=1<<31-In(C);P.entanglements[1]|=Z,C&=~Z}gr(b),(xt&6)===0&&(Xd=_n()+500,Yu(0))}}break;case 13:P=Fa(b,2),P!==null&&Xi(P,b,2),ef(),Lg(b,2)}if(b=Og(d),b===null&&wg(s,r,d,gf,l),b===v)break;v=b}v!==null&&d.stopPropagation()}else wg(s,r,d,null,l)}}function Og(s){return s=sr(s),kg(s)}var gf=null;function kg(s){if(gf=null,s=_i(s),s!==null){var r=c(s);if(r===null)s=null;else{var l=r.tag;if(l===13){if(s=u(r),s!==null)return s;s=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return gf=s,null}function Xb(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jr()){case Qt:return 2;case Xt:return 8;case Li:case Ul:return 32;case Ta:return 268435456;default:return 32}default:return 32}}var Vg=!1,oo=null,lo=null,co=null,sh=new Map,rh=new Map,uo=[],qR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jb(s,r){switch(s){case"focusin":case"focusout":oo=null;break;case"dragenter":case"dragleave":lo=null;break;case"mouseover":case"mouseout":co=null;break;case"pointerover":case"pointerout":sh.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":rh.delete(r.pointerId)}}function ah(s,r,l,d,v,b){return s===null||s.nativeEvent!==b?(s={blockedOn:r,domEventName:l,eventSystemFlags:d,nativeEvent:b,targetContainers:[v]},r!==null&&(r=Oi(r),r!==null&&Qb(r)),s):(s.eventSystemFlags|=d,r=s.targetContainers,v!==null&&r.indexOf(v)===-1&&r.push(v),s)}function GR(s,r,l,d,v){switch(r){case"focusin":return oo=ah(oo,s,r,l,d,v),!0;case"dragenter":return lo=ah(lo,s,r,l,d,v),!0;case"mouseover":return co=ah(co,s,r,l,d,v),!0;case"pointerover":var b=v.pointerId;return sh.set(b,ah(sh.get(b)||null,s,r,l,d,v)),!0;case"gotpointercapture":return b=v.pointerId,rh.set(b,ah(rh.get(b)||null,s,r,l,d,v)),!0}return!1}function ew(s){var r=_i(s.target);if(r!==null){var l=c(r);if(l!==null){if(r=l.tag,r===13){if(r=u(l),r!==null){s.blockedOn=r,Go(s.priority,function(){if(l.tag===13){var d=Qi();d=Ho(d);var v=Fa(l,d);v!==null&&Xi(v,l,d),Lg(l,d)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function yf(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var l=Og(s.nativeEvent);if(l===null){l=s.nativeEvent;var d=new l.constructor(l.type,l);Fr=d,l.target.dispatchEvent(d),Fr=null}else return r=Oi(l),r!==null&&Qb(r),s.blockedOn=l,!1;r.shift()}return!0}function tw(s,r,l){yf(s)&&l.delete(r)}function ZR(){Vg=!1,oo!==null&&yf(oo)&&(oo=null),lo!==null&&yf(lo)&&(lo=null),co!==null&&yf(co)&&(co=null),sh.forEach(tw),rh.forEach(tw)}function vf(s,r){s.blockedOn===r&&(s.blockedOn=null,Vg||(Vg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ZR)))}var _f=null;function nw(s){_f!==s&&(_f=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){_f===s&&(_f=null);for(var r=0;r<s.length;r+=3){var l=s[r],d=s[r+1],v=s[r+2];if(typeof d!="function"){if(kg(d||l)===null)continue;break}var b=Oi(l);b!==null&&(s.splice(r,3),r-=3,kp(b,{pending:!0,data:v,method:l.method,action:d},d,v))}}))}function oh(s){function r(Z){return vf(Z,s)}oo!==null&&vf(oo,s),lo!==null&&vf(lo,s),co!==null&&vf(co,s),sh.forEach(r),rh.forEach(r);for(var l=0;l<uo.length;l++){var d=uo[l];d.blockedOn===s&&(d.blockedOn=null)}for(;0<uo.length&&(l=uo[0],l.blockedOn===null);)ew(l),l.blockedOn===null&&uo.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var v=l[d],b=l[d+1],C=v[dn]||null;if(typeof b=="function")C||nw(l);else if(C){var P=null;if(b&&b.hasAttribute("formAction")){if(v=b,C=b[dn]||null)P=C.formAction;else if(kg(v)!==null)continue}else P=C.action;typeof P=="function"?l[d+1]=P:(l.splice(d,3),d-=3),nw(l)}}}function Ug(s){this._internalRoot=s}xf.prototype.render=Ug.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,d=Qi();$b(l,d,s,r,null,null)},xf.prototype.unmount=Ug.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;$b(s.current,2,null,s,null,null),ef(),r[Ps]=null}};function xf(s){this._internalRoot=s}xf.prototype.unstable_scheduleHydration=function(s){if(s){var r=Rs();s={blockedOn:null,target:s,priority:r};for(var l=0;l<uo.length&&r!==0&&r<uo[l].priority;l++);uo.splice(l,0,s),l===0&&ew(s)}};var iw=e.version;if(iw!=="19.1.1")throw Error(i(527,iw,"19.1.1"));de.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=g(r),s=s!==null?_(s):null,s=s===null?null:s.stateNode,s};var WR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bf.isDisabled&&bf.supportsFiber)try{ts=bf.inject(WR),hn=bf}catch{}}return ch.createRoot=function(s,r){if(!a(s))throw Error(i(299));var l=!1,d="",v=_x,b=xx,C=bx,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(v=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(P=r.unstable_transitionCallbacks)),r=Wb(s,1,!1,null,null,l,d,v,b,C,P,null),s[Ps]=r.current,bg(s),new Ug(r)},ch.hydrateRoot=function(s,r,l){if(!a(s))throw Error(i(299));var d=!1,v="",b=_x,C=xx,P=bx,Z=null,ie=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(P=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(Z=l.unstable_transitionCallbacks),l.formState!==void 0&&(ie=l.formState)),r=Wb(s,1,!0,r,l??null,d,v,b,C,P,Z,ie),r.context=Kb(null),l=r.current,d=Qi(),d=Ho(d),v=Wa(d),v.callback=null,Ka(l,v,d),l=d,r.current.lanes=l,Lt(r,l),gr(r),s[Ps]=r.current,bg(s),new xf(r)},ch.version="19.1.1",ch}var fw;function nP(){if(fw)return Fg.exports;fw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fg.exports=tP(),Fg.exports}var iP=nP();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var mw="popstate";function sP(t={}){function e(a,c){let{pathname:u="/",search:m="",hash:g=""}=Ll(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Ay("",{pathname:u,search:m,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(a,c){let u=a.document.querySelector("base"),m="";if(u&&u.getAttribute("href")){let g=a.location.href,_=g.indexOf("#");m=_===-1?g:g.slice(0,_)}return m+"#"+(typeof c=="string"?c:Dh(c))}function i(a,c){Ss(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return aP(e,n,i,t)}function Ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ss(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rP(){return Math.random().toString(36).substring(2,10)}function pw(t,e){return{usr:t.state,key:t.key,idx:e}}function Ay(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ll(e):e,state:n,key:e&&e.key||i||rP()}}function Dh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ll(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function aP(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:c=!1}=i,u=a.history,m="POP",g=null,_=x();_==null&&(_=0,u.replaceState({...u.state,idx:_},""));function x(){return(u.state||{idx:null}).idx}function T(){m="POP";let k=x(),$=k==null?null:k-_;_=k,g&&g({action:m,location:z.location,delta:$})}function A(k,$){m="PUSH";let Y=Ay(z.location,k,$);n&&n(Y,k),_=x()+1;let Q=pw(Y,_),ve=z.createHref(Y);try{u.pushState(Q,"",ve)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;a.location.assign(ve)}c&&g&&g({action:m,location:z.location,delta:1})}function j(k,$){m="REPLACE";let Y=Ay(z.location,k,$);n&&n(Y,k),_=x();let Q=pw(Y,_),ve=z.createHref(Y);u.replaceState(Q,"",ve),c&&g&&g({action:m,location:z.location,delta:0})}function I(k){return oP(k)}let z={get action(){return m},get location(){return t(a,u)},listen(k){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(mw,T),g=k,()=>{a.removeEventListener(mw,T),g=null}},createHref(k){return e(a,k)},createURL:I,encodeLocation(k){let $=I(k);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:A,replace:j,go(k){return u.go(k)}};return z}function oP(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ut(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Dh(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function RE(t,e,n="/"){return lP(t,e,n,!1)}function lP(t,e,n,i){let a=typeof e=="string"?Ll(e):e,c=da(a.pathname||"/",n);if(c==null)return null;let u=PE(t);cP(u);let m=null;for(let g=0;m==null&&g<u.length;++g){let _=xP(c);m=vP(u[g],_,i)}return m}function PE(t,e=[],n=[],i="",a=!1){let c=(u,m,g=a,_)=>{let x={relativePath:_===void 0?u.path||"":_,caseSensitive:u.caseSensitive===!0,childrenIndex:m,route:u};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(i)&&g)return;Ut(x.relativePath.startsWith(i),`Absolute route path "${x.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(i.length)}let T=ca([i,x.relativePath]),A=n.concat(x);u.children&&u.children.length>0&&(Ut(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),PE(u.children,e,A,T,g)),!(u.path==null&&!u.index)&&e.push({path:T,score:gP(T,u.index),routesMeta:A})};return t.forEach((u,m)=>{if(u.path===""||!u.path?.includes("?"))c(u,m);else for(let g of jE(u.path))c(u,m,!0,g)}),e}function jE(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),c=n.replace(/\?$/,"");if(i.length===0)return a?[c,""]:[c];let u=jE(i.join("/")),m=[];return m.push(...u.map(g=>g===""?c:[c,g].join("/"))),a&&m.push(...u),m.map(g=>t.startsWith("/")&&g===""?"/":g)}function cP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yP(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var uP=/^:[\w-]+$/,hP=3,dP=2,fP=1,mP=10,pP=-2,gw=t=>t==="*";function gP(t,e){let n=t.split("/"),i=n.length;return n.some(gw)&&(i+=pP),e&&(i+=dP),n.filter(a=>!gw(a)).reduce((a,c)=>a+(uP.test(c)?hP:c===""?fP:mP),i)}function yP(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function vP(t,e,n=!1){let{routesMeta:i}=t,a={},c="/",u=[];for(let m=0;m<i.length;++m){let g=i[m],_=m===i.length-1,x=c==="/"?e:e.slice(c.length)||"/",T=im({path:g.relativePath,caseSensitive:g.caseSensitive,end:_},x),A=g.route;if(!T&&_&&n&&!i[i.length-1].route.index&&(T=im({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},x)),!T)return null;Object.assign(a,T.params),u.push({params:a,pathname:ca([c,T.pathname]),pathnameBase:EP(ca([c,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(c=ca([c,T.pathnameBase]))}return u}function im(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=_P(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let c=a[0],u=c.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:i.reduce((_,{paramName:x,isOptional:T},A)=>{if(x==="*"){let I=m[A]||"";u=c.slice(0,c.length-I.length).replace(/(.)\/+$/,"$1")}const j=m[A];return T&&!j?_[x]=void 0:_[x]=(j||"").replace(/%2F/g,"/"),_},{}),pathname:c,pathnameBase:u,pattern:t}}function _P(t,e=!1,n=!0){Ss(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,g)=>(i.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function xP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ss(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function da(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function bP(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?Ll(t):t;return{pathname:n?n.startsWith("/")?n:wP(n,e):e,search:SP(i),hash:AP(a)}}function wP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Zg(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function TP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function N0(t){let e=TP(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function C0(t,e,n,i=!1){let a;typeof t=="string"?a=Ll(t):(a={...t},Ut(!a.pathname||!a.pathname.includes("?"),Zg("?","pathname","search",a)),Ut(!a.pathname||!a.pathname.includes("#"),Zg("#","pathname","hash",a)),Ut(!a.search||!a.search.includes("#"),Zg("#","search","hash",a)));let c=t===""||a.pathname==="",u=c?"/":a.pathname,m;if(u==null)m=n;else{let T=e.length-1;if(!i&&u.startsWith("..")){let A=u.split("/");for(;A[0]==="..";)A.shift(),T-=1;a.pathname=A.join("/")}m=T>=0?e[T]:"/"}let g=bP(a,m),_=u&&u!=="/"&&u.endsWith("/"),x=(c||u===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(_||x)&&(g.pathname+="/"),g}var ca=t=>t.join("/").replace(/\/\/+/g,"/"),EP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),SP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function NP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var IE=["POST","PUT","PATCH","DELETE"];new Set(IE);var CP=["GET",...IE];new Set(CP);var eu=V.createContext(null);eu.displayName="DataRouter";var Cm=V.createContext(null);Cm.displayName="DataRouterState";V.createContext(!1);var DE=V.createContext({isTransitioning:!1});DE.displayName="ViewTransition";var RP=V.createContext(new Map);RP.displayName="Fetchers";var PP=V.createContext(null);PP.displayName="Await";var Ys=V.createContext(null);Ys.displayName="Navigation";var Yh=V.createContext(null);Yh.displayName="Location";var Qs=V.createContext({outlet:null,matches:[],isDataRoute:!1});Qs.displayName="Route";var R0=V.createContext(null);R0.displayName="RouteError";function jP(t,{relative:e}={}){Ut(tu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=V.useContext(Ys),{hash:a,pathname:c,search:u}=Qh(t,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:ca([n,c])),i.createHref({pathname:m,search:u,hash:a})}function tu(){return V.useContext(Yh)!=null}function As(){return Ut(tu(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Yh).location}var LE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ME(t){V.useContext(Ys).static||V.useLayoutEffect(t)}function Oo(){let{isDataRoute:t}=V.useContext(Qs);return t?ZP():IP()}function IP(){Ut(tu(),"useNavigate() may be used only in the context of a <Router> component.");let t=V.useContext(eu),{basename:e,navigator:n}=V.useContext(Ys),{matches:i}=V.useContext(Qs),{pathname:a}=As(),c=JSON.stringify(N0(i)),u=V.useRef(!1);return ME(()=>{u.current=!0}),V.useCallback((g,_={})=>{if(Ss(u.current,LE),!u.current)return;if(typeof g=="number"){n.go(g);return}let x=C0(g,JSON.parse(c),a,_.relative==="path");t==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:ca([e,x.pathname])),(_.replace?n.replace:n.push)(x,_.state,_)},[e,n,c,a,t])}var DP=V.createContext(null);function LP(t){let e=V.useContext(Qs).outlet;return e&&V.createElement(DP.Provider,{value:t},e)}function Qh(t,{relative:e}={}){let{matches:n}=V.useContext(Qs),{pathname:i}=As(),a=JSON.stringify(N0(n));return V.useMemo(()=>C0(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function MP(t,e){return OE(t,e)}function OE(t,e,n,i,a){Ut(tu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=V.useContext(Ys),{matches:u}=V.useContext(Qs),m=u[u.length-1],g=m?m.params:{},_=m?m.pathname:"/",x=m?m.pathnameBase:"/",T=m&&m.route;{let Y=T&&T.path||"";kE(_,!T||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let A=As(),j;if(e){let Y=typeof e=="string"?Ll(e):e;Ut(x==="/"||Y.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),j=Y}else j=A;let I=j.pathname||"/",z=I;if(x!=="/"){let Y=x.replace(/^\//,"").split("/");z="/"+I.replace(/^\//,"").split("/").slice(Y.length).join("/")}let k=RE(t,{pathname:z});Ss(T||k!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Ss(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=BP(k&&k.map(Y=>Object.assign({},Y,{params:Object.assign({},g,Y.params),pathname:ca([x,c.encodeLocation?c.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?x:ca([x,c.encodeLocation?c.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),u,n,i,a);return e&&$?V.createElement(Yh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},$):$}function OP(){let t=GP(),e=NP(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=V.createElement(V.Fragment,null,V.createElement("p",null,"💿 Hey developer 👋"),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:c},"ErrorBoundary")," or"," ",V.createElement("code",{style:c},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:a},n):null,u)}var kP=V.createElement(OP,null),VP=class extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?V.createElement(Qs.Provider,{value:this.props.routeContext},V.createElement(R0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function UP({routeContext:t,match:e,children:n}){let i=V.useContext(eu);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(Qs.Provider,{value:t},n)}function BP(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,u=n?.errors;if(u!=null){let _=c.findIndex(x=>x.route.id&&u?.[x.route.id]!==void 0);Ut(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,_+1))}let m=!1,g=-1;if(n)for(let _=0;_<c.length;_++){let x=c[_];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(g=_),x.route.id){let{loaderData:T,errors:A}=n,j=x.route.loader&&!T.hasOwnProperty(x.route.id)&&(!A||A[x.route.id]===void 0);if(x.route.lazy||j){m=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((_,x,T)=>{let A,j=!1,I=null,z=null;n&&(A=u&&x.route.id?u[x.route.id]:void 0,I=x.route.errorElement||kP,m&&(g<0&&T===0?(kE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,z=null):g===T&&(j=!0,z=x.route.hydrateFallbackElement||null)));let k=e.concat(c.slice(0,T+1)),$=()=>{let Y;return A?Y=I:j?Y=z:x.route.Component?Y=V.createElement(x.route.Component,null):x.route.element?Y=x.route.element:Y=_,V.createElement(UP,{match:x,routeContext:{outlet:_,matches:k,isDataRoute:n!=null},children:Y})};return n&&(x.route.ErrorBoundary||x.route.errorElement||T===0)?V.createElement(VP,{location:n.location,revalidation:n.revalidation,component:I,error:A,children:$(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:i}):$()},null)}function P0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zP(t){let e=V.useContext(eu);return Ut(e,P0(t)),e}function FP(t){let e=V.useContext(Cm);return Ut(e,P0(t)),e}function HP(t){let e=V.useContext(Qs);return Ut(e,P0(t)),e}function j0(t){let e=HP(t),n=e.matches[e.matches.length-1];return Ut(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function qP(){return j0("useRouteId")}function GP(){let t=V.useContext(R0),e=FP("useRouteError"),n=j0("useRouteError");return t!==void 0?t:e.errors?.[n]}function ZP(){let{router:t}=zP("useNavigate"),e=j0("useNavigate"),n=V.useRef(!1);return ME(()=>{n.current=!0}),V.useCallback(async(a,c={})=>{Ss(n.current,LE),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...c}))},[t,e])}var yw={};function kE(t,e,n){!e&&!yw[t]&&(yw[t]=!0,Ss(!1,n))}V.memo(WP);function WP({routes:t,future:e,state:n,unstable_onError:i}){return OE(t,void 0,n,i,e)}function I0({to:t,replace:e,state:n,relative:i}){Ut(tu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=V.useContext(Ys);Ss(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=V.useContext(Qs),{pathname:u}=As(),m=Oo(),g=C0(t,N0(c),u,i==="path"),_=JSON.stringify(g);return V.useEffect(()=>{m(JSON.parse(_),{replace:e,state:n,relative:i})},[m,_,i,e,n]),null}function KP(t){return LP(t.context)}function On(t){Ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $P({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:c=!1}){Ut(!tu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),m=V.useMemo(()=>({basename:u,navigator:a,static:c,future:{}}),[u,a,c]);typeof n=="string"&&(n=Ll(n));let{pathname:g="/",search:_="",hash:x="",state:T=null,key:A="default"}=n,j=V.useMemo(()=>{let I=da(g,u);return I==null?null:{location:{pathname:I,search:_,hash:x,state:T,key:A},navigationType:i}},[u,g,_,x,T,A,i]);return Ss(j!=null,`<Router basename="${u}"> is not able to match the URL "${g}${_}${x}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:V.createElement(Ys.Provider,{value:m},V.createElement(Yh.Provider,{children:e,value:j}))}function YP({children:t,location:e}){return MP(Ny(t),e)}function Ny(t,e=[]){let n=[];return V.Children.forEach(t,(i,a)=>{if(!V.isValidElement(i))return;let c=[...e,a];if(i.type===V.Fragment){n.push.apply(n,Ny(i.props.children,c));return}Ut(i.type===On,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ut(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Ny(i.props.children,c)),n.push(u)}),n}var Mf="get",Of="application/x-www-form-urlencoded";function Rm(t){return t!=null&&typeof t.tagName=="string"}function QP(t){return Rm(t)&&t.tagName.toLowerCase()==="button"}function XP(t){return Rm(t)&&t.tagName.toLowerCase()==="form"}function JP(t){return Rm(t)&&t.tagName.toLowerCase()==="input"}function ej(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function tj(t,e){return t.button===0&&(!e||e==="_self")&&!ej(t)}var wf=null;function nj(){if(wf===null)try{new FormData(document.createElement("form"),0),wf=!1}catch{wf=!0}return wf}var ij=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wg(t){return t!=null&&!ij.has(t)?(Ss(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Of}"`),null):t}function sj(t,e){let n,i,a,c,u;if(XP(t)){let m=t.getAttribute("action");i=m?da(m,e):null,n=t.getAttribute("method")||Mf,a=Wg(t.getAttribute("enctype"))||Of,c=new FormData(t)}else if(QP(t)||JP(t)&&(t.type==="submit"||t.type==="image")){let m=t.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=t.getAttribute("formaction")||m.getAttribute("action");if(i=g?da(g,e):null,n=t.getAttribute("formmethod")||m.getAttribute("method")||Mf,a=Wg(t.getAttribute("formenctype"))||Wg(m.getAttribute("enctype"))||Of,c=new FormData(m,t),!nj()){let{name:_,type:x,value:T}=t;if(x==="image"){let A=_?`${_}.`:"";c.append(`${A}x`,"0"),c.append(`${A}y`,"0")}else _&&c.append(_,T)}}else{if(Rm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mf,i=null,a=Of,u=t}return c&&a==="text/plain"&&(u=c,c=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function D0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rj(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&da(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function aj(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oj(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function lj(t,e,n){let i=await Promise.all(t.map(async a=>{let c=e.routes[a.route.id];if(c){let u=await aj(c,n);return u.links?u.links():[]}return[]}));return dj(i.flat(1).filter(oj).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function vw(t,e,n,i,a,c){let u=(g,_)=>n[_]?g.route.id!==n[_].route.id:!0,m=(g,_)=>n[_].pathname!==g.pathname||n[_].route.path?.endsWith("*")&&n[_].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,_)=>u(g,_)||m(g,_)):c==="data"?e.filter((g,_)=>{let x=i.routes[g.route.id];if(!x||!x.hasLoader)return!1;if(u(g,_)||m(g,_))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function cj(t,e,{includeHydrateFallback:n}={}){return uj(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let c=[a.module];return a.clientActionModule&&(c=c.concat(a.clientActionModule)),a.clientLoaderModule&&(c=c.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(c=c.concat(a.hydrateFallbackModule)),a.imports&&(c=c.concat(a.imports)),c}).flat(1))}function uj(t){return[...new Set(t)]}function hj(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function dj(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let c=JSON.stringify(hj(a));return n.has(c)||(n.add(c),i.push({key:c,link:a})),i},[])}function VE(){let t=V.useContext(eu);return D0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function fj(){let t=V.useContext(Cm);return D0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var L0=V.createContext(void 0);L0.displayName="FrameworkContext";function UE(){let t=V.useContext(L0);return D0(t,"You must render this element inside a <HydratedRouter> element"),t}function mj(t,e){let n=V.useContext(L0),[i,a]=V.useState(!1),[c,u]=V.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:_,onMouseLeave:x,onTouchStart:T}=e,A=V.useRef(null);V.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let z=$=>{$.forEach(Y=>{u(Y.isIntersecting)})},k=new IntersectionObserver(z,{threshold:.5});return A.current&&k.observe(A.current),()=>{k.disconnect()}}},[t]),V.useEffect(()=>{if(i){let z=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(z)}}},[i]);let j=()=>{a(!0)},I=()=>{a(!1),u(!1)};return n?t!=="intent"?[c,A,{}]:[c,A,{onFocus:uh(m,j),onBlur:uh(g,I),onMouseEnter:uh(_,j),onMouseLeave:uh(x,I),onTouchStart:uh(T,j)}]:[!1,A,{}]}function uh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function pj({page:t,...e}){let{router:n}=VE(),i=V.useMemo(()=>RE(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?V.createElement(yj,{page:t,matches:i,...e}):null}function gj(t){let{manifest:e,routeModules:n}=UE(),[i,a]=V.useState([]);return V.useEffect(()=>{let c=!1;return lj(t,e,n).then(u=>{c||a(u)}),()=>{c=!0}},[t,e,n]),i}function yj({page:t,matches:e,...n}){let i=As(),{manifest:a,routeModules:c}=UE(),{basename:u}=VE(),{loaderData:m,matches:g}=fj(),_=V.useMemo(()=>vw(t,e,g,a,i,"data"),[t,e,g,a,i]),x=V.useMemo(()=>vw(t,e,g,a,i,"assets"),[t,e,g,a,i]),T=V.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let I=new Set,z=!1;if(e.forEach($=>{let Y=a.routes[$.route.id];!Y||!Y.hasLoader||(!_.some(Q=>Q.route.id===$.route.id)&&$.route.id in m&&c[$.route.id]?.shouldRevalidate||Y.hasClientLoader?z=!0:I.add($.route.id))}),I.size===0)return[];let k=rj(t,u,"data");return z&&I.size>0&&k.searchParams.set("_routes",e.filter($=>I.has($.route.id)).map($=>$.route.id).join(",")),[k.pathname+k.search]},[u,m,i,a,_,e,t,c]),A=V.useMemo(()=>cj(x,a),[x,a]),j=gj(x);return V.createElement(V.Fragment,null,T.map(I=>V.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),A.map(I=>V.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),j.map(({key:I,link:z})=>V.createElement("link",{key:I,nonce:n.nonce,...z})))}function vj(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var BE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{BE&&(window.__reactRouterVersion="7.9.1")}catch{}function _j({basename:t,children:e,window:n}){let i=V.useRef();i.current==null&&(i.current=sP({window:n,v5Compat:!0}));let a=i.current,[c,u]=V.useState({action:a.action,location:a.location}),m=V.useCallback(g=>{V.startTransition(()=>u(g))},[u]);return V.useLayoutEffect(()=>a.listen(m),[a,m]),V.createElement($P,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:a})}var zE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,et=V.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:c,replace:u,state:m,target:g,to:_,preventScrollReset:x,viewTransition:T,...A},j){let{basename:I}=V.useContext(Ys),z=typeof _=="string"&&zE.test(_),k,$=!1;if(typeof _=="string"&&z&&(k=_,BE))try{let U=new URL(window.location.href),W=_.startsWith("//")?new URL(U.protocol+_):new URL(_),M=da(W.pathname,I);W.origin===U.origin&&M!=null?_=M+W.search+W.hash:$=!0}catch{Ss(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=jP(_,{relative:a}),[Q,ve,he]=mj(i,A),we=wj(_,{replace:u,state:m,target:g,preventScrollReset:x,relative:a,viewTransition:T});function F(U){e&&e(U),U.defaultPrevented||we(U)}let O=V.createElement("a",{...A,...he,href:k||Y,onClick:$||c?e:F,ref:vj(j,ve),target:g,"data-discover":!z&&n==="render"?"true":void 0});return Q&&!z?V.createElement(V.Fragment,null,O,V.createElement(pj,{page:Y})):O});et.displayName="Link";var fh=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:c,to:u,viewTransition:m,children:g,..._},x){let T=Qh(u,{relative:_.relative}),A=As(),j=V.useContext(Cm),{navigator:I,basename:z}=V.useContext(Ys),k=j!=null&&Nj(T)&&m===!0,$=I.encodeLocation?I.encodeLocation(T).pathname:T.pathname,Y=A.pathname,Q=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),Q=Q?Q.toLowerCase():null,$=$.toLowerCase()),Q&&z&&(Q=da(Q,z)||Q);const ve=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let he=Y===$||!a&&Y.startsWith($)&&Y.charAt(ve)==="/",we=Q!=null&&(Q===$||!a&&Q.startsWith($)&&Q.charAt($.length)==="/"),F={isActive:he,isPending:we,isTransitioning:k},O=he?e:void 0,U;typeof i=="function"?U=i(F):U=[i,he?"active":null,we?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let W=typeof c=="function"?c(F):c;return V.createElement(et,{..._,"aria-current":O,className:U,ref:x,style:W,to:u,viewTransition:m},typeof g=="function"?g(F):g)});fh.displayName="NavLink";var xj=V.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:c,method:u=Mf,action:m,onSubmit:g,relative:_,preventScrollReset:x,viewTransition:T,...A},j)=>{let I=Sj(),z=Aj(m,{relative:_}),k=u.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&zE.test(m),Y=Q=>{if(g&&g(Q),Q.defaultPrevented)return;Q.preventDefault();let ve=Q.nativeEvent.submitter,he=ve?.getAttribute("formmethod")||u;I(ve||Q.currentTarget,{fetcherKey:e,method:he,navigate:n,replace:a,state:c,relative:_,preventScrollReset:x,viewTransition:T})};return V.createElement("form",{ref:j,method:k,action:z,onSubmit:i?g:Y,...A,"data-discover":!$&&t==="render"?"true":void 0})});xj.displayName="Form";function bj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FE(t){let e=V.useContext(eu);return Ut(e,bj(t)),e}function wj(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:c,viewTransition:u}={}){let m=Oo(),g=As(),_=Qh(t,{relative:c});return V.useCallback(x=>{if(tj(x,e)){x.preventDefault();let T=n!==void 0?n:Dh(g)===Dh(_);m(t,{replace:T,state:i,preventScrollReset:a,relative:c,viewTransition:u})}},[g,m,_,n,i,e,t,a,c,u])}var Tj=0,Ej=()=>`__${String(++Tj)}__`;function Sj(){let{router:t}=FE("useSubmit"),{basename:e}=V.useContext(Ys),n=qP();return V.useCallback(async(i,a={})=>{let{action:c,method:u,encType:m,formData:g,body:_}=sj(i,e);if(a.navigate===!1){let x=a.fetcherKey||Ej();await t.fetch(x,n,a.action||c,{preventScrollReset:a.preventScrollReset,formData:g,body:_,formMethod:a.method||u,formEncType:a.encType||m,flushSync:a.flushSync})}else await t.navigate(a.action||c,{preventScrollReset:a.preventScrollReset,formData:g,body:_,formMethod:a.method||u,formEncType:a.encType||m,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function Aj(t,{relative:e}={}){let{basename:n}=V.useContext(Ys),i=V.useContext(Qs);Ut(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),c={...Qh(t||".",{relative:e})},u=As();if(t==null){c.search=u.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(x=>x==="")){m.delete("index"),g.filter(T=>T).forEach(T=>m.append("index",T));let x=m.toString();c.search=x?`?${x}`:""}}return(!t||t===".")&&a.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:ca([n,c.pathname])),Dh(c)}function Nj(t,{relative:e}={}){let n=V.useContext(DE);Ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=FE("useViewTransitionState"),a=Qh(t,{relative:e});if(!n.isTransitioning)return!1;let c=da(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=da(n.nextLocation.pathname,i)||n.nextLocation.pathname;return im(a.pathname,u)!=null||im(a.pathname,c)!=null}var Cj=CE();const Rj=()=>{};var _w={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},Pj=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const c=t[n++];e[i++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=t[n++],u=t[n++],m=t[n++],g=((a&7)<<18|(c&63)<<12|(u&63)<<6|m&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const c=t[n++],u=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(c&63)<<6|u&63)}}return e.join("")},qE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const c=t[a],u=a+1<t.length,m=u?t[a+1]:0,g=a+2<t.length,_=g?t[a+2]:0,x=c>>2,T=(c&3)<<4|m>>4;let A=(m&15)<<2|_>>6,j=_&63;g||(j=64,u||(A=64)),i.push(n[x],n[T],n[A],n[j])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(HE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Pj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const c=n[t.charAt(a++)],m=a<t.length?n[t.charAt(a)]:0;++a;const _=a<t.length?n[t.charAt(a)]:64;++a;const T=a<t.length?n[t.charAt(a)]:64;if(++a,c==null||m==null||_==null||T==null)throw new jj;const A=c<<2|m>>4;if(i.push(A),_!==64){const j=m<<4&240|_>>2;if(i.push(j),T!==64){const I=_<<6&192|T;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ij=function(t){const e=HE(t);return qE.encodeByteArray(e,!0)},sm=function(t){return Ij(t).replace(/\./g,"")},GE=function(t){try{return qE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj=()=>Dj().__FIREBASE_DEFAULTS__,Mj=()=>{if(typeof process>"u"||typeof _w>"u")return;const t=_w.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Oj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&GE(t[1]);return e&&JSON.parse(e)},Pm=()=>{try{return Rj()||Lj()||Mj()||Oj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ZE=t=>Pm()?.emulatorHosts?.[t],kj=t=>{const e=ZE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},WE=()=>Pm()?.config,KE=t=>Pm()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $E(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,c=t.sub||t.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...t};return[sm(JSON.stringify(n)),sm(JSON.stringify(u)),""].join(".")}const wh={};function Bj(){const t={prod:[],emulator:[]};for(const e of Object.keys(wh))wh[e]?t.emulator.push(e):t.prod.push(e);return t}function zj(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let xw=!1;function YE(t,e){if(typeof window>"u"||typeof document>"u"||!nu(window.location.host)||wh[t]===e||wh[t]||xw)return;wh[t]=e;function n(A){return`__firebase__banner__${A}`}const i="__firebase__banner",c=Bj().prod.length>0;function u(){const A=document.getElementById(i);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,j){A.setAttribute("width","24"),A.setAttribute("id",j),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function _(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{xw=!0,u()},A}function x(A,j){A.setAttribute("id",j),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=zj(i),j=n("text"),I=document.getElementById(j)||document.createElement("span"),z=n("learnmore"),k=document.getElementById(z)||document.createElement("a"),$=n("preprendIcon"),Y=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const Q=A.element;m(Q),x(k,z);const ve=_();g(Y,$),Q.append(Y,I,k,ve),document.body.appendChild(Q)}c?(I.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qn())}function Hj(){const t=Pm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Gj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Zj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Wj(){const t=Qn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Kj(){return!Hj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $j(){try{return typeof indexedDB=="object"}catch{return!1}}function Yj(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj="FirebaseError";class _a extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Qj,Object.setPrototypeOf(this,_a.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xh.prototype.create)}}class Xh{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],u=c?Xj(c,i):"Error",m=`${this.serviceName}: ${u} (${a}).`;return new _a(a,m,i)}}function Xj(t,e){return t.replace(Jj,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const Jj=/\{\$([^}]+)}/g;function eI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function No(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const c=t[a],u=e[a];if(bw(c)&&bw(u)){if(!No(c,u))return!1}else if(c!==u)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function bw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function mh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,c]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(c)}}),e}function ph(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function tI(t,e){const n=new nI(t,e);return n.subscribe.bind(n)}class nI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");iI(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=Kg),a.error===void 0&&(a.error=Kg),a.complete===void 0&&(a.complete=Kg);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Kg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t){return t&&t._delegate?t._delegate:t}class Cl{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Vj;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aI(e))try{this.getOrInitializeService({instanceIdentifier:vl})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});i.resolve(c)}catch{}}}}clearInstance(e=vl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vl){return this.instances.has(e)}getOptions(e=vl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[c,u]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);i===m&&u.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const c=this.instances.get(i);return c&&e(c,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:rI(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=vl){return this.component?this.component.multipleInstances?e:vl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rI(t){return t===vl?void 0:t}function aI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(lt||(lt={}));const lI={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},cI=lt.INFO,uI={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},hI=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=uI[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class M0{constructor(e){this.name=e,this._logLevel=cI,this._logHandler=hI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const dI=(t,e)=>e.some(n=>t instanceof n);let ww,Tw;function fI(){return ww||(ww=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mI(){return Tw||(Tw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QE=new WeakMap,Cy=new WeakMap,XE=new WeakMap,$g=new WeakMap,O0=new WeakMap;function pI(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",c),t.removeEventListener("error",u)},c=()=>{n(xo(t.result)),a()},u=()=>{i(t.error),a()};t.addEventListener("success",c),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&QE.set(n,t)}).catch(()=>{}),O0.set(e,t),e}function gI(t){if(Cy.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",u),t.removeEventListener("abort",u)},c=()=>{n(),a()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",c),t.addEventListener("error",u),t.addEventListener("abort",u)});Cy.set(t,e)}let Ry={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||XE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yI(t){Ry=t(Ry)}function vI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Yg(this),e,...n);return XE.set(i,e.sort?e.sort():[e]),xo(i)}:mI().includes(t)?function(...e){return t.apply(Yg(this),e),xo(QE.get(this))}:function(...e){return xo(t.apply(Yg(this),e))}}function _I(t){return typeof t=="function"?vI(t):(t instanceof IDBTransaction&&gI(t),dI(t,fI())?new Proxy(t,Ry):t)}function xo(t){if(t instanceof IDBRequest)return pI(t);if($g.has(t))return $g.get(t);const e=_I(t);return e!==t&&($g.set(t,e),O0.set(e,t)),e}const Yg=t=>O0.get(t);function xI(t,e,{blocked:n,upgrade:i,blocking:a,terminated:c}={}){const u=indexedDB.open(t,e),m=xo(u);return i&&u.addEventListener("upgradeneeded",g=>{i(xo(u.result),g.oldVersion,g.newVersion,xo(u.transaction),g)}),n&&u.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),a&&g.addEventListener("versionchange",_=>a(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const bI=["get","getKey","getAll","getAllKeys","count"],wI=["put","add","delete","clear"],Qg=new Map;function Ew(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qg.get(e))return Qg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=wI.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||bI.includes(n)))return;const c=async function(u,...m){const g=this.transaction(u,a?"readwrite":"readonly");let _=g.store;return i&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),a&&g.done]))[0]};return Qg.set(e,c),c}yI(t=>({...t,get:(e,n,i)=>Ew(e,n)||t.get(e,n,i),has:(e,n)=>!!Ew(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(EI(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function EI(t){return t.getComponent()?.type==="VERSION"}const Py="@firebase/app",Sw="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=new M0("@firebase/app"),SI="@firebase/app-compat",AI="@firebase/analytics-compat",NI="@firebase/analytics",CI="@firebase/app-check-compat",RI="@firebase/app-check",PI="@firebase/auth",jI="@firebase/auth-compat",II="@firebase/database",DI="@firebase/data-connect",LI="@firebase/database-compat",MI="@firebase/functions",OI="@firebase/functions-compat",kI="@firebase/installations",VI="@firebase/installations-compat",UI="@firebase/messaging",BI="@firebase/messaging-compat",zI="@firebase/performance",FI="@firebase/performance-compat",HI="@firebase/remote-config",qI="@firebase/remote-config-compat",GI="@firebase/storage",ZI="@firebase/storage-compat",WI="@firebase/firestore",KI="@firebase/ai",$I="@firebase/firestore-compat",YI="firebase",QI="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="[DEFAULT]",XI={[Py]:"fire-core",[SI]:"fire-core-compat",[NI]:"fire-analytics",[AI]:"fire-analytics-compat",[RI]:"fire-app-check",[CI]:"fire-app-check-compat",[PI]:"fire-auth",[jI]:"fire-auth-compat",[II]:"fire-rtdb",[DI]:"fire-data-connect",[LI]:"fire-rtdb-compat",[MI]:"fire-fn",[OI]:"fire-fn-compat",[kI]:"fire-iid",[VI]:"fire-iid-compat",[UI]:"fire-fcm",[BI]:"fire-fcm-compat",[zI]:"fire-perf",[FI]:"fire-perf-compat",[HI]:"fire-rc",[qI]:"fire-rc-compat",[GI]:"fire-gcs",[ZI]:"fire-gcs-compat",[WI]:"fire-fst",[$I]:"fire-fst-compat",[KI]:"fire-vertex","fire-js":"fire-js",[YI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=new Map,JI=new Map,Iy=new Map;function Aw(t,e){try{t.container.addComponent(e)}catch(n){fa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fc(t){const e=t.name;if(Iy.has(e))return fa.debug(`There were multiple attempts to register component ${e}.`),!1;Iy.set(e,t);for(const n of rm.values())Aw(n,t);for(const n of JI.values())Aw(n,t);return!0}function k0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function bs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bo=new Xh("app","Firebase",e4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Cl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=QI;function JE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:jy,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw bo.create("bad-app-name",{appName:String(a)});if(n||(n=WE()),!n)throw bo.create("no-options");const c=rm.get(a);if(c){if(No(n,c.options)&&No(i,c.config))return c;throw bo.create("duplicate-app",{appName:a})}const u=new oI(a);for(const g of Iy.values())u.addComponent(g);const m=new t4(n,i,u);return rm.set(a,m),m}function eS(t=jy){const e=rm.get(t);if(!e&&t===jy&&WE())return JE();if(!e)throw bo.create("no-app",{appName:t});return e}function wo(t,e,n){let i=XI[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fa.warn(u.join(" "));return}Fc(new Cl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4="firebase-heartbeat-database",i4=1,Lh="firebase-heartbeat-store";let Xg=null;function tS(){return Xg||(Xg=xI(n4,i4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Lh)}catch(n){console.warn(n)}}}}).catch(t=>{throw bo.create("idb-open",{originalErrorMessage:t.message})})),Xg}async function s4(t){try{const n=(await tS()).transaction(Lh),i=await n.objectStore(Lh).get(nS(t));return await n.done,i}catch(e){if(e instanceof _a)fa.warn(e.message);else{const n=bo.create("idb-get",{originalErrorMessage:e?.message});fa.warn(n.message)}}}async function Nw(t,e){try{const i=(await tS()).transaction(Lh,"readwrite");await i.objectStore(Lh).put(e,nS(t)),await i.done}catch(n){if(n instanceof _a)fa.warn(n.message);else{const i=bo.create("idb-set",{originalErrorMessage:n?.message});fa.warn(i.message)}}}function nS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=1024,a4=30;class o4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new c4(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Cw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>a4){const a=u4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){fa.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Cw(),{heartbeatsToSend:n,unsentEntries:i}=l4(this._heartbeatsCache.heartbeats),a=sm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return fa.warn(e),""}}}function Cw(){return new Date().toISOString().substring(0,10)}function l4(t,e=r4){const n=[];let i=t.slice();for(const a of t){const c=n.find(u=>u.agent===a.agent);if(c){if(c.dates.push(a.date),Rw(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Rw(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class c4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $j()?Yj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await s4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Nw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Nw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Rw(t){return sm(JSON.stringify({version:2,heartbeats:t})).length}function u4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(t){Fc(new Cl("platform-logger",e=>new TI(e),"PRIVATE")),Fc(new Cl("heartbeat",e=>new o4(e),"PRIVATE")),wo(Py,Sw,t),wo(Py,Sw,"esm2020"),wo("fire-js","")}h4("");function iS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const d4=iS,sS=new Xh("auth","Firebase",iS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am=new M0("@firebase/auth");function f4(t,...e){am.logLevel<=lt.WARN&&am.warn(`Auth (${iu}): ${t}`,...e)}function kf(t,...e){am.logLevel<=lt.ERROR&&am.error(`Auth (${iu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(t,...e){throw V0(t,...e)}function _r(t,...e){return V0(t,...e)}function rS(t,e,n){const i={...d4(),[e]:n};return new Xh("auth","Firebase",i).create(e,{appName:t.name})}function ua(t){return rS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function V0(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return sS.create(t,...e)}function qe(t,e,...n){if(!t)throw V0(e,...n)}function oa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kf(e),new Error(e)}function ma(t,e){t||oa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(){return typeof self<"u"&&self.location?.href||""}function m4(){return Pw()==="http:"||Pw()==="https:"}function Pw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(m4()||Gj()||"connection"in navigator)?navigator.onLine:!0}function g4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n){this.shortDelay=e,this.longDelay=n,ma(n>e,"Short delay should be less than long delay!"),this.isMobile=Fj()||Zj()}get(){return p4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(t,e){ma(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_4=new ed(3e4,6e4);function xa(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Rr(t,e,n,i,a={}){return oS(t,a,async()=>{let c={},u={};i&&(e==="GET"?u=i:c={body:JSON.stringify(i)});const m=Jh({key:t.config.apiKey,...u}).slice(1),g=await t._getAdditionalHeaders();g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode);const _={method:e,headers:g,...c};return qj()||(_.referrerPolicy="no-referrer"),t.emulatorConfig&&nu(t.emulatorConfig.host)&&(_.credentials="include"),aS.fetch()(await lS(t,t.config.apiHost,n,m),_)})}async function oS(t,e,n){t._canInitEmulator=!1;const i={...y4,...e};try{const a=new b4(t),c=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw Tf(t,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const m=c.ok?u.errorMessage:u.error.message,[g,_]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tf(t,"credential-already-in-use",u);if(g==="EMAIL_EXISTS")throw Tf(t,"email-already-in-use",u);if(g==="USER_DISABLED")throw Tf(t,"user-disabled",u);const x=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw rS(t,x,_);Ks(t,x)}}catch(a){if(a instanceof _a)throw a;Ks(t,"network-request-failed",{message:String(a)})}}async function td(t,e,n,i,a={}){const c=await Rr(t,e,n,i,a);return"mfaPendingCredential"in c&&Ks(t,"multi-factor-auth-required",{_serverResponse:c}),c}async function lS(t,e,n,i){const a=`${e}${n}?${i}`,c=t,u=c.config.emulator?U0(t.config,a):`${t.config.apiScheme}://${a}`;return v4.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}function x4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class b4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(_r(this.auth,"network-request-failed")),_4.get())})}}function Tf(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=_r(t,e,i);return a.customData._tokenResponse=n,a}function jw(t){return t!==void 0&&t.enterprise!==void 0}class w4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return x4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function T4(t,e){return Rr(t,"GET","/v2/recaptchaConfig",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E4(t,e){return Rr(t,"POST","/v1/accounts:delete",e)}async function om(t,e){return Rr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function S4(t,e=!1){const n=vn(t),i=await n.getIdToken(e),a=B0(i);qe(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const c=typeof a.firebase=="object"?a.firebase:void 0,u=c?.sign_in_provider;return{claims:a,token:i,authTime:Th(Jg(a.auth_time)),issuedAtTime:Th(Jg(a.iat)),expirationTime:Th(Jg(a.exp)),signInProvider:u||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Jg(t){return Number(t)*1e3}function B0(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return kf("JWT malformed, contained fewer than 3 sections"),null;try{const a=GE(n);return a?JSON.parse(a):(kf("Failed to decode base64 JWT payload"),null)}catch(a){return kf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Iw(t){const e=B0(t);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof _a&&A4(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function A4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Th(this.lastLoginAt),this.creationTime=Th(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lm(t){const e=t.auth,n=await t.getIdToken(),i=await Hc(t,om(e,{idToken:n}));qe(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const c=a.providerUserInfo?.length?cS(a.providerUserInfo):[],u=R4(t.providerData,c),m=t.isAnonymous,g=!(t.email&&a.passwordHash)&&!u?.length,_=m?g:!1,x={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Ly(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(t,x)}async function C4(t){const e=vn(t);await lm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function R4(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function cS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P4(t,e){const n=await oS(t,{},async()=>{const i=Jh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:c}=t.config,u=await lS(t,a,"/v1/token",`key=${c}`),m=await t._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:i};return t.emulatorConfig&&nu(t.emulatorConfig.host)&&(g.credentials="include"),aS.fetch()(u,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function j4(t,e){return Rr(t,"POST","/v2/accounts:revokeToken",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Iw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const n=Iw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:c}=await P4(e,n);this.updateTokensAndExpiration(i,a,Number(c))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:c}=n,u=new Oc;return i&&(qe(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(qe(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),c&&(qe(typeof c=="number","internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oc,this.toJSON())}_performRefresh(){return oa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(t,e){qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Zs{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new N4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Ly(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Hc(this,this.stsTokenManager.getToken(this.auth,e));return qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return S4(this,e)}reload(){return C4(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await lm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bs(this.auth.app))return Promise.reject(ua(this.auth));const e=await this.getIdToken();return await Hc(this,E4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,c=n.phoneNumber??void 0,u=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,_=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:j,providerData:I,stsTokenManager:z}=n;qe(T&&z,e,"internal-error");const k=Oc.fromJSON(this.name,z);qe(typeof T=="string",e,"internal-error"),fo(i,e.name),fo(a,e.name),qe(typeof A=="boolean",e,"internal-error"),qe(typeof j=="boolean",e,"internal-error"),fo(c,e.name),fo(u,e.name),fo(m,e.name),fo(g,e.name),fo(_,e.name),fo(x,e.name);const $=new Zs({uid:T,auth:e,email:a,emailVerified:A,displayName:i,isAnonymous:j,photoURL:u,phoneNumber:c,tenantId:m,stsTokenManager:k,createdAt:_,lastLoginAt:x});return I&&Array.isArray(I)&&($.providerData=I.map(Y=>({...Y}))),g&&($._redirectEventId=g),$}static async _fromIdTokenResponse(e,n,i=!1){const a=new Oc;a.updateFromServerResponse(n);const c=new Zs({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await lm(c),c}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];qe(a.localId!==void 0,"internal-error");const c=a.providerUserInfo!==void 0?cS(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!c?.length,m=new Oc;m.updateFromIdToken(i);const g=new Zs({uid:a.localId,auth:e,stsTokenManager:m,isAnonymous:u}),_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Ly(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!c?.length};return Object.assign(g,_),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=new Map;function la(t){ma(t instanceof Function,"Expected a class definition");let e=Dw.get(t);return e?(ma(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Dw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}uS.type="NONE";const Lw=uS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(t,e,n){return`firebase:${t}:${e}:${n}`}class kc{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:c}=this.auth;this.fullUserKey=Vf(this.userKey,a.apiKey,c),this.fullPersistenceKey=Vf("persistence",a.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await om(this.auth,{idToken:e}).catch(()=>{});return n?Zs._fromGetAccountInfoResponse(this.auth,n,e):null}return Zs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new kc(la(Lw),e,i);const a=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=a[0]||la(Lw);const u=Vf(i,e.config.apiKey,e.name);let m=null;for(const _ of n)try{const x=await _._get(u);if(x){let T;if(typeof x=="string"){const A=await om(e,{idToken:x}).catch(()=>{});if(!A)break;T=await Zs._fromGetAccountInfoResponse(e,A,x)}else T=Zs._fromJSON(e,x);_!==c&&(m=T),c=_;break}}catch{}const g=a.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new kc(c,e,i):(c=g[0],m&&await c._set(u,m.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(u)}catch{}})),new kc(c,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gS(e))return"Blackberry";if(yS(e))return"Webos";if(dS(e))return"Safari";if((e.includes("chrome/")||fS(e))&&!e.includes("edge/"))return"Chrome";if(pS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function hS(t=Qn()){return/firefox\//i.test(t)}function dS(t=Qn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fS(t=Qn()){return/crios\//i.test(t)}function mS(t=Qn()){return/iemobile/i.test(t)}function pS(t=Qn()){return/android/i.test(t)}function gS(t=Qn()){return/blackberry/i.test(t)}function yS(t=Qn()){return/webos/i.test(t)}function z0(t=Qn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function I4(t=Qn()){return z0(t)&&!!window.navigator?.standalone}function D4(){return Wj()&&document.documentMode===10}function vS(t=Qn()){return z0(t)||pS(t)||yS(t)||gS(t)||/windows phone/i.test(t)||mS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(t,e=[]){let n;switch(t){case"Browser":n=Mw(Qn());break;case"Worker":n=`${Mw(Qn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${iu}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=c=>new Promise((u,m)=>{try{const g=e(c);u(g)}catch(g){m(g)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M4(t,e={}){return Rr(t,"GET","/v2/passwordPolicy",xa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=6;class k4{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??O4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ow(this),this.idTokenSubscription=new Ow(this),this.beforeStateQueue=new L4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=la(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await kc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await om(this,{idToken:e}),i=await Zs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(bs(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,u=i?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===u)&&m?.user&&(i=m.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await lm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=g4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bs(this.app))return Promise.reject(ua(this));const n=e?vn(e):null;return n&&qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bs(this.app)?Promise.reject(ua(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bs(this.app)?Promise.reject(ua(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(la(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await M4(this),n=new k4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xh("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await j4(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&la(e)||this._popupRedirectResolver;qe(n,this,"argument-error"),this.redirectPersistenceManager=await kc.create(this,[la(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let u=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(m,this,"internal-error"),m.then(()=>{u||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,i,a);return()=>{u=!0,g()}}else{const g=e.addObserver(n);return()=>{u=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_S(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(bs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&f4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ko(t){return vn(t)}let Ow=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=tI(n=>this.observer=n)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function U4(t){jm=t}function xS(t){return jm.loadJS(t)}function B4(){return jm.recaptchaEnterpriseScript}function z4(){return jm.gapiScript}function F4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class H4{constructor(){this.enterprise=new q4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class q4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const G4="recaptcha-enterprise",bS="NO_RECAPTCHA";class Z4{constructor(e){this.type=G4,this.auth=ko(e)}async verify(e="verify",n=!1){async function i(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(u,m)=>{T4(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const _=new w4(g);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,u(_.siteKey)}}).catch(g=>{m(g)})})}function a(c,u,m){const g=window.grecaptcha;jw(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(_=>{u(_)}).catch(()=>{u(bS)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new H4().execute("siteKey",{action:"verify"}):new Promise((c,u)=>{i(this.auth).then(m=>{if(!n&&jw(window.grecaptcha))a(m,c,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let g=B4();g.length!==0&&(g+=m),xS(g).then(()=>{a(m,c,u)}).catch(_=>{u(_)})}}).catch(m=>{u(m)})})}}async function kw(t,e,n,i=!1,a=!1){const c=new Z4(t);let u;if(a)u=bS;else try{u=await c.verify(n)}catch{u=await c.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,_=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:_,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return i?Object.assign(m,{captchaResp:u}):Object.assign(m,{captchaResponse:u}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function cm(t,e,n,i,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await kw(t,e,n,n==="getOobCode");return i(t,c)}else return i(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await kw(t,e,n,n==="getOobCode");return i(t,u)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t,e){const n=k0(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),c=n.getOptions();if(No(c,e??{}))return a;Ks(a,"already-initialized")}return n.initialize({options:e})}function K4(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(la);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function $4(t,e,n){const i=ko(t);qe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,c=wS(e),{host:u,port:m}=Y4(e),g=m===null?"":`:${m}`,_={url:`${c}//${u}${g}/`},x=Object.freeze({host:u,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){qe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),qe(No(_,i.config.emulator)&&No(x,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=_,i.emulatorConfig=x,i.settings.appVerificationDisabledForTesting=!0,nu(u)?($E(`${c}//${u}${g}`),YE("Auth",!0)):Q4()}function wS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Y4(t){const e=wS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const c=a[1];return{host:c,port:Vw(i.substr(c.length+1))}}else{const[c,u]=i.split(":");return{host:c,port:Vw(u)}}}function Vw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Q4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return oa("not implemented")}_getIdTokenResponse(e){return oa("not implemented")}_linkToIdToken(e,n){return oa("not implemented")}_getReauthenticationResolver(e){return oa("not implemented")}}async function X4(t,e){return Rr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J4(t,e){return td(t,"POST","/v1/accounts:signInWithPassword",xa(t,e))}async function eD(t,e){return Rr(t,"POST","/v1/accounts:sendOobCode",xa(t,e))}async function tD(t,e){return eD(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(t,e){return td(t,"POST","/v1/accounts:signInWithEmailLink",xa(t,e))}async function iD(t,e){return td(t,"POST","/v1/accounts:signInWithEmailLink",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends F0{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Mh(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Mh(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cm(e,n,"signInWithPassword",J4);case"emailLink":return nD(e,{email:this._email,oobCode:this._password});default:Ks(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cm(e,i,"signUpPassword",X4);case"emailLink":return iD(e,{idToken:n,email:this._email,oobCode:this._password});default:Ks(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vc(t,e){return td(t,"POST","/v1/accounts:signInWithIdp",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="http://localhost";class Rl extends F0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Rl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ks("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...c}=n;if(!i||!a)return null;const u=new Rl(i,a);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Vc(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Vc(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vc(e,n)}buildRequest(){const e={requestUri:sD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aD(t){const e=mh(ph(t)).link,n=e?mh(ph(e)).deep_link_id:null,i=mh(ph(t)).deep_link_id;return(i?mh(ph(i)).link:null)||i||n||e||t}class H0{constructor(e){const n=mh(ph(e)),i=n.apiKey??null,a=n.oobCode??null,c=rD(n.mode??null);qe(i&&a&&c,"argument-error"),this.apiKey=i,this.operation=c,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=aD(e);try{return new H0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(){this.providerId=su.PROVIDER_ID}static credential(e,n){return Mh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=H0.parseLink(n);return qe(i,"argument-error"),Mh._fromEmailAndCode(e,i.code,i.tenantId)}}su.PROVIDER_ID="password";su.EMAIL_PASSWORD_SIGN_IN_METHOD="password";su.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends TS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends nd{constructor(){super("facebook.com")}static credential(e){return Rl._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return po.credentialFromTaggedObject(e)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return po.credential(e.oauthAccessToken)}catch{return null}}}po.FACEBOOK_SIGN_IN_METHOD="facebook.com";po.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends nd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Rl._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return go.credential(n,i)}catch{return null}}}go.GOOGLE_SIGN_IN_METHOD="google.com";go.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends nd{constructor(){super("github.com")}static credential(e){return Rl._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yo.credential(e.oauthAccessToken)}catch{return null}}}yo.GITHUB_SIGN_IN_METHOD="github.com";yo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends nd{constructor(){super("twitter.com")}static credential(e,n){return Rl._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return vo.credential(n,i)}catch{return null}}}vo.TWITTER_SIGN_IN_METHOD="twitter.com";vo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD(t,e){return td(t,"POST","/v1/accounts:signUp",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const c=await Zs._fromIdTokenResponse(e,i,a),u=Uw(i);return new Pl({user:c,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=Uw(i);return new Pl({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function Uw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um extends _a{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,um.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new um(e,n,i,a)}}function ES(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?um._fromErrorAndOperation(t,c,e,i):c})}async function lD(t,e,n=!1){const i=await Hc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Pl._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(t,e,n=!1){const{auth:i}=t;if(bs(i.app))return Promise.reject(ua(i));const a="reauthenticate";try{const c=await Hc(t,ES(i,a,e,t),n);qe(c.idToken,i,"internal-error");const u=B0(c.idToken);qe(u,i,"internal-error");const{sub:m}=u;return qe(t.uid===m,i,"user-mismatch"),Pl._forOperation(t,a,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ks(i,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SS(t,e,n=!1){if(bs(t.app))return Promise.reject(ua(t));const i="signIn",a=await ES(t,i,e),c=await Pl._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(c.user),c}async function uD(t,e){return SS(ko(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AS(t){const e=ko(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hD(t,e,n){const i=ko(t);await cm(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",tD)}async function dD(t,e,n){if(bs(t.app))return Promise.reject(ua(t));const i=ko(t),u=await cm(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oD).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&AS(t),g}),m=await Pl._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(m.user),m}function fD(t,e,n){return bs(t.app)?Promise.reject(ua(t)):uD(vn(t),su.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&AS(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mD(t,e){return Rr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=vn(t),c={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await Hc(i,mD(i.auth,c));i.displayName=u.displayName||null,i.photoURL=u.photoUrl||null;const m=i.providerData.find(({providerId:g})=>g==="password");m&&(m.displayName=i.displayName,m.photoURL=i.photoURL),await i._updateTokensIfNecessary(u)}function gD(t,e,n,i){return vn(t).onIdTokenChanged(e,n,i)}function yD(t,e,n){return vn(t).beforeAuthStateChanged(e,n)}function NS(t,e,n,i){return vn(t).onAuthStateChanged(e,n,i)}function vD(t){return vn(t).signOut()}const hm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hm,"1"),this.storage.removeItem(hm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=1e3,xD=10;class RS extends CS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,m,g)=>{this.notifyListeners(u,g)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},c=this.storage.getItem(i);D4()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,xD):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},_D)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}RS.type="LOCAL";const bD=RS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS extends CS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}PS.type="SESSION";const jS=PS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Im(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:c}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const m=Array.from(u).map(async _=>_(n.origin,c)),g=await wD(m);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Im.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let c,u;return new Promise((m,g)=>{const _=q0("",20);a.port1.start();const x=setTimeout(()=>{g(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(T){const A=T;if(A.data.eventId===_)switch(A.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(A.data.response);break;default:clearTimeout(x),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(){return window}function ED(t){xr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(){return typeof xr().WorkerGlobalScope<"u"&&typeof xr().importScripts=="function"}async function SD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AD(){return navigator?.serviceWorker?.controller||null}function ND(){return IS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="firebaseLocalStorageDb",CD=1,dm="firebaseLocalStorage",LS="fbase_key";class id{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dm(t,e){return t.transaction([dm],e?"readwrite":"readonly").objectStore(dm)}function RD(){const t=indexedDB.deleteDatabase(DS);return new id(t).toPromise()}function My(){const t=indexedDB.open(DS,CD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(dm,{keyPath:LS})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(dm)?e(i):(i.close(),await RD(),e(await My()))})})}async function Bw(t,e,n){const i=Dm(t,!0).put({[LS]:e,value:n});return new id(i).toPromise()}async function PD(t,e){const n=Dm(t,!1).get(e),i=await new id(n).toPromise();return i===void 0?null:i.value}function zw(t,e){const n=Dm(t,!0).delete(e);return new id(n).toPromise()}const jD=800,ID=3;class MS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await My(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>ID)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Im._getInstance(ND()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await SD(),!this.activeServiceWorker)return;this.sender=new TD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await My();return await Bw(e,hm,"1"),await zw(e,hm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Bw(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>PD(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>zw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const c=Dm(a,!1).getAll();return new id(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:c}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(c)&&(this.notifyListeners(a,c),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}MS.type="LOCAL";const DD=MS;new ed(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(t,e){return e?la(e):(qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0 extends F0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function MD(t){return SS(t.auth,new G0(t),t.bypassAuthState)}function OD(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),cD(n,new G0(t),t.bypassAuthState)}async function kD(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),lD(n,new G0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,n,i,a,c=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:c,error:u,type:m}=e;if(u){this.reject(u);return}const g={auth:this.auth,requestUri:n,sessionId:i,tenantId:c||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MD;case"linkViaPopup":case"linkViaRedirect":return kD;case"reauthViaPopup":case"reauthViaRedirect":return OD;default:Ks(this.auth,"internal-error")}}resolve(e){ma(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ma(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=new ed(2e3,1e4);class Pc extends OS{constructor(e,n,i,a,c){super(e,n,a,c),this.provider=i,this.authWindow=null,this.pollId=null,Pc.currentPopupAction&&Pc.currentPopupAction.cancel(),Pc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){ma(this.filter.length===1,"Popup operations only handle one event");const e=q0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(_r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,VD.get())};e()}}Pc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD="pendingRedirect",Uf=new Map;class BD extends OS{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Uf.get(this.auth._key());if(!e){try{const i=await zD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Uf.set(this.auth._key(),e)}return this.bypassAuthState||Uf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zD(t,e){const n=qD(e),i=HD(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function FD(t,e){Uf.set(t._key(),e)}function HD(t){return la(t._redirectPersistence)}function qD(t){return Vf(UD,t.config.apiKey,t.name)}async function GD(t,e,n=!1){if(bs(t.app))return Promise.reject(ua(t));const i=ko(t),a=LD(i,e),u=await new BD(i,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=600*1e3;class WD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!kS(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(_r(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZD&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fw(e))}saveEventToCache(e){this.cachedEventUids.add(Fw(e)),this.lastProcessedEventTime=Date.now()}}function Fw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function KD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $D(t,e={}){return Rr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QD=/^https?/;async function XD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $D(t);for(const n of e)try{if(JD(n))return}catch{}Ks(t,"unauthorized-domain")}function JD(t){const e=Dy(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!QD.test(n))return!1;if(YD.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=new ed(3e4,6e4);function Hw(){const t=xr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function tL(t){return new Promise((e,n)=>{function i(){Hw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Hw(),n(_r(t,"network-request-failed"))},timeout:eL.get()})}if(xr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(xr().gapi?.load)i();else{const a=F4("iframefcb");return xr()[a]=()=>{gapi.load?i():n(_r(t,"network-request-failed"))},xS(`${z4()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Bf=null,e})}let Bf=null;function nL(t){return Bf=Bf||tL(t),Bf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=new ed(5e3,15e3),sL="__/auth/iframe",rL="emulator/auth/iframe",aL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lL(t){const e=t.config;qe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?U0(e,rL):`https://${t.config.authDomain}/${sL}`,i={apiKey:e.apiKey,appName:t.name,v:iu},a=oL.get(t.config.apiHost);a&&(i.eid=a);const c=t._getFrameworks();return c.length&&(i.fw=c.join(",")),`${n}?${Jh(i).slice(1)}`}async function cL(t){const e=await nL(t),n=xr().gapi;return qe(n,t,"internal-error"),e.open({where:document.body,url:lL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aL,dontclear:!0},i=>new Promise(async(a,c)=>{await i.restyle({setHideOnLeave:!1});const u=_r(t,"network-request-failed"),m=xr().setTimeout(()=>{c(u)},iL.get());function g(){xr().clearTimeout(m),a(i)}i.ping(g).then(g,()=>{c(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hL=500,dL=600,fL="_blank",mL="http://localhost";class qw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pL(t,e,n,i=hL,a=dL){const c=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let m="";const g={...uL,width:i.toString(),height:a.toString(),top:c,left:u},_=Qn().toLowerCase();n&&(m=fS(_)?fL:n),hS(_)&&(e=e||mL,g.scrollbars="yes");const x=Object.entries(g).reduce((A,[j,I])=>`${A}${j}=${I},`,"");if(I4(_)&&m!=="_self")return gL(e||"",m),new qw(null);const T=window.open(e||"",m,x);qe(T,t,"popup-blocked");try{T.focus()}catch{}return new qw(T)}function gL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL="__/auth/handler",vL="emulator/auth/handler",_L=encodeURIComponent("fac");async function Gw(t,e,n,i,a,c){qe(t.config.authDomain,t,"auth-domain-config-required"),qe(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:iu,eventId:a};if(e instanceof TS){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",eI(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,T]of Object.entries({}))u[x]=T}if(e instanceof nd){const x=e.getScopes().filter(T=>T!=="");x.length>0&&(u.scopes=x.join(","))}t.tenantId&&(u.tid=t.tenantId);const m=u;for(const x of Object.keys(m))m[x]===void 0&&delete m[x];const g=await t._getAppCheckToken(),_=g?`#${_L}=${encodeURIComponent(g)}`:"";return`${xL(t)}?${Jh(m).slice(1)}${_}`}function xL({config:t}){return t.emulator?U0(t,vL):`https://${t.authDomain}/${yL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="webStorageSupport";class bL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jS,this._completeRedirectFn=GD,this._overrideRedirectResult=FD}async _openPopup(e,n,i,a){ma(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Gw(e,n,i,Dy(),a);return pL(e,c,q0())}async _openRedirect(e,n,i,a){await this._originValidation(e);const c=await Gw(e,n,i,Dy(),a);return ED(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:c}=this.eventManagers[n];return a?Promise.resolve(a):(ma(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await cL(e),i=new WD(e);return n.register("authEvent",a=>(qe(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ey,{type:ey},a=>{const c=a?.[0]?.[ey];c!==void 0&&n(!!c),Ks(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=XD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vS()||dS()||z0()}}const wL=bL;var Zw="@firebase/auth",Ww="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SL(t){Fc(new Cl("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:m}=i.options;qe(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:u,authDomain:m,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_S(t)},_=new V4(i,a,c,g);return K4(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Fc(new Cl("auth-internal",e=>{const n=ko(e.getProvider("auth").getImmediate());return(i=>new TL(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wo(Zw,Ww,EL(t)),wo(Zw,Ww,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=300,NL=KE("authIdTokenMaxAge")||AL;let Kw=null;const CL=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>NL)return;const a=n?.token;Kw!==a&&(Kw=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function VS(t=eS()){const e=k0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=W4(t,{popupRedirectResolver:wL,persistence:[DD,bD,jS]}),i=KE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const u=CL(c.toString());yD(n,u,()=>u(n.currentUser)),gD(n,m=>u(m))}}const a=ZE("auth");return a&&$4(n,`http://${a}`),n}function RL(){return document.getElementsByTagName("head")?.[0]??document}U4({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const c=_r("internal-error");c.customData=a,n(c)},i.type="text/javascript",i.charset="UTF-8",RL().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SL("Browser");var PL="firebase",jL="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wo(PL,jL,"app");var $w=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var To,US;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(F,O){function U(){}U.prototype=O.prototype,F.F=O.prototype,F.prototype=new U,F.prototype.constructor=F,F.D=function(W,M,G){for(var H=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)H[Ue-2]=arguments[Ue];return O.prototype[M].apply(W,H)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(F,O,U){U||(U=0);const W=Array(16);if(typeof O=="string")for(var M=0;M<16;++M)W[M]=O.charCodeAt(U++)|O.charCodeAt(U++)<<8|O.charCodeAt(U++)<<16|O.charCodeAt(U++)<<24;else for(M=0;M<16;++M)W[M]=O[U++]|O[U++]<<8|O[U++]<<16|O[U++]<<24;O=F.g[0],U=F.g[1],M=F.g[2];let G=F.g[3],H;H=O+(G^U&(M^G))+W[0]+3614090360&4294967295,O=U+(H<<7&4294967295|H>>>25),H=G+(M^O&(U^M))+W[1]+3905402710&4294967295,G=O+(H<<12&4294967295|H>>>20),H=M+(U^G&(O^U))+W[2]+606105819&4294967295,M=G+(H<<17&4294967295|H>>>15),H=U+(O^M&(G^O))+W[3]+3250441966&4294967295,U=M+(H<<22&4294967295|H>>>10),H=O+(G^U&(M^G))+W[4]+4118548399&4294967295,O=U+(H<<7&4294967295|H>>>25),H=G+(M^O&(U^M))+W[5]+1200080426&4294967295,G=O+(H<<12&4294967295|H>>>20),H=M+(U^G&(O^U))+W[6]+2821735955&4294967295,M=G+(H<<17&4294967295|H>>>15),H=U+(O^M&(G^O))+W[7]+4249261313&4294967295,U=M+(H<<22&4294967295|H>>>10),H=O+(G^U&(M^G))+W[8]+1770035416&4294967295,O=U+(H<<7&4294967295|H>>>25),H=G+(M^O&(U^M))+W[9]+2336552879&4294967295,G=O+(H<<12&4294967295|H>>>20),H=M+(U^G&(O^U))+W[10]+4294925233&4294967295,M=G+(H<<17&4294967295|H>>>15),H=U+(O^M&(G^O))+W[11]+2304563134&4294967295,U=M+(H<<22&4294967295|H>>>10),H=O+(G^U&(M^G))+W[12]+1804603682&4294967295,O=U+(H<<7&4294967295|H>>>25),H=G+(M^O&(U^M))+W[13]+4254626195&4294967295,G=O+(H<<12&4294967295|H>>>20),H=M+(U^G&(O^U))+W[14]+2792965006&4294967295,M=G+(H<<17&4294967295|H>>>15),H=U+(O^M&(G^O))+W[15]+1236535329&4294967295,U=M+(H<<22&4294967295|H>>>10),H=O+(M^G&(U^M))+W[1]+4129170786&4294967295,O=U+(H<<5&4294967295|H>>>27),H=G+(U^M&(O^U))+W[6]+3225465664&4294967295,G=O+(H<<9&4294967295|H>>>23),H=M+(O^U&(G^O))+W[11]+643717713&4294967295,M=G+(H<<14&4294967295|H>>>18),H=U+(G^O&(M^G))+W[0]+3921069994&4294967295,U=M+(H<<20&4294967295|H>>>12),H=O+(M^G&(U^M))+W[5]+3593408605&4294967295,O=U+(H<<5&4294967295|H>>>27),H=G+(U^M&(O^U))+W[10]+38016083&4294967295,G=O+(H<<9&4294967295|H>>>23),H=M+(O^U&(G^O))+W[15]+3634488961&4294967295,M=G+(H<<14&4294967295|H>>>18),H=U+(G^O&(M^G))+W[4]+3889429448&4294967295,U=M+(H<<20&4294967295|H>>>12),H=O+(M^G&(U^M))+W[9]+568446438&4294967295,O=U+(H<<5&4294967295|H>>>27),H=G+(U^M&(O^U))+W[14]+3275163606&4294967295,G=O+(H<<9&4294967295|H>>>23),H=M+(O^U&(G^O))+W[3]+4107603335&4294967295,M=G+(H<<14&4294967295|H>>>18),H=U+(G^O&(M^G))+W[8]+1163531501&4294967295,U=M+(H<<20&4294967295|H>>>12),H=O+(M^G&(U^M))+W[13]+2850285829&4294967295,O=U+(H<<5&4294967295|H>>>27),H=G+(U^M&(O^U))+W[2]+4243563512&4294967295,G=O+(H<<9&4294967295|H>>>23),H=M+(O^U&(G^O))+W[7]+1735328473&4294967295,M=G+(H<<14&4294967295|H>>>18),H=U+(G^O&(M^G))+W[12]+2368359562&4294967295,U=M+(H<<20&4294967295|H>>>12),H=O+(U^M^G)+W[5]+4294588738&4294967295,O=U+(H<<4&4294967295|H>>>28),H=G+(O^U^M)+W[8]+2272392833&4294967295,G=O+(H<<11&4294967295|H>>>21),H=M+(G^O^U)+W[11]+1839030562&4294967295,M=G+(H<<16&4294967295|H>>>16),H=U+(M^G^O)+W[14]+4259657740&4294967295,U=M+(H<<23&4294967295|H>>>9),H=O+(U^M^G)+W[1]+2763975236&4294967295,O=U+(H<<4&4294967295|H>>>28),H=G+(O^U^M)+W[4]+1272893353&4294967295,G=O+(H<<11&4294967295|H>>>21),H=M+(G^O^U)+W[7]+4139469664&4294967295,M=G+(H<<16&4294967295|H>>>16),H=U+(M^G^O)+W[10]+3200236656&4294967295,U=M+(H<<23&4294967295|H>>>9),H=O+(U^M^G)+W[13]+681279174&4294967295,O=U+(H<<4&4294967295|H>>>28),H=G+(O^U^M)+W[0]+3936430074&4294967295,G=O+(H<<11&4294967295|H>>>21),H=M+(G^O^U)+W[3]+3572445317&4294967295,M=G+(H<<16&4294967295|H>>>16),H=U+(M^G^O)+W[6]+76029189&4294967295,U=M+(H<<23&4294967295|H>>>9),H=O+(U^M^G)+W[9]+3654602809&4294967295,O=U+(H<<4&4294967295|H>>>28),H=G+(O^U^M)+W[12]+3873151461&4294967295,G=O+(H<<11&4294967295|H>>>21),H=M+(G^O^U)+W[15]+530742520&4294967295,M=G+(H<<16&4294967295|H>>>16),H=U+(M^G^O)+W[2]+3299628645&4294967295,U=M+(H<<23&4294967295|H>>>9),H=O+(M^(U|~G))+W[0]+4096336452&4294967295,O=U+(H<<6&4294967295|H>>>26),H=G+(U^(O|~M))+W[7]+1126891415&4294967295,G=O+(H<<10&4294967295|H>>>22),H=M+(O^(G|~U))+W[14]+2878612391&4294967295,M=G+(H<<15&4294967295|H>>>17),H=U+(G^(M|~O))+W[5]+4237533241&4294967295,U=M+(H<<21&4294967295|H>>>11),H=O+(M^(U|~G))+W[12]+1700485571&4294967295,O=U+(H<<6&4294967295|H>>>26),H=G+(U^(O|~M))+W[3]+2399980690&4294967295,G=O+(H<<10&4294967295|H>>>22),H=M+(O^(G|~U))+W[10]+4293915773&4294967295,M=G+(H<<15&4294967295|H>>>17),H=U+(G^(M|~O))+W[1]+2240044497&4294967295,U=M+(H<<21&4294967295|H>>>11),H=O+(M^(U|~G))+W[8]+1873313359&4294967295,O=U+(H<<6&4294967295|H>>>26),H=G+(U^(O|~M))+W[15]+4264355552&4294967295,G=O+(H<<10&4294967295|H>>>22),H=M+(O^(G|~U))+W[6]+2734768916&4294967295,M=G+(H<<15&4294967295|H>>>17),H=U+(G^(M|~O))+W[13]+1309151649&4294967295,U=M+(H<<21&4294967295|H>>>11),H=O+(M^(U|~G))+W[4]+4149444226&4294967295,O=U+(H<<6&4294967295|H>>>26),H=G+(U^(O|~M))+W[11]+3174756917&4294967295,G=O+(H<<10&4294967295|H>>>22),H=M+(O^(G|~U))+W[2]+718787259&4294967295,M=G+(H<<15&4294967295|H>>>17),H=U+(G^(M|~O))+W[9]+3951481745&4294967295,F.g[0]=F.g[0]+O&4294967295,F.g[1]=F.g[1]+(M+(H<<21&4294967295|H>>>11))&4294967295,F.g[2]=F.g[2]+M&4294967295,F.g[3]=F.g[3]+G&4294967295}i.prototype.v=function(F,O){O===void 0&&(O=F.length);const U=O-this.blockSize,W=this.C;let M=this.h,G=0;for(;G<O;){if(M==0)for(;G<=U;)a(this,F,G),G+=this.blockSize;if(typeof F=="string"){for(;G<O;)if(W[M++]=F.charCodeAt(G++),M==this.blockSize){a(this,W),M=0;break}}else for(;G<O;)if(W[M++]=F[G++],M==this.blockSize){a(this,W),M=0;break}}this.h=M,this.o+=O},i.prototype.A=function(){var F=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);F[0]=128;for(var O=1;O<F.length-8;++O)F[O]=0;O=this.o*8;for(var U=F.length-8;U<F.length;++U)F[U]=O&255,O/=256;for(this.v(F),F=Array(16),O=0,U=0;U<4;++U)for(let W=0;W<32;W+=8)F[O++]=this.g[U]>>>W&255;return F};function c(F,O){var U=m;return Object.prototype.hasOwnProperty.call(U,F)?U[F]:U[F]=O(F)}function u(F,O){this.h=O;const U=[];let W=!0;for(let M=F.length-1;M>=0;M--){const G=F[M]|0;W&&G==O||(U[M]=G,W=!1)}this.g=U}var m={};function g(F){return-128<=F&&F<128?c(F,function(O){return new u([O|0],O<0?-1:0)}):new u([F|0],F<0?-1:0)}function _(F){if(isNaN(F)||!isFinite(F))return T;if(F<0)return k(_(-F));const O=[];let U=1;for(let W=0;F>=U;W++)O[W]=F/U|0,U*=4294967296;return new u(O,0)}function x(F,O){if(F.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(F.charAt(0)=="-")return k(x(F.substring(1),O));if(F.indexOf("-")>=0)throw Error('number format error: interior "-" character');const U=_(Math.pow(O,8));let W=T;for(let G=0;G<F.length;G+=8){var M=Math.min(8,F.length-G);const H=parseInt(F.substring(G,G+M),O);M<8?(M=_(Math.pow(O,M)),W=W.j(M).add(_(H))):(W=W.j(U),W=W.add(_(H)))}return W}var T=g(0),A=g(1),j=g(16777216);t=u.prototype,t.m=function(){if(z(this))return-k(this).m();let F=0,O=1;for(let U=0;U<this.g.length;U++){const W=this.i(U);F+=(W>=0?W:4294967296+W)*O,O*=4294967296}return F},t.toString=function(F){if(F=F||10,F<2||36<F)throw Error("radix out of range: "+F);if(I(this))return"0";if(z(this))return"-"+k(this).toString(F);const O=_(Math.pow(F,6));var U=this;let W="";for(;;){const M=ve(U,O).g;U=$(U,M.j(O));let G=((U.g.length>0?U.g[0]:U.h)>>>0).toString(F);if(U=M,I(U))return G+W;for(;G.length<6;)G="0"+G;W=G+W}},t.i=function(F){return F<0?0:F<this.g.length?this.g[F]:this.h};function I(F){if(F.h!=0)return!1;for(let O=0;O<F.g.length;O++)if(F.g[O]!=0)return!1;return!0}function z(F){return F.h==-1}t.l=function(F){return F=$(this,F),z(F)?-1:I(F)?0:1};function k(F){const O=F.g.length,U=[];for(let W=0;W<O;W++)U[W]=~F.g[W];return new u(U,~F.h).add(A)}t.abs=function(){return z(this)?k(this):this},t.add=function(F){const O=Math.max(this.g.length,F.g.length),U=[];let W=0;for(let M=0;M<=O;M++){let G=W+(this.i(M)&65535)+(F.i(M)&65535),H=(G>>>16)+(this.i(M)>>>16)+(F.i(M)>>>16);W=H>>>16,G&=65535,H&=65535,U[M]=H<<16|G}return new u(U,U[U.length-1]&-2147483648?-1:0)};function $(F,O){return F.add(k(O))}t.j=function(F){if(I(this)||I(F))return T;if(z(this))return z(F)?k(this).j(k(F)):k(k(this).j(F));if(z(F))return k(this.j(k(F)));if(this.l(j)<0&&F.l(j)<0)return _(this.m()*F.m());const O=this.g.length+F.g.length,U=[];for(var W=0;W<2*O;W++)U[W]=0;for(W=0;W<this.g.length;W++)for(let M=0;M<F.g.length;M++){const G=this.i(W)>>>16,H=this.i(W)&65535,Ue=F.i(M)>>>16,je=F.i(M)&65535;U[2*W+2*M]+=H*je,Y(U,2*W+2*M),U[2*W+2*M+1]+=G*je,Y(U,2*W+2*M+1),U[2*W+2*M+1]+=H*Ue,Y(U,2*W+2*M+1),U[2*W+2*M+2]+=G*Ue,Y(U,2*W+2*M+2)}for(F=0;F<O;F++)U[F]=U[2*F+1]<<16|U[2*F];for(F=O;F<2*O;F++)U[F]=0;return new u(U,0)};function Y(F,O){for(;(F[O]&65535)!=F[O];)F[O+1]+=F[O]>>>16,F[O]&=65535,O++}function Q(F,O){this.g=F,this.h=O}function ve(F,O){if(I(O))throw Error("division by zero");if(I(F))return new Q(T,T);if(z(F))return O=ve(k(F),O),new Q(k(O.g),k(O.h));if(z(O))return O=ve(F,k(O)),new Q(k(O.g),O.h);if(F.g.length>30){if(z(F)||z(O))throw Error("slowDivide_ only works with positive integers.");for(var U=A,W=O;W.l(F)<=0;)U=he(U),W=he(W);var M=we(U,1),G=we(W,1);for(W=we(W,2),U=we(U,2);!I(W);){var H=G.add(W);H.l(F)<=0&&(M=M.add(U),G=H),W=we(W,1),U=we(U,1)}return O=$(F,M.j(O)),new Q(M,O)}for(M=T;F.l(O)>=0;){for(U=Math.max(1,Math.floor(F.m()/O.m())),W=Math.ceil(Math.log(U)/Math.LN2),W=W<=48?1:Math.pow(2,W-48),G=_(U),H=G.j(O);z(H)||H.l(F)>0;)U-=W,G=_(U),H=G.j(O);I(G)&&(G=A),M=M.add(G),F=$(F,H)}return new Q(M,F)}t.B=function(F){return ve(this,F).h},t.and=function(F){const O=Math.max(this.g.length,F.g.length),U=[];for(let W=0;W<O;W++)U[W]=this.i(W)&F.i(W);return new u(U,this.h&F.h)},t.or=function(F){const O=Math.max(this.g.length,F.g.length),U=[];for(let W=0;W<O;W++)U[W]=this.i(W)|F.i(W);return new u(U,this.h|F.h)},t.xor=function(F){const O=Math.max(this.g.length,F.g.length),U=[];for(let W=0;W<O;W++)U[W]=this.i(W)^F.i(W);return new u(U,this.h^F.h)};function he(F){const O=F.g.length+1,U=[];for(let W=0;W<O;W++)U[W]=F.i(W)<<1|F.i(W-1)>>>31;return new u(U,F.h)}function we(F,O){const U=O>>5;O%=32;const W=F.g.length-U,M=[];for(let G=0;G<W;G++)M[G]=O>0?F.i(G+U)>>>O|F.i(G+U+1)<<32-O:F.i(G+U);return new u(M,F.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,US=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=_,u.fromString=x,To=u}).apply(typeof $w<"u"?$w:typeof self<"u"?self:typeof window<"u"?window:{});var Ef=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var BS,gh,zS,zf,Oy,FS,HS,qS;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ef=="object"&&Ef];for(var E=0;E<p.length;++E){var N=p[E];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var i=n(this);function a(p,E){if(E)e:{var N=i;p=p.split(".");for(var D=0;D<p.length-1;D++){var te=p[D];if(!(te in N))break e;N=N[te]}p=p[p.length-1],D=N[p],E=E(D),E!=D&&E!=null&&e(N,p,{configurable:!0,writable:!0,value:E})}}a("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(p){return p||function(E){var N=[],D;for(D in E)Object.prototype.hasOwnProperty.call(E,D)&&N.push([D,E[D]]);return N}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},u=this||self;function m(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function g(p,E,N){return p.call.apply(p.bind,arguments)}function _(p,E,N){return _=g,_.apply(null,arguments)}function x(p,E){var N=Array.prototype.slice.call(arguments,1);return function(){var D=N.slice();return D.push.apply(D,arguments),p.apply(this,D)}}function T(p,E){function N(){}N.prototype=E.prototype,p.Z=E.prototype,p.prototype=new N,p.prototype.constructor=p,p.Ob=function(D,te,re){for(var Ee=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)Ee[Fe-2]=arguments[Fe];return E.prototype[te].apply(D,Ee)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function j(p){const E=p.length;if(E>0){const N=Array(E);for(let D=0;D<E;D++)N[D]=p[D];return N}return[]}function I(p,E){for(let D=1;D<arguments.length;D++){const te=arguments[D];var N=typeof te;if(N=N!="object"?N:te?Array.isArray(te)?"array":N:"null",N=="array"||N=="object"&&typeof te.length=="number"){N=p.length||0;const re=te.length||0;p.length=N+re;for(let Ee=0;Ee<re;Ee++)p[N+Ee]=te[Ee]}else p.push(te)}}class z{constructor(E,N){this.i=E,this.j=N,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function k(p){u.setTimeout(()=>{throw p},0)}function $(){var p=F;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class Y{constructor(){this.h=this.g=null}add(E,N){const D=Q.get();D.set(E,N),this.h?this.h.next=D:this.g=D,this.h=D}}var Q=new z(()=>new ve,p=>p.reset());class ve{constructor(){this.next=this.g=this.h=null}set(E,N){this.h=E,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let he,we=!1,F=new Y,O=()=>{const p=Promise.resolve(void 0);he=()=>{p.then(U)}};function U(){for(var p;p=$();){try{p.h.call(p.g)}catch(N){k(N)}var E=Q;E.j(p),E.h<100&&(E.h++,p.next=E.g,E.g=p)}we=!1}function W(){this.u=this.u,this.C=this.C}W.prototype.u=!1,W.prototype.dispose=function(){this.u||(this.u=!0,this.N())},W.prototype[Symbol.dispose]=function(){this.dispose()},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var G=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const N=()=>{};u.addEventListener("test",N,E),u.removeEventListener("test",N,E)}catch{}return p})();function H(p){return/^[\s\xa0]*$/.test(p)}function Ue(p,E){M.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,E)}T(Ue,M),Ue.prototype.init=function(p,E){const N=this.type=p.type,D=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget,E||(N=="mouseover"?E=p.fromElement:N=="mouseout"&&(E=p.toElement)),this.relatedTarget=E,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&Ue.Z.h.call(this)},Ue.prototype.h=function(){Ue.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var je="closure_listenable_"+(Math.random()*1e6|0),J=0;function de(p,E,N,D,te){this.listener=p,this.proxy=null,this.src=E,this.type=N,this.capture=!!D,this.ha=te,this.key=++J,this.da=this.fa=!1}function le(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Me(p,E,N){for(const D in p)E.call(N,p[D],D,p)}function B(p,E){for(const N in p)E.call(void 0,p[N],N,p)}function ce(p){const E={};for(const N in p)E[N]=p[N];return E}const be="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xe(p,E){let N,D;for(let te=1;te<arguments.length;te++){D=arguments[te];for(N in D)p[N]=D[N];for(let re=0;re<be.length;re++)N=be[re],Object.prototype.hasOwnProperty.call(D,N)&&(p[N]=D[N])}}function Te(p){this.src=p,this.g={},this.h=0}Te.prototype.add=function(p,E,N,D,te){const re=p.toString();p=this.g[re],p||(p=this.g[re]=[],this.h++);const Ee=Se(p,E,D,te);return Ee>-1?(E=p[Ee],N||(E.fa=!1)):(E=new de(E,this.src,re,!!D,te),E.fa=N,p.push(E)),E};function Re(p,E){const N=E.type;if(N in p.g){var D=p.g[N],te=Array.prototype.indexOf.call(D,E,void 0),re;(re=te>=0)&&Array.prototype.splice.call(D,te,1),re&&(le(E),p.g[N].length==0&&(delete p.g[N],p.h--))}}function Se(p,E,N,D){for(let te=0;te<p.length;++te){const re=p[te];if(!re.da&&re.listener==E&&re.capture==!!N&&re.ha==D)return te}return-1}var At="closure_lm_"+(Math.random()*1e6|0),st={};function mi(p,E,N,D,te){if(Array.isArray(E)){for(let re=0;re<E.length;re++)mi(p,E[re],N,D,te);return null}return N=jr(N),p&&p[je]?p.J(E,N,m(D)?!!D.capture:!1,te):Pr(p,E,N,!1,D,te)}function Pr(p,E,N,D,te,re){if(!E)throw Error("Invalid event type");const Ee=m(te)?!!te.capture:!!te;let Fe=wa(p);if(Fe||(p[At]=Fe=new Te(p)),N=Fe.add(E,N,D,Ee,re),N.proxy)return N;if(D=Js(),N.proxy=D,D.src=p,D.listener=N,p.addEventListener)G||(te=Ee),te===void 0&&(te=!1),p.addEventListener(E.toString(),D,te);else if(p.attachEvent)p.attachEvent(ba(E.toString()),D);else if(p.addListener&&p.removeListener)p.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return N}function Js(){function p(N){return E.call(p.src,p.listener,N)}const E=Vl;return p}function es(p,E,N,D,te){if(Array.isArray(E))for(var re=0;re<E.length;re++)es(p,E[re],N,D,te);else D=m(D)?!!D.capture:!!D,N=jr(N),p&&p[je]?(p=p.i,re=String(E).toString(),re in p.g&&(E=p.g[re],N=Se(E,N,D,te),N>-1&&(le(E[N]),Array.prototype.splice.call(E,N,1),E.length==0&&(delete p.g[re],p.h--)))):p&&(p=wa(p))&&(E=p.g[E.toString()],p=-1,E&&(p=Se(E,N,D,te)),(N=p>-1?E[p]:null)&&Ns(N))}function Ns(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[je])Re(E.i,p);else{var N=p.type,D=p.proxy;E.removeEventListener?E.removeEventListener(N,D,p.capture):E.detachEvent?E.detachEvent(ba(N),D):E.addListener&&E.removeListener&&E.removeListener(D),(N=wa(E))?(Re(N,p),N.h==0&&(N.src=null,E[At]=null)):le(p)}}}function ba(p){return p in st?st[p]:st[p]="on"+p}function Vl(p,E){if(p.da)p=!0;else{E=new Ue(E,this);const N=p.listener,D=p.ha||p.src;p.fa&&Ns(p),p=N.call(D,E)}return p}function wa(p){return p=p[At],p instanceof Te?p:null}var _n="__closure_events_fn_"+(Math.random()*1e9>>>0);function jr(p){return typeof p=="function"?p:(p[_n]||(p[_n]=function(E){return p.handleEvent(E)}),p[_n])}function Qt(){W.call(this),this.i=new Te(this),this.M=this,this.G=null}T(Qt,W),Qt.prototype[je]=!0,Qt.prototype.removeEventListener=function(p,E,N,D){es(this,p,E,N,D)};function Xt(p,E){var N,D=p.G;if(D)for(N=[];D;D=D.G)N.push(D);if(p=p.M,D=E.type||E,typeof E=="string")E=new M(E,p);else if(E instanceof M)E.target=E.target||p;else{var te=E;E=new M(D,p),xe(E,te)}te=!0;let re,Ee;if(N)for(Ee=N.length-1;Ee>=0;Ee--)re=E.g=N[Ee],te=Li(re,D,!0,E)&&te;if(re=E.g=p,te=Li(re,D,!0,E)&&te,te=Li(re,D,!1,E)&&te,N)for(Ee=0;Ee<N.length;Ee++)re=E.g=N[Ee],te=Li(re,D,!1,E)&&te}Qt.prototype.N=function(){if(Qt.Z.N.call(this),this.i){var p=this.i;for(const E in p.g){const N=p.g[E];for(let D=0;D<N.length;D++)le(N[D]);delete p.g[E],p.h--}}this.G=null},Qt.prototype.J=function(p,E,N,D){return this.i.add(String(p),E,!1,N,D)},Qt.prototype.K=function(p,E,N,D){return this.i.add(String(p),E,!0,N,D)};function Li(p,E,N,D){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();let te=!0;for(let re=0;re<E.length;++re){const Ee=E[re];if(Ee&&!Ee.da&&Ee.capture==N){const Fe=Ee.listener,nt=Ee.ha||Ee.src;Ee.fa&&Re(p.i,Ee),te=Fe.call(nt,D)!==!1&&te}}return te&&!D.defaultPrevented}function Ul(p,E){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=_(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:u.setTimeout(p,E||0)}function Ta(p){p.g=Ul(()=>{p.g=null,p.i&&(p.i=!1,Ta(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class xu extends W{constructor(E,N){super(),this.m=E,this.l=N,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Ta(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ir(p){W.call(this),this.h=p,this.g={}}T(Ir,W);var ts=[];function hn(p){Me(p.g,function(E,N){this.g.hasOwnProperty(N)&&Ns(E)},p),p.g={}}Ir.prototype.N=function(){Ir.Z.N.call(this),hn(this)},Ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xn=u.JSON.stringify,In=u.JSON.parse,Bl=class{stringify(p){return u.JSON.stringify(p,void 0)}parse(p){return u.JSON.parse(p,void 0)}};function zo(){}function zl(){}var Mi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ns(){M.call(this,"d")}T(ns,M);function pi(){M.call(this,"c")}T(pi,M);var gi={},yi=null;function Ea(){return yi=yi||new Qt}gi.Ia="serverreachability";function Fo(p){M.call(this,gi.Ia,p)}T(Fo,M);function Cs(p){const E=Ea();Xt(E,new Fo(E))}gi.STAT_EVENT="statevent";function Dr(p,E){M.call(this,gi.STAT_EVENT,p),this.stat=E}T(Dr,M);function Lt(p){const E=Ea();Xt(E,new Dr(E,p))}gi.Ja="timingevent";function Fl(p,E){M.call(this,gi.Ja,p),this.size=E}T(Fl,M);function er(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){p()},E)}function tr(){this.g=!0}tr.prototype.ua=function(){this.g=!1};function Ho(p,E,N,D,te,re){p.info(function(){if(p.g)if(re){var Ee="",Fe=re.split("&");for(let gt=0;gt<Fe.length;gt++){var nt=Fe[gt].split("=");if(nt.length>1){const Mt=nt[0];nt=nt[1];const ri=Mt.split("_");Ee=ri.length>=2&&ri[1]=="type"?Ee+(Mt+"="+nt+"&"):Ee+(Mt+"=redacted&")}}}else Ee=null;else Ee=re;return"XMLHTTP REQ ("+D+") [attempt "+te+"]: "+E+`
`+N+`
`+Ee})}function qo(p,E,N,D,te,re,Ee){p.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+te+"]: "+E+`
`+N+`
`+re+" "+Ee})}function Rs(p,E,N,D){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+is(p,N)+(D?" "+D:"")})}function Go(p,E){p.info(function(){return"TIMEOUT: "+E})}tr.prototype.info=function(){};function is(p,E){if(!p.g)return E;if(!E)return null;try{const re=JSON.parse(E);if(re){for(p=0;p<re.length;p++)if(Array.isArray(re[p])){var N=re[p];if(!(N.length<2)){var D=N[1];if(Array.isArray(D)&&!(D.length<1)){var te=D[0];if(te!="noop"&&te!="stop"&&te!="close")for(let Ee=1;Ee<D.length;Ee++)D[Ee]=""}}}}return Xn(re)}catch{return E}}var Bt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},dn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ps;function xn(){}T(xn,zo),xn.prototype.g=function(){return new XMLHttpRequest},Ps=new xn;function De(p){return encodeURIComponent(String(p))}function Hl(p){var E=1;p=p.split(":");const N=[];for(;E>0&&p.length;)N.push(p.shift()),E--;return p.length&&N.push(p.join(":")),N}function vi(p,E,N,D){this.j=p,this.i=E,this.l=N,this.S=D||1,this.V=new Ir(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new js}function js(){this.i=null,this.g="",this.h=!1}var Lr={},_i={};function Oi(p,E,N){p.M=1,p.A=vt(wt(E)),p.u=N,p.R=!0,Jn(p,null)}function Jn(p,E){p.F=Date.now(),Mr(p),p.B=wt(p.A);var N=p.B,D=p.S;Array.isArray(D)||(D=[String(D)]),Aa(N.i,"t",D),p.C=0,N=p.j.L,p.h=new js,p.g=Gr(p.j,N?E:null,!p.u),p.P>0&&(p.O=new xu(_(p.Y,p,p.g),p.P)),E=p.V,N=p.g,D=p.ba;var te="readystatechange";Array.isArray(te)||(te&&(ts[0]=te.toString()),te=ts);for(let re=0;re<te.length;re++){const Ee=mi(N,te[re],D||E.handleEvent,!1,E.h||E);if(!Ee)break;E.g[Ee.key]=Ee}E=p.J?ce(p.J):{},p.u?(p.v||(p.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,E)):(p.v="GET",p.g.ea(p.B,p.v,null,E)),Cs(),Ho(p.i,p.v,p.B,p.l,p.S,p.u)}vi.prototype.ba=function(p){p=p.target;const E=this.O;E&&Sn(p)==3?E.j():this.Y(p)},vi.prototype.Y=function(p){try{if(p==this.g)e:{const Fe=Sn(this.g),nt=this.g.ya(),gt=this.g.ca();if(!(Fe<3)&&(Fe!=3||this.g&&(this.h.h||this.g.la()||or(this.g)))){this.K||Fe!=4||nt==7||(nt==8||gt<=0?Cs(3):Cs(2)),ki(this);var E=this.g.ca();this.X=E;var N=Is(this);if(this.o=E==200,qo(this.i,this.v,this.B,this.l,this.S,Fe,E),this.o){if(this.U&&!this.L){t:{if(this.g){var D,te=this.g;if((D=te.g?te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(D)){var re=D;break t}}re=null}if(p=re)Rs(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Sa(this,p);else{this.o=!1,this.m=3,Lt(12),ei(this),Or(this);break e}}if(this.R){p=!0;let Mt;for(;!this.K&&this.C<N.length;)if(Mt=ql(this,N),Mt==_i){Fe==4&&(this.m=4,Lt(14),p=!1),Rs(this.i,this.l,null,"[Incomplete Response]");break}else if(Mt==Lr){this.m=4,Lt(15),Rs(this.i,this.l,N,"[Invalid Chunk]"),p=!1;break}else Rs(this.i,this.l,Mt,null),Sa(this,Mt);if(zt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||N.length!=0||this.h.h||(this.m=1,Lt(16),p=!1),this.o=this.o&&p,!p)Rs(this.i,this.l,N,"[Invalid Chunked Response]"),ei(this),Or(this);else if(N.length>0&&!this.W){this.W=!0;var Ee=this.j;Ee.g==this&&Ee.aa&&!Ee.P&&(Ee.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),$o(Ee),Ee.P=!0,Lt(11))}}else Rs(this.i,this.l,N,null),Sa(this,N);Fe==4&&ei(this),this.o&&!this.K&&(Fe==4?Hn(this.j,this):(this.o=!1,Mr(this)))}else ks(this.g),E==400&&N.indexOf("Unknown SID")>0?(this.m=3,Lt(12)):(this.m=0,Lt(13)),ei(this),Or(this)}}}catch{}finally{}};function Is(p){if(!zt(p))return p.g.la();const E=or(p.g);if(E==="")return"";let N="";const D=E.length,te=Sn(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return ei(p),Or(p),"";p.h.i=new u.TextDecoder}for(let re=0;re<D;re++)p.h.h=!0,N+=p.h.i.decode(E[re],{stream:!(te&&re==D-1)});return E.length=0,p.h.g+=N,p.C=0,p.h.g}function zt(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function ql(p,E){var N=p.C,D=E.indexOf(`
`,N);return D==-1?_i:(N=Number(E.substring(N,D)),isNaN(N)?Lr:(D+=1,D+N>E.length?_i:(E=E.slice(D,D+N),p.C=D+N,E)))}vi.prototype.cancel=function(){this.K=!0,ei(this)};function Mr(p){p.T=Date.now()+p.H,ss(p,p.H)}function ss(p,E){if(p.D!=null)throw Error("WatchDog timer not null");p.D=er(_(p.aa,p),E)}function ki(p){p.D&&(u.clearTimeout(p.D),p.D=null)}vi.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(Go(this.i,this.B),this.M!=2&&(Cs(),Lt(17)),ei(this),this.m=2,Or(this)):ss(this,this.T-p)};function Or(p){p.j.I==0||p.K||Hn(p.j,p)}function ei(p){ki(p);var E=p.O;E&&typeof E.dispose=="function"&&E.dispose(),p.O=null,hn(p.V),p.g&&(E=p.g,p.g=null,E.abort(),E.dispose())}function Sa(p,E){try{var N=p.j;if(N.I!=0&&(N.g==p||Ds(N.h,p))){if(!p.L&&Ds(N.h,p)&&N.I==3){try{var D=N.Ba.g.parse(E)}catch{D=null}if(Array.isArray(D)&&D.length==3){var te=D;if(te[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<p.F)Pa(N),hs(N);else break e;Ko(N),Lt(18)}}else N.xa=te[1],0<N.xa-N.K&&te[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=er(_(N.Va,N),6e3));xi(N.h)<=1&&N.ta&&(N.ta=void 0)}else ds(N,11)}else if((p.L||N.g==p)&&Pa(N),!H(E))for(te=N.Ba.g.parse(E),E=0;E<te.length;E++){let gt=te[E];const Mt=gt[0];if(!(Mt<=N.K))if(N.K=Mt,gt=gt[1],N.I==2)if(gt[0]=="c"){N.M=gt[1],N.ba=gt[2];const ri=gt[3];ri!=null&&(N.ka=ri,N.j.info("VER="+N.ka));const wi=gt[4];wi!=null&&(N.za=wi,N.j.info("SVER="+N.za));const ai=gt[5];ai!=null&&typeof ai=="number"&&ai>0&&(D=1.5*ai,N.O=D,N.j.info("backChannelRequestTimeoutMs_="+D)),D=N;const zi=p.g;if(zi){const Fi=zi.g?zi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fi){var re=D.h;re.g||Fi.indexOf("spdy")==-1&&Fi.indexOf("quic")==-1&&Fi.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(rs(re,re.h),re.h=null))}if(D.G){const La=zi.g?zi.g.getResponseHeader("X-HTTP-Session-Id"):null;La&&(D.wa=La,Ce(D.J,D.G,La))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-p.F,N.j.info("Handshake RTT: "+N.T+"ms")),D=N;var Ee=p;if(D.na=Yo(D,D.L?D.ba:null,D.W),Ee.L){as(D.h,Ee);var Fe=Ee,nt=D.O;nt&&(Fe.H=nt),Fe.D&&(ki(Fe),Mr(Fe)),D.g=Ee}else Wo(D);N.i.length>0&&Ui(N)}else gt[0]!="stop"&&gt[0]!="close"||ds(N,7);else N.I==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?ds(N,7):Qe(N):gt[0]!="noop"&&N.l&&N.l.qa(gt),N.A=0)}}Cs(4)}catch{}}var bu=class{constructor(p,E){this.g=p,this.map=E}};function kr(p){this.l=p||10,u.PerformanceNavigationTiming?(p=u.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vr(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function xi(p){return p.h?1:p.g?p.g.size:0}function Ds(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function rs(p,E){p.g?p.g.add(E):p.h=E}function as(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}kr.prototype.cancel=function(){if(this.i=Ur(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Ur(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const N of p.g.values())E=E.concat(N.G);return E}return j(p.i)}var os=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(p,E){if(p){p=p.split("&");for(let N=0;N<p.length;N++){const D=p[N].indexOf("=");let te,re=null;D>=0?(te=p[N].substring(0,D),re=p[N].substring(D+1)):te=p[N],E(te,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function ht(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;p instanceof ht?(this.l=p.l,ti(this,p.j),this.o=p.o,this.g=p.g,bi(this,p.u),this.h=p.h,ls(this,zr(p.i)),this.m=p.m):p&&(E=String(p).match(os))?(this.l=!1,ti(this,E[1]||"",!0),this.o=Ls(E[2]||""),this.g=Ls(E[3]||"",!0),bi(this,E[4]),this.h=Ls(E[5]||"",!0),ls(this,E[6]||"",!0),this.m=Ls(E[7]||"")):(this.l=!1,this.i=new wn(null,this.l))}ht.prototype.toString=function(){const p=[];var E=this.j;E&&p.push(Ft(E,Zo,!0),":");var N=this.g;return(N||E=="file")&&(p.push("//"),(E=this.o)&&p.push(Ft(E,Zo,!0),"@"),p.push(De(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&p.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&p.push("/"),p.push(Ft(N,N.charAt(0)=="/"?zn:nr,!0))),(N=this.i.toString())&&p.push("?",N),(N=this.m)&&p.push("#",Ft(N,cs)),p.join("")},ht.prototype.resolve=function(p){const E=wt(this);let N=!!p.j;N?ti(E,p.j):N=!!p.o,N?E.o=p.o:N=!!p.g,N?E.g=p.g:N=p.u!=null;var D=p.h;if(N)bi(E,p.u);else if(N=!!p.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var te=E.h.lastIndexOf("/");te!=-1&&(D=E.h.slice(0,te+1)+D)}if(te=D,te==".."||te==".")D="";else if(te.indexOf("./")!=-1||te.indexOf("/.")!=-1){D=te.lastIndexOf("/",0)==0,te=te.split("/");const re=[];for(let Ee=0;Ee<te.length;){const Fe=te[Ee++];Fe=="."?D&&Ee==te.length&&re.push(""):Fe==".."?((re.length>1||re.length==1&&re[0]!="")&&re.pop(),D&&Ee==te.length&&re.push("")):(re.push(Fe),D=!0)}D=re.join("/")}else D=te}return N?E.h=D:N=p.i.toString()!=="",N?ls(E,zr(p.i)):N=!!p.m,N&&(E.m=p.m),E};function wt(p){return new ht(p)}function ti(p,E,N){p.j=N?Ls(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function bi(p,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);p.u=E}else p.u=null}function ls(p,E,N){E instanceof wn?(p.i=E,Fr(p.i,p.l)):(N||(E=Ft(E,It)),p.i=new wn(E,p.l))}function Ce(p,E,N){p.i.set(E,N)}function vt(p){return Ce(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function Ls(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Ft(p,E,N){return typeof p=="string"?(p=encodeURI(p).replace(E,bn),N&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function bn(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Zo=/[#\/\?@]/g,nr=/[#\?:]/g,zn=/[#\?]/g,It=/[#\?@]/g,cs=/#/g;function wn(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function ni(p){p.g||(p.g=new Map,p.h=0,p.i&&ot(p.i,function(E,N){p.add(decodeURIComponent(E.replace(/\+/g," ")),N)}))}t=wn.prototype,t.add=function(p,E){ni(this),this.i=null,p=ii(this,p);let N=this.g.get(p);return N||this.g.set(p,N=[]),N.push(E),this.h+=1,this};function Br(p,E){ni(p),E=ii(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function Ms(p,E){return ni(p),E=ii(p,E),p.g.has(E)}t.forEach=function(p,E){ni(this),this.g.forEach(function(N,D){N.forEach(function(te){p.call(E,te,D,this)},this)},this)};function ir(p,E){ni(p);let N=[];if(typeof E=="string")Ms(p,E)&&(N=N.concat(p.g.get(ii(p,E))));else for(p=Array.from(p.g.values()),E=0;E<p.length;E++)N=N.concat(p[E]);return N}t.set=function(p,E){return ni(this),this.i=null,p=ii(this,p),Ms(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},t.get=function(p,E){return p?(p=ir(this,p),p.length>0?String(p[0]):E):E};function Aa(p,E,N){Br(p,E),N.length>0&&(p.i=null,p.g.set(ii(p,E),j(N)),p.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(let D=0;D<E.length;D++){var N=E[D];const te=De(N);N=ir(this,N);for(let re=0;re<N.length;re++){let Ee=te;N[re]!==""&&(Ee+="="+De(N[re])),p.push(Ee)}}return this.i=p.join("&")};function zr(p){const E=new wn;return E.i=p.i,p.g&&(E.g=new Map(p.g),E.h=p.h),E}function ii(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function Fr(p,E){E&&!p.j&&(ni(p),p.i=null,p.g.forEach(function(N,D){const te=D.toLowerCase();D!=te&&(Br(this,D),Aa(this,te,N))},p)),p.j=E}function sr(p,E){const N=new tr;if(u.Image){const D=new Image;D.onload=x(fn,N,"TestLoadImage: loaded",!0,E,D),D.onerror=x(fn,N,"TestLoadImage: error",!1,E,D),D.onabort=x(fn,N,"TestLoadImage: abort",!1,E,D),D.ontimeout=x(fn,N,"TestLoadImage: timeout",!1,E,D),u.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=p}else E(!1)}function Os(p,E){const N=new tr,D=new AbortController,te=setTimeout(()=>{D.abort(),fn(N,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:D.signal}).then(re=>{clearTimeout(te),re.ok?fn(N,"TestPingServer: ok",!0,E):fn(N,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(te),fn(N,"TestPingServer: error",!1,E)})}function fn(p,E,N,D,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),D(N)}catch{}}function Gl(){this.g=new Bl}function ze(p){this.i=p.Sb||null,this.h=p.ab||!1}T(ze,zo),ze.prototype.g=function(){return new Tn(this.i,this.h)};function Tn(p,E){Qt.call(this),this.H=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Tn,Qt),t=Tn.prototype,t.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=E,this.readyState=1,Vi(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(E.body=p),(this.H||u).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,En(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Vi(this)),this.g&&(this.readyState=3,Vi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;dt(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function dt(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?En(this):Vi(this),this.readyState==3&&dt(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,En(this))},t.Na=function(p){this.g&&(this.response=p,En(this))},t.ga=function(){this.g&&En(this)};function En(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Vi(p)}t.setRequestHeader=function(p,E){this.A.append(p,E)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var N=E.next();!N.done;)N=N.value,p.push(N[0]+": "+N[1]),N=E.next();return p.join(`\r
`)};function Vi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Tn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function us(p){let E="";return Me(p,function(N,D){E+=D,E+=":",E+=N,E+=`\r
`}),E}function Fn(p,E,N){e:{for(D in N){var D=!1;break e}D=!0}D||(N=us(N),typeof p=="string"?N!=null&&De(N):Ce(p,E,N))}function ft(p){Qt.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(ft,Qt);var rr=/^https?$/i,ar=["POST","PUT"];t=ft.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,E,N,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ps.g(),this.g.onreadystatechange=A(_(this.Ca,this));try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(re){Dt(this,re);return}if(p=N||"",N=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var te in D)N.set(te,D[te]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const re of D.keys())N.set(re,D.get(re));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(N.keys()).find(re=>re.toLowerCase()=="content-type"),te=u.FormData&&p instanceof u.FormData,!(Array.prototype.indexOf.call(ar,E,void 0)>=0)||D||te||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,Ee]of N)this.g.setRequestHeader(re,Ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(re){Dt(this,re)}};function Dt(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.o=5,si(p),Wt(p)}function si(p){p.A||(p.A=!0,Xt(p,"complete"),Xt(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,Xt(this,"complete"),Xt(this,"abort"),Wt(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wt(this,!0)),ft.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Na(this):this.Xa())},t.Xa=function(){Na(this)};function Na(p){if(p.h&&typeof c<"u"){if(p.v&&Sn(p)==4)setTimeout(p.Ca.bind(p),0);else if(Xt(p,"readystatechange"),Sn(p)==4){p.h=!1;try{const re=p.ca();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var N;if(!(N=E)){var D;if(D=re===0){let Ee=String(p.D).match(os)[1]||null;!Ee&&u.self&&u.self.location&&(Ee=u.self.location.protocol.slice(0,-1)),D=!rr.test(Ee?Ee.toLowerCase():"")}N=D}if(N)Xt(p,"complete"),Xt(p,"success");else{p.o=6;try{var te=Sn(p)>2?p.g.statusText:""}catch{te=""}p.l=te+" ["+p.ca()+"]",si(p)}}finally{Wt(p)}}}}function Wt(p,E){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const N=p.g;p.g=null,E||Xt(p,"ready");try{N.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Sn(p){return p.g?p.g.readyState:0}t.ca=function(){try{return Sn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),In(E)}};function or(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function ks(p){const E={};p=(p.g&&Sn(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<p.length;D++){if(H(p[D]))continue;var N=Hl(p[D]);const te=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const re=E[te]||[];E[te]=re,re.push(N)}B(E,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hr(p,E,N){return N&&N.internalChannelParams&&N.internalChannelParams[p]||E}function qr(p){this.za=0,this.i=[],this.j=new tr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hr("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hr("baseRetryDelayMs",5e3,p),this.Za=Hr("retryDelaySeedMs",1e4,p),this.Ta=Hr("forwardChannelMaxRetries",2,p),this.va=Hr("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new kr(p&&p.concurrentRequestLimit),this.Ba=new Gl,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=qr.prototype,t.ka=8,t.I=1,t.connect=function(p,E,N,D){Lt(0),this.W=p,this.H=E||{},N&&D!==void 0&&(this.H.OSID=N,this.H.OAID=D),this.F=this.X,this.J=Yo(this,null,this.W),Ui(this)};function Qe(p){if(mn(p),p.I==3){var E=p.V++,N=wt(p.J);if(Ce(N,"SID",p.M),Ce(N,"RID",E),Ce(N,"TYPE","terminate"),Vs(p,N),E=new vi(p,p.j,E),E.M=2,E.A=vt(wt(N)),N=!1,u.navigator&&u.navigator.sendBeacon)try{N=u.navigator.sendBeacon(E.A.toString(),"")}catch{}!N&&u.Image&&(new Image().src=E.A,N=!0),N||(E.g=Gr(E.j,null),E.g.ea(E.A)),E.F=Date.now(),Mr(E)}Bi(p)}function hs(p){p.g&&($o(p),p.g.cancel(),p.g=null)}function mn(p){hs(p),p.v&&(u.clearTimeout(p.v),p.v=null),Pa(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&u.clearTimeout(p.m),p.m=null)}function Ui(p){if(!Vr(p.h)&&!p.m){p.m=!0;var E=p.Ea;he||O(),we||(he(),we=!0),F.add(E,p),p.D=0}}function Zl(p,E){return xi(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=E.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=er(_(p.Ea,p,E),Kl(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const te=new vi(this,this.j,p);let re=this.o;if(this.U&&(re?(re=ce(re),xe(re,this.U)):re=this.U),this.u!==null||this.R||(te.J=re,re=null),this.S)e:{for(var E=0,N=0;N<this.i.length;N++){t:{var D=this.i[N];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(E+=D,E>4096){E=N;break e}if(E===4096||N===this.i.length-1){E=N+1;break e}}E=1e3}else E=1e3;E=Ca(this,te,E),N=wt(this.J),Ce(N,"RID",p),Ce(N,"CVER",22),this.G&&Ce(N,"X-HTTP-Session-Id",this.G),Vs(this,N),re&&(this.R?E="headers="+De(us(re))+"&"+E:this.u&&Fn(N,this.u,re)),rs(this.h,te),this.Ra&&Ce(N,"TYPE","init"),this.S?(Ce(N,"$req",E),Ce(N,"SID","null"),te.U=!0,Oi(te,N,null)):Oi(te,N,E),this.I=2}}else this.I==3&&(p?Wl(this,p):this.i.length==0||Vr(this.h)||Wl(this))};function Wl(p,E){var N;E?N=E.l:N=p.V++;const D=wt(p.J);Ce(D,"SID",p.M),Ce(D,"RID",N),Ce(D,"AID",p.K),Vs(p,D),p.u&&p.o&&Fn(D,p.u,p.o),N=new vi(p,p.j,N,p.D+1),p.u===null&&(N.J=p.o),E&&(p.i=E.G.concat(p.i)),E=Ca(p,N,1e3),N.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),rs(p.h,N),Oi(N,D,E)}function Vs(p,E){p.H&&Me(p.H,function(N,D){Ce(E,D,N)}),p.l&&Me({},function(N,D){Ce(E,D,N)})}function Ca(p,E,N){N=Math.min(p.i.length,N);const D=p.l?_(p.l.Ka,p.l,p):null;e:{var te=p.i;let Fe=-1;for(;;){const nt=["count="+N];Fe==-1?N>0?(Fe=te[0].g,nt.push("ofs="+Fe)):Fe=0:nt.push("ofs="+Fe);let gt=!0;for(let Mt=0;Mt<N;Mt++){var re=te[Mt].g;const ri=te[Mt].map;if(re-=Fe,re<0)Fe=Math.max(0,te[Mt].g-100),gt=!1;else try{re="req"+re+"_"||"";try{var Ee=ri instanceof Map?ri:Object.entries(ri);for(const[wi,ai]of Ee){let zi=ai;m(ai)&&(zi=Xn(ai)),nt.push(re+wi+"="+encodeURIComponent(zi))}}catch(wi){throw nt.push(re+"type="+encodeURIComponent("_badmap")),wi}}catch{D&&D(ri)}}if(gt){Ee=nt.join("&");break e}}Ee=void 0}return p=p.i.splice(0,N),E.G=p,Ee}function Wo(p){if(!p.g&&!p.v){p.Y=1;var E=p.Da;he||O(),we||(he(),we=!0),F.add(E,p),p.A=0}}function Ko(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=er(_(p.Da,p),Kl(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,Ra(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=er(_(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Lt(10),hs(this),Ra(this))};function $o(p){p.B!=null&&(u.clearTimeout(p.B),p.B=null)}function Ra(p){p.g=new vi(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var E=wt(p.na);Ce(E,"RID","rpc"),Ce(E,"SID",p.M),Ce(E,"AID",p.K),Ce(E,"CI",p.F?"0":"1"),!p.F&&p.ia&&Ce(E,"TO",p.ia),Ce(E,"TYPE","xmlhttp"),Vs(p,E),p.u&&p.o&&Fn(E,p.u,p.o),p.O&&(p.g.H=p.O);var N=p.g;p=p.ba,N.M=1,N.A=vt(wt(E)),N.u=null,N.R=!0,Jn(N,p)}t.Va=function(){this.C!=null&&(this.C=null,hs(this),Ko(this),Lt(19))};function Pa(p){p.C!=null&&(u.clearTimeout(p.C),p.C=null)}function Hn(p,E){var N=null;if(p.g==E){Pa(p),$o(p),p.g=null;var D=2}else if(Ds(p.h,E))N=E.G,as(p.h,E),D=1;else return;if(p.I!=0){if(E.o)if(D==1){N=E.u?E.u.length:0,E=Date.now()-E.F;var te=p.D;D=Ea(),Xt(D,new Fl(D,N)),Ui(p)}else Wo(p);else if(te=E.m,te==3||te==0&&E.X>0||!(D==1&&Zl(p,E)||D==2&&Ko(p)))switch(N&&N.length>0&&(E=p.h,E.i=E.i.concat(N)),te){case 1:ds(p,5);break;case 4:ds(p,10);break;case 3:ds(p,6);break;default:ds(p,2)}}}function Kl(p,E){let N=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(N*=2),N*E}function ds(p,E){if(p.j.info("Error code "+E),E==2){var N=_(p.bb,p),D=p.Ua;const te=!D;D=new ht(D||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ti(D,"https"),vt(D),te?sr(D.toString(),N):Os(D.toString(),N)}else Lt(2);p.I=0,p.l&&p.l.pa(E),Bi(p),mn(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function Bi(p){if(p.I=0,p.ja=[],p.l){const E=Ur(p.h);(E.length!=0||p.i.length!=0)&&(I(p.ja,E),I(p.ja,p.i),p.h.i.length=0,j(p.i),p.i.length=0),p.l.oa()}}function Yo(p,E,N){var D=N instanceof ht?wt(N):new ht(N);if(D.g!="")E&&(D.g=E+"."+D.g),bi(D,D.u);else{var te=u.location;D=te.protocol,E=E?E+"."+te.hostname:te.hostname,te=+te.port;const re=new ht(null);D&&ti(re,D),E&&(re.g=E),te&&bi(re,te),N&&(re.h=N),D=re}return N=p.G,E=p.wa,N&&E&&Ce(D,N,E),Ce(D,"VER",p.ka),Vs(p,D),D}function Gr(p,E,N){if(E&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Aa&&!p.ma?new ft(new ze({ab:N})):new ft(p.ma),E.Fa(p.L),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ja(){}t=ja.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ia(){}Ia.prototype.g=function(p,E){return new An(p,E)};function An(p,E){Qt.call(this),this.g=new qr(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(p?p["X-WebChannel-Client-Profile"]=E.sa:p={"X-WebChannel-Client-Profile":E.sa}),this.g.U=p,(p=E&&E.Qb)&&!H(p)&&(this.g.u=p),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!H(E)&&(this.g.G=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new lr(this)}T(An,Qt),An.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){Qe(this.g)},An.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var N={};N.__data__=p,p=N}else this.v&&(N={},N.__data__=Xn(p),p=N);E.i.push(new bu(E.Ya++,p)),E.I==3&&Ui(E)},An.prototype.N=function(){this.g.l=null,delete this.j,Qe(this.g),delete this.g,An.Z.N.call(this)};function Da(p){ns.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const N in E){p=N;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}T(Da,ns);function $l(){pi.call(this),this.status=1}T($l,pi);function lr(p){this.g=p}T(lr,ja),lr.prototype.ra=function(){Xt(this.g,"a")},lr.prototype.qa=function(p){Xt(this.g,new Da(p))},lr.prototype.pa=function(p){Xt(this.g,new $l)},lr.prototype.oa=function(){Xt(this.g,"b")},Ia.prototype.createWebChannel=Ia.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,qS=function(){return new Ia},HS=function(){return Ea()},FS=gi,Oy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Bt.NO_ERROR=0,Bt.TIMEOUT=8,Bt.HTTP_ERROR=6,zf=Bt,dn.COMPLETE="complete",zS=dn,zl.EventType=Mi,Mi.OPEN="a",Mi.CLOSE="b",Mi.ERROR="c",Mi.MESSAGE="d",Qt.prototype.listen=Qt.prototype.J,gh=zl,ft.prototype.listenOnce=ft.prototype.K,ft.prototype.getLastError=ft.prototype.Ha,ft.prototype.getLastErrorCode=ft.prototype.ya,ft.prototype.getStatus=ft.prototype.ca,ft.prototype.getResponseJson=ft.prototype.La,ft.prototype.getResponseText=ft.prototype.la,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Fa,BS=ft}).apply(typeof Ef<"u"?Ef:typeof self<"u"?self:typeof window<"u"?window:{});const Yw="@firebase/firestore",Qw="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wn.UNAUTHENTICATED=new Wn(null),Wn.GOOGLE_CREDENTIALS=new Wn("google-credentials-uid"),Wn.FIRST_PARTY=new Wn("first-party-uid"),Wn.MOCK_USER=new Wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ru="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=new M0("@firebase/firestore");function Ac(){return jl.logLevel}function Pe(t,...e){if(jl.logLevel<=lt.DEBUG){const n=e.map(Z0);jl.debug(`Firestore (${ru}): ${t}`,...n)}}function pa(t,...e){if(jl.logLevel<=lt.ERROR){const n=e.map(Z0);jl.error(`Firestore (${ru}): ${t}`,...n)}}function qc(t,...e){if(jl.logLevel<=lt.WARN){const n=e.map(Z0);jl.warn(`Firestore (${ru}): ${t}`,...n)}}function Z0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,GS(t,i,n)}function GS(t,e,n){let i=`FIRESTORE (${ru}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw pa(i),new Error(i)}function _t(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||GS(e,a,i)}function Ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends _a{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wn.UNAUTHENTICATED)))}shutdown(){}}class DL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class LL{constructor(e){this.t=e,this.currentUser=Wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_t(this.o===void 0,42304);let i=this.i;const a=g=>this.i!==i?(i=this.i,n(g)):Promise.resolve();let c=new ha;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ha,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await a(this.currentUser)}))},m=g=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ha)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(_t(typeof i.accessToken=="string",31837,{l:i}),new ZS(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _t(e===null||typeof e=="string",2055,{h:e}),new Wn(e)}}class ML{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Wn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class OL{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new ML(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Xw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_t(this.o===void 0,3512);const i=c=>{c.error!=null&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,Pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>i(c)))};const a=c=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>a(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?a(c):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Xw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(_t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Xw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=VL(40);for(let c=0;c<a.length;++c)i.length<20&&a[c]<n&&(i+=e.charAt(a[c]%62))}return i}}function ct(t,e){return t<e?-1:t>e?1:0}function ky(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),c=e.charAt(i);if(a!==c)return ty(a)===ty(c)?ct(a,c):ty(a)?1:-1}return ct(t.length,e.length)}const UL=55296,BL=57343;function ty(t){const e=t.charCodeAt(0);return e>=UL&&e<=BL}function Gc(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="__name__";class vr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ge(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ge(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return vr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vr?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const c=vr.compareSegments(e.get(a),n.get(a));if(c!==0)return c}return ct(e.length,n.length)}static compareSegments(e,n){const i=vr.isNumericId(e),a=vr.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?vr.extractNumericId(e).compare(vr.extractNumericId(n)):ky(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return To.fromString(e.substring(4,e.length-2))}}class jt extends vr{construct(e,n,i){return new jt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ne(pe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new jt(n)}static emptyPath(){return new jt([])}}const zL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Un extends vr{construct(e,n,i){return new Un(e,n,i)}static isValidIdentifier(e){return zL.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jw}static keyField(){return new Un([Jw])}static fromServerFormat(e){const n=[];let i="",a=0;const c=()=>{if(i.length===0)throw new Ne(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new Ne(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Ne(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,a+=2}else m==="`"?(u=!u,a++):m!=="."||u?(i+=m,a++):(c(),a++)}if(c(),u)throw new Ne(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Un(n)}static emptyPath(){return new Un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(jt.fromString(e))}static fromName(e){return new Ve(jt.fromString(e).popFirst(5))}static empty(){return new Ve(jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return jt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new jt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(t,e,n){if(!n)throw new Ne(pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function FL(t,e,n,i){if(e===!0&&i===!0)throw new Ne(pe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function eT(t){if(!Ve.isDocumentKey(t))throw new Ne(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tT(t){if(Ve.isDocumentKey(t))throw new Ne(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function KS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Lm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ge(12329,{type:typeof t})}function Nr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ne(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lm(t);throw new Ne(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t,e){const n={typeString:t};return e&&(n.value=e),n}function sd(t,e){if(!KS(t))throw new Ne(pe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,c="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(a&&typeof u!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(c!==void 0&&u!==c.value){n=`Expected '${i}' field to equal '${c.value}'`;break}}if(n)throw new Ne(pe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT=-62135596800,iT=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*iT);return new Ct(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<nT)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iT}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(sd(e,Ct._jsonSchema))return new Ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-nT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ct._jsonSchemaVersion="firestore/timestamp/1.0",Ct._jsonSchema={type:un("string",Ct._jsonSchemaVersion),seconds:un("number"),nanoseconds:un("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new Ct(0,0))}static max(){return new $e(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=-1;function HL(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=$e.fromTimestamp(i===1e9?new Ct(n+1,0):new Ct(n,i));return new Co(a,Ve.empty(),e)}function qL(t){return new Co(t.readTime,t.key,Oh)}class Co{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Co($e.min(),Ve.empty(),Oh)}static max(){return new Co($e.max(),Ve.empty(),Oh)}}function GL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ve.comparator(t.documentKey,e.documentKey),n!==0?n:ct(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(t){if(t.code!==pe.FAILED_PRECONDITION||t.message!==ZL)throw t;Pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ye(((i,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ye?n:ye.resolve(n)}catch(n){return ye.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ye.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ye.reject(n)}static resolve(e){return new ye(((n,i)=>{n(e)}))}static reject(e){return new ye(((n,i)=>{i(e)}))}static waitFor(e){return new ye(((n,i)=>{let a=0,c=0,u=!1;e.forEach((m=>{++a,m.next((()=>{++c,u&&c===a&&n()}),(g=>i(g)))})),u=!0,c===a&&n()}))}static or(e){let n=ye.resolve(!1);for(const i of e)n=n.next((a=>a?ye.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,c)=>{i.push(n.call(this,a,c))})),this.waitFor(i)}static mapArray(e,n){return new ye(((i,a)=>{const c=e.length,u=new Array(c);let m=0;for(let g=0;g<c;g++){const _=g;n(e[_]).next((x=>{u[_]=x,++m,m===c&&i(u)}),(x=>a(x)))}}))}static doWhile(e,n){return new ye(((i,a)=>{const c=()=>{e()===!0?n().next((()=>{c()}),a):i()};c()}))}}function KL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ou(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Mm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=-1;function Om(t){return t==null}function fm(t){return t===0&&1/t==-1/0}function $L(t){return typeof t=="number"&&Number.isInteger(t)&&!fm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="";function YL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=sT(e)),e=QL(t.get(n),e);return sT(e)}function QL(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const c=t.charAt(a);switch(c){case"\0":n+="";break;case $S:n+="";break;default:n+=c}}return n}function sT(t){return t+$S+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function YS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n){this.comparator=e,this.root=n||Vn.EMPTY}insert(e,n){return new Zt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Vn.BLACK,null,null))}remove(e){return new Zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sf(this.root,e,this.comparator,!0)}}class Sf{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?i(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vn{constructor(e,n,i,a,c){this.key=e,this.value=n,this.color=i??Vn.RED,this.left=a??Vn.EMPTY,this.right=c??Vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,c){return new Vn(e??this.key,n??this.value,i??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const c=i(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,i),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Vn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}Vn.EMPTY=null,Vn.RED=!0,Vn.BLACK=!1;Vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,n,i,a,c){return this}insert(e,n,i){return new Vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.comparator=e,this.data=new Zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new aT(this.data.getIterator())}getIteratorFrom(e){return new aT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof yn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=i.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new yn(this.comparator);return n.data=e,n}}class aT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this.fields=e,e.sort(Un.comparator)}static empty(){return new Ji([])}unionWith(e){let n=new yn(Un.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Ji(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gc(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new QS("Invalid base64 string: "+c):c}})(e);return new Bn(n)}static fromUint8Array(e){const n=(function(a){let c="";for(let u=0;u<a.length;++u)c+=String.fromCharCode(a[u]);return c})(e);return new Bn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bn.EMPTY_BYTE_STRING=new Bn("");const XL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ro(t){if(_t(!!t,39018),typeof t=="string"){let e=0;const n=XL.exec(t);if(_t(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:nn(t.seconds),nanos:nn(t.nanos)}}function nn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Po(t){return typeof t=="string"?Bn.fromBase64String(t):Bn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="server_timestamp",JS="__type__",e2="__previous_value__",t2="__local_write_time__";function $0(t){return(t?.mapValue?.fields||{})[JS]?.stringValue===XS}function km(t){const e=t.mapValue.fields[e2];return $0(e)?km(e):e}function kh(t){const e=Ro(t.mapValue.fields[t2].timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e,n,i,a,c,u,m,g,_,x){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=x}}const mm="(default)";class Vh{constructor(e,n){this.projectId=e,this.database=n||mm}static empty(){return new Vh("","")}get isDefaultDatabase(){return this.database===mm}isEqual(e){return e instanceof Vh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2="__type__",eM="__max__",Af={mapValue:{}},i2="__vector__",pm="value";function jo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$0(t)?4:nM(t)?9007199254740991:tM(t)?10:11:Ge(28295,{value:t})}function Cr(t,e){if(t===e)return!0;const n=jo(t);if(n!==jo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kh(t).isEqual(kh(e));case 3:return(function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const u=Ro(a.timestampValue),m=Ro(c.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,c){return Po(a.bytesValue).isEqual(Po(c.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,c){return nn(a.geoPointValue.latitude)===nn(c.geoPointValue.latitude)&&nn(a.geoPointValue.longitude)===nn(c.geoPointValue.longitude)})(t,e);case 2:return(function(a,c){if("integerValue"in a&&"integerValue"in c)return nn(a.integerValue)===nn(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const u=nn(a.doubleValue),m=nn(c.doubleValue);return u===m?fm(u)===fm(m):isNaN(u)&&isNaN(m)}return!1})(t,e);case 9:return Gc(t.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:case 11:return(function(a,c){const u=a.mapValue.fields||{},m=c.mapValue.fields||{};if(rT(u)!==rT(m))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(m[g]===void 0||!Cr(u[g],m[g])))return!1;return!0})(t,e);default:return Ge(52216,{left:t})}}function Uh(t,e){return(t.values||[]).find((n=>Cr(n,e)))!==void 0}function Zc(t,e){if(t===e)return 0;const n=jo(t),i=jo(e);if(n!==i)return ct(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return(function(c,u){const m=nn(c.integerValue||c.doubleValue),g=nn(u.integerValue||u.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(t,e);case 3:return oT(t.timestampValue,e.timestampValue);case 4:return oT(kh(t),kh(e));case 5:return ky(t.stringValue,e.stringValue);case 6:return(function(c,u){const m=Po(c),g=Po(u);return m.compareTo(g)})(t.bytesValue,e.bytesValue);case 7:return(function(c,u){const m=c.split("/"),g=u.split("/");for(let _=0;_<m.length&&_<g.length;_++){const x=ct(m[_],g[_]);if(x!==0)return x}return ct(m.length,g.length)})(t.referenceValue,e.referenceValue);case 8:return(function(c,u){const m=ct(nn(c.latitude),nn(u.latitude));return m!==0?m:ct(nn(c.longitude),nn(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return lT(t.arrayValue,e.arrayValue);case 10:return(function(c,u){const m=c.fields||{},g=u.fields||{},_=m[pm]?.arrayValue,x=g[pm]?.arrayValue,T=ct(_?.values?.length||0,x?.values?.length||0);return T!==0?T:lT(_,x)})(t.mapValue,e.mapValue);case 11:return(function(c,u){if(c===Af.mapValue&&u===Af.mapValue)return 0;if(c===Af.mapValue)return 1;if(u===Af.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),_=u.fields||{},x=Object.keys(_);g.sort(),x.sort();for(let T=0;T<g.length&&T<x.length;++T){const A=ky(g[T],x[T]);if(A!==0)return A;const j=Zc(m[g[T]],_[x[T]]);if(j!==0)return j}return ct(g.length,x.length)})(t.mapValue,e.mapValue);default:throw Ge(23264,{he:n})}}function oT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);const n=Ro(t),i=Ro(e),a=ct(n.seconds,i.seconds);return a!==0?a:ct(n.nanos,i.nanos)}function lT(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const c=Zc(n[a],i[a]);if(c)return c}return ct(n.length,i.length)}function Wc(t){return Vy(t)}function Vy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Ro(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Po(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ve.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const c of n.values||[])a?a=!1:i+=",",i+=Vy(c);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const u of i)c?c=!1:a+=",",a+=`${u}:${Vy(n.fields[u])}`;return a+"}"})(t.mapValue):Ge(61005,{value:t})}function Ff(t){switch(jo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=km(t);return e?16+Ff(e):16;case 5:return 2*t.stringValue.length;case 6:return Po(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,c)=>a+Ff(c)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return Vo(i.fields,((c,u)=>{a+=c.length+Ff(u)})),a})(t.mapValue);default:throw Ge(13486,{value:t})}}function cT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Uy(t){return!!t&&"integerValue"in t}function Y0(t){return!!t&&"arrayValue"in t}function uT(t){return!!t&&"nullValue"in t}function hT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hf(t){return!!t&&"mapValue"in t}function tM(t){return(t?.mapValue?.fields||{})[n2]?.stringValue===i2}function Eh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Vo(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Eh(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Eh(t.arrayValue.values[n]);return e}return{...t}}function nM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===eM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this.value=e}static empty(){return new Pi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Hf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eh(n)}setAll(e){let n=Un.emptyPath(),i={},a=[];e.forEach(((u,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,i,a),i={},a=[],n=m.popLast()}u?i[m.lastSegment()]=Eh(u):a.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,i,a)}delete(e){const n=this.field(e.popLast());Hf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Hf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){Vo(n,((a,c)=>e[a]=c));for(const a of i)delete e[a]}clone(){return new Pi(Eh(this.value))}}function s2(t){const e=[];return Vo(t.fields,((n,i)=>{const a=new Un([n]);if(Hf(i)){const c=s2(i.mapValue).fields;if(c.length===0)e.push(a);else for(const u of c)e.push(a.child(u))}else e.push(a)})),new Ji(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,n,i,a,c,u,m){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=c,this.data=u,this.documentState=m}static newInvalidDocument(e){return new Kn(e,0,$e.min(),$e.min(),$e.min(),Pi.empty(),0)}static newFoundDocument(e,n,i,a){return new Kn(e,1,n,$e.min(),i,a,0)}static newNoDocument(e,n){return new Kn(e,2,n,$e.min(),$e.min(),Pi.empty(),0)}static newUnknownDocument(e,n){return new Kn(e,3,n,$e.min(),$e.min(),Pi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n){this.position=e,this.inclusive=n}}function dT(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const c=e[a],u=t.position[a];if(c.field.isKeyField()?i=Ve.comparator(Ve.fromName(u.referenceValue),n.key):i=Zc(u,n.data.field(c.field)),c.dir==="desc"&&(i*=-1),i!==0)break}return i}function fT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n="asc"){this.field=e,this.dir=n}}function iM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{}class cn extends r2{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new rM(e,n,i):n==="array-contains"?new lM(e,i):n==="in"?new cM(e,i):n==="not-in"?new uM(e,i):n==="array-contains-any"?new hM(e,i):new cn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new aM(e,i):new oM(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Zc(n,this.value)):n!==null&&jo(this.value)===jo(n)&&this.matchesComparison(Zc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $s extends r2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new $s(e,n)}matches(e){return a2(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function a2(t){return t.op==="and"}function o2(t){return sM(t)&&a2(t)}function sM(t){for(const e of t.filters)if(e instanceof $s)return!1;return!0}function By(t){if(t instanceof cn)return t.field.canonicalString()+t.op.toString()+Wc(t.value);if(o2(t))return t.filters.map((e=>By(e))).join(",");{const e=t.filters.map((n=>By(n))).join(",");return`${t.op}(${e})`}}function l2(t,e){return t instanceof cn?(function(i,a){return a instanceof cn&&i.op===a.op&&i.field.isEqual(a.field)&&Cr(i.value,a.value)})(t,e):t instanceof $s?(function(i,a){return a instanceof $s&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((c,u,m)=>c&&l2(u,a.filters[m])),!0):!1})(t,e):void Ge(19439)}function c2(t){return t instanceof cn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Wc(n.value)}`})(t):t instanceof $s?(function(n){return n.op.toString()+" {"+n.getFilters().map(c2).join(" ,")+"}"})(t):"Filter"}class rM extends cn{constructor(e,n,i){super(e,n,i),this.key=Ve.fromName(i.referenceValue)}matches(e){const n=Ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class aM extends cn{constructor(e,n){super(e,"in",n),this.keys=u2("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class oM extends cn{constructor(e,n){super(e,"not-in",n),this.keys=u2("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function u2(t,e){return(e.arrayValue?.values||[]).map((n=>Ve.fromName(n.referenceValue)))}class lM extends cn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Y0(n)&&Uh(n.arrayValue,this.value)}}class cM extends cn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Uh(this.value.arrayValue,n)}}class uM extends cn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Uh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Uh(this.value.arrayValue,n)}}class hM extends cn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Y0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Uh(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,n=null,i=[],a=[],c=null,u=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=c,this.startAt=u,this.endAt=m,this.Te=null}}function mT(t,e=null,n=[],i=[],a=null,c=null,u=null){return new dM(t,e,n,i,a,c,u)}function Q0(t){const e=Ye(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>By(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(c){return c.field.canonicalString()+c.dir})(i))).join(","),Om(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Wc(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Wc(i))).join(",")),e.Te=n}return e.Te}function X0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!iM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!l2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fT(t.startAt,e.startAt)&&fT(t.endAt,e.endAt)}function zy(t){return Ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n=null,i=[],a=[],c=null,u="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=c,this.limitType=u,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fM(t,e,n,i,a,c,u,m){return new lu(t,e,n,i,a,c,u,m)}function J0(t){return new lu(t)}function pT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function h2(t){return t.collectionGroup!==null}function Sh(t){const e=Ye(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let m=new yn(Un.comparator);return u.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(m=m.add(_.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Bh(c,i))})),n.has(Un.keyField().canonicalString())||e.Ie.push(new Bh(Un.keyField(),i))}return e.Ie}function br(t){const e=Ye(t);return e.Ee||(e.Ee=mM(e,Sh(t))),e.Ee}function mM(t,e){if(t.limitType==="F")return mT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const c=a.dir==="desc"?"asc":"desc";return new Bh(a.field,c)}));const n=t.endAt?new gm(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new gm(t.startAt.position,t.startAt.inclusive):null;return mT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Fy(t,e){const n=t.filters.concat([e]);return new lu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Hy(t,e,n){return new lu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vm(t,e){return X0(br(t),br(e))&&t.limitType===e.limitType}function d2(t){return`${Q0(br(t))}|lt:${t.limitType}`}function Nc(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>c2(a))).join(", ")}]`),Om(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>Wc(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>Wc(a))).join(",")),`Target(${i})`})(br(t))}; limitType=${t.limitType})`}function Um(t,e){return e.isFoundDocument()&&(function(i,a){const c=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):Ve.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)})(t,e)&&(function(i,a){for(const c of Sh(i))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const c of i.filters)if(!c.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(u,m,g){const _=dT(u,m,g);return u.inclusive?_<=0:_<0})(i.startAt,Sh(i),a)||i.endAt&&!(function(u,m,g){const _=dT(u,m,g);return u.inclusive?_>=0:_>0})(i.endAt,Sh(i),a))})(t,e)}function pM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function f2(t){return(e,n)=>{let i=!1;for(const a of Sh(t)){const c=gM(a,e,n);if(c!==0)return c;i=i||a.field.isKeyField()}return 0}}function gM(t,e,n){const i=t.field.isKeyField()?Ve.comparator(e.key,n.key):(function(c,u,m){const g=u.data.field(c),_=m.data.field(c);return g!==null&&_!==null?Zc(g,_):Ge(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ge(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,c]of i)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Vo(this.inner,((n,i)=>{for(const[a,c]of i)e(a,c)}))}isEmpty(){return YS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM=new Zt(Ve.comparator);function ga(){return yM}const m2=new Zt(Ve.comparator);function yh(...t){let e=m2;for(const n of t)e=e.insert(n.key,n);return e}function p2(t){let e=m2;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function xl(){return Ah()}function g2(){return Ah()}function Ah(){return new Ml((t=>t.toString()),((t,e)=>t.isEqual(e)))}const vM=new Zt(Ve.comparator),_M=new yn(Ve.comparator);function ut(...t){let e=_M;for(const n of t)e=e.add(n);return e}const xM=new yn(ct);function bM(){return xM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fm(e)?"-0":e}}function y2(t){return{integerValue:""+t}}function v2(t,e){return $L(e)?y2(e):ev(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(){this._=void 0}}function wM(t,e,n){return t instanceof zh?(function(a,c){const u={fields:{[JS]:{stringValue:XS},[t2]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&$0(c)&&(c=km(c)),c&&(u.fields[e2]=c),{mapValue:u}})(n,e):t instanceof Kc?x2(t,e):t instanceof Fh?b2(t,e):(function(a,c){const u=_2(a,c),m=gT(u)+gT(a.Ae);return Uy(u)&&Uy(a.Ae)?y2(m):ev(a.serializer,m)})(t,e)}function TM(t,e,n){return t instanceof Kc?x2(t,e):t instanceof Fh?b2(t,e):n}function _2(t,e){return t instanceof Hh?(function(i){return Uy(i)||(function(c){return!!c&&"doubleValue"in c})(i)})(e)?e:{integerValue:0}:null}class zh extends Bm{}class Kc extends Bm{constructor(e){super(),this.elements=e}}function x2(t,e){const n=w2(e);for(const i of t.elements)n.some((a=>Cr(a,i)))||n.push(i);return{arrayValue:{values:n}}}class Fh extends Bm{constructor(e){super(),this.elements=e}}function b2(t,e){let n=w2(e);for(const i of t.elements)n=n.filter((a=>!Cr(a,i)));return{arrayValue:{values:n}}}class Hh extends Bm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function gT(t){return nn(t.integerValue||t.doubleValue)}function w2(t){return Y0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n){this.field=e,this.transform=n}}function EM(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof Kc&&a instanceof Kc||i instanceof Fh&&a instanceof Fh?Gc(i.elements,a.elements,Cr):i instanceof Hh&&a instanceof Hh?Cr(i.Ae,a.Ae):i instanceof zh&&a instanceof zh})(t.transform,e.transform)}class SM{constructor(e,n){this.version=e,this.transformResults=n}}class Ws{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ws}static exists(e){return new Ws(void 0,e)}static updateTime(e){return new Ws(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zm{}function T2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new S2(t.key,Ws.none()):new rd(t.key,t.data,Ws.none());{const n=t.data,i=Pi.empty();let a=new yn(Un.comparator);for(let c of e.fields)if(!a.has(c)){let u=n.field(c);u===null&&c.length>1&&(c=c.popLast(),u=n.field(c)),u===null?i.delete(c):i.set(c,u),a=a.add(c)}return new Uo(t.key,i,new Ji(a.toArray()),Ws.none())}}function AM(t,e,n){t instanceof rd?(function(a,c,u){const m=a.value.clone(),g=vT(a.fieldTransforms,c,u.transformResults);m.setAll(g),c.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):t instanceof Uo?(function(a,c,u){if(!qf(a.precondition,c))return void c.convertToUnknownDocument(u.version);const m=vT(a.fieldTransforms,c,u.transformResults),g=c.data;g.setAll(E2(a)),g.setAll(m),c.convertToFoundDocument(u.version,g).setHasCommittedMutations()})(t,e,n):(function(a,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Nh(t,e,n,i){return t instanceof rd?(function(c,u,m,g){if(!qf(c.precondition,u))return m;const _=c.value.clone(),x=_T(c.fieldTransforms,g,u);return _.setAll(x),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),null})(t,e,n,i):t instanceof Uo?(function(c,u,m,g){if(!qf(c.precondition,u))return m;const _=_T(c.fieldTransforms,g,u),x=u.data;return x.setAll(E2(c)),x.setAll(_),u.convertToFoundDocument(u.version,x).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((T=>T.field)))})(t,e,n,i):(function(c,u,m){return qf(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m})(t,e,n)}function NM(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),c=_2(i.transform,a||null);c!=null&&(n===null&&(n=Pi.empty()),n.set(i.field,c))}return n||null}function yT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Gc(i,a,((c,u)=>EM(c,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class rd extends zm{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Uo extends zm{constructor(e,n,i,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function E2(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function vT(t,e,n){const i=new Map;_t(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const c=t[a],u=c.transform,m=e.data.field(c.field);i.set(c.field,TM(u,m,n[a]))}return i}function _T(t,e,n){const i=new Map;for(const a of t){const c=a.transform,u=n.data.field(a.field);i.set(a.field,wM(c,u,e))}return i}class S2 extends zm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CM extends zm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&AM(c,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Nh(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Nh(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=g2();return this.mutations.forEach((a=>{const c=e.get(a.key),u=c.overlayedDocument;let m=this.applyToLocalView(u,c.mutatedFields);m=n.has(a.key)?null:m;const g=T2(u,m);g!==null&&i.set(a.key,g),u.isValidDocument()||u.convertToNoDocument($e.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ut())}isEqual(e){return this.batchId===e.batchId&&Gc(this.mutations,e.mutations,((n,i)=>yT(n,i)))&&Gc(this.baseMutations,e.baseMutations,((n,i)=>yT(n,i)))}}class nv{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){_t(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return vM})();const c=e.mutations;for(let u=0;u<c.length;u++)a=a.insert(c[u].key,i[u].version);return new nv(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,pt;function IM(t){switch(t){case pe.OK:return Ge(64938);case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0;default:return Ge(15467,{code:t})}}function A2(t){if(t===void 0)return pa("GRPC error has no .code"),pe.UNKNOWN;switch(t){case on.OK:return pe.OK;case on.CANCELLED:return pe.CANCELLED;case on.UNKNOWN:return pe.UNKNOWN;case on.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case on.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case on.INTERNAL:return pe.INTERNAL;case on.UNAVAILABLE:return pe.UNAVAILABLE;case on.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case on.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case on.NOT_FOUND:return pe.NOT_FOUND;case on.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case on.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case on.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case on.ABORTED:return pe.ABORTED;case on.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case on.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case on.DATA_LOSS:return pe.DATA_LOSS;default:return Ge(39323,{code:t})}}(pt=on||(on={}))[pt.OK=0]="OK",pt[pt.CANCELLED=1]="CANCELLED",pt[pt.UNKNOWN=2]="UNKNOWN",pt[pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pt[pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pt[pt.NOT_FOUND=5]="NOT_FOUND",pt[pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",pt[pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",pt[pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",pt[pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pt[pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pt[pt.ABORTED=10]="ABORTED",pt[pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",pt[pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",pt[pt.INTERNAL=13]="INTERNAL",pt[pt.UNAVAILABLE=14]="UNAVAILABLE",pt[pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=new To([4294967295,4294967295],0);function xT(t){const e=DM().encode(t),n=new US;return n.update(e),new Uint8Array(n.digest())}function bT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new To([n,i],0),new To([a,c],0)]}class iv{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new vh(`Invalid padding: ${n}`);if(i<0)throw new vh(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new vh(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new vh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=To.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(To.fromNumber(i)));return a.compare(LM)===1&&(a=new To([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=xT(e),[i,a]=bT(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(i,a,c);if(!this.we(u))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new iv(c,a,n);return i.forEach((m=>u.insert(m))),u}insert(e){if(this.ge===0)return;const n=xT(e),[i,a]=bT(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(i,a,c);this.Se(u)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class vh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n,i,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,ad.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Fm($e.min(),a,new Zt(ct),ga(),ut())}}class ad{constructor(e,n,i,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new ad(i,n,ut(),ut(),ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n,i,a){this.be=e,this.removedTargetIds=n,this.key=i,this.De=a}}class N2{constructor(e,n){this.targetId=e,this.Ce=n}}class C2{constructor(e,n,i=Bn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class wT{constructor(){this.ve=0,this.Fe=TT(),this.Me=Bn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ut(),n=ut(),i=ut();return this.Fe.forEach(((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Ge(38017,{changeType:c})}})),new ad(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=TT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,_t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class MM{constructor(e){this.Ge=e,this.ze=new Map,this.je=ga(),this.Je=Nf(),this.He=Nf(),this.Ye=new Zt(ct)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ge(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const c=a.target;if(zy(c))if(i===0){const u=new Ve(c.path);this.et(n,u,Kn.newNoDocument(u,$e.min()))}else _t(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const m=this.ut(e),g=m?this.ct(m,e,u):1;if(g!==0){this.it(n);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,_)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:c=0}=n;let u,m;try{u=Po(i).toUint8Array()}catch(g){if(g instanceof QS)return qc("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new iv(u,a,c)}catch(g){return qc(g instanceof vh?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((c=>{const u=this.Ge.ht(),m=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((c,u)=>{const m=this.ot(u);if(m){if(c.current&&zy(m.target)){const g=new Ve(m.target.path);this.It(g).has(u)||this.Et(u,g)||this.et(u,g,Kn.newNoDocument(g,e))}c.Be&&(n.set(u,c.ke()),c.qe())}}));let i=ut();this.He.forEach(((c,u)=>{let m=!0;u.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(i=i.add(c))})),this.je.forEach(((c,u)=>u.setReadTime(e)));const a=new Fm(e,n,this.Ye,this.je,i);return this.je=ga(),this.Je=Nf(),this.He=Nf(),this.Ye=new Zt(ct),a}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new wT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new yn(ct),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new yn(ct),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new wT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Nf(){return new Zt(Ve.comparator)}function TT(){return new Zt(Ve.comparator)}const OM={asc:"ASCENDING",desc:"DESCENDING"},kM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VM={and:"AND",or:"OR"};class UM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qy(t,e){return t.useProto3Json||Om(e)?e:{value:e}}function ym(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function R2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function BM(t,e){return ym(t,e.toTimestamp())}function wr(t){return _t(!!t,49232),$e.fromTimestamp((function(n){const i=Ro(n);return new Ct(i.seconds,i.nanos)})(t))}function sv(t,e){return Gy(t,e).canonicalString()}function Gy(t,e){const n=(function(a){return new jt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function P2(t){const e=jt.fromString(t);return _t(M2(e),10190,{key:e.toString()}),e}function Zy(t,e){return sv(t.databaseId,e.path)}function ny(t,e){const n=P2(e);if(n.get(1)!==t.databaseId.projectId)throw new Ne(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ne(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ve(I2(n))}function j2(t,e){return sv(t.databaseId,e)}function zM(t){const e=P2(t);return e.length===4?jt.emptyPath():I2(e)}function Wy(t){return new jt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function I2(t){return _t(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ET(t,e,n){return{name:Zy(t,e),fields:n.value.mapValue.fields}}function FM(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ge(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=(function(_,x){return _.useProto3Json?(_t(x===void 0||typeof x=="string",58123),Bn.fromBase64String(x||"")):(_t(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Bn.fromUint8Array(x||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&(function(_){const x=_.code===void 0?pe.UNKNOWN:A2(_.code);return new Ne(x,_.message||"")})(u);n=new C2(i,a,c,m||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=ny(t,i.document.name),c=wr(i.document.updateTime),u=i.document.createTime?wr(i.document.createTime):$e.min(),m=new Pi({mapValue:{fields:i.document.fields}}),g=Kn.newFoundDocument(a,c,u,m),_=i.targetIds||[],x=i.removedTargetIds||[];n=new Gf(_,x,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=ny(t,i.document),c=i.readTime?wr(i.readTime):$e.min(),u=Kn.newNoDocument(a,c),m=i.removedTargetIds||[];n=new Gf([],m,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=ny(t,i.document),c=i.removedTargetIds||[];n=new Gf([],c,a,null)}else{if(!("filter"in e))return Ge(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:c}=i,u=new jM(a,c),m=i.targetId;n=new N2(m,u)}}return n}function HM(t,e){let n;if(e instanceof rd)n={update:ET(t,e.key,e.value)};else if(e instanceof S2)n={delete:Zy(t,e.key)};else if(e instanceof Uo)n={update:ET(t,e.key,e.data),updateMask:XM(e.fieldMask)};else{if(!(e instanceof CM))return Ge(16599,{Vt:e.type});n={verify:Zy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(c,u){const m=u.transform;if(m instanceof zh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Kc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Fh)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Hh)return{fieldPath:u.field.canonicalString(),increment:m.Ae};throw Ge(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,c){return c.updateTime!==void 0?{updateTime:BM(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ge(27497)})(t,e.precondition)),n}function qM(t,e){return t&&t.length>0?(_t(e!==void 0,14353),t.map((n=>(function(a,c){let u=a.updateTime?wr(a.updateTime):wr(c);return u.isEqual($e.min())&&(u=wr(c)),new SM(u,a.transformResults||[])})(n,e)))):[]}function GM(t,e){return{documents:[j2(t,e.path)]}}function ZM(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=j2(t,a);const c=(function(_){if(_.length!==0)return L2($s.create(_,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const u=(function(_){if(_.length!==0)return _.map((x=>(function(A){return{field:Cc(A.field),direction:$M(A.dir)}})(x)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const m=qy(t,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:n,parent:a}}function WM(t){let e=zM(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){_t(i===1,65062);const x=n.from[0];x.allDescendants?a=x.collectionId:e=e.child(x.collectionId)}let c=[];n.where&&(c=(function(T){const A=D2(T);return A instanceof $s&&o2(A)?A.getFilters():[A]})(n.where));let u=[];n.orderBy&&(u=(function(T){return T.map((A=>(function(I){return new Bh(Rc(I.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,Om(A)?null:A})(n.limit));let g=null;n.startAt&&(g=(function(T){const A=!!T.before,j=T.values||[];return new gm(j,A)})(n.startAt));let _=null;return n.endAt&&(_=(function(T){const A=!T.before,j=T.values||[];return new gm(j,A)})(n.endAt)),fM(e,a,u,c,m,"F",g,_)}function KM(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function D2(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Rc(n.unaryFilter.field);return cn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Rc(n.unaryFilter.field);return cn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Rc(n.unaryFilter.field);return cn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Rc(n.unaryFilter.field);return cn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}})(t):t.fieldFilter!==void 0?(function(n){return cn.create(Rc(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return $s.create(n.compositeFilter.filters.map((i=>D2(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}})(n.compositeFilter.op))})(t):Ge(30097,{filter:t})}function $M(t){return OM[t]}function YM(t){return kM[t]}function QM(t){return VM[t]}function Cc(t){return{fieldPath:t.canonicalString()}}function Rc(t){return Un.fromServerFormat(t.fieldPath)}function L2(t){return t instanceof cn?(function(n){if(n.op==="=="){if(hT(n.value))return{unaryFilter:{field:Cc(n.field),op:"IS_NAN"}};if(uT(n.value))return{unaryFilter:{field:Cc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hT(n.value))return{unaryFilter:{field:Cc(n.field),op:"IS_NOT_NAN"}};if(uT(n.value))return{unaryFilter:{field:Cc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cc(n.field),op:YM(n.op),value:n.value}}})(t):t instanceof $s?(function(n){const i=n.getFilters().map((a=>L2(a)));return i.length===1?i[0]:{compositeFilter:{op:QM(n.op),filters:i}}})(t):Ge(54877,{filter:t})}function XM(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function M2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n,i,a,c=$e.min(),u=$e.min(),m=Bn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new _o(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e){this.yt=e}}function eO(t){const e=WM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Hy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(){this.Cn=new nO}addToCollectionParentIndex(e,n){return this.Cn.add(n),ye.resolve()}getCollectionParents(e,n){return ye.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ye.resolve()}deleteFieldIndex(e,n){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,n){return ye.resolve()}getDocumentsMatchingTarget(e,n){return ye.resolve(null)}getIndexType(e,n){return ye.resolve(0)}getFieldIndexes(e,n){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,n){return ye.resolve(Co.min())}getMinOffsetFromCollectionGroup(e,n){return ye.resolve(Co.min())}updateCollectionGroup(e,n,i){return ye.resolve()}updateIndexEntries(e,n){return ye.resolve()}}class nO{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new yn(jt.comparator),c=!a.has(i);return this.index[n]=a.add(i),c}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new yn(jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},O2=41943040;class Ci{static withCacheSize(e){return new Ci(e,Ci.DEFAULT_COLLECTION_PERCENTILE,Ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ci.DEFAULT_COLLECTION_PERCENTILE=10,Ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ci.DEFAULT=new Ci(O2,Ci.DEFAULT_COLLECTION_PERCENTILE,Ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ci.DISABLED=new Ci(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new $c(0)}static cr(){return new $c(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="LruGarbageCollector",iO=1048576;function NT([t,e],[n,i]){const a=ct(t,n);return a===0?ct(e,i):a}class sO{constructor(e){this.Ir=e,this.buffer=new yn(NT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();NT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rO{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Pe(AT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ou(n)?Pe(AT,"Ignoring IndexedDB error during garbage collection: ",n):await au(n)}await this.Vr(3e5)}))}}class aO{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return ye.resolve(Mm.ce);const i=new sO(n);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(ST)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ST):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,a,c,u,m,g,_;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,u=Date.now(),this.nthSequenceNumber(e,a)))).next((T=>(i=T,m=Date.now(),this.removeTargets(e,i,n)))).next((T=>(c=T,g=Date.now(),this.removeOrphanedDocuments(e,i)))).next((T=>(_=Date.now(),Ac()<=lt.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-x}ms
	Determined least recently used ${a} in `+(m-u)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(_-g)+`ms
Total Duration: ${_-x}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:T}))))}}function oO(t,e){return new aO(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this.changes=new Ml((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ye.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&Nh(i.mutation,a,Ji.empty(),Ct.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,ut()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=ut()){const a=xl();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((c=>{let u=yh();return c.forEach(((m,g)=>{u=u.insert(m,g.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=xl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,ut())))}populateOverlays(e,n,i){const a=[];return i.forEach((c=>{n.has(c)||a.push(c)})),this.documentOverlayCache.getOverlays(e,a).next((c=>{c.forEach(((u,m)=>{n.set(u,m)}))}))}computeViews(e,n,i,a){let c=ga();const u=Ah(),m=(function(){return Ah()})();return n.forEach(((g,_)=>{const x=i.get(_.key);a.has(_.key)&&(x===void 0||x.mutation instanceof Uo)?c=c.insert(_.key,_):x!==void 0?(u.set(_.key,x.mutation.getFieldMask()),Nh(x.mutation,_,x.mutation.getFieldMask(),Ct.now())):u.set(_.key,Ji.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((_,x)=>u.set(_,x))),n.forEach(((_,x)=>m.set(_,new cO(x,u.get(_)??null)))),m)))}recalculateAndSaveOverlays(e,n){const i=Ah();let a=new Zt(((u,m)=>u-m)),c=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const m of u)m.keys().forEach((g=>{const _=n.get(g);if(_===null)return;let x=i.get(g)||Ji.empty();x=m.applyToLocalView(_,x),i.set(g,x);const T=(a.get(m.batchId)||ut()).add(g);a=a.insert(m.batchId,T)}))})).next((()=>{const u=[],m=a.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),_=g.key,x=g.value,T=g2();x.forEach((A=>{if(!c.has(A)){const j=T2(n.get(A),i.get(A));j!==null&&T.set(A,j),c=c.add(A)}})),u.push(this.documentOverlayCache.saveOverlays(e,_,T))}return ye.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return(function(u){return Ve.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):h2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((c=>{const u=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-c.size):ye.resolve(xl());let m=Oh,g=c;return u.next((_=>ye.forEach(_,((x,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),c.get(x)?ye.resolve():this.remoteDocumentCache.getEntry(e,x).next((A=>{g=g.insert(x,A)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,g,_,ut()))).next((x=>({batchId:m,changes:p2(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ve(n)).next((i=>{let a=yh();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const c=n.collectionGroup;let u=yh();return this.indexManager.getCollectionParents(e,c).next((m=>ye.forEach(m,(g=>{const _=(function(T,A){return new lu(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,i,a).next((x=>{x.forEach(((T,A)=>{u=u.insert(T,A)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,c,a)))).next((u=>{c.forEach(((g,_)=>{const x=_.getKey();u.get(x)===null&&(u=u.insert(x,Kn.newInvalidDocument(x)))}));let m=yh();return u.forEach(((g,_)=>{const x=c.get(g);x!==void 0&&Nh(x.mutation,_,Ji.empty(),Ct.now()),Um(n,_)&&(m=m.insert(g,_))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ye.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:wr(a.createTime)}})(n)),ye.resolve()}getNamedQuery(e,n){return ye.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:eO(a.bundledQuery),readTime:wr(a.readTime)}})(n)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(){this.overlays=new Zt(Ve.comparator),this.qr=new Map}getOverlay(e,n){return ye.resolve(this.overlays.get(n))}getOverlays(e,n){const i=xl();return ye.forEach(n,(a=>this.getOverlay(e,a).next((c=>{c!==null&&i.set(a,c)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,c)=>{this.St(e,n,c)})),ye.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(i)),ye.resolve()}getOverlaysForCollection(e,n,i){const a=xl(),c=n.length+1,u=new Ve(n.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const g=m.getNext().value,_=g.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>i&&a.set(g.getKey(),g)}return ye.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let c=new Zt(((_,x)=>_-x));const u=this.overlays.getIterator();for(;u.hasNext();){const _=u.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>i){let x=c.get(_.largestBatchId);x===null&&(x=xl(),c=c.insert(_.largestBatchId,x)),x.set(_.getKey(),_)}}const m=xl(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,x)=>m.set(_,x))),!(m.size()>=a)););return ye.resolve(m)}St(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new PM(n,i));let c=this.qr.get(n);c===void 0&&(c=ut(),this.qr.set(n,c)),this.qr.set(n,c.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(){this.sessionToken=Bn.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(){this.Qr=new yn(jn.$r),this.Ur=new yn(jn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new jn(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new jn(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new Ve(new jt([])),i=new jn(n,e),a=new jn(n,e+1),c=[];return this.Ur.forEachInRange([i,a],(u=>{this.Gr(u),c.push(u.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ve(new jt([])),i=new jn(n,e),a=new jn(n,e+1);let c=ut();return this.Ur.forEachInRange([i,a],(u=>{c=c.add(u.key)})),c}containsKey(e){const n=new jn(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class jn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ve.comparator(e.key,n.key)||ct(e.Yr,n.Yr)}static Kr(e,n){return ct(e.Yr,n.Yr)||Ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new yn(jn.$r)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new RM(c,n,i,a);this.mutationQueue.push(u);for(const m of a)this.Zr=this.Zr.add(new jn(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ye.resolve(u)}lookupMutationBatch(e,n){return ye.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.ei(i),c=a<0?0:a;return ye.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?K0:this.tr-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new jn(n,0),a=new jn(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([i,a],(u=>{const m=this.Xr(u.Yr);c.push(m)})),ye.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new yn(ct);return n.forEach((a=>{const c=new jn(a,0),u=new jn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,u],(m=>{i=i.add(m.Yr)}))})),ye.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let c=i;Ve.isDocumentKey(c)||(c=c.child(""));const u=new jn(new Ve(c),0);let m=new yn(ct);return this.Zr.forEachWhile((g=>{const _=g.key.path;return!!i.isPrefixOf(_)&&(_.length===a&&(m=m.add(g.Yr)),!0)}),u),ye.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){_t(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ye.forEach(n.mutations,(a=>{const c=new jn(a.key,n.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new jn(n,0),a=this.Zr.firstAfterOrEqual(i);return ye.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.ri=e,this.docs=(function(){return new Zt(Ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),c=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ye.resolve(i?i.document.mutableCopy():Kn.newInvalidDocument(n))}getEntries(e,n){let i=ga();return n.forEach((a=>{const c=this.docs.get(a);i=i.insert(a,c?c.document.mutableCopy():Kn.newInvalidDocument(a))})),ye.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let c=ga();const u=n.path,m=new Ve(u.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:_,value:{document:x}}=g.getNext();if(!u.isPrefixOf(_.path))break;_.path.length>u.length+1||GL(qL(x),i)<=0||(a.has(x.key)||Um(n,x))&&(c=c.insert(x.key,x.mutableCopy()))}return ye.resolve(c)}getAllFromCollectionGroup(e,n,i,a){Ge(9500)}ii(e,n){return ye.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new gO(this)}getSize(e){return ye.resolve(this.size)}}class gO extends lO{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),ye.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.persistence=e,this.si=new Ml((n=>Q0(n)),X0),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.oi=0,this._i=new rv,this.targetCount=0,this.ai=$c.ur()}forEachTarget(e,n){return this.si.forEach(((i,a)=>n(a))),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),ye.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new $c(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ye.resolve()}updateTargetData(e,n){return this.Pr(n),ye.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,n,i){let a=0;const c=[];return this.si.forEach(((u,m)=>{m.sequenceNumber<=n&&i.get(m.targetId)===null&&(this.si.delete(u),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)})),ye.waitFor(c).next((()=>a))}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return ye.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),ye.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach((u=>{c.push(a.markPotentiallyOrphaned(e,u))})),ye.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ye.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return ye.resolve(i)}containsKey(e,n){return ye.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,n){this.ui={},this.overlays={},this.ci=new Mm(0),this.li=!1,this.li=!0,this.hi=new fO,this.referenceDelegate=e(this),this.Pi=new yO(this),this.indexManager=new tO,this.remoteDocumentCache=(function(a){return new pO(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new JM(n),this.Ii=new hO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new mO(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){Pe("MemoryPersistence","Starting transaction:",e);const a=new vO(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((c=>this.referenceDelegate.di(a).next((()=>c)))).toPromise().then((c=>(a.raiseOnCommittedEvent(),c)))}Ai(e,n){return ye.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class vO extends WL{constructor(e){super(),this.currentSequenceNumber=e}}class av{constructor(e){this.persistence=e,this.Ri=new rv,this.Vi=null}static mi(e){return new av(e)}get fi(){if(this.Vi)return this.Vi;throw Ge(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),ye.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),ye.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ye.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((c=>this.fi.add(c.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.fi,(i=>{const a=Ve.fromPath(i);return this.gi(e,a).next((c=>{c||n.removeEntry(a,$e.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ye.or([()=>ye.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class vm{constructor(e,n){this.persistence=e,this.pi=new Ml((i=>YL(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=oO(this,n)}static mi(e,n){return new vm(e,n)}Ei(){}di(e){return ye.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return ye.forEach(this.pi,((i,a)=>this.br(e,i,a).next((c=>c?ye.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((m=>{m||(i++,c.removeEntry(u,$e.min()))})))).next((()=>c.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ye.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ye.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ye.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ye.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ff(e.data.value)),n}br(e,n,i){return ye.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ye.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=a}static As(e,n){let i=ut(),a=ut();for(const c of n.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new ov(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Kj()?8:KL(Qn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const c={result:null};return this.ys(e,n).next((u=>{c.result=u})).next((()=>{if(!c.result)return this.ws(e,n,a,i).next((u=>{c.result=u}))})).next((()=>{if(c.result)return;const u=new _O;return this.Ss(e,n,u).next((m=>{if(c.result=m,this.Vs)return this.bs(e,n,u,m.size)}))})).next((()=>c.result))}bs(e,n,i,a){return i.documentReadCount<this.fs?(Ac()<=lt.DEBUG&&Pe("QueryEngine","SDK will not create cache indexes for query:",Nc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ye.resolve()):(Ac()<=lt.DEBUG&&Pe("QueryEngine","Query:",Nc(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(Ac()<=lt.DEBUG&&Pe("QueryEngine","The SDK decides to create cache indexes for query:",Nc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(n))):ye.resolve())}ys(e,n){if(pT(n))return ye.resolve(null);let i=br(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Hy(n,null,"F"),i=br(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((c=>{const u=ut(...c);return this.ps.getDocuments(e,u).next((m=>this.indexManager.getMinOffset(e,i).next((g=>{const _=this.Ds(n,m);return this.Cs(n,_,u,g.readTime)?this.ys(e,Hy(n,null,"F")):this.vs(e,_,n,g)}))))})))))}ws(e,n,i,a){return pT(n)||a.isEqual($e.min())?ye.resolve(null):this.ps.getDocuments(e,i).next((c=>{const u=this.Ds(n,c);return this.Cs(n,u,i,a)?ye.resolve(null):(Ac()<=lt.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Nc(n)),this.vs(e,u,n,HL(a,Oh)).next((m=>m)))}))}Ds(e,n){let i=new yn(f2(e));return n.forEach(((a,c)=>{Um(e,c)&&(i=i.add(c))})),i}Cs(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Ss(e,n,i){return Ac()<=lt.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",Nc(n)),this.ps.getDocumentsMatchingQuery(e,n,Co.min(),i)}vs(e,n,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((c=>(n.forEach((u=>{c=c.insert(u.key,u)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="LocalStore",bO=3e8;class wO{constructor(e,n,i,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Zt(ct),this.xs=new Ml((c=>Q0(c)),X0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function TO(t,e,n,i){return new wO(t,e,n,i)}async function V2(t,e){const n=Ye(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((c=>(a=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((c=>{const u=[],m=[];let g=ut();for(const _ of a){u.push(_.batchId);for(const x of _.mutations)g=g.add(x.key)}for(const _ of c){m.push(_.batchId);for(const x of _.mutations)g=g.add(x.key)}return n.localDocuments.getDocuments(i,g).next((_=>({Ls:_,removedBatchIds:u,addedBatchIds:m})))}))}))}function EO(t,e){const n=Ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,_,x){const T=_.batch,A=T.keys();let j=ye.resolve();return A.forEach((I=>{j=j.next((()=>x.getEntry(g,I))).next((z=>{const k=_.docVersions.get(I);_t(k!==null,48541),z.version.compareTo(k)<0&&(T.applyToRemoteDocument(z,_),z.isValidDocument()&&(z.setReadTime(_.commitVersion),x.addEntry(z)))}))})),j.next((()=>m.mutationQueue.removeMutationBatch(g,T)))})(n,i,e,c).next((()=>c.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(m){let g=ut();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(g=g.add(m.batch.mutations[_].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function U2(t){const e=Ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function SO(t,e){const n=Ye(t),i=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const m=[];e.targetChanges.forEach(((x,T)=>{const A=a.get(T);if(!A)return;m.push(n.Pi.removeMatchingKeys(c,x.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(c,x.addedDocuments,T))));let j=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(T)!==null?j=j.withResumeToken(Bn.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):x.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(x.resumeToken,i)),a=a.insert(T,j),(function(z,k,$){return z.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=bO?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(A,j,x)&&m.push(n.Pi.updateTargetData(c,j))}));let g=ga(),_=ut();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,x))})),m.push(AO(c,u,e.documentUpdates).next((x=>{g=x.ks,_=x.qs}))),!i.isEqual($e.min())){const x=n.Pi.getLastRemoteSnapshotVersion(c).next((T=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,i)));m.push(x)}return ye.waitFor(m).next((()=>u.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,_))).next((()=>g))})).then((c=>(n.Ms=a,c)))}function AO(t,e,n){let i=ut(),a=ut();return n.forEach((c=>i=i.add(c))),e.getEntries(t,i).next((c=>{let u=ga();return n.forEach(((m,g)=>{const _=c.get(m);g.isFoundDocument()!==_.isFoundDocument()&&(a=a.add(m)),g.isNoDocument()&&g.version.isEqual($e.min())?(e.removeEntry(m,g.readTime),u=u.insert(m,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),u=u.insert(m,g)):Pe(lv,"Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",g.version)})),{ks:u,qs:a}}))}function NO(t,e){const n=Ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=K0),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function CO(t,e){const n=Ye(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.Pi.getTargetData(i,e).next((c=>c?(a=c,ye.resolve(a)):n.Pi.allocateTargetId(i).next((u=>(a=new _o(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function Ky(t,e,n){const i=Ye(t),a=i.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",c,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!ou(u))throw u;Pe(lv,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function CT(t,e,n){const i=Ye(t);let a=$e.min(),c=ut();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(g,_,x){const T=Ye(g),A=T.xs.get(x);return A!==void 0?ye.resolve(T.Ms.get(A)):T.Pi.getTargetData(_,x)})(i,u,br(e)).next((m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,m.targetId).next((g=>{c=g}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,n?a:$e.min(),n?c:ut()))).next((m=>(RO(i,pM(e),m),{documents:m,Qs:c})))))}function RO(t,e,n){let i=t.Os.get(e)||$e.min();n.forEach(((a,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)})),t.Os.set(e,i)}class RT{constructor(){this.activeTargetIds=bM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PO{constructor(){this.Mo=new RT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new RT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="ConnectivityMonitor";class jT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Pe(PT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Pe(PT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cf=null;function $y(){return Cf===null?Cf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cf++,"0x"+Cf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy="RestConnection",IO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===mm?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,n,i,a,c){const u=$y(),m=this.zo(e,n.toUriEncodedString());Pe(iy,`Sending RPC '${e}' ${u}:`,m,i);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,a,c);const{host:_}=new URL(m),x=nu(_);return this.Jo(e,m,g,i,x).then((T=>(Pe(iy,`Received RPC '${e}' ${u}: `,T),T)),(T=>{throw qc(iy,`RPC '${e}' ${u} failed with error: `,T,"url: ",m,"request:",i),T}))}Ho(e,n,i,a,c,u){return this.Go(e,n,i,a,c)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ru})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,c)=>e[c]=a)),i&&i.headers.forEach(((a,c)=>e[c]=a))}zo(e,n){const i=IO[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zn="WebChannelConnection";class MO extends DO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,a,c){const u=$y();return new Promise(((m,g)=>{const _=new BS;_.setWithCredentials(!0),_.listenOnce(zS.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case zf.NO_ERROR:const T=_.getResponseJson();Pe(Zn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),m(T);break;case zf.TIMEOUT:Pe(Zn,`RPC '${e}' ${u} timed out`),g(new Ne(pe.DEADLINE_EXCEEDED,"Request time out"));break;case zf.HTTP_ERROR:const A=_.getStatus();if(Pe(Zn,`RPC '${e}' ${u} failed with status:`,A,"response text:",_.getResponseText()),A>0){let j=_.getResponseJson();Array.isArray(j)&&(j=j[0]);const I=j?.error;if(I&&I.status&&I.message){const z=(function($){const Y=$.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(Y)>=0?Y:pe.UNKNOWN})(I.status);g(new Ne(z,I.message))}else g(new Ne(pe.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new Ne(pe.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{l_:e,streamId:u,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{Pe(Zn,`RPC '${e}' ${u} completed.`)}}));const x=JSON.stringify(a);Pe(Zn,`RPC '${e}' ${u} sending request:`,a),_.send(n,"POST",x,i,15)}))}T_(e,n,i){const a=$y(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=qS(),m=HS(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,i),g.encodeInitMessageHeaders=!0;const x=c.join("");Pe(Zn,`Creating RPC '${e}' stream ${a}: ${x}`,g);const T=u.createWebChannel(x,g);this.I_(T);let A=!1,j=!1;const I=new LO({Yo:k=>{j?Pe(Zn,`Not sending because RPC '${e}' stream ${a} is closed:`,k):(A||(Pe(Zn,`Opening RPC '${e}' stream ${a} transport.`),T.open(),A=!0),Pe(Zn,`RPC '${e}' stream ${a} sending:`,k),T.send(k))},Zo:()=>T.close()}),z=(k,$,Y)=>{k.listen($,(Q=>{try{Y(Q)}catch(ve){setTimeout((()=>{throw ve}),0)}}))};return z(T,gh.EventType.OPEN,(()=>{j||(Pe(Zn,`RPC '${e}' stream ${a} transport opened.`),I.o_())})),z(T,gh.EventType.CLOSE,(()=>{j||(j=!0,Pe(Zn,`RPC '${e}' stream ${a} transport closed`),I.a_(),this.E_(T))})),z(T,gh.EventType.ERROR,(k=>{j||(j=!0,qc(Zn,`RPC '${e}' stream ${a} transport errored. Name:`,k.name,"Message:",k.message),I.a_(new Ne(pe.UNAVAILABLE,"The operation could not be completed")))})),z(T,gh.EventType.MESSAGE,(k=>{if(!j){const $=k.data[0];_t(!!$,16349);const Y=$,Q=Y?.error||Y[0]?.error;if(Q){Pe(Zn,`RPC '${e}' stream ${a} received error:`,Q);const ve=Q.status;let he=(function(O){const U=on[O];if(U!==void 0)return A2(U)})(ve),we=Q.message;he===void 0&&(he=pe.INTERNAL,we="Unknown error status: "+ve+" with message "+Q.message),j=!0,I.a_(new Ne(he,we)),T.close()}else Pe(Zn,`RPC '${e}' stream ${a} received:`,$),I.u_($)}})),z(m,FS.STAT_EVENT,(k=>{k.stat===Oy.PROXY?Pe(Zn,`RPC '${e}' stream ${a} detected buffering proxy`):k.stat===Oy.NOPROXY&&Pe(Zn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function sy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(t){return new UM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,n,i=1e3,a=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=a,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&Pe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="PersistentStream";class z2{constructor(e,n,i,a,c,u,m,g){this.Mi=e,this.S_=i,this.b_=a,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new B2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===pe.RESOURCE_EXHAUSTED?(pa(n.toString()),pa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new Ne(pe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Pe(IT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Pe(IT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class OO extends z2{constructor(e,n,i,a,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,u),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=FM(this.serializer,e),i=(function(c){if(!("targetChange"in c))return $e.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?$e.min():u.readTime?wr(u.readTime):$e.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=Wy(this.serializer),n.addTarget=(function(c,u){let m;const g=u.target;if(m=zy(g)?{documents:GM(c,g)}:{query:ZM(c,g).ft},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=R2(c,u.resumeToken);const _=qy(c,u.expectedCount);_!==null&&(m.expectedCount=_)}else if(u.snapshotVersion.compareTo($e.min())>0){m.readTime=ym(c,u.snapshotVersion.toTimestamp());const _=qy(c,u.expectedCount);_!==null&&(m.expectedCount=_)}return m})(this.serializer,e);const i=KM(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=Wy(this.serializer),n.removeTarget=e,this.q_(n)}}class kO extends z2{constructor(e,n,i,a,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,u),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return _t(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_t(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_t(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=qM(e.writeResults,e.commitTime),i=wr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Wy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>HM(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{}class UO extends VO{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Ne(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Go(e,Gy(n,i),a,c,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ne(pe.UNKNOWN,c.toString())}))}Ho(e,n,i,a,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,m])=>this.connection.Ho(e,Gy(n,i),a,u,m,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ne(pe.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class BO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pa(n),this.aa=!1):Pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il="RemoteStore";class zO{constructor(e,n,i,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{Ol(this)&&(Pe(Il,"Restarting streams for network reachability change."),await(async function(g){const _=Ye(g);_.Ea.add(4),await od(_),_.Ra.set("Unknown"),_.Ea.delete(4),await qm(_)})(this))}))})),this.Ra=new BO(i,a)}}async function qm(t){if(Ol(t))for(const e of t.da)await e(!0)}async function od(t){for(const e of t.da)await e(!1)}function F2(t,e){const n=Ye(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),dv(n)?hv(n):cu(n).O_()&&uv(n,e))}function cv(t,e){const n=Ye(t),i=cu(n);n.Ia.delete(e),i.O_()&&H2(n,e),n.Ia.size===0&&(i.O_()?i.L_():Ol(n)&&n.Ra.set("Unknown"))}function uv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}cu(t).Y_(e)}function H2(t,e){t.Va.Ue(e),cu(t).Z_(e)}function hv(t){t.Va=new MM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),cu(t).start(),t.Ra.ua()}function dv(t){return Ol(t)&&!cu(t).x_()&&t.Ia.size>0}function Ol(t){return Ye(t).Ea.size===0}function q2(t){t.Va=void 0}async function FO(t){t.Ra.set("Online")}async function HO(t){t.Ia.forEach(((e,n)=>{uv(t,e)}))}async function qO(t,e){q2(t),dv(t)?(t.Ra.ha(e),hv(t)):t.Ra.set("Unknown")}async function GO(t,e,n){if(t.Ra.set("Online"),e instanceof C2&&e.state===2&&e.cause)try{await(async function(a,c){const u=c.cause;for(const m of c.targetIds)a.Ia.has(m)&&(await a.remoteSyncer.rejectListen(m,u),a.Ia.delete(m),a.Va.removeTarget(m))})(t,e)}catch(i){Pe(Il,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await _m(t,i)}else if(e instanceof Gf?t.Va.Ze(e):e instanceof N2?t.Va.st(e):t.Va.tt(e),!n.isEqual($e.min()))try{const i=await U2(t.localStore);n.compareTo(i)>=0&&await(function(c,u){const m=c.Va.Tt(u);return m.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const x=c.Ia.get(_);x&&c.Ia.set(_,x.withResumeToken(g.resumeToken,u))}})),m.targetMismatches.forEach(((g,_)=>{const x=c.Ia.get(g);if(!x)return;c.Ia.set(g,x.withResumeToken(Bn.EMPTY_BYTE_STRING,x.snapshotVersion)),H2(c,g);const T=new _o(x.target,g,_,x.sequenceNumber);uv(c,T)})),c.remoteSyncer.applyRemoteEvent(m)})(t,n)}catch(i){Pe(Il,"Failed to raise snapshot:",i),await _m(t,i)}}async function _m(t,e,n){if(!ou(e))throw e;t.Ea.add(1),await od(t),t.Ra.set("Offline"),n||(n=()=>U2(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Pe(Il,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await qm(t)}))}function G2(t,e){return e().catch((n=>_m(t,n,e)))}async function Gm(t){const e=Ye(t),n=Io(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:K0;for(;ZO(e);)try{const a=await NO(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,WO(e,a)}catch(a){await _m(e,a)}Z2(e)&&W2(e)}function ZO(t){return Ol(t)&&t.Ta.length<10}function WO(t,e){t.Ta.push(e);const n=Io(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Z2(t){return Ol(t)&&!Io(t).x_()&&t.Ta.length>0}function W2(t){Io(t).start()}async function KO(t){Io(t).ra()}async function $O(t){const e=Io(t);for(const n of t.Ta)e.ea(n.mutations)}async function YO(t,e,n){const i=t.Ta.shift(),a=nv.from(i,e,n);await G2(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Gm(t)}async function QO(t,e){e&&Io(t).X_&&await(async function(i,a){if((function(u){return IM(u)&&u!==pe.ABORTED})(a.code)){const c=i.Ta.shift();Io(i).B_(),await G2(i,(()=>i.remoteSyncer.rejectFailedWrite(c.batchId,a))),await Gm(i)}})(t,e),Z2(t)&&W2(t)}async function DT(t,e){const n=Ye(t);n.asyncQueue.verifyOperationInProgress(),Pe(Il,"RemoteStore received new credentials");const i=Ol(n);n.Ea.add(3),await od(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await qm(n)}async function XO(t,e){const n=Ye(t);e?(n.Ea.delete(2),await qm(n)):e||(n.Ea.add(2),await od(n),n.Ra.set("Unknown"))}function cu(t){return t.ma||(t.ma=(function(n,i,a){const c=Ye(n);return c.sa(),new OO(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)})(t.datastore,t.asyncQueue,{Xo:FO.bind(null,t),t_:HO.bind(null,t),r_:qO.bind(null,t),H_:GO.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),dv(t)?hv(t):t.Ra.set("Unknown")):(await t.ma.stop(),q2(t))}))),t.ma}function Io(t){return t.fa||(t.fa=(function(n,i,a){const c=Ye(n);return c.sa(),new kO(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:KO.bind(null,t),r_:QO.bind(null,t),ta:$O.bind(null,t),na:YO.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Gm(t)):(await t.fa.stop(),t.Ta.length>0&&(Pe(Il,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n,i,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=c,this.deferred=new ha,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,c){const u=Date.now()+i,m=new fv(e,n,u,a,c);return m.start(i),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mv(t,e){if(pa("AsyncQueue",`${e}: ${t}`),ou(t))return new Ne(pe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{static emptySet(e){return new Uc(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ve.comparator(n.key,i.key):(n,i)=>Ve.comparator(n.key,i.key),this.keyedMap=yh(),this.sortedSet=new Zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Uc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=i.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Uc;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(){this.ga=new Zt(Ve.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ge(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Yc{constructor(e,n,i,a,c,u,m,g,_){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,n,i,a,c){const u=[];return n.forEach((m=>{u.push({type:0,doc:m})})),new Yc(e,n,Uc.emptySet(n),u,i,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ek{constructor(){this.queries=MT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Ye(n),c=a.queries;a.queries=MT(),c.forEach(((u,m)=>{for(const g of m.Sa)g.onError(i)}))})(this,new Ne(pe.ABORTED,"Firestore shutting down"))}}function MT(){return new Ml((t=>d2(t)),Vm)}async function K2(t,e){const n=Ye(t);let i=3;const a=e.query;let c=n.queries.get(a);c?!c.ba()&&e.Da()&&(i=2):(c=new JO,i=e.Da()?0:1);try{switch(i){case 0:c.wa=await n.onListen(a,!0);break;case 1:c.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const m=mv(u,`Initialization of query '${Nc(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&pv(n)}async function $2(t,e){const n=Ye(t),i=e.query;let a=3;const c=n.queries.get(i);if(c){const u=c.Sa.indexOf(e);u>=0&&(c.Sa.splice(u,1),c.Sa.length===0?a=e.Da()?0:1:!c.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function tk(t,e){const n=Ye(t);let i=!1;for(const a of e){const c=a.query,u=n.queries.get(c);if(u){for(const m of u.Sa)m.Fa(a)&&(i=!0);u.wa=a}}i&&pv(n)}function nk(t,e,n){const i=Ye(t),a=i.queries.get(e);if(a)for(const c of a.Sa)c.onError(n);i.queries.delete(e)}function pv(t){t.Ca.forEach((e=>{e.next()}))}var Yy,OT;(OT=Yy||(Yy={})).Ma="default",OT.Cache="cache";class Y2{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Yc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Yc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Yy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.key=e}}class X2{constructor(e){this.key=e}}class ik{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ut(),this.mutatedKeys=ut(),this.eu=f2(e),this.tu=new Uc(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new LT,a=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,u=a,m=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,_=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((x,T)=>{const A=a.get(x),j=Um(this.query,T)?T:null,I=!!A&&this.mutatedKeys.has(A.key),z=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let k=!1;A&&j?A.data.isEqual(j.data)?I!==z&&(i.track({type:3,doc:j}),k=!0):this.su(A,j)||(i.track({type:2,doc:j}),k=!0,(g&&this.eu(j,g)>0||_&&this.eu(j,_)<0)&&(m=!0)):!A&&j?(i.track({type:0,doc:j}),k=!0):A&&!j&&(i.track({type:1,doc:A}),k=!0,(g||_)&&(m=!0)),k&&(j?(u=u.add(j),c=z?c.add(x):c.delete(x)):(u=u.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const x=this.query.limitType==="F"?u.last():u.first();u=u.delete(x.key),c=c.delete(x.key),i.track({type:1,doc:x})}return{tu:u,iu:i,Cs:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((x,T)=>(function(j,I){const z=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{Rt:k})}};return z(j)-z(I)})(x.type,T.type)||this.eu(x.doc,T.doc))),this.ou(i),a=a??!1;const m=n&&!a?this._u():[],g=this.Xa.size===0&&this.current&&!a?1:0,_=g!==this.Za;return this.Za=g,u.length!==0||_?{snapshot:new Yc(this.query,e.tu,c,u,e.mutatedKeys,g===0,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new LT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ut(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new X2(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new Q2(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=ut();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Yc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const gv="SyncEngine";class sk{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class rk{constructor(e){this.key=e,this.hu=!1}}class ak{constructor(e,n,i,a,c,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ml((m=>d2(m)),Vm),this.Iu=new Map,this.Eu=new Set,this.du=new Zt(Ve.comparator),this.Au=new Map,this.Ru=new rv,this.Vu={},this.mu=new Map,this.fu=$c.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ok(t,e,n=!0){const i=sA(t);let a;const c=i.Tu.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.lu()):a=await J2(i,e,n,!0),a}async function lk(t,e){const n=sA(t);await J2(n,e,!0,!1)}async function J2(t,e,n,i){const a=await CO(t.localStore,br(e)),c=a.targetId,u=t.sharedClientState.addLocalQueryTarget(c,n);let m;return i&&(m=await ck(t,e,c,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&F2(t.remoteStore,a),m}async function ck(t,e,n,i,a){t.pu=(T,A,j)=>(async function(z,k,$,Y){let Q=k.view.ru($);Q.Cs&&(Q=await CT(z.localStore,k.query,!1).then((({documents:F})=>k.view.ru(F,Q))));const ve=Y&&Y.targetChanges.get(k.targetId),he=Y&&Y.targetMismatches.get(k.targetId)!=null,we=k.view.applyChanges(Q,z.isPrimaryClient,ve,he);return VT(z,k.targetId,we.au),we.snapshot})(t,T,A,j);const c=await CT(t.localStore,e,!0),u=new ik(e,c.Qs),m=u.ru(c.documents),g=ad.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),_=u.applyChanges(m,t.isPrimaryClient,g);VT(t,n,_.au);const x=new sk(e,n,u);return t.Tu.set(e,x),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),_.snapshot}async function uk(t,e,n){const i=Ye(t),a=i.Tu.get(e),c=i.Iu.get(a.targetId);if(c.length>1)return i.Iu.set(a.targetId,c.filter((u=>!Vm(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Ky(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&cv(i.remoteStore,a.targetId),Qy(i,a.targetId)})).catch(au)):(Qy(i,a.targetId),await Ky(i.localStore,a.targetId,!0))}async function hk(t,e){const n=Ye(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),cv(n.remoteStore,i.targetId))}async function dk(t,e,n){const i=_k(t);try{const a=await(function(u,m){const g=Ye(u),_=Ct.now(),x=m.reduce(((j,I)=>j.add(I.key)),ut());let T,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let I=ga(),z=ut();return g.Ns.getEntries(j,x).next((k=>{I=k,I.forEach((($,Y)=>{Y.isValidDocument()||(z=z.add($))}))})).next((()=>g.localDocuments.getOverlayedDocuments(j,I))).next((k=>{T=k;const $=[];for(const Y of m){const Q=NM(Y,T.get(Y.key).overlayedDocument);Q!=null&&$.push(new Uo(Y.key,Q,s2(Q.value.mapValue),Ws.exists(!0)))}return g.mutationQueue.addMutationBatch(j,_,$,m)})).next((k=>{A=k;const $=k.applyToLocalDocumentSet(T,z);return g.documentOverlayCache.saveOverlays(j,k.batchId,$)}))})).then((()=>({batchId:A.batchId,changes:p2(T)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(u,m,g){let _=u.Vu[u.currentUser.toKey()];_||(_=new Zt(ct)),_=_.insert(m,g),u.Vu[u.currentUser.toKey()]=_})(i,a.batchId,n),await ld(i,a.changes),await Gm(i.remoteStore)}catch(a){const c=mv(a,"Failed to persist write");n.reject(c)}}async function eA(t,e){const n=Ye(t);try{const i=await SO(n.localStore,e);e.targetChanges.forEach(((a,c)=>{const u=n.Au.get(c);u&&(_t(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?_t(u.hu,14607):a.removedDocuments.size>0&&(_t(u.hu,42227),u.hu=!1))})),await ld(n,i,e)}catch(i){await au(i)}}function kT(t,e,n){const i=Ye(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((c,u)=>{const m=u.view.va(e);m.snapshot&&a.push(m.snapshot)})),(function(u,m){const g=Ye(u);g.onlineState=m;let _=!1;g.queries.forEach(((x,T)=>{for(const A of T.Sa)A.va(m)&&(_=!0)})),_&&pv(g)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function fk(t,e,n){const i=Ye(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),c=a&&a.key;if(c){let u=new Zt(Ve.comparator);u=u.insert(c,Kn.newNoDocument(c,$e.min()));const m=ut().add(c),g=new Fm($e.min(),new Map,new Zt(ct),u,m);await eA(i,g),i.du=i.du.remove(c),i.Au.delete(e),yv(i)}else await Ky(i.localStore,e,!1).then((()=>Qy(i,e,n))).catch(au)}async function mk(t,e){const n=Ye(t),i=e.batch.batchId;try{const a=await EO(n.localStore,e);nA(n,i,null),tA(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await ld(n,a)}catch(a){await au(a)}}async function pk(t,e,n){const i=Ye(t);try{const a=await(function(u,m){const g=Ye(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let x;return g.mutationQueue.lookupMutationBatch(_,m).next((T=>(_t(T!==null,37113),x=T.keys(),g.mutationQueue.removeMutationBatch(_,T)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,x,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,x))).next((()=>g.localDocuments.getDocuments(_,x)))}))})(i.localStore,e);nA(i,e,n),tA(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await ld(i,a)}catch(a){await au(a)}}function tA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function nA(t,e,n){const i=Ye(t);let a=i.Vu[i.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function Qy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||iA(t,i)}))}function iA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(cv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),yv(t))}function VT(t,e,n){for(const i of n)i instanceof Q2?(t.Ru.addReference(i.key,e),gk(t,i)):i instanceof X2?(Pe(gv,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||iA(t,i.key)):Ge(19791,{wu:i})}function gk(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(Pe(gv,"New document in limbo: "+n),t.Eu.add(i),yv(t))}function yv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ve(jt.fromString(e)),i=t.fu.next();t.Au.set(i,new rk(n)),t.du=t.du.insert(n,i),F2(t.remoteStore,new _o(br(J0(n.path)),i,"TargetPurposeLimboResolution",Mm.ce))}}async function ld(t,e,n){const i=Ye(t),a=[],c=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((m,g)=>{u.push(i.pu(g,e,n).then((_=>{if((_||n)&&i.isPrimaryClient){const x=_?!_.fromCache:n?.targetChanges.get(g.targetId)?.current;i.sharedClientState.updateQueryState(g.targetId,x?"current":"not-current")}if(_){a.push(_);const x=ov.As(g.targetId,_);c.push(x)}})))})),await Promise.all(u),i.Pu.H_(a),await(async function(g,_){const x=Ye(g);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ye.forEach(_,(A=>ye.forEach(A.Es,(j=>x.persistence.referenceDelegate.addReference(T,A.targetId,j))).next((()=>ye.forEach(A.ds,(j=>x.persistence.referenceDelegate.removeReference(T,A.targetId,j)))))))))}catch(T){if(!ou(T))throw T;Pe(lv,"Failed to update sequence numbers: "+T)}for(const T of _){const A=T.targetId;if(!T.fromCache){const j=x.Ms.get(A),I=j.snapshotVersion,z=j.withLastLimboFreeSnapshotVersion(I);x.Ms=x.Ms.insert(A,z)}}})(i.localStore,c))}async function yk(t,e){const n=Ye(t);if(!n.currentUser.isEqual(e)){Pe(gv,"User change. New user:",e.toKey());const i=await V2(n.localStore,e);n.currentUser=e,(function(c,u){c.mu.forEach((m=>{m.forEach((g=>{g.reject(new Ne(pe.CANCELLED,u))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await ld(n,i.Ls)}}function vk(t,e){const n=Ye(t),i=n.Au.get(e);if(i&&i.hu)return ut().add(i.key);{let a=ut();const c=n.Iu.get(e);if(!c)return a;for(const u of c){const m=n.Tu.get(u);a=a.unionWith(m.view.nu)}return a}}function sA(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=eA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fk.bind(null,e),e.Pu.H_=tk.bind(null,e.eventManager),e.Pu.yu=nk.bind(null,e.eventManager),e}function _k(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pk.bind(null,e),e}class xm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return TO(this.persistence,new xO,e.initialUser,this.serializer)}Cu(e){return new k2(av.mi,this.serializer)}Du(e){return new PO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xm.provider={build:()=>new xm};class xk extends xm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){_t(this.persistence.referenceDelegate instanceof vm,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new rO(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ci.withCacheSize(this.cacheSizeBytes):Ci.DEFAULT;return new k2((i=>vm.mi(i,n)),this.serializer)}}class Xy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>kT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=yk.bind(null,this.syncEngine),await XO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ek})()}createDatastore(e){const n=Hm(e.databaseInfo.databaseId),i=(function(c){return new MO(c)})(e.databaseInfo);return(function(c,u,m,g){return new UO(c,u,m,g)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,c,u,m){return new zO(i,a,c,u,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>kT(this.syncEngine,n,0)),(function(){return jT.v()?new jT:new jO})())}createSyncEngine(e,n){return(function(a,c,u,m,g,_,x){const T=new ak(a,c,u,m,g,_);return x&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Ye(n);Pe(Il,"RemoteStore shutting down."),i.Ea.add(5),await od(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Xy.provider={build:()=>new Xy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):pa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="FirestoreClient";class bk{constructor(e,n,i,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=Wn.UNAUTHENTICATED,this.clientId=W0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,(async u=>{Pe(Do,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(Pe(Do,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ha;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=mv(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function ry(t,e){t.asyncQueue.verifyOperationInProgress(),Pe(Do,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await V2(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function UT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await wk(t);Pe(Do,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>DT(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>DT(e.remoteStore,a))),t._onlineComponents=e}async function wk(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Pe(Do,"Using user provided OfflineComponentProvider");try{await ry(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===pe.FAILED_PRECONDITION||a.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;qc("Error using user provided cache. Falling back to memory cache: "+n),await ry(t,new xm)}}else Pe(Do,"Using default OfflineComponentProvider"),await ry(t,new xk(void 0));return t._offlineComponents}async function aA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Pe(Do,"Using user provided OnlineComponentProvider"),await UT(t,t._uninitializedComponentsProvider._online)):(Pe(Do,"Using default OnlineComponentProvider"),await UT(t,new Xy))),t._onlineComponents}function Tk(t){return aA(t).then((e=>e.syncEngine))}async function oA(t){const e=await aA(t),n=e.eventManager;return n.onListen=ok.bind(null,e.syncEngine),n.onUnlisten=uk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=hk.bind(null,e.syncEngine),n}function Ek(t,e,n={}){const i=new ha;return t.asyncQueue.enqueueAndForget((async()=>(function(c,u,m,g,_){const x=new rA({next:A=>{x.Nu(),u.enqueueAndForget((()=>$2(c,T)));const j=A.docs.has(m);!j&&A.fromCache?_.reject(new Ne(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&A.fromCache&&g&&g.source==="server"?_.reject(new Ne(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(A)},error:A=>_.reject(A)}),T=new Y2(J0(m.path),x,{includeMetadataChanges:!0,qa:!0});return K2(c,T)})(await oA(t),t.asyncQueue,e,n,i))),i.promise}function Sk(t,e,n={}){const i=new ha;return t.asyncQueue.enqueueAndForget((async()=>(function(c,u,m,g,_){const x=new rA({next:A=>{x.Nu(),u.enqueueAndForget((()=>$2(c,T))),A.fromCache&&g.source==="server"?_.reject(new Ne(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(A)},error:A=>_.reject(A)}),T=new Y2(m,x,{includeMetadataChanges:!0,qa:!0});return K2(c,T)})(await oA(t),t.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="firestore.googleapis.com",zT=!0;class FT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cA,this.ssl=zT}else this.host=e.host,this.ssl=e.ssl??zT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=O2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iO)throw new Ne(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lA(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ne(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ne(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ne(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zm{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new IL;switch(i.type){case"firstParty":return new OL(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ne(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=BT.get(n);i&&(Pe("ComponentProvider","Removing Datastore"),BT.delete(n),i.terminate())})(this),Promise.resolve()}}function Ak(t,e,n,i={}){t=Nr(t,Zm);const a=nu(e),c=t._getSettings(),u={...c,emulatorOptions:t._getEmulatorOptions()},m=`${e}:${n}`;a&&($E(`https://${m}`),YE("Firestore",!0)),c.host!==cA&&c.host!==m&&qc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:m,ssl:a,emulatorOptions:i};if(!No(g,u)&&(t._setSettings(g),i.mockUserToken)){let _,x;if(typeof i.mockUserToken=="string")_=i.mockUserToken,x=Wn.MOCK_USER;else{_=Uj(i.mockUserToken,t._app?.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new Ne(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Wn(T)}t._authCredentials=new DL(new ZS(_,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new kl(this.firestore,e,this._query)}}class sn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Eo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}toJSON(){return{type:sn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(sd(n,sn._jsonSchema))return new sn(e,i||null,new Ve(jt.fromString(n.referencePath)))}}sn._jsonSchemaVersion="firestore/documentReference/1.0",sn._jsonSchema={type:un("string",sn._jsonSchemaVersion),referencePath:un("string")};class Eo extends kl{constructor(e,n,i){super(e,n,J0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new Ve(e))}withConverter(e){return new Eo(this.firestore,e,this._path)}}function So(t,e,...n){if(t=vn(t),WS("collection","path",e),t instanceof Zm){const i=jt.fromString(e,...n);return tT(i),new Eo(t,null,i)}{if(!(t instanceof sn||t instanceof Eo))throw new Ne(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(jt.fromString(e,...n));return tT(i),new Eo(t.firestore,null,i)}}function Ao(t,e,...n){if(t=vn(t),arguments.length===1&&(e=W0.newId()),WS("doc","path",e),t instanceof Zm){const i=jt.fromString(e,...n);return eT(i),new sn(t,null,new Ve(i))}{if(!(t instanceof sn||t instanceof Eo))throw new Ne(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(jt.fromString(e,...n));return eT(i),new sn(t.firestore,t instanceof Eo?t.converter:null,new Ve(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="AsyncQueue";class qT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new B2(this,"async_queue_retry"),this._c=()=>{const i=sy();i&&Pe(HT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=sy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=sy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ha;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ou(e))throw e;Pe(HT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,pa("INTERNAL UNHANDLED ERROR: ",GT(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=fv.createAndSchedule(this,e,n,i,(c=>this.hc(c)));return this.tc.push(a),a}uc(){this.nc&&Ge(47125,{Pc:GT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function GT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class uu extends Zm{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new qT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qT(e),this._firestoreClient=void 0,await e}}}function uA(t,e){const n=typeof t=="object"?t:eS(),i=typeof t=="string"?t:mm,a=k0(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const c=kj("firestore");c&&Ak(a,...c)}return a}function vv(t){if(t._terminated)throw new Ne(pe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Nk(t),t._firestoreClient}function Nk(t){const e=t._freezeSettings(),n=(function(a,c,u,m){return new JL(a,c,u,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,lA(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new bk(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ws(Bn.fromBase64String(e))}catch(n){throw new Ne(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ws(Bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ws._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(sd(e,ws._jsonSchema))return ws.fromBase64String(e.bytes)}}ws._jsonSchemaVersion="firestore/bytes/1.0",ws._jsonSchema={type:un("string",ws._jsonSchemaVersion),bytes:un("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ne(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ne(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ne(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Tr._jsonSchemaVersion}}static fromJSON(e){if(sd(e,Tr._jsonSchema))return new Tr(e.latitude,e.longitude)}}Tr._jsonSchemaVersion="firestore/geoPoint/1.0",Tr._jsonSchema={type:un("string",Tr._jsonSchemaVersion),latitude:un("number"),longitude:un("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==a[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Er._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(sd(e,Er._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Er(e.vectorValues);throw new Ne(pe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Er._jsonSchemaVersion="firestore/vectorValue/1.0",Er._jsonSchema={type:un("string",Er._jsonSchemaVersion),vectorValues:un("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=/^__.*__$/;class Rk{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Uo(e,this.data,this.fieldMask,n,this.fieldTransforms):new rd(e,this.data,n,this.fieldTransforms)}}class hA{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Uo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function dA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge(40011,{Ac:t})}}class Km{constructor(e,n,i,a,c,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Km({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return bm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(dA(this.Ac)&&Ck.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Pk{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Hm(e)}Cc(e,n,i,a=!1){return new Km({Ac:e,methodName:n,Dc:i,path:Un.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $m(t){const e=t._freezeSettings(),n=Hm(t._databaseId);return new Pk(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fA(t,e,n,i,a,c={}){const u=t.Cc(c.merge||c.mergeFields?2:0,e,n,a);wv("Data must be an object, but it was:",u,i);const m=mA(i,u);let g,_;if(c.merge)g=new Ji(u.fieldMask),_=u.fieldTransforms;else if(c.mergeFields){const x=[];for(const T of c.mergeFields){const A=Jy(e,T,n);if(!u.contains(A))throw new Ne(pe.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);gA(x,A)||x.push(A)}g=new Ji(x),_=u.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,_=u.fieldTransforms;return new Rk(new Pi(m),g,_)}class Ym extends hu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ym}}function jk(t,e,n){return new Km({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class _v extends hu{_toFieldTransform(e){return new tv(e.path,new zh)}isEqual(e){return e instanceof _v}}class xv extends hu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=jk(this,e,!0),i=this.vc.map((c=>du(c,n))),a=new Kc(i);return new tv(e.path,a)}isEqual(e){return e instanceof xv&&No(this.vc,e.vc)}}class bv extends hu{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Hh(e.serializer,v2(e.serializer,this.Fc));return new tv(e.path,n)}isEqual(e){return e instanceof bv&&this.Fc===e.Fc}}function Ik(t,e,n,i){const a=t.Cc(1,e,n);wv("Data must be an object, but it was:",a,i);const c=[],u=Pi.empty();Vo(i,((g,_)=>{const x=Tv(e,g,n);_=vn(_);const T=a.yc(x);if(_ instanceof Ym)c.push(x);else{const A=du(_,T);A!=null&&(c.push(x),u.set(x,A))}}));const m=new Ji(c);return new hA(u,m,a.fieldTransforms)}function Dk(t,e,n,i,a,c){const u=t.Cc(1,e,n),m=[Jy(e,i,n)],g=[a];if(c.length%2!=0)throw new Ne(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<c.length;A+=2)m.push(Jy(e,c[A])),g.push(c[A+1]);const _=[],x=Pi.empty();for(let A=m.length-1;A>=0;--A)if(!gA(_,m[A])){const j=m[A];let I=g[A];I=vn(I);const z=u.yc(j);if(I instanceof Ym)_.push(j);else{const k=du(I,z);k!=null&&(_.push(j),x.set(j,k))}}const T=new Ji(_);return new hA(x,T,u.fieldTransforms)}function Lk(t,e,n,i=!1){return du(n,t.Cc(i?4:3,e))}function du(t,e){if(pA(t=vn(t)))return wv("Unsupported field value:",e,t),mA(t,e);if(t instanceof hu)return(function(i,a){if(!dA(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(a);c&&a.fieldTransforms.push(c)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const c=[];let u=0;for(const m of i){let g=du(m,a.wc(u));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),u++}return{arrayValue:{values:c}}})(t,e)}return(function(i,a){if((i=vn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return v2(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=Ct.fromDate(i);return{timestampValue:ym(a.serializer,c)}}if(i instanceof Ct){const c=new Ct(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ym(a.serializer,c)}}if(i instanceof Tr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ws)return{bytesValue:R2(a.serializer,i._byteString)};if(i instanceof sn){const c=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(c))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:sv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Er)return(function(u,m){return{mapValue:{fields:{[n2]:{stringValue:i2},[pm]:{arrayValue:{values:u.toArray().map((_=>{if(typeof _!="number")throw m.Sc("VectorValues must only contain numeric values.");return ev(m.serializer,_)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${Lm(i)}`)})(t,e)}function mA(t,e){const n={};return YS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vo(t,((i,a)=>{const c=du(a,e.mc(i));c!=null&&(n[i]=c)})),{mapValue:{fields:n}}}function pA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ct||t instanceof Tr||t instanceof ws||t instanceof sn||t instanceof hu||t instanceof Er)}function wv(t,e,n){if(!pA(n)||!KS(n)){const i=Lm(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function Jy(t,e,n){if((e=vn(e))instanceof Wm)return e._internalPath;if(typeof e=="string")return Tv(t,e);throw bm("Field path arguments must be of type string or ",t,!1,void 0,n)}const Mk=new RegExp("[~\\*/\\[\\]]");function Tv(t,e,n){if(e.search(Mk)>=0)throw bm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wm(...e.split("."))._internalPath}catch{throw bm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bm(t,e,n,i,a){const c=i&&!i.isEmpty(),u=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||u)&&(g+=" (found",c&&(g+=` in field ${i}`),u&&(g+=` in document ${a}`),g+=")"),new Ne(pe.INVALID_ARGUMENT,m+t+g)}function gA(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,n,i,a,c){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ok(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Qm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Ok extends yA{data(){return super.data()}}function Qm(t,e){return typeof e=="string"?Tv(t,e):e instanceof Wm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ne(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ev{}class vA extends Ev{}function _A(t,e,...n){let i=[];e instanceof Ev&&i.push(e),i=i.concat(n),(function(c){const u=c.filter((g=>g instanceof Sv)).length,m=c.filter((g=>g instanceof Xm)).length;if(u>1||u>0&&m>0)throw new Ne(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class Xm extends vA{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Xm(e,n,i)}_apply(e){const n=this._parse(e);return xA(e._query,n),new kl(e.firestore,e.converter,Fy(e._query,n))}_parse(e){const n=$m(e.firestore);return(function(c,u,m,g,_,x,T){let A;if(_.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new Ne(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){WT(T,x);const I=[];for(const z of T)I.push(ZT(g,c,z));A={arrayValue:{values:I}}}else A=ZT(g,c,T)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||WT(T,x),A=Lk(m,u,T,x==="in"||x==="not-in");return cn.create(_,x,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Vk(t,e,n){const i=e,a=Qm("where",t);return Xm._create(a,i,n)}class Sv extends Ev{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Sv(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:$s.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,c){let u=a;const m=c.getFlattenedFilters();for(const g of m)xA(u,g),u=Fy(u,g)})(e._query,n),new kl(e.firestore,e.converter,Fy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Av extends vA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Av(e,n)}_apply(e){const n=(function(a,c,u){if(a.startAt!==null)throw new Ne(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ne(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bh(c,u)})(e._query,this._field,this._direction);return new kl(e.firestore,e.converter,(function(a,c){const u=a.explicitOrderBy.concat([c]);return new lu(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function Uk(t,e="asc"){const n=e,i=Qm("orderBy",t);return Av._create(i,n)}function ZT(t,e,n){if(typeof(n=vn(n))=="string"){if(n==="")throw new Ne(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!h2(e)&&n.indexOf("/")!==-1)throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(jt.fromString(n));if(!Ve.isDocumentKey(i))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return cT(t,new Ve(i))}if(n instanceof sn)return cT(t,n._key);throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lm(n)}.`)}function WT(t,e){if(!Array.isArray(t)||t.length===0)throw new Ne(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xA(t,e){const n=(function(a,c){for(const u of a)for(const m of u.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ne(pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ne(pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Bk{convertValue(e,n="none"){switch(jo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Po(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Vo(e,((a,c)=>{i[a]=this.convertValue(c,n)})),i}convertVectorValue(e){const n=e.fields?.[pm].arrayValue?.values?.map((i=>nn(i.doubleValue)));return new Er(n)}convertGeoPoint(e){return new Tr(nn(e.latitude),nn(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=km(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(kh(e));default:return null}}convertTimestamp(e){const n=Ro(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=jt.fromString(e);_t(M2(i),9688,{name:e});const a=new Vh(i.get(1),i.get(3)),c=new Ve(i.popFirst(5));return a.isEqual(n)||pa(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class _h{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class El extends yA{constructor(e,n,i,a,c,u){super(e,n,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Qm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(pe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=El._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}El._jsonSchemaVersion="firestore/documentSnapshot/1.0",El._jsonSchema={type:un("string",El._jsonSchemaVersion),bundleSource:un("string","DocumentSnapshot"),bundleName:un("string"),bundle:un("string")};class Zf extends El{data(e={}){return super.data(e)}}class Bc{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new _h(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Zf(this._firestore,this._userDataWriter,i.key,i,new _h(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ne(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,c){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((m=>{const g=new Zf(a._firestore,a._userDataWriter,m.doc.key,m.doc,new _h(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const g=new Zf(a._firestore,a._userDataWriter,m.doc.key,m.doc,new _h(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let _=-1,x=-1;return m.type!==0&&(_=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),m.type!==1&&(u=u.add(m.doc),x=u.indexOf(m.doc.key)),{type:zk(m.type),doc:g,oldIndex:_,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(pe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Bc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=W0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),i.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),a.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function zk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(t){t=Nr(t,sn);const e=Nr(t.firestore,uu);return Ek(vv(e),t._key).then((n=>Hk(e,t,n)))}Bc._jsonSchemaVersion="firestore/querySnapshot/1.0",Bc._jsonSchema={type:un("string",Bc._jsonSchemaVersion),bundleSource:un("string","QuerySnapshot"),bundleName:un("string"),bundle:un("string")};class wA extends Bk{constructor(e){super(),this.firestore=e}convertBytes(e){return new ws(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function Wf(t){t=Nr(t,kl);const e=Nr(t.firestore,uu),n=vv(e),i=new wA(e);return kk(t._query),Sk(n,t._query).then((a=>new Bc(e,i,t,a)))}function Fk(t,e,n){t=Nr(t,sn);const i=Nr(t.firestore,uu),a=bA(t.converter,e);return Cv(i,[fA($m(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Ws.none())])}function ay(t,e,n,...i){t=Nr(t,sn);const a=Nr(t.firestore,uu),c=$m(a);let u;return u=typeof(e=vn(e))=="string"||e instanceof Wm?Dk(c,"updateDoc",t._key,e,n,i):Ik(c,"updateDoc",t._key,e),Cv(a,[u.toMutation(t._key,Ws.exists(!0))])}function Kf(t,e){const n=Nr(t.firestore,uu),i=Ao(t),a=bA(t.converter,e);return Cv(n,[fA($m(t.firestore),"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,Ws.exists(!1))]).then((()=>i))}function Cv(t,e){return(function(i,a){const c=new ha;return i.asyncQueue.enqueueAndForget((async()=>dk(await Tk(i),a,c))),c.promise})(vv(t),e)}function Hk(t,e,n){const i=n.docs.get(e._key),a=new wA(t);return new El(t,a,e._key,i,new _h(n.hasPendingWrites,n.fromCache),e.converter)}function $f(){return new _v("serverTimestamp")}function KT(...t){return new xv("arrayUnion",t)}function $T(t){return new bv("increment",t)}(function(e,n=!0){(function(a){ru=a})(iu),Fc(new Cl("firestore",((i,{instanceIdentifier:a,options:c})=>{const u=i.getProvider("app").getImmediate(),m=new uu(new LL(i.getProvider("auth-internal")),new kL(u,i.getProvider("app-check-internal")),(function(_,x){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new Ne(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vh(_.options.projectId,x)})(u,a),u);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),wo(Yw,Qw,e),wo(Yw,Qw,"esm2020")})();const qk={apiKey:"AIzaSyD106Y2G0g9sVQBjjmXXRicLaQpSGIGA_Q",authDomain:"fruitbunch-f1f23.firebaseapp.com",projectId:"fruitbunch-f1f23",storageBucket:"fruitbunch-f1f23.firebasestorage.app",messagingSenderId:"794545150234",appId:"1:794545150234:web:69f9820a661e0750ce34a3",measurementId:"G-JNY3T9LHLW"},TA=JE(qk),fu=VS(TA),Ri=uA(TA),Gk=({children:t})=>{const e=As(),[n,i]=V.useState(null),[a,c]=V.useState(!0);return V.useEffect(()=>{const u=NS(fu,m=>{i(m),c(!1)});return()=>u()},[]),a?f.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):n?t:f.jsx(I0,{to:"/login",state:{from:e},replace:!0})},Zk=({children:t})=>{const[e,n]=V.useState(null),[i,a]=V.useState(!0);return V.useEffect(()=>{const c=NS(fu,async u=>{if(!u){n(!1),a(!1);return}const m=Ao(Ri,"admins",u.uid),g=await Nv(m);n(g.exists()),a(!1)});return()=>c()},[]),i?f.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):e?t:f.jsx(I0,{to:"/",replace:!0})},EA=V.createContext(),Wk=()=>{const t=localStorage.getItem("cart");return t?JSON.parse(t):{items:[],total:0}},Kk=(t,e)=>{switch(e.type){case"ADD_TO_CART":const n=t.items.findIndex(u=>u.id===e.payload.id);if(n>=0){const u=[...t.items];return u[n].quantity+=1,{...t,items:u,total:t.total+e.payload.price}}return{...t,items:[...t.items,{...e.payload,quantity:1}],total:t.total+e.payload.price};case"REMOVE_FROM_CART":const i=t.items.find(u=>u.id===e.payload);return{...t,items:t.items.filter(u=>u.id!==e.payload),total:t.total-i.price*i.quantity};case"UPDATE_QUANTITY":const a=t.items.map(u=>u.id===e.payload.id?(e.payload.quantity-u.quantity,{...u,quantity:e.payload.quantity}):u),c=a.reduce((u,m)=>u+m.price*m.quantity,0);return{...t,items:a,total:c};case"CLEAR_CART":return{items:[],total:0};default:return t}},$k=({children:t})=>{const[e,n]=V.useReducer(Kk,void 0,Wk);V.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);const i=m=>{n({type:"ADD_TO_CART",payload:m})},a=m=>{n({type:"REMOVE_FROM_CART",payload:m})},c=(m,g)=>{if(g<=0){a(m);return}n({type:"UPDATE_QUANTITY",payload:{id:m,quantity:g}})},u=()=>{n({type:"CLEAR_CART"})};return f.jsx(EA.Provider,{value:{cartItems:e.items,cartTotal:e.total,addToCart:i,removeFromCart:a,updateQuantity:c,clearCart:u},children:t})},Jm=()=>{const t=V.useContext(EA);if(!t)throw new Error("useCart must be used within a CartProvider");return t},Yk="/fruitbunch/assets/mainlogo-DCHUEAV1.png",Qk=()=>{const[t,e]=V.useState(!1),{cartItems:n}=Jm(),[i,a]=V.useState(null);V.useEffect(()=>{const u=localStorage.getItem("user");u&&a(JSON.parse(u))},[]);const c=u=>`https://ui-avatars.com/api/?background=43A047&size=130&color=FFF&font-size=0.60&name=${u.charAt(0).toUpperCase()}`;return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"bg-green-800 text-white text-xs lg:text-md py-2",children:f.jsxs("div",{className:"container mx-auto px-4 flex flex-col md:flex-row justify-between items-center",children:[f.jsxs("div",{className:"flex flex-wrap justify-center gap-4 md:gap-6 mb-2 md:mb-0",children:[f.jsxs("span",{className:"flex items-center",children:[f.jsx("i",{className:"fa-solid fa-envelope mr-2"})," fruitbunch.tvm@gmail.com"]}),f.jsxs("span",{className:"flex items-center hidden md:block",children:[f.jsx("i",{className:"fa-solid fa-clock mr-2"})," MON-SAT: 7.30am - 6.00pm"]}),f.jsxs("span",{className:"flex items-center",children:[f.jsx("i",{className:"fa-solid fa-phone mr-2"})," +91 8807239379"]})]}),f.jsxs("div",{className:"flex space-x-4 hidden md:block",children:[f.jsx("a",{href:"#",className:"hover:text-green-200 transition",children:f.jsx("i",{className:"fa-brands fa-instagram"})}),f.jsx("a",{href:"#",className:"hover:text-green-200 transition",children:f.jsx("i",{className:"fa-brands fa-whatsapp"})})]})]})}),f.jsxs("nav",{className:"bg-white shadow-md sticky top-0 z-[9999]",children:[f.jsxs("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[f.jsx(et,{to:"/",className:"flex items-center",children:f.jsx("img",{src:Yk,alt:"Fruit Bunch",className:"h-14"})}),f.jsxs("div",{className:"hidden md:flex items-center space-x-5 lg:space-x-8 text-sm lg:text-md",children:[f.jsx(fh,{to:"/",className:({isActive:u})=>`font-medium transition ${u?"text-green-600":"text-gray-700 hover:text-green-600"}`,children:"Home"}),f.jsx(fh,{to:"/subscription",className:({isActive:u})=>`font-medium transition ${u?"text-green-600":"text-gray-700 hover:text-green-600"}`,children:"Fruit Bowl Subscription"}),f.jsx(fh,{to:"/corporate",className:({isActive:u})=>`font-medium transition ${u?"text-green-600":"text-gray-700 hover:text-green-600"}`,children:"Corporate Orders"}),f.jsx(fh,{to:"/about",className:({isActive:u})=>`font-medium transition ${u?"text-green-600":"text-gray-700 hover:text-green-600"}`,children:"About Us"}),f.jsx("div",{className:"flex items-center space-x-4",children:i?f.jsxs(f.Fragment,{children:[f.jsxs(et,{to:"/cart",className:"relative bg-green-100 hover:bg-green-200 text-green-700 px-4 py-2 rounded-md transition flex items-center",children:[f.jsx("i",{className:"fa-solid fa-cart-shopping mr-2"})," Cart",n.length>0&&f.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs",children:n.length})]}),f.jsx(et,{to:"/profile",className:"flex items-center",children:f.jsx("img",{src:c(i.name||"U"),alt:"User Avatar",className:"w-10 h-10 rounded-full"})})]}):f.jsx(et,{to:"/login",className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md transition",children:"Login"})})]}),f.jsx("button",{className:"md:hidden text-gray-700 focus:outline-none",onClick:()=>e(!t),children:f.jsx("i",{className:`fa-solid ${t?"fa-xmark":"fa-bars"} text-xl`})})]}),t&&f.jsx("div",{className:"md:hidden bg-white px-4 pb-4",children:f.jsxs("div",{className:"flex flex-col space-y-3",children:[f.jsx(et,{to:"/",onClick:()=>e(!1),className:"text-gray-700 hover:text-green-600 py-2 transition",children:"Home"}),f.jsx(et,{to:"/subscription",onClick:()=>e(!1),className:"text-gray-700 hover:text-green-600 py-2 transition",children:"Fruit Bowl Subscription"}),f.jsx(et,{to:"/corporate",onClick:()=>e(!1),className:"text-gray-700 hover:text-green-600 py-2 transition",children:"Corporate Orders"}),f.jsx(et,{to:"/about",onClick:()=>e(!1),className:"text-gray-700 hover:text-green-600 py-2 transition",children:"About Us"}),f.jsx("div",{className:"flex flex-col space-y-2 pt-2 border-t border-gray-200",children:i?f.jsxs(f.Fragment,{children:[f.jsxs(et,{to:"/cart",onClick:()=>e(!1),className:"relative bg-green-100 hover:bg-green-200 text-green-700 px-4 py-2 rounded-md text-center transition flex items-center justify-center",children:[f.jsx("i",{className:"fa-solid fa-cart-shopping mr-2"})," Cart",n.length>0&&f.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs",children:n.length})]}),f.jsxs(et,{to:"/profile",onClick:()=>e(!1),className:"relative bg-green-100 hover:bg-green-200 text-green-700 px-4 py-2 rounded-md text-center transition flex items-center justify-center",children:[f.jsx("i",{className:"fa-solid fa-user mr-2"})," Profile"]})]}):f.jsx(et,{to:"/login",onClick:()=>e(!1),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md text-center transition",children:"Login"})})]})})]})]})},Xk=()=>f.jsx("footer",{className:"bg-green-900 text-white py-12 px-5 md:px-10 text-xs sm:px-10 lg:text-sm",children:f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"quicklink",children:[f.jsx("h2",{className:"text-sm font-bold mb-4 lg:text-xl",children:"Quick Links"}),f.jsxs("div",{className:"flex flex-col space-y-2",children:[f.jsx(et,{to:"/",className:"hover:text-green-300 transition",children:"Home"}),f.jsx(et,{to:"/subscription",className:"hover:text-green-300 transition",children:"Fruit Bowl Subscription"}),f.jsx(et,{to:"/corporate",className:"hover:text-green-300 transition",children:"Corporate Orders"}),f.jsx(et,{to:"/about",className:"hover:text-green-300 transition",children:"About Us"}),f.jsx(et,{to:"/termsandconditions",className:"hover:text-green-300 transition",children:"Terms and Conditions"}),f.jsx(et,{to:"/privacypolicy",className:"hover:text-green-300 transition",children:"Privacy Policy"})]})]}),f.jsxs("div",{className:"footabout",children:[f.jsx("h2",{className:"text-sm font-bold mb-4 lg:text-xl",children:"Subscription Services"}),f.jsxs("div",{className:"flex flex-col space-y-2",children:[f.jsx("p",{children:"Fruit Bowl"}),f.jsx("p",{children:"Diet Platter"}),f.jsx("p",{children:"Salad Bowls"}),f.jsx("p",{children:"Fresh Juice"})]}),f.jsx("div",{className:"mt-4",children:f.jsx("b",{className:"text-green-300",children:"EAT FRESH. STAY HEALTHY. LIVE BETTER!"})})]}),f.jsxs("div",{className:"contact",children:[f.jsx("h2",{className:"text-sm font-bold mb-4 lg:text-xl",children:"Contact Us"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("i",{className:"fa-solid fa-phone w-5 mr-2"}),f.jsx("a",{href:"tel:+918807239379",className:"hover:underline",children:"+91 8807239379"})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("i",{className:"fa-solid fa-envelope w-5 mr-2"}),f.jsx("a",{href:"mailto:fruitbunch.tvm@gmail.com",className:"hover:underline",children:"fruitbunch.tvm@gmail.com"})]}),f.jsxs("div",{className:"flex items-start",children:[f.jsx("i",{className:"fa-solid fa-location-dot w-5 mr-2 mt-1"}),f.jsxs("span",{children:["No:59, Sarathambal nagar,",f.jsx("br",{})," Tiruvannamalai,",f.jsx("br",{})," Tamil Nadu 606601"]})]})]})]})]}),f.jsx("div",{className:"border-t border-green-800 mt-8 pt-8 text-center",children:f.jsxs("p",{children:["© ",new Date().getFullYear()," Fruit Bunch. All rights reserved."]})})]})}),Jk="/fruitbunch/assets/home-1-DzAgSFnE.png",e3="/fruitbunch/assets/home-2-D3iDtu3z.png",t3="/fruitbunch/assets/backbowl1-CMZS9lr5.png",n3="/fruitbunch/assets/sixfruit-n1UQudVg.jpg",i3="/fruitbunch/assets/homeplan-hNcT9G7U.jpg",s3=()=>{const[t,e]=V.useState(0),n=[e3,Jk,t3];return V.useEffect(()=>{const i=setInterval(()=>{e(a=>(a+1)%n.length)},4e3);return()=>clearInterval(i)},[]),V.useEffect(()=>{window.AOS&&window.AOS.init({duration:800,easing:"ease-in-out",once:!0})},[]),f.jsxs("div",{className:"overflow-hidden",children:[f.jsx("section",{className:"bg-gradient-to-r from-green-50 to-green-100 py-12 px-5 md:py-20 md:px-10 relative overflow-hidden",children:f.jsxs("div",{className:"container mx-auto px-4 flex flex-col md:flex-row items-center relative z-10",children:[f.jsxs("div",{className:"md:w-1/2 mb-8 md:mb-0 mr-4",children:[f.jsx("h1",{className:"text-3xl lg:text-5xl font-bold text-gray-800 mb-6","data-aos":"fade-up",children:"Fresh Fruit. No Fuss. Just Bunches of Goodness."}),f.jsx("p",{className:"text-base lg:text-lg text-gray-600 mb-8","data-aos":"fade-up","data-aos-delay":"200",children:"Fruit Bunch delivers clean, ready-to-eat fruit bowls straight to your doorstep. It's the simple, tasty, and healthy choice—every single day. Subscribe now and stay fresh, always."}),f.jsx(et,{to:"/subscription",className:"inline-block bg-green-600 hover:bg-green-700 text-white font-semibold px-6 py-3 rounded-lg transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-1","data-aos":"zoom-in","data-aos-delay":"400",children:"Enjoy fresh cut fruit daily"})]}),f.jsx("div",{className:"w-full md:w-1/2 flex justify-center",children:f.jsxs("div",{className:"relative w-full max-w-md h-[200px] md:h-[280px] lg:h-[400px] overflow-hidden rounded-lg shadow-xl","data-aos":"fade-left","data-aos-delay":"300",children:[n.map((i,a)=>f.jsx("img",{src:i,alt:"Fresh fruits",className:`absolute top-0 left-0 w-full h-full object-cover transition-opacity duration-1000 ease-in-out ${t===a?"opacity-100":"opacity-0"}`},a)),f.jsx("div",{className:"absolute top-4 right-4 bg-white px-3 py-1 rounded-full shadow-md text-sm sm:text-base animate-bounce",children:f.jsx("span",{className:"text-green-600 font-bold",children:"🍎 Fresh!"})})]})})]})}),f.jsx("section",{className:"py-16 px-5 bg-white",children:f.jsx("div",{className:"container mx-auto px-4",children:f.jsxs("div",{className:"flex flex-col md:flex-row items-center md:px-10",children:[f.jsx("div",{className:"md:w-1/2 mb-8 md:mb-0","data-aos":"fade-right","data-aos-delay":"200",children:f.jsxs("div",{className:"relative",children:[f.jsx("img",{src:n3,alt:"Variety of fruits",className:"w-full max-w-md rounded-lg shadow-md mx-auto transform transition-transform duration-700 hover:scale-105"}),f.jsx("div",{className:"absolute -bottom-4 -left-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-md text-sm sm:text-base",children:f.jsx("span",{className:"font-bold",children:"6 Fruits Daily!"})})]})}),f.jsx("div",{className:"md:w-1/2 md:pl-12",children:f.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[{title:"Tropical Refresh: Summer Care Fruit Pack",desc:"Cool down with this hydrating mix of nature's most refreshing fruits, perfect for beating the summer heat.",icon:"🥥"},{title:"Shield Boost: Immuno Care Fruit Pack",desc:"Strengthen your body's natural defenses with this immunity-boosting blend, rich in vitamin C and antioxidants.",icon:"🛡️"},{title:"Nurture Nest: Mother Care Fresh Fruit Pack",desc:"Carefully selected to support maternal health, rich in iron, folate, and essential nutrients.",icon:"👩"},{title:"Glow Mix: Skin & Hair Care Pack",desc:"Let your beauty shine from within with this antioxidant-rich blend for clear skin and healthy hair.",icon:"✨"}].map((i,a)=>f.jsxs("div",{className:"bg-green-50 p-6 rounded-lg transition-all duration-300 hover:shadow-lg hover:bg-green-100 transform hover:-translate-y-1","data-aos":"fade-up","data-aos-delay":a*200,children:[f.jsx("div",{className:"flex items-center mb-3",children:f.jsx("h3",{className:"font-bold text-sm lg:text-xl text-green-800",children:i.title})}),f.jsx("p",{className:"text-xs lg:text-lg text-gray-600",children:i.desc})]},a))})})]})})}),f.jsx("section",{className:"py-16 px-5 md:px-10 bg-green-50 relative overflow-hidden",children:f.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[f.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center text-gray-800 mb-12","data-aos":"fade-up",children:"Best Seller"}),f.jsxs("div",{className:"flex flex-col md:flex-row items-center bg-white rounded-xl shadow-lg overflow-hidden transform transition-all duration-500 hover:shadow-xl","data-aos":"zoom-in",children:[f.jsxs("div",{className:"md:w-1/2 p-6 sm:p-8",children:[f.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-green-700 mb-4","data-aos":"fade-right",children:"6 Days Six Different Variety of Diet Platter"}),f.jsx("ul",{className:"space-y-3 mb-6",children:["Amla 5pcs. Steamed broccoli 150gm Corn+Carrot & Cucumber, Sprouts, Dates + Nuts.","Papaya, Pineapple, Steamed Zucchini 150g + Green Peas (Bell Pepper Onion +Tomato + Sweet corn), Salad Sprouts, Nuts + Seeds.","Dragon fruit Apple, Steamed cabbage & beans 150g + Black eyed bean + Beetroot + Carrot, Sprouts Dates Seeds."].map((i,a)=>f.jsxs("li",{className:"flex items-start transition-transform duration-300 hover:translate-x-2","data-aos":"fade-up","data-aos-delay":a*150,children:[f.jsx("span",{className:"text-green-500 mr-2",children:"•"}),f.jsx("span",{className:"text-sm lg:text-lg",children:i})]},a))}),f.jsx(et,{to:"/subscription",className:"inline-block bg-green-600 hover:bg-green-700 text-white font-semibold px-6 py-3 md:px-4 md:py-2 rounded-lg transition-all duration-300 transform hover:-translate-y-1 hover:shadow-md","data-aos":"zoom-in",children:"View All Plans"})]}),f.jsx("div",{className:"md:w-1/2","data-aos":"fade-left","data-aos-delay":"200",children:f.jsxs("div",{className:"bg-green-100 p-8 text-center h-full flex flex-col justify-center",children:[f.jsxs("div",{className:"relative inline-block",children:[f.jsx("img",{src:i3,alt:"Balanced Diet Platter",className:"w-full max-w-xs mx-auto rounded-lg mb-4 transform transition-transform duration-700 hover:scale-105"}),f.jsx("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"Popular!"})]}),f.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"BALANCED DIET PLATTER"}),f.jsx("p",{className:"text-xl sm:text-2xl font-bold text-green-700 mb-2",children:"₹3,499/- per month"}),f.jsx("p",{className:"text-gray-600 mb-4",children:"Free delivery"}),f.jsx("div",{className:"flex justify-center items-center text-yellow-400 mb-4",children:[...Array(5)].map((i,a)=>f.jsx("svg",{className:"w-5 h-5 fill-current",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})},a))}),f.jsx(et,{to:"/subscription",className:"inline-block bg-green-600 hover:bg-green-700 text-white font-semibold px-6 py-2 rounded transition-all duration-300 transform hover:-translate-y-1 hover:shadow-md","data-aos":"zoom-in","data-aos-delay":"200",children:"Subscribe Now"})]})})]})]})})]})},r3="/fruitbunch/assets/BasicPlanImage-BMqsYUJx.jpeg",a3="/fruitbunch/assets/PeriumPlanImage-C680bpQe.jpeg",SA="/fruitbunch/assets/fruit-7-B0YHmhe4.jpg",o3="/fruitbunch/assets/BalancedDiet-CaH0uuxV.jpeg",l3="/fruitbunch/assets/juice2-CHOH3c0W.jpg",c3="/fruitbunch/assets/kidsplan-BmS3QCpZ.jpg",u3="/fruitbunch/assets/freshjuice-DH0t0v_N.jpg",h3="/fruitbunch/assets/butter-DYvvPtp9.jpg",d3="/fruitbunch/assets/yogurt-B2y-BBUE.jpg",f3=()=>{const{addToCart:t,cartItems:e}=Jm(),[n,i]=V.useState({}),a=Oo(),c=T=>{i(A=>({...A,[T]:!A[T]}))};V.useEffect(()=>{window.AOS&&window.AOS.init({duration:800,easing:"ease-in-out",once:!0})},[]);const u=[{id:1,name:"Basic plan",price:2499,image:r3,description:"Apple, Orange, Papaya, Pineapple",moreInfo:"Grapes, Guava, Water melon, Fig, Pears, chikku",type:"plan"},{id:2,name:"Premium plan",price:2999,image:a3,description:"Apple, Orange, Dragon fruits, Pineapple",moreInfo:"Grapes, Strawberry, Blueberry/cherry, Kiwi, Pears",type:"plan"},{id:3,name:"Diabetic plan",price:2499,image:SA,description:"Amla, Guava, Kiwi, Fig",moreInfo:"Grapes, Pineapple, Kiwi, Orange",type:"plan"},{id:4,name:"Diet platter",price:3499,image:o3,description:"2 Fruit, 2 Vegetables, Dry Fruit",moreInfo:"Nuts, Sprouts, Steamed Vegetables",type:"plan"},{id:5,name:"Salad Bowl",price:2499,image:l3,description:"Nutrients, Quality Proteins, Good fat",moreInfo:"Healthy, Probiotic, Whole carb, antioxidants",type:"plan"},{id:6,name:"Kids fruit bowl",price:1199,image:c3,description:"Corn, Cucumber, Nuts",moreInfo:"Grapes, Strawberry, Blueberry/cherry, Kiwi, Pears",type:"plan"}],m=[{id:7,name:"Fresh Juice",price:699,image:u3,type:"drink"},{id:8,name:"Butter milk",price:599,image:h3,type:"drink"},{id:9,name:"Greek Yogurt",price:40,image:d3,type:"drink",isDaily:!0}],g=e.some(T=>T.type==="plan"),_=T=>{if(T.type==="drink"&&!g){alert("Please subscribe to a plan before adding drinks!");return}t(T),a("/cart")},x=T=>{if(T.type==="drink"&&!g){alert("Please subscribe to a plan before adding drinks!");return}t(T),a("/checkout")};return f.jsxs("div",{className:"container mx-auto px-10 py-12 overflow-hidden relative",children:[f.jsx("div",{className:"absolute -top-20 -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),f.jsx("div",{className:"absolute top-40 -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),f.jsx("div",{className:"absolute -bottom-20 left-40 w-72 h-72 bg-teal-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-4000"}),f.jsx("h1",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-center text-gray-800 mb-12","data-aos":"fade-up",children:"Choose Your Subscription"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:u.map(T=>f.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition","data-aos":"fade-up",children:[f.jsx("img",{src:T.image,alt:T.name,className:"w-full h-48 object-cover"}),f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-xl font-bold text-green-800 mb-2",children:T.name}),f.jsxs("p",{className:"text-2xl font-bold text-green-600 mb-4",children:["₹",T.price,"/- per month"]}),f.jsxs("p",{className:"text-gray-600 mb-3 text-sm",children:[T.description.length>20?T.description.slice(0,20)+"...":T.description,f.jsx("button",{onClick:()=>c(T.id),className:"ml-2 text-green-600 hover:text-green-800 font-semibold",children:n[T.id]?"Less":"More"})]}),n[T.id]&&f.jsx("p",{className:"text-gray-600 mb-4",children:T.moreInfo}),f.jsxs("div",{className:"flex space-x-3",children:[f.jsx("button",{onClick:()=>_(T),className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded transition",children:"Add to Cart"}),f.jsx("button",{onClick:()=>x(T),className:"flex-1 bg-green-100 hover:bg-green-200 text-green-700 py-2 px-4 rounded transition",children:"Subscribe"})]})]})]},T.id))}),f.jsxs("div",{className:"mb-16",children:[f.jsx("div",{className:"absolute -top-200 -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),f.jsx("div",{className:"absolute top-640 -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),f.jsx("h2",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-center text-gray-800 mb-8","data-aos":"fade-up",children:"Add On Drinks"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:m.map(T=>f.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition","data-aos":"fade-up",children:[f.jsx("img",{src:T.image,alt:T.name,className:"w-full h-48 object-cover"}),f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-xl font-bold text-green-800 mb-2",children:T.name}),f.jsxs("p",{className:"text-lg lg:text-2xl font-bold text-green-600 mb-4",children:["₹",T.price,"/- ",T.isDaily?"per day":"per month"]}),f.jsxs("div",{className:"flex lg:space-x-3 md:flex-col lg:flex-row gap-3",children:[f.jsx("button",{onClick:()=>_(T),className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded transition",children:"Add to Cart"}),f.jsx("button",{onClick:()=>x(T),className:"flex-1 bg-green-100 hover:bg-green-200 text-green-700 py-2 px-4 rounded transition",children:"Subscribe"})]})]})]},T.id))})]})]})},m3="/fruitbunch/assets/bulk1-CEBMS9Ua.jpeg",p3="/fruitbunch/assets/bulk2-Dqc0Jvw1.jpeg",g3="/fruitbunch/assets/bulk3-Dj3Rrqm9.jpeg",y3="/fruitbunch/assets/primeplan-scfj7ntK.jpg",v3="/fruitbunch/assets/basicplan-Bm8xxGeT.jpg",_3=()=>{const t=Oo(),[e,n]=V.useState({name:"",email:"",phone:"",message:""}),[i,a]=V.useState({name:"",email:"",phone:"",message:""}),[c,u]=V.useState(0),m=[m3,p3,g3];V.useEffect(()=>{const A=setInterval(()=>{u(j=>(j+1)%m.length)},4e3);return()=>clearInterval(A)},[]);const g=A=>{const{name:j,value:I}=A.target;n({...e,[j]:I}),i[j]&&a({...i,[j]:""})},_=()=>{let A=!0;const j={...i};return e.name.trim()||(j.name="Name is required",A=!1),e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(j.email="Email is invalid",A=!1):(j.email="Email is required",A=!1),e.phone.trim()||(j.phone="Phone number is required",A=!1),e.message.trim()||(j.message="Message is required",A=!1),a(j),A},x=async A=>{if(A.preventDefault(),_())try{await Kf(So(Ri,"corporateQuotes"),{...e,createdAt:Ct.now()}),alert("Thank you! Your request has been submitted."),n({name:"",email:"",phone:"",message:""})}catch(j){console.error(j),alert("Something went wrong. Please try again.")}},T=()=>{const A="918807239379",I=encodeURIComponent("I'm interested in corporate orders for Fruit Bunch"),z=`https://wa.me/${A}?text=${I}`;window.open(z,"_blank")};return f.jsxs("div",{className:"container mx-auto px-10 py-12 overflow-hidden relative",children:[f.jsx("div",{className:"absolute -top-20 -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),f.jsx("div",{className:"absolute top-40 -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),f.jsx("div",{className:"absolute top-[750px] -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),f.jsx("div",{className:"absolute top-[1400px] -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),f.jsx("div",{className:"absolute top-[2100px] -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),f.jsx("div",{className:"absolute top-[2100px] -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),f.jsxs("section",{className:"flex flex-col lg:flex-row items-center mb-20 gap-10",children:[f.jsx("div",{className:"lg:w-1/2",children:f.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow transform transition-all duration-500 hover:shadow-xl w-full max-w-xl aspect-[4/4]",children:[m.map((A,j)=>f.jsx("img",{src:A,alt:"Corporate Orders",className:`absolute inset-0 w-full h-full object-cover rounded-2xl transition-opacity duration-1000 ease-in-out ${c===j?"opacity-100":"opacity-0"}`},j)),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent rounded-2xl"})]})}),f.jsxs("div",{className:"lg:w-1/2",children:[f.jsxs("h1",{className:"text-2xl md:text-4xl font-bold text-gray-800 mb-6 leading-tight",children:["Elevate Workplace Wellness with"," ",f.jsx("span",{className:"text-green-600",children:"Fresh Fruit Delivery"})]}),f.jsxs("div",{className:"space-y-4 mb-8",children:[f.jsxs("div",{className:"flex items-center justify-start",children:[f.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3 mt-1",children:f.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),f.jsx("p",{className:"text-sm lg:text-lg text-gray-600",children:"Combat afternoon slumps with natural energy boosts"})]}),f.jsxs("div",{className:"flex items-center justify-start",children:[f.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3 mt-1",children:f.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),f.jsx("p",{className:"text-sm lg:text-lg text-gray-600",children:"Reduce sick days with immune-boosting nutrition"})]}),f.jsxs("div",{className:"flex items-center justify-start",children:[f.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3 mt-1",children:f.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),f.jsx("p",{className:"text-sm lg:text-lg text-gray-600",children:"Increase productivity with healthier, happier teams"})]})]}),f.jsxs("div",{className:"mb-8 p-6 bg-green-50 rounded-2xl border-l-4 border-green-500",children:[f.jsx("h2",{className:"text-lg lg:text-xl font-semibold text-green-800 mb-2",children:"Ready to transform your workplace?"}),f.jsx("p",{className:"text-lg lg:text-xl font-medium text-gray-700",children:"Call us: +918807239379"})]}),f.jsxs("button",{onClick:T,className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-4 px-8 rounded-xl transition-all duration-300 shadow-lg hover:shadow-md transform hover:-translate-y-1 flex items-center justify-center",children:[f.jsx("svg",{className:"w-6 h-6 mr-3",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.864 3.49"})}),"Message us on WhatsApp"]})]})]}),f.jsxs("section",{className:"mb-20",children:[f.jsxs("div",{className:"text-center mb-14",children:[f.jsx("h2",{className:"text-2xl md:text-4xl font-bold text-gray-800 mb-4",children:"Corporate Wellness Plans"}),f.jsx("p",{className:"text-lg lg:text-xl text-gray-600 max-w-3xl mx-auto",children:"Tailored fruit delivery programs designed to boost employee health and productivity"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-lg transition-all duration-300 hover:shadow-xl hover:-translate-y-2",children:[f.jsxs("div",{className:"relative overflow-hidden h-64",children:[f.jsx("img",{src:v3,alt:"Basic Plan",className:"w-full h-full object-cover transition-transform duration-700 hover:scale-110"}),f.jsx("div",{className:"absolute top-4 right-4 bg-green-500 text-white py-1 px-3 rounded-full text-sm font-semibold",children:"Most Popular"})]}),f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Essential Wellness"}),f.jsx("p",{className:"text-gray-600 mb-4 text-sm lg:text-lg",children:"Perfect for small teams looking to incorporate healthy habits"}),f.jsxs("ul",{className:"space-y-2 mb-6",children:[f.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[f.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),f.jsx("span",{children:"3 fruit varieties daily"})]}),f.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[f.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),f.jsx("span",{children:"Weekly delivery"})]}),f.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[f.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),f.jsx("span",{children:"Seasonal selections"})]})]}),f.jsx("button",{onClick:()=>t("/subscription"),className:"w-full bg-green-100 hover:bg-green-200 text-green-700 font-semibold py-3 rounded-lg transition-colors duration-300",children:"View Plan"})]})]}),f.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-lg transition-all duration-300 hover:shadow-xl hover:-translate-y-2",children:[f.jsx("div",{className:"relative overflow-hidden h-64",children:f.jsx("img",{src:y3,alt:"Premium Plan",className:"w-full h-full object-cover transition-transform duration-700 hover:scale-110"})}),f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Premium Refresh"}),f.jsx("p",{className:"text-gray-600 mb-4 text-sm lg:text-lg",children:"Comprehensive nutrition for medium to large organizations"}),f.jsxs("ul",{className:"space-y-2 mb-6",children:[f.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[f.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),f.jsx("span",{children:"5+ premium fruit varieties"})]}),f.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[f.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),f.jsx("span",{children:"Twice weekly delivery"})]}),f.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[f.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),f.jsx("span",{children:"Organic options available"})]})]}),f.jsx("button",{onClick:()=>t("/subscription"),className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 rounded-lg transition-colors duration-300",children:"View Plan"})]})]}),f.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-lg transition-all duration-300 hover:shadow-xl hover:-translate-y-2",children:[f.jsx("div",{className:"relative overflow-hidden h-64",children:f.jsx("img",{src:SA,alt:"Diet Plan",className:"w-full h-full object-cover transition-transform duration-700 hover:scale-110"})}),f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Executive Wellness"}),f.jsx("p",{className:"text-gray-600 mb-4 text-sm lg:text-lg",children:"Premium customized programs for health-conscious organizations"}),f.jsxs("ul",{className:"space-y-2 mb-6",children:[f.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[f.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),f.jsx("span",{children:"Customized fruit selection"})]}),f.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[f.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),f.jsx("span",{children:"Daily delivery options"})]}),f.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[f.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),f.jsx("span",{children:"Nutritionist consultation included"})]})]}),f.jsx("button",{onClick:()=>t("/subscription"),className:"w-full bg-green-100 hover:bg-green-200 text-green-700 font-semibold py-3 rounded-lg transition-colors duration-300",children:"View Plan"})]})]})]})]}),f.jsx("section",{className:"mb-20 bg-gradient-to-r from-green-50 to-emerald-50 py-14 px-4 rounded-3xl",children:f.jsxs("div",{className:"max-w-5xl mx-auto",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center text-gray-800 mb-12",children:"Why Companies Choose Us"}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"92%"}),f.jsx("p",{className:"text-gray-600 text-xs lg:text-sm",children:"Employee satisfaction"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"350+"}),f.jsx("p",{className:"text-gray-600 text-xs lg:text-sm",children:"Corporate clients"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"10h"}),f.jsx("p",{className:"text-gray-600 text-xs lg:text-sm",children:"Delivery time"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"100%"}),f.jsx("p",{className:"text-gray-600 text-xs lg:text-sm",children:"Organic guarantee"})]})]})]})}),f.jsx("section",{className:"bg-white rounded-3xl p-8 shadow-lg",children:f.jsxs("div",{className:"max-w-3xl mx-auto",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:"Get Your Custom Quote"}),f.jsx("p",{className:"text-xl text-gray-600",children:"Tell us about your company's needs and we'll prepare a tailored proposal"})]}),f.jsxs("form",{onSubmit:x,className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("input",{type:"text",name:"name",placeholder:"Your Name",value:e.name,onChange:g,className:`w-full px-5 py-4 border ${i.name?"border-red-500":"border-gray-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 transition`,required:!0}),i.name&&f.jsx("p",{className:"mt-2 text-red-500 text-sm",children:i.name})]}),f.jsxs("div",{children:[f.jsx("input",{type:"email",name:"email",placeholder:"Work Email",value:e.email,onChange:g,className:`w-full px-5 py-4 border ${i.email?"border-red-500":"border-gray-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 transition`,required:!0}),i.email&&f.jsx("p",{className:"mt-2 text-red-500 text-sm",children:i.email})]})]}),f.jsxs("div",{children:[f.jsx("input",{type:"tel",name:"phone",placeholder:"Phone Number",value:e.phone,onChange:g,className:`w-full px-5 py-4 border ${i.phone?"border-red-500":"border-gray-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 transition`,required:!0}),i.phone&&f.jsx("p",{className:"mt-2 text-red-500 text-sm",children:i.phone})]}),f.jsxs("div",{children:[f.jsx("textarea",{name:"message",placeholder:"Tell us about your company size and fruit preferences...",rows:"5",value:e.message,onChange:g,className:`w-full px-5 py-4 border ${i.message?"border-red-500":"border-gray-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 transition`,required:!0}),i.message&&f.jsx("p",{className:"mt-2 text-red-500 text-sm",children:i.message})]}),f.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-semibold py-4 px-6 rounded-xl transition-all duration-300 shadow-lg hover:shadow-md",children:"Request Custom Proposal"})]})]})})]})},x3="/fruitbunch/assets/about-3-DaCk93dU.jpg",b3="/fruitbunch/assets/aboutbackimgg-BkiEa4ds.jpg",w3=()=>f.jsxs("div",{className:"container mx-auto px-10 py-12",children:[f.jsxs("section",{className:"flex flex-col lg:flex-row items-center justify-between gap-10 mb-20",children:[f.jsxs("div",{className:"lg:w-1/2 order-2 lg:order-1",children:[f.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-gray-800 mb-6 leading-tight",children:["Nourishing Lives Through ",f.jsx("span",{className:"text-green-600",children:"Wholesome Eating"})]}),f.jsxs("div",{className:"space-y-4 mb-8",children:[f.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:"At Fruit Bunch, we specialize in crafting healthy, ready-to-eat meals packed with essential nutrients to fuel your body and mind."}),f.jsx("p",{className:"text-lg font-semibold text-gray-700",children:"Our offerings include:"}),f.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[f.jsxs("div",{className:"flex items-center bg-green-50 rounded-lg p-3",children:[f.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:f.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),f.jsx("span",{className:"text-gray-700",children:"Fruit Bowls"})]}),f.jsxs("div",{className:"flex items-center bg-green-50 rounded-lg p-3",children:[f.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:f.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),f.jsx("span",{className:"text-gray-700",children:"Diet Platters"})]}),f.jsxs("div",{className:"flex items-center bg-green-50 rounded-lg p-3",children:[f.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:f.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),f.jsx("span",{className:"text-gray-700",children:"Salad Bowls"})]}),f.jsxs("div",{className:"flex items-center bg-green-50 rounded-lg p-3",children:[f.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:f.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),f.jsx("span",{className:"text-gray-700",children:"Fresh Juices"})]})]})]}),f.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-2xl border-l-4 border-green-500",children:[f.jsx("h2",{className:"text-2xl font-bold text-green-800 mb-2",children:"Our Goal is Simple"}),f.jsx("p",{className:"text-lg text-gray-700",children:"To make healthy eating"}),f.jsx("p",{className:"text-2xl font-bold text-green-700 mt-1",children:"Easy, Affordable and Delicious!"})]})]}),f.jsx("div",{className:"lg:w-1/2 order-1 lg:order-2",children:f.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl w-full max-w-xl aspect-[4/4]",children:[f.jsx("img",{src:x3,alt:"About Fruit Bunch",className:"w-full h-full object-cover rounded-2xl transition-transform duration-700 hover:scale-105"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent rounded-2xl"})]})})]}),f.jsx("section",{className:"bg-gradient-to-r from-green-100 to-emerald-100 rounded-3xl p-10 shadow-lg mb-20",children:f.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-6",children:"Our Philosophy"}),f.jsx("div",{className:"text-2xl text-green-700 font-semibold mb-8",children:"EAT FRESH. STAY HEALTHY. LIVE BETTER!"}),f.jsxs("div",{className:"space-y-6 text-lg text-gray-700 leading-relaxed",children:[f.jsx("p",{children:"At Fruit Bunch, we believe in the transformative power of healthy eating. Our mission is to provide nutrient-rich, well-balanced meals that fuel your body and mind for optimal performance."}),f.jsx("p",{children:"We meticulously source the freshest ingredients and craft them into wholesome platters, salads, and drinks that cater to a healthy and active lifestyle. Each item on our menu is designed to deliver maximum nutritional value without compromising on taste."}),f.jsx("p",{children:"Whether you're looking for a balanced diet, nutritious salad bowl, or refreshing add-ons, our carefully curated menu ensures you get the perfect combination of taste, health, and convenience."})]})]})}),f.jsxs("section",{className:"mb-20",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center text-gray-800 mb-14",children:"What Drives Us"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 text-center",children:[f.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-5",children:f.jsxs("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 15.546c-.523 0-1.046.151-1.5.454a2.704 2.704 0 01-3 0 2.704 2.704 0 00-3 0 2.704 2.704 0 01-3 0 2.704 2.704 0 00-3 0 2.704 2.704 0 01-3 0A1.5 1.5 0 013 15.546V5a2 2 0 012-2h14a2 2 0 012 2v10.546z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v4l2 2"})]})}),f.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Quality & Freshness"}),f.jsx("p",{className:"text-gray-600",children:"We source only the freshest, highest-quality ingredients for all our products, ensuring maximum nutritional value and taste."})]}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 text-center",children:[f.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-5",children:f.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),f.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Community Health"}),f.jsx("p",{className:"text-gray-600",children:"We're committed to improving community health by making nutritious eating accessible, affordable, and enjoyable for everyone."})]}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 text-center",children:[f.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-5",children:f.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),f.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Sustainability"}),f.jsx("p",{className:"text-gray-600",children:"We prioritize environmentally responsible practices, from sourcing to packaging, to minimize our ecological footprint."})]})]})]}),f.jsxs("section",{className:"mb-20",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:"Visit Us"}),f.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Come experience the freshness at our location. We'd love to welcome you!"})]}),f.jsx("div",{className:"rounded-2xl overflow-hidden shadow-xl",children:f.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3899.0586626904005!2d79.0956933!3d12.244307300000001!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bacc17e8a517c7f%3A0xc7eb43ae80e2cef2!2sFRUIT%20BUNCH!5e0!3m2!1sen!2sin!4v1758553288639!5m2!1sen!2sin",width:"100%",height:"450",style:{border:0},allowFullScreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade",title:"Fruit Bunch Location",className:"rounded-2xl"})}),f.jsxs("div",{className:"mt-8 bg-white p-6 rounded-2xl shadow-lg max-w-2xl mx-auto",children:[f.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Store Information"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"flex items-start",children:[f.jsxs("svg",{className:"w-5 h-5 text-green-600 mt-1 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-gray-700",children:"Address"}),f.jsx("p",{className:"text-gray-600",children:"No:59, sarathambal nagar, Tiruvannamalai, Tamil Nadu 606601"})]})]}),f.jsxs("div",{className:"flex items-start",children:[f.jsx("svg",{className:"w-5 h-5 text-green-600 mt-1 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-gray-700",children:"Opening Hours"}),f.jsx("p",{className:"text-gray-600",children:"Mon-Sat: 7:30 AM - 6:00 PM"})]})]})]})]})]}),f.jsxs("section",{className:"relative rounded-2xl overflow-hidden shadow-xl mb-16",children:[f.jsx("img",{src:b3,alt:"Fresh fruits background",className:"w-full h-96 object-cover"}),f.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center",children:f.jsxs("div",{className:"text-center p-6 max-w-3xl",children:[f.jsx("h3",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Fresh. Healthy. Delivered."}),f.jsx("p",{className:"text-xl text-white mb-8 opacity-90",children:"Experience the difference that fresh, nutrient-packed meals can make in your life."}),f.jsx(et,{to:"/subscription",className:"bg-white text-green-700 font-semibold py-3 px-8 rounded-xl hover:bg-green-50 transition-colors duration-300 shadow-lg",children:"Explore Our Menu"})]})})]}),f.jsx("section",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-3xl p-8 shadow-lg",children:f.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[f.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-4",children:"Freshness Delivered To Your Door"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"Enjoy seasonal fruits, health tips, and exclusive offers — straight from our farm to your family."}),f.jsx(et,{to:"/subscription",className:"bg-green-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors duration-300 inline-block",children:"Start Your Subscription"})]})})]}),T3=()=>{const t=Oo(),n=As().state?.from?.pathname||"/",[i,a]=V.useState({email:"",password:""}),[c,u]=V.useState(!1),[m,g]=V.useState(!1),[_,x]=V.useState(""),T=I=>{a({...i,[I.target.name]:I.target.value})},A=async I=>{I.preventDefault();try{u(!0),x("");const k=(await fD(fu,i.email,i.password)).user,$=Ao(Ri,"users",k.uid),Y=await Nv($);if(Y.exists()){const Q=Y.data();localStorage.setItem("user",JSON.stringify({uid:k.uid,email:Q.email,name:Q.name,phone:Q.phone})),console.log("User profile:",Q)}else console.log("No user profile found in Firestore!");u(!1),t(n,{replace:!0})}catch(z){console.error("Login error:",z.message),x("Invalid email or password"),u(!1)}},j=()=>{g(!0),setTimeout(()=>{g(!1)},3e3)};return f.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-100 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[f.jsx("div",{className:"absolute -top-20 -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),f.jsx("div",{className:"absolute top-40 -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),f.jsx("div",{className:"absolute -bottom-20 left-40 w-72 h-72 bg-teal-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-4000"}),f.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-2xl shadow-lg z-10 transform transition-all duration-500 hover:shadow-xl",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"mx-auto h-16 w-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),f.jsx("h2",{className:"mt-2 text-3xl font-bold text-gray-900",children:"Welcome back"}),f.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",f.jsx(et,{to:"/signup",className:"font-medium text-green-600 hover:text-green-500 transition-colors duration-300",children:"create a new account"})]})]}),_&&f.jsx("p",{className:"text-red-500 text-sm text-center",children:_}),f.jsxs("form",{className:"mt-8 space-y-6",onSubmit:A,children:[f.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),f.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Email address",value:i.email,onChange:T})]}),f.jsxs("div",{className:"relative",children:[f.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),f.jsx("input",{id:"password",name:"password",type:m?"text":"password",autoComplete:"current-password",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Password",value:i.password,onChange:T}),f.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:j,children:m?f.jsx("i",{className:"fa-solid fa-eye-slash text-green-500 text-lg"}):f.jsx("i",{className:"fa-solid fa-eye text-green-500 text-lg"})})]})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded transition duration-150"}),f.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),f.jsx("div",{className:"text-sm",children:f.jsx(et,{to:"/forgot-password",className:"font-medium text-green-600 hover:text-green-500 transition-colors duration-300",children:"Forgot your password?"})})]}),f.jsx("div",{children:f.jsxs("button",{type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",disabled:c,children:[c?f.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,c?"Signing in...":"Sign in"]})})]})]})]})},E3=()=>{const t=Oo(),[e,n]=V.useState({name:"",email:"",password:"",confirmPassword:"",phone:""}),[i,a]=V.useState(!1),[c,u]=V.useState(""),[m,g]=V.useState(!1),[_,x]=V.useState(!1),T=z=>{n({...e,[z.target.name]:z.target.value})},A=async z=>{if(z.preventDefault(),e.password!==e.confirmPassword){u("Passwords do not match!");return}try{a(!0),u("");const $=(await dD(fu,e.email,e.password)).user;await pD($,{displayName:e.name}),await Fk(Ao(Ri,"users",$.uid),{uid:$.uid,name:e.name,email:e.email,phone:e.phone,createdAt:$f()}),console.log("User created & saved:",$.uid),a(!1),t("/login")}catch(k){console.error("Signup error:",k.message),u(k.message),a(!1)}},j=()=>{g(!0),setTimeout(()=>{g(!1)},3e3)},I=()=>{x(!0),setTimeout(()=>{x(!1)},3e3)};return f.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-100 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[f.jsx("div",{className:"absolute -top-20 -right-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),f.jsx("div",{className:"absolute top-40 -left-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),f.jsx("div",{className:"absolute -bottom-20 right-40 w-72 h-72 bg-teal-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-4000"}),f.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-2xl shadow-lg z-10 transform transition-all duration-500 hover:shadow-xl",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"mx-auto h-16 w-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})}),f.jsx("h2",{className:"mt-2 text-3xl font-bold text-gray-900",children:"Create your account"}),f.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",f.jsx(et,{to:"/login",className:"font-medium text-green-600 hover:text-green-500 transition-colors duration-300",children:"sign in to your existing account"})]})]}),c&&f.jsx("p",{className:"text-red-500 text-sm mb-2",children:c}),f.jsxs("form",{className:"mt-8 space-y-6",onSubmit:A,children:[f.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx("label",{htmlFor:"name",className:"sr-only",children:"Full Name"}),f.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Full Name",value:e.name,onChange:T}),f.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none opacity-0 peer-focus:opacity-100 transition-opacity duration-300",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]}),f.jsxs("div",{className:"relative",children:[f.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),f.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Email address",value:e.email,onChange:T}),f.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none opacity-0 peer-focus:opacity-100 transition-opacity duration-300",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]}),f.jsxs("div",{className:"relative",children:[f.jsx("label",{htmlFor:"phone",className:"sr-only",children:"Phone Number"}),f.jsx("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Phone Number",value:e.phone,onChange:T}),f.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none opacity-0 peer-focus:opacity-100 transition-opacity duration-300",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})})]}),f.jsxs("div",{className:"relative",children:[f.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),f.jsx("input",{id:"password",name:"password",type:m?"text":"password",autoComplete:"new-password",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Password",value:e.password,onChange:T}),f.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:j,children:m?f.jsx("i",{className:"fa-solid fa-eye text-green-500 text-lg"}):f.jsx("i",{className:"fa-solid fa-eye-slash text-green-500 text-lg"})})]}),f.jsxs("div",{className:"relative",children:[f.jsx("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Confirm Password"}),f.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:_?"text":"password",autoComplete:"new-password",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Confirm Password",value:e.confirmPassword,onChange:T}),f.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:I,children:_?f.jsx("i",{className:"fa-solid fa-eye text-green-500 text-lg"}):f.jsx("i",{className:"fa-solid fa-eye-slash text-green-500 text-lg"})})]})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{id:"terms",name:"terms",type:"checkbox",className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded transition duration-150",required:!0}),f.jsxs("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-900",children:["I agree to the ",f.jsx("a",{href:"/fruitbunch/termsandconditions",className:"text-green-600 hover:text-green-500 transition-colors duration-300",children:"Terms and Conditions"})]})]}),f.jsx("div",{children:f.jsxs("button",{type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",disabled:i,children:[i?f.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,i?"Creating account...":"Create Account"]})})]})]})]})},S3=()=>{const{cartItems:t,updateQuantity:e,removeFromCart:n,cartTotal:i,clearCart:a}=Jm(),[c,u]=V.useState(!1),m=(x,T)=>{T<1||e(x,T)},g=x=>{n(x)},_=()=>{u(!0),setTimeout(()=>{u(!1)},1e3)};return t.length===0?f.jsx("div",{className:"container mx-auto px-4 py-12",children:f.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[f.jsx("div",{className:"text-6xl mb-6",children:"🛒"}),f.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Your cart is empty"}),f.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Looks like you haven't added any items to your cart yet."}),f.jsx(et,{to:"/subscription",className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-8 rounded-lg transition",children:"Continue Shopping"})]})}):f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-center text-gray-800 mb-8",children:"Your Cart"}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[f.jsx("div",{className:"lg:col-span-2",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[f.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:["Cart Items (",t.length,")"]}),f.jsx("div",{className:"space-y-6",children:t.map(x=>f.jsxs("div",{className:"flex items-center border-b border-gray-100 pb-6",children:[f.jsx("img",{src:x.image,alt:x.name,className:"w-20 h-20 object-cover rounded-lg"}),f.jsxs("div",{className:"ml-4 flex-grow",children:[f.jsx("h3",{className:"font-medium text-gray-800 text-lg",children:x.name}),f.jsxs("p",{className:"text-green-600 font-bold",children:["₹",x.price]})]}),f.jsxs("div",{className:"flex items-center ml-4",children:[f.jsx("button",{onClick:()=>m(x.id,x.quantity-1),className:"w-8 h-8 flex items-center justify-center bg-gray-100 rounded-l-md",children:"-"}),f.jsx("span",{className:"w-10 h-8 flex items-center justify-center bg-gray-50",children:x.quantity}),f.jsx("button",{onClick:()=>m(x.id,x.quantity+1),className:"w-8 h-8 flex items-center justify-center bg-gray-100 rounded-r-md",children:"+"})]}),f.jsx("div",{className:"ml-6 hidden md:block",children:f.jsxs("p",{className:"font-bold text-green-600",children:["₹",x.price*x.quantity]})}),f.jsx("button",{onClick:()=>g(x.id),className:"ml-6 text-red-500 hover:text-red-700 hidden md:block",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},x.id))}),f.jsxs("div",{className:"flex justify-between mt-8",children:[f.jsxs(et,{to:"/subscription",className:"flex items-center text-green-600 hover:text-green-800 font-medium",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Continue Shopping"]}),f.jsx("button",{onClick:a,className:"text-red-500 hover:text-red-700 font-medium",children:"Clear Cart"})]})]})}),f.jsx("div",{children:f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-8",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Order Summary"}),f.jsx("div",{className:"space-y-4",children:t.map(x=>f.jsxs("div",{className:"flex justify-between",children:[f.jsxs("span",{className:"text-gray-600",children:[x.name," × ",x.quantity]}),f.jsxs("span",{className:"font-medium",children:["₹",x.price*x.quantity]})]},x.id))}),f.jsxs("div",{className:"border-t border-gray-200 mt-4 pt-4",children:[f.jsxs("div",{className:"flex justify-between mb-2",children:[f.jsx("span",{children:"Subtotal"}),f.jsxs("span",{children:["₹",i]})]}),f.jsxs("div",{className:"flex justify-between mb-2",children:[f.jsx("span",{children:"Delivery Fee"}),f.jsx("span",{className:"text-green-600",children:"Free"})]}),f.jsxs("div",{className:"flex justify-between font-bold text-lg mt-2 pt-2 border-t border-gray-200",children:[f.jsx("span",{children:"Total"}),f.jsxs("span",{children:["₹",i]})]})]}),f.jsx("div",{className:"mt-6",children:f.jsx(et,{to:"/checkout",onClick:_,disabled:c,className:`w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg transition flex items-center justify-center ${c?"opacity-75 cursor-not-allowed":""}`,children:c?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Proceed to Checkout"})})]})})]})]})};function AA(t,e){const n=V.useRef(e);V.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const A3=1;function N3(t){return Object.freeze({__version:A3,map:t})}function C3(t,e){return Object.freeze({...t,...e})}const Rv=V.createContext(null);function Pv(){const t=V.use(Rv);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function R3(t){function e(n,i){const{instance:a,context:c}=t(n).current;V.useImperativeHandle(i,()=>a);const{children:u}=n;return u==null?null:Sy.createElement(Rv,{value:c},u)}return V.forwardRef(e)}function P3(t){function e(n,i){const[a,c]=V.useState(!1),{instance:u}=t(n,c).current;V.useImperativeHandle(i,()=>u),V.useEffect(function(){a&&u.update()},[u,a,n.children]);const m=u._contentNode;return m?Cj.createPortal(n.children,m):null}return V.forwardRef(e)}function j3(t){function e(n,i){const{instance:a}=t(n).current;return V.useImperativeHandle(i,()=>a),null}return V.forwardRef(e)}function NA(t,e){const n=V.useRef(void 0);V.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function jv(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function I3(t,e){return function(i,a){const c=Pv(),u=t(jv(i,c),c);return AA(c.map,i.attribution),NA(u.current,i.eventHandlers),e(u.current,c,i,a),u}}var xh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var D3=xh.exports,YT;function L3(){return YT||(YT=1,(function(t,e){(function(n,i){i(e)})(D3,(function(n){var i="1.9.4";function a(o){var h,y,w,S;for(y=1,w=arguments.length;y<w;y++){S=arguments[y];for(h in S)o[h]=S[h]}return o}var c=Object.create||(function(){function o(){}return function(h){return o.prototype=h,new o}})();function u(o,h){var y=Array.prototype.slice;if(o.bind)return o.bind.apply(o,y.call(arguments,1));var w=y.call(arguments,2);return function(){return o.apply(h,w.length?w.concat(y.call(arguments)):arguments)}}var m=0;function g(o){return"_leaflet_id"in o||(o._leaflet_id=++m),o._leaflet_id}function _(o,h,y){var w,S,R,q;return q=function(){w=!1,S&&(R.apply(y,S),S=!1)},R=function(){w?S=arguments:(o.apply(y,arguments),setTimeout(q,h),w=!0)},R}function x(o,h,y){var w=h[1],S=h[0],R=w-S;return o===w&&y?o:((o-S)%R+R)%R+S}function T(){return!1}function A(o,h){if(h===!1)return o;var y=Math.pow(10,h===void 0?6:h);return Math.round(o*y)/y}function j(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function I(o){return j(o).split(/\s+/)}function z(o,h){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?c(o.options):{});for(var y in h)o.options[y]=h[y];return o.options}function k(o,h,y){var w=[];for(var S in o)w.push(encodeURIComponent(y?S.toUpperCase():S)+"="+encodeURIComponent(o[S]));return(!h||h.indexOf("?")===-1?"?":"&")+w.join("&")}var $=/\{ *([\w_ -]+) *\}/g;function Y(o,h){return o.replace($,function(y,w){var S=h[w];if(S===void 0)throw new Error("No value provided for variable "+y);return typeof S=="function"&&(S=S(h)),S})}var Q=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function ve(o,h){for(var y=0;y<o.length;y++)if(o[y]===h)return y;return-1}var he="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function we(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var F=0;function O(o){var h=+new Date,y=Math.max(0,16-(h-F));return F=h+y,window.setTimeout(o,y)}var U=window.requestAnimationFrame||we("RequestAnimationFrame")||O,W=window.cancelAnimationFrame||we("CancelAnimationFrame")||we("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function M(o,h,y){if(y&&U===O)o.call(h);else return U.call(window,u(o,h))}function G(o){o&&W.call(window,o)}var H={__proto__:null,extend:a,create:c,bind:u,get lastId(){return m},stamp:g,throttle:_,wrapNum:x,falseFn:T,formatNum:A,trim:j,splitWords:I,setOptions:z,getParamString:k,template:Y,isArray:Q,indexOf:ve,emptyImageUrl:he,requestFn:U,cancelFn:W,requestAnimFrame:M,cancelAnimFrame:G};function Ue(){}Ue.extend=function(o){var h=function(){z(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},y=h.__super__=this.prototype,w=c(y);w.constructor=h,h.prototype=w;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(h[S]=this[S]);return o.statics&&a(h,o.statics),o.includes&&(je(o.includes),a.apply(null,[w].concat(o.includes))),a(w,o),delete w.statics,delete w.includes,w.options&&(w.options=y.options?c(y.options):{},a(w.options,o.options)),w._initHooks=[],w.callInitHooks=function(){if(!this._initHooksCalled){y.callInitHooks&&y.callInitHooks.call(this),this._initHooksCalled=!0;for(var R=0,q=w._initHooks.length;R<q;R++)w._initHooks[R].call(this)}},h},Ue.include=function(o){var h=this.prototype.options;return a(this.prototype,o),o.options&&(this.prototype.options=h,this.mergeOptions(o.options)),this},Ue.mergeOptions=function(o){return a(this.prototype.options,o),this},Ue.addInitHook=function(o){var h=Array.prototype.slice.call(arguments,1),y=typeof o=="function"?o:function(){this[o].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(y),this};function je(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=Q(o)?o:[o];for(var h=0;h<o.length;h++)o[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var J={on:function(o,h,y){if(typeof o=="object")for(var w in o)this._on(w,o[w],h);else{o=I(o);for(var S=0,R=o.length;S<R;S++)this._on(o[S],h,y)}return this},off:function(o,h,y){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var w in o)this._off(w,o[w],h);else{o=I(o);for(var S=arguments.length===1,R=0,q=o.length;R<q;R++)S?this._off(o[R]):this._off(o[R],h,y)}return this},_on:function(o,h,y,w){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(o,h,y)===!1){y===this&&(y=void 0);var S={fn:h,ctx:y};w&&(S.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(S)}},_off:function(o,h,y){var w,S,R;if(this._events&&(w=this._events[o],!!w)){if(arguments.length===1){if(this._firingCount)for(S=0,R=w.length;S<R;S++)w[S].fn=T;delete this._events[o];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var q=this._listens(o,h,y);if(q!==!1){var ee=w[q];this._firingCount&&(ee.fn=T,this._events[o]=w=w.slice()),w.splice(q,1)}}},fire:function(o,h,y){if(!this.listens(o,y))return this;var w=a({},h,{type:o,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var S=this._events[o];if(S){this._firingCount=this._firingCount+1||1;for(var R=0,q=S.length;R<q;R++){var ee=S[R],oe=ee.fn;ee.once&&this.off(o,oe,ee.ctx),oe.call(ee.ctx||this,w)}this._firingCount--}}return y&&this._propagateEvent(w),this},listens:function(o,h,y,w){typeof o!="string"&&console.warn('"string" type argument expected');var S=h;typeof h!="function"&&(w=!!h,S=void 0,y=void 0);var R=this._events&&this._events[o];if(R&&R.length&&this._listens(o,S,y)!==!1)return!0;if(w){for(var q in this._eventParents)if(this._eventParents[q].listens(o,h,y,w))return!0}return!1},_listens:function(o,h,y){if(!this._events)return!1;var w=this._events[o]||[];if(!h)return!!w.length;y===this&&(y=void 0);for(var S=0,R=w.length;S<R;S++)if(w[S].fn===h&&w[S].ctx===y)return S;return!1},once:function(o,h,y){if(typeof o=="object")for(var w in o)this._on(w,o[w],h,!0);else{o=I(o);for(var S=0,R=o.length;S<R;S++)this._on(o[S],h,y,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[g(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[g(o)],this},_propagateEvent:function(o){for(var h in this._eventParents)this._eventParents[h].fire(o.type,a({layer:o.target,propagatedFrom:o.target},o),!0)}};J.addEventListener=J.on,J.removeEventListener=J.clearAllEventListeners=J.off,J.addOneTimeEventListener=J.once,J.fireEvent=J.fire,J.hasEventListeners=J.listens;var de=Ue.extend(J);function le(o,h,y){this.x=y?Math.round(o):o,this.y=y?Math.round(h):h}var Me=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};le.prototype={clone:function(){return new le(this.x,this.y)},add:function(o){return this.clone()._add(B(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(B(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new le(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new le(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Me(this.x),this.y=Me(this.y),this},distanceTo:function(o){o=B(o);var h=o.x-this.x,y=o.y-this.y;return Math.sqrt(h*h+y*y)},equals:function(o){return o=B(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=B(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+A(this.x)+", "+A(this.y)+")"}};function B(o,h,y){return o instanceof le?o:Q(o)?new le(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new le(o.x,o.y):new le(o,h,y)}function ce(o,h){if(o)for(var y=h?[o,h]:o,w=0,S=y.length;w<S;w++)this.extend(y[w])}ce.prototype={extend:function(o){var h,y;if(!o)return this;if(o instanceof le||typeof o[0]=="number"||"x"in o)h=y=B(o);else if(o=be(o),h=o.min,y=o.max,!h||!y)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=y.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(y.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(y.y,this.max.y)),this},getCenter:function(o){return B((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return B(this.min.x,this.max.y)},getTopRight:function(){return B(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var h,y;return typeof o[0]=="number"||o instanceof le?o=B(o):o=be(o),o instanceof ce?(h=o.min,y=o.max):h=y=o,h.x>=this.min.x&&y.x<=this.max.x&&h.y>=this.min.y&&y.y<=this.max.y},intersects:function(o){o=be(o);var h=this.min,y=this.max,w=o.min,S=o.max,R=S.x>=h.x&&w.x<=y.x,q=S.y>=h.y&&w.y<=y.y;return R&&q},overlaps:function(o){o=be(o);var h=this.min,y=this.max,w=o.min,S=o.max,R=S.x>h.x&&w.x<y.x,q=S.y>h.y&&w.y<y.y;return R&&q},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var h=this.min,y=this.max,w=Math.abs(h.x-y.x)*o,S=Math.abs(h.y-y.y)*o;return be(B(h.x-w,h.y-S),B(y.x+w,y.y+S))},equals:function(o){return o?(o=be(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function be(o,h){return!o||o instanceof ce?o:new ce(o,h)}function xe(o,h){if(o)for(var y=h?[o,h]:o,w=0,S=y.length;w<S;w++)this.extend(y[w])}xe.prototype={extend:function(o){var h=this._southWest,y=this._northEast,w,S;if(o instanceof Re)w=o,S=o;else if(o instanceof xe){if(w=o._southWest,S=o._northEast,!w||!S)return this}else return o?this.extend(Se(o)||Te(o)):this;return!h&&!y?(this._southWest=new Re(w.lat,w.lng),this._northEast=new Re(S.lat,S.lng)):(h.lat=Math.min(w.lat,h.lat),h.lng=Math.min(w.lng,h.lng),y.lat=Math.max(S.lat,y.lat),y.lng=Math.max(S.lng,y.lng)),this},pad:function(o){var h=this._southWest,y=this._northEast,w=Math.abs(h.lat-y.lat)*o,S=Math.abs(h.lng-y.lng)*o;return new xe(new Re(h.lat-w,h.lng-S),new Re(y.lat+w,y.lng+S))},getCenter:function(){return new Re((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Re(this.getNorth(),this.getWest())},getSouthEast:function(){return new Re(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof Re||"lat"in o?o=Se(o):o=Te(o);var h=this._southWest,y=this._northEast,w,S;return o instanceof xe?(w=o.getSouthWest(),S=o.getNorthEast()):w=S=o,w.lat>=h.lat&&S.lat<=y.lat&&w.lng>=h.lng&&S.lng<=y.lng},intersects:function(o){o=Te(o);var h=this._southWest,y=this._northEast,w=o.getSouthWest(),S=o.getNorthEast(),R=S.lat>=h.lat&&w.lat<=y.lat,q=S.lng>=h.lng&&w.lng<=y.lng;return R&&q},overlaps:function(o){o=Te(o);var h=this._southWest,y=this._northEast,w=o.getSouthWest(),S=o.getNorthEast(),R=S.lat>h.lat&&w.lat<y.lat,q=S.lng>h.lng&&w.lng<y.lng;return R&&q},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,h){return o?(o=Te(o),this._southWest.equals(o.getSouthWest(),h)&&this._northEast.equals(o.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Te(o,h){return o instanceof xe?o:new xe(o,h)}function Re(o,h,y){if(isNaN(o)||isNaN(h))throw new Error("Invalid LatLng object: ("+o+", "+h+")");this.lat=+o,this.lng=+h,y!==void 0&&(this.alt=+y)}Re.prototype={equals:function(o,h){if(!o)return!1;o=Se(o);var y=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return y<=(h===void 0?1e-9:h)},toString:function(o){return"LatLng("+A(this.lat,o)+", "+A(this.lng,o)+")"},distanceTo:function(o){return st.distance(this,Se(o))},wrap:function(){return st.wrapLatLng(this)},toBounds:function(o){var h=180*o/40075017,y=h/Math.cos(Math.PI/180*this.lat);return Te([this.lat-h,this.lng-y],[this.lat+h,this.lng+y])},clone:function(){return new Re(this.lat,this.lng,this.alt)}};function Se(o,h,y){return o instanceof Re?o:Q(o)&&typeof o[0]!="object"?o.length===3?new Re(o[0],o[1],o[2]):o.length===2?new Re(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new Re(o.lat,"lng"in o?o.lng:o.lon,o.alt):h===void 0?null:new Re(o,h,y)}var At={latLngToPoint:function(o,h){var y=this.projection.project(o),w=this.scale(h);return this.transformation._transform(y,w)},pointToLatLng:function(o,h){var y=this.scale(h),w=this.transformation.untransform(o,y);return this.projection.unproject(w)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var h=this.projection.bounds,y=this.scale(o),w=this.transformation.transform(h.min,y),S=this.transformation.transform(h.max,y);return new ce(w,S)},infinite:!1,wrapLatLng:function(o){var h=this.wrapLng?x(o.lng,this.wrapLng,!0):o.lng,y=this.wrapLat?x(o.lat,this.wrapLat,!0):o.lat,w=o.alt;return new Re(y,h,w)},wrapLatLngBounds:function(o){var h=o.getCenter(),y=this.wrapLatLng(h),w=h.lat-y.lat,S=h.lng-y.lng;if(w===0&&S===0)return o;var R=o.getSouthWest(),q=o.getNorthEast(),ee=new Re(R.lat-w,R.lng-S),oe=new Re(q.lat-w,q.lng-S);return new xe(ee,oe)}},st=a({},At,{wrapLng:[-180,180],R:6371e3,distance:function(o,h){var y=Math.PI/180,w=o.lat*y,S=h.lat*y,R=Math.sin((h.lat-o.lat)*y/2),q=Math.sin((h.lng-o.lng)*y/2),ee=R*R+Math.cos(w)*Math.cos(S)*q*q,oe=2*Math.atan2(Math.sqrt(ee),Math.sqrt(1-ee));return this.R*oe}}),mi=6378137,Pr={R:mi,MAX_LATITUDE:85.0511287798,project:function(o){var h=Math.PI/180,y=this.MAX_LATITUDE,w=Math.max(Math.min(y,o.lat),-y),S=Math.sin(w*h);return new le(this.R*o.lng*h,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(o){var h=180/Math.PI;return new Re((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*h,o.x*h/this.R)},bounds:(function(){var o=mi*Math.PI;return new ce([-o,-o],[o,o])})()};function Js(o,h,y,w){if(Q(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=h,this._c=y,this._d=w}Js.prototype={transform:function(o,h){return this._transform(o.clone(),h)},_transform:function(o,h){return h=h||1,o.x=h*(this._a*o.x+this._b),o.y=h*(this._c*o.y+this._d),o},untransform:function(o,h){return h=h||1,new le((o.x/h-this._b)/this._a,(o.y/h-this._d)/this._c)}};function es(o,h,y,w){return new Js(o,h,y,w)}var Ns=a({},st,{code:"EPSG:3857",projection:Pr,transformation:(function(){var o=.5/(Math.PI*Pr.R);return es(o,.5,-o,.5)})()}),ba=a({},Ns,{code:"EPSG:900913"});function Vl(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function wa(o,h){var y="",w,S,R,q,ee,oe;for(w=0,R=o.length;w<R;w++){for(ee=o[w],S=0,q=ee.length;S<q;S++)oe=ee[S],y+=(S?"L":"M")+oe.x+" "+oe.y;y+=h?De.svg?"z":"x":""}return y||"M0 0"}var _n=document.documentElement.style,jr="ActiveXObject"in window,Qt=jr&&!document.addEventListener,Xt="msLaunchUri"in navigator&&!("documentMode"in document),Li=xn("webkit"),Ul=xn("android"),Ta=xn("android 2")||xn("android 3"),xu=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ir=Ul&&xn("Google")&&xu<537&&!("AudioNode"in window),ts=!!window.opera,hn=!Xt&&xn("chrome"),Xn=xn("gecko")&&!Li&&!ts&&!jr,In=!hn&&xn("safari"),Bl=xn("phantom"),zo="OTransition"in _n,zl=navigator.platform.indexOf("Win")===0,Mi=jr&&"transition"in _n,ns="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ta,pi="MozPerspective"in _n,gi=!window.L_DISABLE_3D&&(Mi||ns||pi)&&!zo&&!Bl,yi=typeof orientation<"u"||xn("mobile"),Ea=yi&&Li,Fo=yi&&ns,Cs=!window.PointerEvent&&window.MSPointerEvent,Dr=!!(window.PointerEvent||Cs),Lt="ontouchstart"in window||!!window.TouchEvent,Fl=!window.L_NO_TOUCH&&(Lt||Dr),er=yi&&ts,tr=yi&&Xn,Ho=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,qo=(function(){var o=!1;try{var h=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",T,h),window.removeEventListener("testPassiveEventSupport",T,h)}catch{}return o})(),Rs=(function(){return!!document.createElement("canvas").getContext})(),Go=!!(document.createElementNS&&Vl("svg").createSVGRect),is=!!Go&&(function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Bt=!Go&&(function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var h=o.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}})(),dn=navigator.platform.indexOf("Mac")===0,Ps=navigator.platform.indexOf("Linux")===0;function xn(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var De={ie:jr,ielt9:Qt,edge:Xt,webkit:Li,android:Ul,android23:Ta,androidStock:Ir,opera:ts,chrome:hn,gecko:Xn,safari:In,phantom:Bl,opera12:zo,win:zl,ie3d:Mi,webkit3d:ns,gecko3d:pi,any3d:gi,mobile:yi,mobileWebkit:Ea,mobileWebkit3d:Fo,msPointer:Cs,pointer:Dr,touch:Fl,touchNative:Lt,mobileOpera:er,mobileGecko:tr,retina:Ho,passiveEvents:qo,canvas:Rs,svg:Go,vml:Bt,inlineSvg:is,mac:dn,linux:Ps},Hl=De.msPointer?"MSPointerDown":"pointerdown",vi=De.msPointer?"MSPointerMove":"pointermove",js=De.msPointer?"MSPointerUp":"pointerup",Lr=De.msPointer?"MSPointerCancel":"pointercancel",_i={touchstart:Hl,touchmove:vi,touchend:js,touchcancel:Lr},Oi={touchstart:Sa,touchmove:ei,touchend:ei,touchcancel:ei},Jn={},Is=!1;function zt(o,h,y){return h==="touchstart"&&Or(),Oi[h]?(y=Oi[h].bind(this,y),o.addEventListener(_i[h],y,!1),y):(console.warn("wrong event specified:",h),T)}function ql(o,h,y){if(!_i[h]){console.warn("wrong event specified:",h);return}o.removeEventListener(_i[h],y,!1)}function Mr(o){Jn[o.pointerId]=o}function ss(o){Jn[o.pointerId]&&(Jn[o.pointerId]=o)}function ki(o){delete Jn[o.pointerId]}function Or(){Is||(document.addEventListener(Hl,Mr,!0),document.addEventListener(vi,ss,!0),document.addEventListener(js,ki,!0),document.addEventListener(Lr,ki,!0),Is=!0)}function ei(o,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var y in Jn)h.touches.push(Jn[y]);h.changedTouches=[h],o(h)}}function Sa(o,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&Dt(h),ei(o,h)}function bu(o){var h={},y,w;for(w in o)y=o[w],h[w]=y&&y.bind?y.bind(o):y;return o=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var kr=200;function Vr(o,h){o.addEventListener("dblclick",h);var y=0,w;function S(R){if(R.detail!==1){w=R.detail;return}if(!(R.pointerType==="mouse"||R.sourceCapabilities&&!R.sourceCapabilities.firesTouchEvents)){var q=Na(R);if(!(q.some(function(oe){return oe instanceof HTMLLabelElement&&oe.attributes.for})&&!q.some(function(oe){return oe instanceof HTMLInputElement||oe instanceof HTMLSelectElement}))){var ee=Date.now();ee-y<=kr?(w++,w===2&&h(bu(R))):w=1,y=ee}}}return o.addEventListener("click",S),{dblclick:h,simDblclick:S}}function xi(o,h){o.removeEventListener("dblclick",h.dblclick),o.removeEventListener("click",h.simDblclick)}var Ds=nr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),rs=nr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),as=rs==="webkitTransition"||rs==="OTransition"?rs+"End":"transitionend";function Ur(o){return typeof o=="string"?document.getElementById(o):o}function os(o,h){var y=o.style[h]||o.currentStyle&&o.currentStyle[h];if((!y||y==="auto")&&document.defaultView){var w=document.defaultView.getComputedStyle(o,null);y=w?w[h]:null}return y==="auto"?null:y}function ot(o,h,y){var w=document.createElement(o);return w.className=h||"",y&&y.appendChild(w),w}function ht(o){var h=o.parentNode;h&&h.removeChild(o)}function wt(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function ti(o){var h=o.parentNode;h&&h.lastChild!==o&&h.appendChild(o)}function bi(o){var h=o.parentNode;h&&h.firstChild!==o&&h.insertBefore(o,h.firstChild)}function ls(o,h){if(o.classList!==void 0)return o.classList.contains(h);var y=Ft(o);return y.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(y)}function Ce(o,h){if(o.classList!==void 0)for(var y=I(h),w=0,S=y.length;w<S;w++)o.classList.add(y[w]);else if(!ls(o,h)){var R=Ft(o);Ls(o,(R?R+" ":"")+h)}}function vt(o,h){o.classList!==void 0?o.classList.remove(h):Ls(o,j((" "+Ft(o)+" ").replace(" "+h+" "," ")))}function Ls(o,h){o.className.baseVal===void 0?o.className=h:o.className.baseVal=h}function Ft(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function bn(o,h){"opacity"in o.style?o.style.opacity=h:"filter"in o.style&&Zo(o,h)}function Zo(o,h){var y=!1,w="DXImageTransform.Microsoft.Alpha";try{y=o.filters.item(w)}catch{if(h===1)return}h=Math.round(h*100),y?(y.Enabled=h!==100,y.Opacity=h):o.style.filter+=" progid:"+w+"(opacity="+h+")"}function nr(o){for(var h=document.documentElement.style,y=0;y<o.length;y++)if(o[y]in h)return o[y];return!1}function zn(o,h,y){var w=h||new le(0,0);o.style[Ds]=(De.ie3d?"translate("+w.x+"px,"+w.y+"px)":"translate3d("+w.x+"px,"+w.y+"px,0)")+(y?" scale("+y+")":"")}function It(o,h){o._leaflet_pos=h,De.any3d?zn(o,h):(o.style.left=h.x+"px",o.style.top=h.y+"px")}function cs(o){return o._leaflet_pos||new le(0,0)}var wn,ni,Br;if("onselectstart"in document)wn=function(){ze(window,"selectstart",Dt)},ni=function(){dt(window,"selectstart",Dt)};else{var Ms=nr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);wn=function(){if(Ms){var o=document.documentElement.style;Br=o[Ms],o[Ms]="none"}},ni=function(){Ms&&(document.documentElement.style[Ms]=Br,Br=void 0)}}function ir(){ze(window,"dragstart",Dt)}function Aa(){dt(window,"dragstart",Dt)}var zr,ii;function Fr(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(sr(),zr=o,ii=o.style.outlineStyle,o.style.outlineStyle="none",ze(window,"keydown",sr))}function sr(){zr&&(zr.style.outlineStyle=ii,zr=void 0,ii=void 0,dt(window,"keydown",sr))}function Os(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function fn(o){var h=o.getBoundingClientRect();return{x:h.width/o.offsetWidth||1,y:h.height/o.offsetHeight||1,boundingClientRect:h}}var Gl={__proto__:null,TRANSFORM:Ds,TRANSITION:rs,TRANSITION_END:as,get:Ur,getStyle:os,create:ot,remove:ht,empty:wt,toFront:ti,toBack:bi,hasClass:ls,addClass:Ce,removeClass:vt,setClass:Ls,getClass:Ft,setOpacity:bn,testProp:nr,setTransform:zn,setPosition:It,getPosition:cs,get disableTextSelection(){return wn},get enableTextSelection(){return ni},disableImageDrag:ir,enableImageDrag:Aa,preventOutline:Fr,restoreOutline:sr,getSizedParentNode:Os,getScale:fn};function ze(o,h,y,w){if(h&&typeof h=="object")for(var S in h)us(o,S,h[S],y);else{h=I(h);for(var R=0,q=h.length;R<q;R++)us(o,h[R],y,w)}return this}var Tn="_leaflet_events";function dt(o,h,y,w){if(arguments.length===1)En(o),delete o[Tn];else if(h&&typeof h=="object")for(var S in h)Fn(o,S,h[S],y);else if(h=I(h),arguments.length===2)En(o,function(ee){return ve(h,ee)!==-1});else for(var R=0,q=h.length;R<q;R++)Fn(o,h[R],y,w);return this}function En(o,h){for(var y in o[Tn]){var w=y.split(/\d/)[0];(!h||h(w))&&Fn(o,w,null,null,y)}}var Vi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function us(o,h,y,w){var S=h+g(y)+(w?"_"+g(w):"");if(o[Tn]&&o[Tn][S])return this;var R=function(ee){return y.call(w||o,ee||window.event)},q=R;!De.touchNative&&De.pointer&&h.indexOf("touch")===0?R=zt(o,h,R):De.touch&&h==="dblclick"?R=Vr(o,R):"addEventListener"in o?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?o.addEventListener(Vi[h]||h,R,De.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(R=function(ee){ee=ee||window.event,ks(o,ee)&&q(ee)},o.addEventListener(Vi[h],R,!1)):o.addEventListener(h,q,!1):o.attachEvent("on"+h,R),o[Tn]=o[Tn]||{},o[Tn][S]=R}function Fn(o,h,y,w,S){S=S||h+g(y)+(w?"_"+g(w):"");var R=o[Tn]&&o[Tn][S];if(!R)return this;!De.touchNative&&De.pointer&&h.indexOf("touch")===0?ql(o,h,R):De.touch&&h==="dblclick"?xi(o,R):"removeEventListener"in o?o.removeEventListener(Vi[h]||h,R,!1):o.detachEvent("on"+h,R),o[Tn][S]=null}function ft(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function rr(o){return us(o,"wheel",ft),this}function ar(o){return ze(o,"mousedown touchstart dblclick contextmenu",ft),o._leaflet_disable_click=!0,this}function Dt(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function si(o){return Dt(o),ft(o),this}function Na(o){if(o.composedPath)return o.composedPath();for(var h=[],y=o.target;y;)h.push(y),y=y.parentNode;return h}function Wt(o,h){if(!h)return new le(o.clientX,o.clientY);var y=fn(h),w=y.boundingClientRect;return new le((o.clientX-w.left)/y.x-h.clientLeft,(o.clientY-w.top)/y.y-h.clientTop)}var Sn=De.linux&&De.chrome?window.devicePixelRatio:De.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function or(o){return De.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/Sn:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function ks(o,h){var y=h.relatedTarget;if(!y)return!0;try{for(;y&&y!==o;)y=y.parentNode}catch{return!1}return y!==o}var Hr={__proto__:null,on:ze,off:dt,stopPropagation:ft,disableScrollPropagation:rr,disableClickPropagation:ar,preventDefault:Dt,stop:si,getPropagationPath:Na,getMousePosition:Wt,getWheelDelta:or,isExternalTarget:ks,addListener:ze,removeListener:dt},qr=de.extend({run:function(o,h,y,w){this.stop(),this._el=o,this._inProgress=!0,this._duration=y||.25,this._easeOutPower=1/Math.max(w||.5,.2),this._startPos=cs(o),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=M(this._animate,this),this._step()},_step:function(o){var h=+new Date-this._startTime,y=this._duration*1e3;h<y?this._runFrame(this._easeOut(h/y),o):(this._runFrame(1),this._complete())},_runFrame:function(o,h){var y=this._startPos.add(this._offset.multiplyBy(o));h&&y._round(),It(this._el,y),this.fire("step")},_complete:function(){G(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Qe=de.extend({options:{crs:Ns,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,h){h=z(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(Se(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=rs&&De.any3d&&!De.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ze(this._proxy,as,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,h,y){if(h=h===void 0?this._zoom:this._limitZoom(h),o=this._limitCenter(Se(o),h,this.options.maxBounds),y=y||{},this._stop(),this._loaded&&!y.reset&&y!==!0){y.animate!==void 0&&(y.zoom=a({animate:y.animate},y.zoom),y.pan=a({animate:y.animate,duration:y.duration},y.pan));var w=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,h,y.zoom):this._tryAnimatedPan(o,y.pan);if(w)return clearTimeout(this._sizeTimer),this}return this._resetView(o,h,y.pan&&y.pan.noMoveStart),this},setZoom:function(o,h){return this._loaded?this.setView(this.getCenter(),o,{zoom:h}):(this._zoom=o,this)},zoomIn:function(o,h){return o=o||(De.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,h)},zoomOut:function(o,h){return o=o||(De.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,h)},setZoomAround:function(o,h,y){var w=this.getZoomScale(h),S=this.getSize().divideBy(2),R=o instanceof le?o:this.latLngToContainerPoint(o),q=R.subtract(S).multiplyBy(1-1/w),ee=this.containerPointToLatLng(S.add(q));return this.setView(ee,h,{zoom:y})},_getBoundsCenterZoom:function(o,h){h=h||{},o=o.getBounds?o.getBounds():Te(o);var y=B(h.paddingTopLeft||h.padding||[0,0]),w=B(h.paddingBottomRight||h.padding||[0,0]),S=this.getBoundsZoom(o,!1,y.add(w));if(S=typeof h.maxZoom=="number"?Math.min(h.maxZoom,S):S,S===1/0)return{center:o.getCenter(),zoom:S};var R=w.subtract(y).divideBy(2),q=this.project(o.getSouthWest(),S),ee=this.project(o.getNorthEast(),S),oe=this.unproject(q.add(ee).divideBy(2).add(R),S);return{center:oe,zoom:S}},fitBounds:function(o,h){if(o=Te(o),!o.isValid())throw new Error("Bounds are not valid.");var y=this._getBoundsCenterZoom(o,h);return this.setView(y.center,y.zoom,h)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,h){return this.setView(o,this._zoom,{pan:h})},panBy:function(o,h){if(o=B(o).round(),h=h||{},!o.x&&!o.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new qr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){Ce(this._mapPane,"leaflet-pan-anim");var y=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,y,h.duration||.25,h.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,h,y){if(y=y||{},y.animate===!1||!De.any3d)return this.setView(o,h,y);this._stop();var w=this.project(this.getCenter()),S=this.project(o),R=this.getSize(),q=this._zoom;o=Se(o),h=h===void 0?q:h;var ee=Math.max(R.x,R.y),oe=ee*this.getZoomScale(q,h),_e=S.distanceTo(w)||1,Ae=1.42,Ie=Ae*Ae;function Oe(Ot){var ps=Ot?-1:1,zs=Ot?oe:ee,dr=oe*oe-ee*ee+ps*Ie*Ie*_e*_e,Fs=2*zs*Ie*_e,ll=dr/Fs,sc=Math.sqrt(ll*ll+1)-ll,cl=sc<1e-9?-18:Math.log(sc);return cl}function Ke(Ot){return(Math.exp(Ot)-Math.exp(-Ot))/2}function Rt(Ot){return(Math.exp(Ot)+Math.exp(-Ot))/2}function Ht(Ot){return Ke(Ot)/Rt(Ot)}var Nn=Oe(0);function Ti(Ot){return ee*(Rt(Nn)/Rt(Nn+Ae*Ot))}function Sd(Ot){return ee*(Rt(Nn)*Ht(Nn+Ae*Ot)-Ke(Nn))/Ie}function Ad(Ot){return 1-Math.pow(1-Ot,1.5)}var ol=Date.now(),qa=(Oe(1)-Nn)/Ae,Nd=y.duration?1e3*y.duration:1e3*qa*.8;function Ga(){var Ot=(Date.now()-ol)/Nd,ps=Ad(Ot)*qa;Ot<=1?(this._flyToFrame=M(Ga,this),this._move(this.unproject(w.add(S.subtract(w).multiplyBy(Sd(ps)/_e)),q),this.getScaleZoom(ee/Ti(ps),q),{flyTo:!0})):this._move(o,h)._moveEnd(!0)}return this._moveStart(!0,y.noMoveStart),Ga.call(this),this},flyToBounds:function(o,h){var y=this._getBoundsCenterZoom(o,h);return this.flyTo(y.center,y.zoom,h)},setMaxBounds:function(o){return o=Te(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var h=this.options.minZoom;return this.options.minZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var h=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,h){this._enforcingBounds=!0;var y=this.getCenter(),w=this._limitCenter(y,this._zoom,Te(o));return y.equals(w)||this.panTo(w,h),this._enforcingBounds=!1,this},panInside:function(o,h){h=h||{};var y=B(h.paddingTopLeft||h.padding||[0,0]),w=B(h.paddingBottomRight||h.padding||[0,0]),S=this.project(this.getCenter()),R=this.project(o),q=this.getPixelBounds(),ee=be([q.min.add(y),q.max.subtract(w)]),oe=ee.getSize();if(!ee.contains(R)){this._enforcingBounds=!0;var _e=R.subtract(ee.getCenter()),Ae=ee.extend(R).getSize().subtract(oe);S.x+=_e.x<0?-Ae.x:Ae.x,S.y+=_e.y<0?-Ae.y:Ae.y,this.panTo(this.unproject(S),h),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=a({animate:!1,pan:!0},o===!0?{animate:!0}:o);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var y=this.getSize(),w=h.divideBy(2).round(),S=y.divideBy(2).round(),R=w.subtract(S);return!R.x&&!R.y?this:(o.animate&&o.pan?this.panBy(R):(o.pan&&this._rawPanBy(R),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:y}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=a({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=u(this._handleGeolocationResponse,this),y=u(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,y,o):navigator.geolocation.getCurrentPosition(h,y,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var h=o.code,y=o.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+y+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var h=o.coords.latitude,y=o.coords.longitude,w=new Re(h,y),S=w.toBounds(o.coords.accuracy*2),R=this._locateOptions;if(R.setView){var q=this.getBoundsZoom(S);this.setView(w,R.maxZoom?Math.min(q,R.maxZoom):q)}var ee={latlng:w,bounds:S,timestamp:o.timestamp};for(var oe in o.coords)typeof o.coords[oe]=="number"&&(ee[oe]=o.coords[oe]);this.fire("locationfound",ee)}},addHandler:function(o,h){if(!h)return this;var y=this[o]=new h(this);return this._handlers.push(y),this.options[o]&&y.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ht(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(G(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)ht(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,h){var y="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),w=ot("div",y,h||this._mapPane);return o&&(this._panes[o]=w),w},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),h=this.unproject(o.getBottomLeft()),y=this.unproject(o.getTopRight());return new xe(h,y)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,h,y){o=Te(o),y=B(y||[0,0]);var w=this.getZoom()||0,S=this.getMinZoom(),R=this.getMaxZoom(),q=o.getNorthWest(),ee=o.getSouthEast(),oe=this.getSize().subtract(y),_e=be(this.project(ee,w),this.project(q,w)).getSize(),Ae=De.any3d?this.options.zoomSnap:1,Ie=oe.x/_e.x,Oe=oe.y/_e.y,Ke=h?Math.max(Ie,Oe):Math.min(Ie,Oe);return w=this.getScaleZoom(Ke,w),Ae&&(w=Math.round(w/(Ae/100))*(Ae/100),w=h?Math.ceil(w/Ae)*Ae:Math.floor(w/Ae)*Ae),Math.max(S,Math.min(R,w))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new le(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,h){var y=this._getTopLeftPoint(o,h);return new ce(y,y.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,h){var y=this.options.crs;return h=h===void 0?this._zoom:h,y.scale(o)/y.scale(h)},getScaleZoom:function(o,h){var y=this.options.crs;h=h===void 0?this._zoom:h;var w=y.zoom(o*y.scale(h));return isNaN(w)?1/0:w},project:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(Se(o),h)},unproject:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(B(o),h)},layerPointToLatLng:function(o){var h=B(o).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(o){var h=this.project(Se(o))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(Se(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(Te(o))},distance:function(o,h){return this.options.crs.distance(Se(o),Se(h))},containerPointToLayerPoint:function(o){return B(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return B(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var h=this.containerPointToLayerPoint(B(o));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Se(o)))},mouseEventToContainerPoint:function(o){return Wt(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var h=this._container=Ur(o);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ze(h,"scroll",this._onScroll,this),this._containerId=g(h)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&De.any3d,Ce(o,"leaflet-container"+(De.touch?" leaflet-touch":"")+(De.retina?" leaflet-retina":"")+(De.ielt9?" leaflet-oldie":"")+(De.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=os(o,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),It(this._mapPane,new le(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ce(o.markerPane,"leaflet-zoom-hide"),Ce(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,h,y){It(this._mapPane,new le(0,0));var w=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var S=this._zoom!==h;this._moveStart(S,y)._move(o,h)._moveEnd(S),this.fire("viewreset"),w&&this.fire("load")},_moveStart:function(o,h){return o&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(o,h,y,w){h===void 0&&(h=this._zoom);var S=this._zoom!==h;return this._zoom=h,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),w?y&&y.pinch&&this.fire("zoom",y):((S||y&&y.pinch)&&this.fire("zoom",y),this.fire("move",y)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return G(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){It(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[g(this._container)]=this;var h=o?dt:ze;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),De.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){G(this._resizeRequest),this._resizeRequest=M(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,h){for(var y=[],w,S=h==="mouseout"||h==="mouseover",R=o.target||o.srcElement,q=!1;R;){if(w=this._targets[g(R)],w&&(h==="click"||h==="preclick")&&this._draggableMoved(w)){q=!0;break}if(w&&w.listens(h,!0)&&(S&&!ks(R,o)||(y.push(w),S))||R===this._container)break;R=R.parentNode}return!y.length&&!q&&!S&&this.listens(h,!0)&&(y=[this]),y},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var h=o.target||o.srcElement;if(!(!this._loaded||h._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(h))){var y=o.type;y==="mousedown"&&Fr(h),this._fireDOMEvent(o,y)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,h,y){if(o.type==="click"){var w=a({},o);w.type="preclick",this._fireDOMEvent(w,w.type,y)}var S=this._findEventTargets(o,h);if(y){for(var R=[],q=0;q<y.length;q++)y[q].listens(h,!0)&&R.push(y[q]);S=R.concat(S)}if(S.length){h==="contextmenu"&&Dt(o);var ee=S[0],oe={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var _e=ee.getLatLng&&(!ee._radius||ee._radius<=10);oe.containerPoint=_e?this.latLngToContainerPoint(ee.getLatLng()):this.mouseEventToContainerPoint(o),oe.layerPoint=this.containerPointToLayerPoint(oe.containerPoint),oe.latlng=_e?ee.getLatLng():this.layerPointToLatLng(oe.layerPoint)}for(q=0;q<S.length;q++)if(S[q].fire(h,oe,!0),oe.originalEvent._stopped||S[q].options.bubblingMouseEvents===!1&&ve(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,h=this._handlers.length;o<h;o++)this._handlers[o].disable()},whenReady:function(o,h){return this._loaded?o.call(h||this,{target:this}):this.on("load",o,h),this},_getMapPanePos:function(){return cs(this._mapPane)||new le(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,h){var y=o&&h!==void 0?this._getNewPixelOrigin(o,h):this.getPixelOrigin();return y.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,h){var y=this.getSize()._divideBy(2);return this.project(o,h)._subtract(y)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,h,y){var w=this._getNewPixelOrigin(y,h);return this.project(o,h)._subtract(w)},_latLngBoundsToNewLayerBounds:function(o,h,y){var w=this._getNewPixelOrigin(y,h);return be([this.project(o.getSouthWest(),h)._subtract(w),this.project(o.getNorthWest(),h)._subtract(w),this.project(o.getSouthEast(),h)._subtract(w),this.project(o.getNorthEast(),h)._subtract(w)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,h,y){if(!y)return o;var w=this.project(o,h),S=this.getSize().divideBy(2),R=new ce(w.subtract(S),w.add(S)),q=this._getBoundsOffset(R,y,h);return Math.abs(q.x)<=1&&Math.abs(q.y)<=1?o:this.unproject(w.add(q),h)},_limitOffset:function(o,h){if(!h)return o;var y=this.getPixelBounds(),w=new ce(y.min.add(o),y.max.add(o));return o.add(this._getBoundsOffset(w,h))},_getBoundsOffset:function(o,h,y){var w=be(this.project(h.getNorthEast(),y),this.project(h.getSouthWest(),y)),S=w.min.subtract(o.min),R=w.max.subtract(o.max),q=this._rebound(S.x,-R.x),ee=this._rebound(S.y,-R.y);return new le(q,ee)},_rebound:function(o,h){return o+h>0?Math.round(o-h)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(h))},_limitZoom:function(o){var h=this.getMinZoom(),y=this.getMaxZoom(),w=De.any3d?this.options.zoomSnap:1;return w&&(o=Math.round(o/w)*w),Math.max(h,Math.min(y,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){vt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,h){var y=this._getCenterOffset(o)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(y)?!1:(this.panBy(y,h),!0)},_createAnimProxy:function(){var o=this._proxy=ot("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(h){var y=Ds,w=this._proxy.style[y];zn(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),w===this._proxy.style[y]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ht(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),h=this.getZoom();zn(this._proxy,this.project(o,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,h,y){if(this._animatingZoom)return!0;if(y=y||{},!this._zoomAnimated||y.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var w=this.getZoomScale(h),S=this._getCenterOffset(o)._divideBy(1-1/w);return y.animate!==!0&&!this.getSize().contains(S)?!1:(M(function(){this._moveStart(!0,y.noMoveStart||!1)._animateZoom(o,h,!0)},this),!0)},_animateZoom:function(o,h,y,w){this._mapPane&&(y&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=h,Ce(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:h,noUpdate:w}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&vt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function hs(o,h){return new Qe(o,h)}var mn=Ue.extend({options:{position:"topright"},initialize:function(o){z(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var h=this._map;return h&&h.removeControl(this),this.options.position=o,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var h=this._container=this.onAdd(o),y=this.getPosition(),w=o._controlCorners[y];return Ce(h,"leaflet-control"),y.indexOf("bottom")!==-1?w.insertBefore(h,w.firstChild):w.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ht(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Ui=function(o){return new mn(o)};Qe.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},h="leaflet-",y=this._controlContainer=ot("div",h+"control-container",this._container);function w(S,R){var q=h+S+" "+h+R;o[S+R]=ot("div",q,y)}w("top","left"),w("top","right"),w("bottom","left"),w("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)ht(this._controlCorners[o]);ht(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Zl=mn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,h,y,w){return y<w?-1:w<y?1:0}},initialize:function(o,h,y){z(this,y),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var w in o)this._addLayer(o[w],w);for(w in h)this._addLayer(h[w],w,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return mn.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,h){return this._addLayer(o,h),this._map?this._update():this},addOverlay:function(o,h){return this._addLayer(o,h,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var h=this._getLayer(g(o));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){Ce(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Ce(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):vt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return vt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",h=this._container=ot("div",o),y=this.options.collapsed;h.setAttribute("aria-haspopup",!0),ar(h),rr(h);var w=this._section=ot("section",o+"-list");y&&(this._map.on("click",this.collapse,this),ze(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=ot("a",o+"-toggle",h);S.href="#",S.title="Layers",S.setAttribute("role","button"),ze(S,{keydown:function(R){R.keyCode===13&&this._expandSafely()},click:function(R){Dt(R),this._expandSafely()}},this),y||this.expand(),this._baseLayersList=ot("div",o+"-base",w),this._separator=ot("div",o+"-separator",w),this._overlaysList=ot("div",o+"-overlays",w),h.appendChild(w)},_getLayer:function(o){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&g(this._layers[h].layer)===o)return this._layers[h]},_addLayer:function(o,h,y){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:h,overlay:y}),this.options.sortLayers&&this._layers.sort(u(function(w,S){return this.options.sortFunction(w.layer,S.layer,w.name,S.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;wt(this._baseLayersList),wt(this._overlaysList),this._layerControlInputs=[];var o,h,y,w,S=0;for(y=0;y<this._layers.length;y++)w=this._layers[y],this._addItem(w),h=h||w.overlay,o=o||!w.overlay,S+=w.overlay?0:1;return this.options.hideSingleBase&&(o=o&&S>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=h&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var h=this._getLayer(g(o.target)),y=h.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;y&&this._map.fire(y,h)},_createRadioElement:function(o,h){var y='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(h?' checked="checked"':"")+"/>",w=document.createElement("div");return w.innerHTML=y,w.firstChild},_addItem:function(o){var h=document.createElement("label"),y=this._map.hasLayer(o.layer),w;o.overlay?(w=document.createElement("input"),w.type="checkbox",w.className="leaflet-control-layers-selector",w.defaultChecked=y):w=this._createRadioElement("leaflet-base-layers_"+g(this),y),this._layerControlInputs.push(w),w.layerId=g(o.layer),ze(w,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+o.name;var R=document.createElement("span");h.appendChild(R),R.appendChild(w),R.appendChild(S);var q=o.overlay?this._overlaysList:this._baseLayersList;return q.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,h,y,w=[],S=[];this._handlingClick=!0;for(var R=o.length-1;R>=0;R--)h=o[R],y=this._getLayer(h.layerId).layer,h.checked?w.push(y):h.checked||S.push(y);for(R=0;R<S.length;R++)this._map.hasLayer(S[R])&&this._map.removeLayer(S[R]);for(R=0;R<w.length;R++)this._map.hasLayer(w[R])||this._map.addLayer(w[R]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,h,y,w=this._map.getZoom(),S=o.length-1;S>=0;S--)h=o[S],y=this._getLayer(h.layerId).layer,h.disabled=y.options.minZoom!==void 0&&w<y.options.minZoom||y.options.maxZoom!==void 0&&w>y.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,ze(o,"click",Dt),this.expand();var h=this;setTimeout(function(){dt(o,"click",Dt),h._preventClick=!1})}}),Wl=function(o,h,y){return new Zl(o,h,y)},Vs=mn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var h="leaflet-control-zoom",y=ot("div",h+" leaflet-bar"),w=this.options;return this._zoomInButton=this._createButton(w.zoomInText,w.zoomInTitle,h+"-in",y,this._zoomIn),this._zoomOutButton=this._createButton(w.zoomOutText,w.zoomOutTitle,h+"-out",y,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),y},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,h,y,w,S){var R=ot("a",y,w);return R.innerHTML=o,R.href="#",R.title=h,R.setAttribute("role","button"),R.setAttribute("aria-label",h),ar(R),ze(R,"click",si),ze(R,"click",S,this),ze(R,"click",this._refocusOnMap,this),R},_updateDisabled:function(){var o=this._map,h="leaflet-disabled";vt(this._zoomInButton,h),vt(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Ce(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Ce(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});Qe.mergeOptions({zoomControl:!0}),Qe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Vs,this.addControl(this.zoomControl))});var Ca=function(o){return new Vs(o)},Wo=mn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var h="leaflet-control-scale",y=ot("div",h),w=this.options;return this._addScales(w,h+"-line",y),o.on(w.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),y},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,h,y){o.metric&&(this._mScale=ot("div",h,y)),o.imperial&&(this._iScale=ot("div",h,y))},_update:function(){var o=this._map,h=o.getSize().y/2,y=o.distance(o.containerPointToLatLng([0,h]),o.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(y)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var h=this._getRoundNum(o),y=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,y,h/o)},_updateImperial:function(o){var h=o*3.2808399,y,w,S;h>5280?(y=h/5280,w=this._getRoundNum(y),this._updateScale(this._iScale,w+" mi",w/y)):(S=this._getRoundNum(h),this._updateScale(this._iScale,S+" ft",S/h))},_updateScale:function(o,h,y){o.style.width=Math.round(this.options.maxWidth*y)+"px",o.innerHTML=h},_getRoundNum:function(o){var h=Math.pow(10,(Math.floor(o)+"").length-1),y=o/h;return y=y>=10?10:y>=5?5:y>=3?3:y>=2?2:1,h*y}}),Ko=function(o){return new Wo(o)},$o='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ra=mn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(De.inlineSvg?$o+" ":"")+"Leaflet</a>"},initialize:function(o){z(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=ot("div","leaflet-control-attribution"),ar(this._container);for(var h in o._layers)o._layers[h].getAttribution&&this.addAttribution(o._layers[h].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var h in this._attributions)this._attributions[h]&&o.push(h);var y=[];this.options.prefix&&y.push(this.options.prefix),o.length&&y.push(o.join(", ")),this._container.innerHTML=y.join(' <span aria-hidden="true">|</span> ')}}});Qe.mergeOptions({attributionControl:!0}),Qe.addInitHook(function(){this.options.attributionControl&&new Ra().addTo(this)});var Pa=function(o){return new Ra(o)};mn.Layers=Zl,mn.Zoom=Vs,mn.Scale=Wo,mn.Attribution=Ra,Ui.layers=Wl,Ui.zoom=Ca,Ui.scale=Ko,Ui.attribution=Pa;var Hn=Ue.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Hn.addTo=function(o,h){return o.addHandler(h,this),this};var Kl={Events:J},ds=De.touch?"touchstart mousedown":"mousedown",Bi=de.extend({options:{clickTolerance:3},initialize:function(o,h,y,w){z(this,w),this._element=o,this._dragStartTarget=h||o,this._preventOutline=y},enable:function(){this._enabled||(ze(this._dragStartTarget,ds,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Bi._dragging===this&&this.finishDrag(!0),dt(this._dragStartTarget,ds,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!ls(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Bi._dragging===this&&this.finishDrag();return}if(!(Bi._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Bi._dragging=this,this._preventOutline&&Fr(this._element),ir(),wn(),!this._moving)){this.fire("down");var h=o.touches?o.touches[0]:o,y=Os(this._element);this._startPoint=new le(h.clientX,h.clientY),this._startPos=cs(this._element),this._parentScale=fn(y);var w=o.type==="mousedown";ze(document,w?"mousemove":"touchmove",this._onMove,this),ze(document,w?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var h=o.touches&&o.touches.length===1?o.touches[0]:o,y=new le(h.clientX,h.clientY)._subtract(this._startPoint);!y.x&&!y.y||Math.abs(y.x)+Math.abs(y.y)<this.options.clickTolerance||(y.x/=this._parentScale.x,y.y/=this._parentScale.y,Dt(o),this._moved||(this.fire("dragstart"),this._moved=!0,Ce(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ce(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(y),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),It(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){vt(document.body,"leaflet-dragging"),this._lastTarget&&(vt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),dt(document,"mousemove touchmove",this._onMove,this),dt(document,"mouseup touchend touchcancel",this._onUp,this),Aa(),ni();var h=this._moved&&this._moving;this._moving=!1,Bi._dragging=!1,h&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function Yo(o,h,y){var w,S=[1,4,2,8],R,q,ee,oe,_e,Ae,Ie,Oe;for(R=0,Ae=o.length;R<Ae;R++)o[R]._code=re(o[R],h);for(ee=0;ee<4;ee++){for(Ie=S[ee],w=[],R=0,Ae=o.length,q=Ae-1;R<Ae;q=R++)oe=o[R],_e=o[q],oe._code&Ie?_e._code&Ie||(Oe=te(_e,oe,Ie,h,y),Oe._code=re(Oe,h),w.push(Oe)):(_e._code&Ie&&(Oe=te(_e,oe,Ie,h,y),Oe._code=re(Oe,h),w.push(Oe)),w.push(oe));o=w}return o}function Gr(o,h){var y,w,S,R,q,ee,oe,_e,Ae;if(!o||o.length===0)throw new Error("latlngs not passed");nt(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Ie=Se([0,0]),Oe=Te(o),Ke=Oe.getNorthWest().distanceTo(Oe.getSouthWest())*Oe.getNorthEast().distanceTo(Oe.getNorthWest());Ke<1700&&(Ie=ja(o));var Rt=o.length,Ht=[];for(y=0;y<Rt;y++){var Nn=Se(o[y]);Ht.push(h.project(Se([Nn.lat-Ie.lat,Nn.lng-Ie.lng])))}for(ee=oe=_e=0,y=0,w=Rt-1;y<Rt;w=y++)S=Ht[y],R=Ht[w],q=S.y*R.x-R.y*S.x,oe+=(S.x+R.x)*q,_e+=(S.y+R.y)*q,ee+=q*3;ee===0?Ae=Ht[0]:Ae=[oe/ee,_e/ee];var Ti=h.unproject(B(Ae));return Se([Ti.lat+Ie.lat,Ti.lng+Ie.lng])}function ja(o){for(var h=0,y=0,w=0,S=0;S<o.length;S++){var R=Se(o[S]);h+=R.lat,y+=R.lng,w++}return Se([h/w,y/w])}var Ia={__proto__:null,clipPolygon:Yo,polygonCenter:Gr,centroid:ja};function An(o,h){if(!h||!o.length)return o.slice();var y=h*h;return o=E(o,y),o=lr(o,y),o}function Da(o,h,y){return Math.sqrt(Fe(o,h,y,!0))}function $l(o,h,y){return Fe(o,h,y)}function lr(o,h){var y=o.length,w=typeof Uint8Array<"u"?Uint8Array:Array,S=new w(y);S[0]=S[y-1]=1,p(o,S,h,0,y-1);var R,q=[];for(R=0;R<y;R++)S[R]&&q.push(o[R]);return q}function p(o,h,y,w,S){var R=0,q,ee,oe;for(ee=w+1;ee<=S-1;ee++)oe=Fe(o[ee],o[w],o[S],!0),oe>R&&(q=ee,R=oe);R>y&&(h[q]=1,p(o,h,y,w,q),p(o,h,y,q,S))}function E(o,h){for(var y=[o[0]],w=1,S=0,R=o.length;w<R;w++)Ee(o[w],o[S])>h&&(y.push(o[w]),S=w);return S<R-1&&y.push(o[R-1]),y}var N;function D(o,h,y,w,S){var R=w?N:re(o,y),q=re(h,y),ee,oe,_e;for(N=q;;){if(!(R|q))return[o,h];if(R&q)return!1;ee=R||q,oe=te(o,h,ee,y,S),_e=re(oe,y),ee===R?(o=oe,R=_e):(h=oe,q=_e)}}function te(o,h,y,w,S){var R=h.x-o.x,q=h.y-o.y,ee=w.min,oe=w.max,_e,Ae;return y&8?(_e=o.x+R*(oe.y-o.y)/q,Ae=oe.y):y&4?(_e=o.x+R*(ee.y-o.y)/q,Ae=ee.y):y&2?(_e=oe.x,Ae=o.y+q*(oe.x-o.x)/R):y&1&&(_e=ee.x,Ae=o.y+q*(ee.x-o.x)/R),new le(_e,Ae,S)}function re(o,h){var y=0;return o.x<h.min.x?y|=1:o.x>h.max.x&&(y|=2),o.y<h.min.y?y|=4:o.y>h.max.y&&(y|=8),y}function Ee(o,h){var y=h.x-o.x,w=h.y-o.y;return y*y+w*w}function Fe(o,h,y,w){var S=h.x,R=h.y,q=y.x-S,ee=y.y-R,oe=q*q+ee*ee,_e;return oe>0&&(_e=((o.x-S)*q+(o.y-R)*ee)/oe,_e>1?(S=y.x,R=y.y):_e>0&&(S+=q*_e,R+=ee*_e)),q=o.x-S,ee=o.y-R,w?q*q+ee*ee:new le(S,R)}function nt(o){return!Q(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function gt(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),nt(o)}function Mt(o,h){var y,w,S,R,q,ee,oe,_e;if(!o||o.length===0)throw new Error("latlngs not passed");nt(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Ae=Se([0,0]),Ie=Te(o),Oe=Ie.getNorthWest().distanceTo(Ie.getSouthWest())*Ie.getNorthEast().distanceTo(Ie.getNorthWest());Oe<1700&&(Ae=ja(o));var Ke=o.length,Rt=[];for(y=0;y<Ke;y++){var Ht=Se(o[y]);Rt.push(h.project(Se([Ht.lat-Ae.lat,Ht.lng-Ae.lng])))}for(y=0,w=0;y<Ke-1;y++)w+=Rt[y].distanceTo(Rt[y+1])/2;if(w===0)_e=Rt[0];else for(y=0,R=0;y<Ke-1;y++)if(q=Rt[y],ee=Rt[y+1],S=q.distanceTo(ee),R+=S,R>w){oe=(R-w)/S,_e=[ee.x-oe*(ee.x-q.x),ee.y-oe*(ee.y-q.y)];break}var Nn=h.unproject(B(_e));return Se([Nn.lat+Ae.lat,Nn.lng+Ae.lng])}var ri={__proto__:null,simplify:An,pointToSegmentDistance:Da,closestPointOnSegment:$l,clipSegment:D,_getEdgeIntersection:te,_getBitCode:re,_sqClosestPointOnSegment:Fe,isFlat:nt,_flat:gt,polylineCenter:Mt},wi={project:function(o){return new le(o.lng,o.lat)},unproject:function(o){return new Re(o.y,o.x)},bounds:new ce([-180,-90],[180,90])},ai={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ce([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var h=Math.PI/180,y=this.R,w=o.lat*h,S=this.R_MINOR/y,R=Math.sqrt(1-S*S),q=R*Math.sin(w),ee=Math.tan(Math.PI/4-w/2)/Math.pow((1-q)/(1+q),R/2);return w=-y*Math.log(Math.max(ee,1e-10)),new le(o.lng*h*y,w)},unproject:function(o){for(var h=180/Math.PI,y=this.R,w=this.R_MINOR/y,S=Math.sqrt(1-w*w),R=Math.exp(-o.y/y),q=Math.PI/2-2*Math.atan(R),ee=0,oe=.1,_e;ee<15&&Math.abs(oe)>1e-7;ee++)_e=S*Math.sin(q),_e=Math.pow((1-_e)/(1+_e),S/2),oe=Math.PI/2-2*Math.atan(R*_e)-q,q+=oe;return new Re(q*h,o.x*h/y)}},zi={__proto__:null,LonLat:wi,Mercator:ai,SphericalMercator:Pr},Fi=a({},st,{code:"EPSG:3395",projection:ai,transformation:(function(){var o=.5/(Math.PI*ai.R);return es(o,.5,-o,.5)})()}),La=a({},st,{code:"EPSG:4326",projection:wi,transformation:es(1/180,1,-1/180,.5)}),cp=a({},At,{projection:wi,transformation:es(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,h){var y=h.lng-o.lng,w=h.lat-o.lat;return Math.sqrt(y*y+w*w)},infinite:!0});At.Earth=st,At.EPSG3395=Fi,At.EPSG3857=Ns,At.EPSG900913=ba,At.EPSG4326=La,At.Simple=cp;var Hi=de.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[g(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[g(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var h=o.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var y=this.getEvents();h.on(y,this),this.once("remove",function(){h.off(y,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});Qe.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var h=g(o);return this._layers[h]?this:(this._layers[h]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var h=g(o);return this._layers[h]?(this._loaded&&o.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return g(o)in this._layers},eachLayer:function(o,h){for(var y in this._layers)o.call(h,this._layers[y]);return this},_addLayers:function(o){o=o?Q(o)?o:[o]:[];for(var h=0,y=o.length;h<y;h++)this.addLayer(o[h])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[g(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var h=g(o);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,h=-1/0,y=this._getZoomSpan();for(var w in this._zoomBoundLayers){var S=this._zoomBoundLayers[w].options;o=S.minZoom===void 0?o:Math.min(o,S.minZoom),h=S.maxZoom===void 0?h:Math.max(h,S.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=o===1/0?void 0:o,y!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Zr=Hi.extend({initialize:function(o,h){z(this,h),this._layers={};var y,w;if(o)for(y=0,w=o.length;y<w;y++)this.addLayer(o[y])},addLayer:function(o){var h=this.getLayerId(o);return this._layers[h]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var h=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(o){var h=typeof o=="number"?o:this.getLayerId(o);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var h=Array.prototype.slice.call(arguments,1),y,w;for(y in this._layers)w=this._layers[y],w[o]&&w[o].apply(w,h);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,h){for(var y in this._layers)o.call(h,this._layers[y]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return g(o)}}),vd=function(o,h){return new Zr(o,h)},oi=Zr.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Zr.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Zr.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new xe;for(var h in this._layers){var y=this._layers[h];o.extend(y.getBounds?y.getBounds():y.getLatLng())}return o}}),Qo=function(o,h){return new oi(o,h)},Ma=Ue.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){z(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,h){var y=this._getIconUrl(o);if(!y){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var w=this._createImg(y,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(w,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),w},_setIconStyles:function(o,h){var y=this.options,w=y[h+"Size"];typeof w=="number"&&(w=[w,w]);var S=B(w),R=B(h==="shadow"&&y.shadowAnchor||y.iconAnchor||S&&S.divideBy(2,!0));o.className="leaflet-marker-"+h+" "+(y.className||""),R&&(o.style.marginLeft=-R.x+"px",o.style.marginTop=-R.y+"px"),S&&(o.style.width=S.x+"px",o.style.height=S.y+"px")},_createImg:function(o,h){return h=h||document.createElement("img"),h.src=o,h},_getIconUrl:function(o){return De.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function Yl(o){return new Ma(o)}var Oa=Ma.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Oa.imagePath!="string"&&(Oa.imagePath=this._detectIconPath()),(this.options.imagePath||Oa.imagePath)+Ma.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var h=function(y,w,S){var R=w.exec(y);return R&&R[S]};return o=h(o,/^url\((['"])?(.+)\1\)$/,2),o&&h(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=ot("div","leaflet-default-icon-path",document.body),h=os(o,"background-image")||os(o,"backgroundImage");if(document.body.removeChild(o),h=this._stripUrl(h),h)return h;var y=document.querySelector('link[href$="leaflet.css"]');return y?y.href.substring(0,y.href.length-11-1):""}}),wu=Hn.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Bi(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ce(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&vt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var h=this._marker,y=h._map,w=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,R=cs(h._icon),q=y.getPixelBounds(),ee=y.getPixelOrigin(),oe=be(q.min._subtract(ee).add(S),q.max._subtract(ee).subtract(S));if(!oe.contains(R)){var _e=B((Math.max(oe.max.x,R.x)-oe.max.x)/(q.max.x-oe.max.x)-(Math.min(oe.min.x,R.x)-oe.min.x)/(q.min.x-oe.min.x),(Math.max(oe.max.y,R.y)-oe.max.y)/(q.max.y-oe.max.y)-(Math.min(oe.min.y,R.y)-oe.min.y)/(q.min.y-oe.min.y)).multiplyBy(w);y.panBy(_e,{animate:!1}),this._draggable._newPos._add(_e),this._draggable._startPos._add(_e),It(h._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=M(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(G(this._panRequest),this._panRequest=M(this._adjustPan.bind(this,o)))},_onDrag:function(o){var h=this._marker,y=h._shadow,w=cs(h._icon),S=h._map.layerPointToLatLng(w);y&&It(y,w),h._latlng=S,o.latlng=S,o.oldLatLng=this._oldLatLng,h.fire("move",o).fire("drag",o)},_onDragEnd:function(o){G(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),ka=Hi.extend({options:{icon:new Oa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,h){z(this,h),this._latlng=Se(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var h=this._latlng;return this._latlng=Se(o),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),y=o.icon.createIcon(this._icon),w=!1;y!==this._icon&&(this._icon&&this._removeIcon(),w=!0,o.title&&(y.title=o.title),y.tagName==="IMG"&&(y.alt=o.alt||"")),Ce(y,h),o.keyboard&&(y.tabIndex="0",y.setAttribute("role","button")),this._icon=y,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ze(y,"focus",this._panOnFocus,this);var S=o.icon.createShadow(this._shadow),R=!1;S!==this._shadow&&(this._removeShadow(),R=!0),S&&(Ce(S,h),S.alt=""),this._shadow=S,o.opacity<1&&this._updateOpacity(),w&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&R&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&dt(this._icon,"focus",this._panOnFocus,this),ht(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ht(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&It(this._icon,o),this._shadow&&It(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(Ce(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),wu)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new wu(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&bn(this._icon,o),this._shadow&&bn(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var h=this.options.icon.options,y=h.iconSize?B(h.iconSize):B(0,0),w=h.iconAnchor?B(h.iconAnchor):B(0,0);o.panInside(this._latlng,{paddingTopLeft:w,paddingBottomRight:y.subtract(w)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Tu(o,h){return new ka(o,h)}var Us=Hi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return z(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Xo=Us.extend({options:{fill:!0,radius:10},initialize:function(o,h){z(this,h),this._latlng=Se(o),this._radius=this.options.radius},setLatLng:function(o){var h=this._latlng;return this._latlng=Se(o),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var h=o&&o.radius||this._radius;return Us.prototype.setStyle.call(this,o),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,h=this._radiusY||o,y=this._clickTolerance(),w=[o+y,h+y];this._pxBounds=new ce(this._point.subtract(w),this._point.add(w))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function _d(o,h){return new Xo(o,h)}var Eu=Xo.extend({initialize:function(o,h,y){if(typeof h=="number"&&(h=a({},y,{radius:h})),z(this,h),this._latlng=Se(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new xe(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Us.prototype.setStyle,_project:function(){var o=this._latlng.lng,h=this._latlng.lat,y=this._map,w=y.options.crs;if(w.distance===st.distance){var S=Math.PI/180,R=this._mRadius/st.R/S,q=y.project([h+R,o]),ee=y.project([h-R,o]),oe=q.add(ee).divideBy(2),_e=y.unproject(oe).lat,Ae=Math.acos((Math.cos(R*S)-Math.sin(h*S)*Math.sin(_e*S))/(Math.cos(h*S)*Math.cos(_e*S)))/S;(isNaN(Ae)||Ae===0)&&(Ae=R/Math.cos(Math.PI/180*h)),this._point=oe.subtract(y.getPixelOrigin()),this._radius=isNaN(Ae)?0:oe.x-y.project([_e,o-Ae]).x,this._radiusY=oe.y-q.y}else{var Ie=w.unproject(w.project(this._latlng).subtract([this._mRadius,0]));this._point=y.latLngToLayerPoint(this._latlng),this._radius=this._point.x-y.latLngToLayerPoint(Ie).x}this._updateBounds()}});function up(o,h,y){return new Eu(o,h,y)}var Bs=Us.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,h){z(this,h),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var h=1/0,y=null,w=Fe,S,R,q=0,ee=this._parts.length;q<ee;q++)for(var oe=this._parts[q],_e=1,Ae=oe.length;_e<Ae;_e++){S=oe[_e-1],R=oe[_e];var Ie=w(o,S,R,!0);Ie<h&&(h=Ie,y=w(o,S,R))}return y&&(y.distance=Math.sqrt(h)),y},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Mt(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,h){return h=h||this._defaultShape(),o=Se(o),h.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new xe,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return nt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var h=[],y=nt(o),w=0,S=o.length;w<S;w++)y?(h[w]=Se(o[w]),this._bounds.extend(h[w])):h[w]=this._convertLatLngs(o[w]);return h},_project:function(){var o=new ce;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),h=new le(o,o);this._rawPxBounds&&(this._pxBounds=new ce([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(o,h,y){var w=o[0]instanceof Re,S=o.length,R,q;if(w){for(q=[],R=0;R<S;R++)q[R]=this._map.latLngToLayerPoint(o[R]),y.extend(q[R]);h.push(q)}else for(R=0;R<S;R++)this._projectLatlngs(o[R],h,y)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,y,w,S,R,q,ee,oe;for(y=0,S=0,R=this._rings.length;y<R;y++)for(oe=this._rings[y],w=0,q=oe.length;w<q-1;w++)ee=D(oe[w],oe[w+1],o,w,!0),ee&&(h[S]=h[S]||[],h[S].push(ee[0]),(ee[1]!==oe[w+1]||w===q-2)&&(h[S].push(ee[1]),S++))}},_simplifyPoints:function(){for(var o=this._parts,h=this.options.smoothFactor,y=0,w=o.length;y<w;y++)o[y]=An(o[y],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,h){var y,w,S,R,q,ee,oe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(y=0,R=this._parts.length;y<R;y++)for(ee=this._parts[y],w=0,q=ee.length,S=q-1;w<q;S=w++)if(!(!h&&w===0)&&Da(o,ee[S],ee[w])<=oe)return!0;return!1}});function hp(o,h){return new Bs(o,h)}Bs._flat=gt;var Va=Bs.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Gr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var h=Bs.prototype._convertLatLngs.call(this,o),y=h.length;return y>=2&&h[0]instanceof Re&&h[0].equals(h[y-1])&&h.pop(),h},_setLatLngs:function(o){Bs.prototype._setLatLngs.call(this,o),nt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return nt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,h=this.options.weight,y=new le(h,h);if(o=new ce(o.min.subtract(y),o.max.add(y)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var w=0,S=this._rings.length,R;w<S;w++)R=Yo(this._rings[w],o,!0),R.length&&this._parts.push(R)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var h=!1,y,w,S,R,q,ee,oe,_e;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(R=0,oe=this._parts.length;R<oe;R++)for(y=this._parts[R],q=0,_e=y.length,ee=_e-1;q<_e;ee=q++)w=y[q],S=y[ee],w.y>o.y!=S.y>o.y&&o.x<(S.x-w.x)*(o.y-w.y)/(S.y-w.y)+w.x&&(h=!h);return h||Bs.prototype._containsPoint.call(this,o,!0)}});function li(o,h){return new Va(o,h)}var ci=oi.extend({initialize:function(o,h){z(this,h),this._layers={},o&&this.addData(o)},addData:function(o){var h=Q(o)?o:o.features,y,w,S;if(h){for(y=0,w=h.length;y<w;y++)S=h[y],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var R=this.options;if(R.filter&&!R.filter(o))return this;var q=Jo(o,R);return q?(q.feature=Ua(o),q.defaultOptions=q.options,this.resetStyle(q),R.onEachFeature&&R.onEachFeature(o,q),this.addLayer(q)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=a({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(h){this._setLayerStyle(h,o)},this)},_setLayerStyle:function(o,h){o.setStyle&&(typeof h=="function"&&(h=h(o.feature)),o.setStyle(h))}});function Jo(o,h){var y=o.type==="Feature"?o.geometry:o,w=y?y.coordinates:null,S=[],R=h&&h.pointToLayer,q=h&&h.coordsToLatLng||Ql,ee,oe,_e,Ae;if(!w&&!y)return null;switch(y.type){case"Point":return ee=q(w),Su(R,o,ee,h);case"MultiPoint":for(_e=0,Ae=w.length;_e<Ae;_e++)ee=q(w[_e]),S.push(Su(R,o,ee,h));return new oi(S);case"LineString":case"MultiLineString":return oe=el(w,y.type==="LineString"?0:1,q),new Bs(oe,h);case"Polygon":case"MultiPolygon":return oe=el(w,y.type==="Polygon"?1:2,q),new Va(oe,h);case"GeometryCollection":for(_e=0,Ae=y.geometries.length;_e<Ae;_e++){var Ie=Jo({geometry:y.geometries[_e],type:"Feature",properties:o.properties},h);Ie&&S.push(Ie)}return new oi(S);case"FeatureCollection":for(_e=0,Ae=y.features.length;_e<Ae;_e++){var Oe=Jo(y.features[_e],h);Oe&&S.push(Oe)}return new oi(S);default:throw new Error("Invalid GeoJSON object.")}}function Su(o,h,y,w){return o?o(h,y):new ka(y,w&&w.markersInheritOptions&&w)}function Ql(o){return new Re(o[1],o[0],o[2])}function el(o,h,y){for(var w=[],S=0,R=o.length,q;S<R;S++)q=h?el(o[S],h-1,y):(y||Ql)(o[S]),w.push(q);return w}function tl(o,h){return o=Se(o),o.alt!==void 0?[A(o.lng,h),A(o.lat,h),A(o.alt,h)]:[A(o.lng,h),A(o.lat,h)]}function Xl(o,h,y,w){for(var S=[],R=0,q=o.length;R<q;R++)S.push(h?Xl(o[R],nt(o[R])?0:h-1,y,w):tl(o[R],w));return!h&&y&&S.length>0&&S.push(S[0].slice()),S}function qi(o,h){return o.feature?a({},o.feature,{geometry:h}):Ua(h)}function Ua(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var Wr={toGeoJSON:function(o){return qi(this,{type:"Point",coordinates:tl(this.getLatLng(),o)})}};ka.include(Wr),Eu.include(Wr),Xo.include(Wr),Bs.include({toGeoJSON:function(o){var h=!nt(this._latlngs),y=Xl(this._latlngs,h?1:0,!1,o);return qi(this,{type:(h?"Multi":"")+"LineString",coordinates:y})}}),Va.include({toGeoJSON:function(o){var h=!nt(this._latlngs),y=h&&!nt(this._latlngs[0]),w=Xl(this._latlngs,y?2:h?1:0,!0,o);return h||(w=[w]),qi(this,{type:(y?"Multi":"")+"Polygon",coordinates:w})}}),Zr.include({toMultiPoint:function(o){var h=[];return this.eachLayer(function(y){h.push(y.toGeoJSON(o).geometry.coordinates)}),qi(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(o){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(o);var y=h==="GeometryCollection",w=[];return this.eachLayer(function(S){if(S.toGeoJSON){var R=S.toGeoJSON(o);if(y)w.push(R.geometry);else{var q=Ua(R);q.type==="FeatureCollection"?w.push.apply(w,q.features):w.push(q)}}}),y?qi(this,{geometries:w,type:"GeometryCollection"}):{type:"FeatureCollection",features:w}}});function Jl(o,h){return new ci(o,h)}var xd=Jl,fs=Hi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,h,y){this._url=o,this._bounds=Te(h),z(this,y)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ce(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ht(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&ti(this._image),this},bringToBack:function(){return this._map&&bi(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=Te(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",h=this._image=o?this._url:ot("img");if(Ce(h,"leaflet-image-layer"),this._zoomAnimated&&Ce(h,"leaflet-zoom-animated"),this.options.className&&Ce(h,this.options.className),h.onselectstart=T,h.onmousemove=T,h.onload=u(this.fire,this,"load"),h.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(o){var h=this._map.getZoomScale(o.zoom),y=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;zn(this._image,y,h)},_reset:function(){var o=this._image,h=new ce(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),y=h.getSize();It(o,h.min),o.style.width=y.x+"px",o.style.height=y.y+"px"},_updateOpacity:function(){bn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),Ba=function(o,h,y){return new fs(o,h,y)},ec=fs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",h=this._image=o?this._url:ot("video");if(Ce(h,"leaflet-image-layer"),this._zoomAnimated&&Ce(h,"leaflet-zoom-animated"),this.options.className&&Ce(h,this.options.className),h.onselectstart=T,h.onmousemove=T,h.onloadeddata=u(this.fire,this,"load"),o){for(var y=h.getElementsByTagName("source"),w=[],S=0;S<y.length;S++)w.push(y[S].src);this._url=y.length>0?w:[h.src];return}Q(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var R=0;R<this._url.length;R++){var q=ot("source");q.src=this._url[R],h.appendChild(q)}}});function bd(o,h,y){return new ec(o,h,y)}var cr=fs.extend({_initImage:function(){var o=this._image=this._url;Ce(o,"leaflet-image-layer"),this._zoomAnimated&&Ce(o,"leaflet-zoom-animated"),this.options.className&&Ce(o,this.options.className),o.onselectstart=T,o.onmousemove=T}});function wd(o,h,y){return new cr(o,h,y)}var Gi=Hi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,h){o&&(o instanceof Re||Q(o))?(this._latlng=Se(o),z(this,h)):(z(this,o),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&bn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&bn(this._container,1),this.bringToFront(),this.options.interactive&&(Ce(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(bn(this._container,0),this._removeTimeout=setTimeout(u(ht,void 0,this._container),200)):ht(this._container),this.options.interactive&&(vt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=Se(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ti(this._container),this},bringToBack:function(){return this._map&&bi(this._container),this},_prepareOpen:function(o){var h=this._source;if(!h._map)return!1;if(h instanceof oi){h=null;var y=this._source._layers;for(var w in y)if(y[w]._map){h=y[w];break}if(!h)return!1;this._source=h}if(!o)if(h.getCenter)o=h.getCenter();else if(h.getLatLng)o=h.getLatLng();else if(h.getBounds)o=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")o.innerHTML=h;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),h=B(this.options.offset),y=this._getAnchor();this._zoomAnimated?It(this._container,o.add(y)):h=h.add(o).add(y);var w=this._containerBottom=-h.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=w+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});Qe.include({_initOverlay:function(o,h,y,w){var S=h;return S instanceof o||(S=new o(w).setContent(h)),y&&S.setLatLng(y),S}}),Hi.include({_initOverlay:function(o,h,y,w){var S=y;return S instanceof o?(z(S,w),S._source=this):(S=h&&!w?h:new o(w,this),S.setContent(y)),S}});var nl=Gi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,Gi.prototype.openOn.call(this,o)},onAdd:function(o){Gi.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Us||this._source.on("preclick",ft))},onRemove:function(o){Gi.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Us||this._source.off("preclick",ft))},getEvents:function(){var o=Gi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",h=this._container=ot("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),y=this._wrapper=ot("div",o+"-content-wrapper",h);if(this._contentNode=ot("div",o+"-content",y),ar(h),rr(this._contentNode),ze(h,"contextmenu",ft),this._tipContainer=ot("div",o+"-tip-container",h),this._tip=ot("div",o+"-tip",this._tipContainer),this.options.closeButton){var w=this._closeButton=ot("a",o+"-close-button",h);w.setAttribute("role","button"),w.setAttribute("aria-label","Close popup"),w.href="#close",w.innerHTML='<span aria-hidden="true">&#215;</span>',ze(w,"click",function(S){Dt(S),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,h=o.style;h.width="",h.whiteSpace="nowrap";var y=o.offsetWidth;y=Math.min(y,this.options.maxWidth),y=Math.max(y,this.options.minWidth),h.width=y+1+"px",h.whiteSpace="",h.height="";var w=o.offsetHeight,S=this.options.maxHeight,R="leaflet-popup-scrolled";S&&w>S?(h.height=S+"px",Ce(o,R)):vt(o,R),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),y=this._getAnchor();It(this._container,h.add(y))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,h=parseInt(os(this._container,"marginBottom"),10)||0,y=this._container.offsetHeight+h,w=this._containerWidth,S=new le(this._containerLeft,-y-this._containerBottom);S._add(cs(this._container));var R=o.layerPointToContainerPoint(S),q=B(this.options.autoPanPadding),ee=B(this.options.autoPanPaddingTopLeft||q),oe=B(this.options.autoPanPaddingBottomRight||q),_e=o.getSize(),Ae=0,Ie=0;R.x+w+oe.x>_e.x&&(Ae=R.x+w-_e.x+oe.x),R.x-Ae-ee.x<0&&(Ae=R.x-ee.x),R.y+y+oe.y>_e.y&&(Ie=R.y+y-_e.y+oe.y),R.y-Ie-ee.y<0&&(Ie=R.y-ee.y),(Ae||Ie)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([Ae,Ie]))}},_getAnchor:function(){return B(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),dp=function(o,h){return new nl(o,h)};Qe.mergeOptions({closePopupOnClick:!0}),Qe.include({openPopup:function(o,h,y){return this._initOverlay(nl,o,h,y).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),Hi.include({bindPopup:function(o,h){return this._popup=this._initOverlay(nl,this._popup,o,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof oi||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){si(o);var h=o.layer||o.target;if(this._popup._source===h&&!(h instanceof Us)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=h,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var tc=Gi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){Gi.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){Gi.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=Gi.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",h=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ot("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+g(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var h,y,w=this._map,S=this._container,R=w.latLngToContainerPoint(w.getCenter()),q=w.layerPointToContainerPoint(o),ee=this.options.direction,oe=S.offsetWidth,_e=S.offsetHeight,Ae=B(this.options.offset),Ie=this._getAnchor();ee==="top"?(h=oe/2,y=_e):ee==="bottom"?(h=oe/2,y=0):ee==="center"?(h=oe/2,y=_e/2):ee==="right"?(h=0,y=_e/2):ee==="left"?(h=oe,y=_e/2):q.x<R.x?(ee="right",h=0,y=_e/2):(ee="left",h=oe+(Ae.x+Ie.x)*2,y=_e/2),o=o.subtract(B(h,y,!0)).add(Ae).add(Ie),vt(S,"leaflet-tooltip-right"),vt(S,"leaflet-tooltip-left"),vt(S,"leaflet-tooltip-top"),vt(S,"leaflet-tooltip-bottom"),Ce(S,"leaflet-tooltip-"+ee),It(S,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&bn(this._container,o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(h)},_getAnchor:function(){return B(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),fp=function(o,h){return new tc(o,h)};Qe.include({openTooltip:function(o,h,y){return this._initOverlay(tc,o,h,y).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),Hi.include({bindTooltip:function(o,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(tc,this._tooltip,o,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var h=o?"off":"on",y={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?y.add=this._openTooltip:(y.mouseover=this._openTooltip,y.mouseout=this.closeTooltip,y.click=this._openTooltip,this._map?this._addFocusListeners():y.add=this._addFocusListeners),this._tooltip.options.sticky&&(y.mousemove=this._moveTooltip),this[h](y),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof oi||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&(ze(h,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),ze(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var h=o.latlng,y,w;this._tooltip.options.sticky&&o.originalEvent&&(y=this._map.mouseEventToContainerPoint(o.originalEvent),w=this._map.containerPointToLayerPoint(y),h=this._map.layerPointToLatLng(w)),this._tooltip.setLatLng(h)}});var Au=Ma.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var h=o&&o.tagName==="DIV"?o:document.createElement("div"),y=this.options;if(y.html instanceof Element?(wt(h),h.appendChild(y.html)):h.innerHTML=y.html!==!1?y.html:"",y.bgPos){var w=B(y.bgPos);h.style.backgroundPosition=-w.x+"px "+-w.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function Td(o){return new Au(o)}Ma.Default=Oa;var Kr=Hi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:De.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){z(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),ht(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ti(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(bi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof le?o:new le(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var h=this.getPane().children,y=-o(-1/0,1/0),w=0,S=h.length,R;w<S;w++)R=h[w].style.zIndex,h[w]!==this._container&&R&&(y=o(y,+R));isFinite(y)&&(this.options.zIndex=y+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!De.ielt9){bn(this._container,this.options.opacity);var o=+new Date,h=!1,y=!1;for(var w in this._tiles){var S=this._tiles[w];if(!(!S.current||!S.loaded)){var R=Math.min(1,(o-S.loaded)/200);bn(S.el,R),R<1?h=!0:(S.active?y=!0:this._onOpaqueTile(S),S.active=!0)}}y&&!this._noPrune&&this._pruneTiles(),h&&(G(this._fadeFrame),this._fadeFrame=M(this._updateOpacity,this))}},_onOpaqueTile:T,_initContainer:function(){this._container||(this._container=ot("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,h=this.options.maxZoom;if(o!==void 0){for(var y in this._levels)y=Number(y),this._levels[y].el.children.length||y===o?(this._levels[y].el.style.zIndex=h-Math.abs(o-y),this._onUpdateLevel(y)):(ht(this._levels[y].el),this._removeTilesAtZoom(y),this._onRemoveLevel(y),delete this._levels[y]);var w=this._levels[o],S=this._map;return w||(w=this._levels[o]={},w.el=ot("div","leaflet-tile-container leaflet-zoom-animated",this._container),w.el.style.zIndex=h,w.origin=S.project(S.unproject(S.getPixelOrigin()),o).round(),w.zoom=o,this._setZoomTransform(w,S.getCenter(),S.getZoom()),T(w.el.offsetWidth),this._onCreateLevel(w)),this._level=w,w}},_onUpdateLevel:T,_onRemoveLevel:T,_onCreateLevel:T,_pruneTiles:function(){if(this._map){var o,h,y=this._map.getZoom();if(y>this.options.maxZoom||y<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)h=this._tiles[o],h.retain=h.current;for(o in this._tiles)if(h=this._tiles[o],h.current&&!h.active){var w=h.coords;this._retainParent(w.x,w.y,w.z,w.z-5)||this._retainChildren(w.x,w.y,w.z,w.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var h in this._tiles)this._tiles[h].coords.z===o&&this._removeTile(h)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)ht(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,h,y,w){var S=Math.floor(o/2),R=Math.floor(h/2),q=y-1,ee=new le(+S,+R);ee.z=+q;var oe=this._tileCoordsToKey(ee),_e=this._tiles[oe];return _e&&_e.active?(_e.retain=!0,!0):(_e&&_e.loaded&&(_e.retain=!0),q>w?this._retainParent(S,R,q,w):!1)},_retainChildren:function(o,h,y,w){for(var S=2*o;S<2*o+2;S++)for(var R=2*h;R<2*h+2;R++){var q=new le(S,R);q.z=y+1;var ee=this._tileCoordsToKey(q),oe=this._tiles[ee];if(oe&&oe.active){oe.retain=!0;continue}else oe&&oe.loaded&&(oe.retain=!0);y+1<w&&this._retainChildren(S,R,y+1,w)}},_resetView:function(o){var h=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var h=this.options;return h.minNativeZoom!==void 0&&o<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<o?h.maxNativeZoom:o},_setView:function(o,h,y,w){var S=Math.round(h);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var R=this.options.updateWhenZooming&&S!==this._tileZoom;(!w||R)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(o),y||this._pruneTiles(),this._noPrune=!!y),this._setZoomTransforms(o,h)},_setZoomTransforms:function(o,h){for(var y in this._levels)this._setZoomTransform(this._levels[y],o,h)},_setZoomTransform:function(o,h,y){var w=this._map.getZoomScale(y,o.zoom),S=o.origin.multiplyBy(w).subtract(this._map._getNewPixelOrigin(h,y)).round();De.any3d?zn(o.el,S,w):It(o.el,S)},_resetGrid:function(){var o=this._map,h=o.options.crs,y=this._tileSize=this.getTileSize(),w=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,h.wrapLng[0]],w).x/y.x),Math.ceil(o.project([0,h.wrapLng[1]],w).x/y.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([h.wrapLat[0],0],w).y/y.x),Math.ceil(o.project([h.wrapLat[1],0],w).y/y.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var h=this._map,y=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),w=h.getZoomScale(y,this._tileZoom),S=h.project(o,this._tileZoom).floor(),R=h.getSize().divideBy(w*2);return new ce(S.subtract(R),S.add(R))},_update:function(o){var h=this._map;if(h){var y=this._clampZoom(h.getZoom());if(o===void 0&&(o=h.getCenter()),this._tileZoom!==void 0){var w=this._getTiledPixelBounds(o),S=this._pxBoundsToTileRange(w),R=S.getCenter(),q=[],ee=this.options.keepBuffer,oe=new ce(S.getBottomLeft().subtract([ee,-ee]),S.getTopRight().add([ee,-ee]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var _e in this._tiles){var Ae=this._tiles[_e].coords;(Ae.z!==this._tileZoom||!oe.contains(new le(Ae.x,Ae.y)))&&(this._tiles[_e].current=!1)}if(Math.abs(y-this._tileZoom)>1){this._setView(o,y);return}for(var Ie=S.min.y;Ie<=S.max.y;Ie++)for(var Oe=S.min.x;Oe<=S.max.x;Oe++){var Ke=new le(Oe,Ie);if(Ke.z=this._tileZoom,!!this._isValidTile(Ke)){var Rt=this._tiles[this._tileCoordsToKey(Ke)];Rt?Rt.current=!0:q.push(Ke)}}if(q.sort(function(Nn,Ti){return Nn.distanceTo(R)-Ti.distanceTo(R)}),q.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ht=document.createDocumentFragment();for(Oe=0;Oe<q.length;Oe++)this._addTile(q[Oe],Ht);this._level.el.appendChild(Ht)}}}},_isValidTile:function(o){var h=this._map.options.crs;if(!h.infinite){var y=this._globalTileRange;if(!h.wrapLng&&(o.x<y.min.x||o.x>y.max.x)||!h.wrapLat&&(o.y<y.min.y||o.y>y.max.y))return!1}if(!this.options.bounds)return!0;var w=this._tileCoordsToBounds(o);return Te(this.options.bounds).overlaps(w)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var h=this._map,y=this.getTileSize(),w=o.scaleBy(y),S=w.add(y),R=h.unproject(w,o.z),q=h.unproject(S,o.z);return[R,q]},_tileCoordsToBounds:function(o){var h=this._tileCoordsToNwSe(o),y=new xe(h[0],h[1]);return this.options.noWrap||(y=this._map.wrapLatLngBounds(y)),y},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var h=o.split(":"),y=new le(+h[0],+h[1]);return y.z=+h[2],y},_removeTile:function(o){var h=this._tiles[o];h&&(ht(h.el),delete this._tiles[o],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Ce(o,"leaflet-tile");var h=this.getTileSize();o.style.width=h.x+"px",o.style.height=h.y+"px",o.onselectstart=T,o.onmousemove=T,De.ielt9&&this.options.opacity<1&&bn(o,this.options.opacity)},_addTile:function(o,h){var y=this._getTilePos(o),w=this._tileCoordsToKey(o),S=this.createTile(this._wrapCoords(o),u(this._tileReady,this,o));this._initTile(S),this.createTile.length<2&&M(u(this._tileReady,this,o,null,S)),It(S,y),this._tiles[w]={el:S,coords:o,current:!0},h.appendChild(S),this.fire("tileloadstart",{tile:S,coords:o})},_tileReady:function(o,h,y){h&&this.fire("tileerror",{error:h,tile:y,coords:o});var w=this._tileCoordsToKey(o);y=this._tiles[w],y&&(y.loaded=+new Date,this._map._fadeAnimated?(bn(y.el,0),G(this._fadeFrame),this._fadeFrame=M(this._updateOpacity,this)):(y.active=!0,this._pruneTiles()),h||(Ce(y.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:y.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),De.ielt9||!this._map._fadeAnimated?M(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var h=new le(this._wrapX?x(o.x,this._wrapX):o.x,this._wrapY?x(o.y,this._wrapY):o.y);return h.z=o.z,h},_pxBoundsToTileRange:function(o){var h=this.getTileSize();return new ce(o.min.unscaleBy(h).floor(),o.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function Zi(o){return new Kr(o)}var $r=Kr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,h){this._url=o,h=z(this,h),h.detectRetina&&De.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,h){return this._url===o&&h===void 0&&(h=!0),this._url=o,h||this.redraw(),this},createTile:function(o,h){var y=document.createElement("img");return ze(y,"load",u(this._tileOnLoad,this,h,y)),ze(y,"error",u(this._tileOnError,this,h,y)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(y.referrerPolicy=this.options.referrerPolicy),y.alt="",y.src=this.getTileUrl(o),y},getTileUrl:function(o){var h={r:De.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var y=this._globalTileRange.max.y-o.y;this.options.tms&&(h.y=y),h["-y"]=y}return Y(this._url,a(h,this.options))},_tileOnLoad:function(o,h){De.ielt9?setTimeout(u(o,this,null,h),0):o(null,h)},_tileOnError:function(o,h,y){var w=this.options.errorTileUrl;w&&h.getAttribute("src")!==w&&(h.src=w),o(y,h)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,h=this.options.maxZoom,y=this.options.zoomReverse,w=this.options.zoomOffset;return y&&(o=h-o),o+w},_getSubdomain:function(o){var h=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var o,h;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(h=this._tiles[o].el,h.onload=T,h.onerror=T,!h.complete)){h.src=he;var y=this._tiles[o].coords;ht(h),delete this._tiles[o],this.fire("tileabort",{tile:h,coords:y})}},_removeTile:function(o){var h=this._tiles[o];if(h)return h.el.setAttribute("src",he),Kr.prototype._removeTile.call(this,o)},_tileReady:function(o,h,y){if(!(!this._map||y&&y.getAttribute("src")===he))return Kr.prototype._tileReady.call(this,o,h,y)}});function ui(o,h){return new $r(o,h)}var hi=$r.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,h){this._url=o;var y=a({},this.defaultWmsParams);for(var w in h)w in this.options||(y[w]=h[w]);h=z(this,h);var S=h.detectRetina&&De.retina?2:1,R=this.getTileSize();y.width=R.x*S,y.height=R.y*S,this.wmsParams=y},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,$r.prototype.onAdd.call(this,o)},getTileUrl:function(o){var h=this._tileCoordsToNwSe(o),y=this._crs,w=be(y.project(h[0]),y.project(h[1])),S=w.min,R=w.max,q=(this._wmsVersion>=1.3&&this._crs===La?[S.y,S.x,R.y,R.x]:[S.x,S.y,R.x,R.y]).join(","),ee=$r.prototype.getTileUrl.call(this,o);return ee+k(this.wmsParams,ee,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+q},setParams:function(o,h){return a(this.wmsParams,o),h||this.redraw(),this}});function za(o,h){return new hi(o,h)}$r.WMS=hi,ui.wms=za;var Wi=Hi.extend({options:{padding:.1},initialize:function(o){z(this,o),g(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ce(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,h){var y=this._map.getZoomScale(h,this._zoom),w=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,h),R=w.multiplyBy(-y).add(S).subtract(this._map._getNewPixelOrigin(o,h));De.any3d?zn(this._container,R,y):It(this._container,R)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,h=this._map.getSize(),y=this._map.containerPointToLayerPoint(h.multiplyBy(-o)).round();this._bounds=new ce(y,y.add(h.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),il=Wi.extend({options:{tolerance:0},getEvents:function(){var o=Wi.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Wi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");ze(o,"mousemove",this._onMouseMove,this),ze(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ze(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){G(this._redrawRequest),delete this._ctx,ht(this._container),dt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var h in this._layers)o=this._layers[h],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Wi.prototype._update.call(this);var o=this._bounds,h=this._container,y=o.getSize(),w=De.retina?2:1;It(h,o.min),h.width=w*y.x,h.height=w*y.y,h.style.width=y.x+"px",h.style.height=y.y+"px",De.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Wi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[g(o)]=o;var h=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var h=o._order,y=h.next,w=h.prev;y?y.prev=w:this._drawLast=w,w?w.next=y:this._drawFirst=y,delete o._order,delete this._layers[g(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var h=o.options.dashArray.split(/[, ]+/),y=[],w,S;for(S=0;S<h.length;S++){if(w=Number(h[S]),isNaN(w))return;y.push(w)}o.options._dashArray=y}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||M(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var h=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ce,this._redrawBounds.extend(o._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(o._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var h=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,h=this._redrawBounds;if(this._ctx.save(),h){var y=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,y.x,y.y),this._ctx.clip()}this._drawing=!0;for(var w=this._drawFirst;w;w=w.next)o=w.layer,(!h||o._pxBounds&&o._pxBounds.intersects(h))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,h){if(this._drawing){var y,w,S,R,q=o._parts,ee=q.length,oe=this._ctx;if(ee){for(oe.beginPath(),y=0;y<ee;y++){for(w=0,S=q[y].length;w<S;w++)R=q[y][w],oe[w?"lineTo":"moveTo"](R.x,R.y);h&&oe.closePath()}this._fillStroke(oe,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var h=o._point,y=this._ctx,w=Math.max(Math.round(o._radius),1),S=(Math.max(Math.round(o._radiusY),1)||w)/w;S!==1&&(y.save(),y.scale(1,S)),y.beginPath(),y.arc(h.x,h.y/S,w,0,Math.PI*2,!1),S!==1&&y.restore(),this._fillStroke(y,o)}},_fillStroke:function(o,h){var y=h.options;y.fill&&(o.globalAlpha=y.fillOpacity,o.fillStyle=y.fillColor||y.color,o.fill(y.fillRule||"evenodd")),y.stroke&&y.weight!==0&&(o.setLineDash&&o.setLineDash(h.options&&h.options._dashArray||[]),o.globalAlpha=y.opacity,o.lineWidth=y.weight,o.strokeStyle=y.color,o.lineCap=y.lineCap,o.lineJoin=y.lineJoin,o.stroke())},_onClick:function(o){for(var h=this._map.mouseEventToLayerPoint(o),y,w,S=this._drawFirst;S;S=S.next)y=S.layer,y.options.interactive&&y._containsPoint(h)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(y))&&(w=y);this._fireEvent(w?[w]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,h)}},_handleMouseOut:function(o){var h=this._hoveredLayer;h&&(vt(this._container,"leaflet-interactive"),this._fireEvent([h],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,h){if(!this._mouseHoverThrottled){for(var y,w,S=this._drawFirst;S;S=S.next)y=S.layer,y.options.interactive&&y._containsPoint(h)&&(w=y);w!==this._hoveredLayer&&(this._handleMouseOut(o),w&&(Ce(this._container,"leaflet-interactive"),this._fireEvent([w],o,"mouseover"),this._hoveredLayer=w)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,h,y){this._map._fireDOMEvent(h,y||h.type,o)},_bringToFront:function(o){var h=o._order;if(h){var y=h.next,w=h.prev;if(y)y.prev=w;else return;w?w.next=y:y&&(this._drawFirst=y),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(o)}},_bringToBack:function(o){var h=o._order;if(h){var y=h.next,w=h.prev;if(w)w.next=y;else return;y?y.prev=w:w&&(this._drawLast=w),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(o)}}});function sl(o){return De.canvas?new il(o):null}var Yr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Fa={_initContainer:function(){this._container=ot("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Wi.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var h=o._container=Yr("shape");Ce(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",o._path=Yr("path"),h.appendChild(o._path),this._updateStyle(o),this._layers[g(o)]=o},_addPath:function(o){var h=o._container;this._container.appendChild(h),o.options.interactive&&o.addInteractiveTarget(h)},_removePath:function(o){var h=o._container;ht(h),o.removeInteractiveTarget(h),delete this._layers[g(o)]},_updateStyle:function(o){var h=o._stroke,y=o._fill,w=o.options,S=o._container;S.stroked=!!w.stroke,S.filled=!!w.fill,w.stroke?(h||(h=o._stroke=Yr("stroke")),S.appendChild(h),h.weight=w.weight+"px",h.color=w.color,h.opacity=w.opacity,w.dashArray?h.dashStyle=Q(w.dashArray)?w.dashArray.join(" "):w.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=w.lineCap.replace("butt","flat"),h.joinstyle=w.lineJoin):h&&(S.removeChild(h),o._stroke=null),w.fill?(y||(y=o._fill=Yr("fill")),S.appendChild(y),y.color=w.fillColor||w.color,y.opacity=w.fillOpacity):y&&(S.removeChild(y),o._fill=null)},_updateCircle:function(o){var h=o._point.round(),y=Math.round(o._radius),w=Math.round(o._radiusY||y);this._setPath(o,o._empty()?"M0 0":"AL "+h.x+","+h.y+" "+y+","+w+" 0,"+65535*360)},_setPath:function(o,h){o._path.v=h},_bringToFront:function(o){ti(o._container)},_bringToBack:function(o){bi(o._container)}},rl=De.vml?Yr:Vl,ur=Wi.extend({_initContainer:function(){this._container=rl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=rl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ht(this._container),dt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Wi.prototype._update.call(this);var o=this._bounds,h=o.getSize(),y=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,y.setAttribute("width",h.x),y.setAttribute("height",h.y)),It(y,o.min),y.setAttribute("viewBox",[o.min.x,o.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(o){var h=o._path=rl("path");o.options.className&&Ce(h,o.options.className),o.options.interactive&&Ce(h,"leaflet-interactive"),this._updateStyle(o),this._layers[g(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){ht(o._path),o.removeInteractiveTarget(o._path),delete this._layers[g(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var h=o._path,y=o.options;h&&(y.stroke?(h.setAttribute("stroke",y.color),h.setAttribute("stroke-opacity",y.opacity),h.setAttribute("stroke-width",y.weight),h.setAttribute("stroke-linecap",y.lineCap),h.setAttribute("stroke-linejoin",y.lineJoin),y.dashArray?h.setAttribute("stroke-dasharray",y.dashArray):h.removeAttribute("stroke-dasharray"),y.dashOffset?h.setAttribute("stroke-dashoffset",y.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),y.fill?(h.setAttribute("fill",y.fillColor||y.color),h.setAttribute("fill-opacity",y.fillOpacity),h.setAttribute("fill-rule",y.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(o,h){this._setPath(o,wa(o._parts,h))},_updateCircle:function(o){var h=o._point,y=Math.max(Math.round(o._radius),1),w=Math.max(Math.round(o._radiusY),1)||y,S="a"+y+","+w+" 0 1,0 ",R=o._empty()?"M0 0":"M"+(h.x-y)+","+h.y+S+y*2+",0 "+S+-y*2+",0 ";this._setPath(o,R)},_setPath:function(o,h){o._path.setAttribute("d",h)},_bringToFront:function(o){ti(o._path)},_bringToBack:function(o){bi(o._path)}});De.vml&&ur.include(Fa);function Qr(o){return De.svg||De.vml?new ur(o):null}Qe.include({getRenderer:function(o){var h=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var h=this._paneRenderers[o];return h===void 0&&(h=this._createRenderer({pane:o}),this._paneRenderers[o]=h),h},_createRenderer:function(o){return this.options.preferCanvas&&sl(o)||Qr(o)}});var Ed=Va.extend({initialize:function(o,h){Va.prototype.initialize.call(this,this._boundsToLatLngs(o),h)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=Te(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function di(o,h){return new Ed(o,h)}ur.create=rl,ur.pointsToPath=wa,ci.geometryToLayer=Jo,ci.coordsToLatLng=Ql,ci.coordsToLatLngs=el,ci.latLngToCoords=tl,ci.latLngsToCoords=Xl,ci.getFeature=qi,ci.asFeature=Ua,Qe.mergeOptions({boxZoom:!0});var nc=Hn.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){ze(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){dt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ht(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),wn(),ir(),this._startPoint=this._map.mouseEventToContainerPoint(o),ze(document,{contextmenu:si,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=ot("div","leaflet-zoom-box",this._container),Ce(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var h=new ce(this._point,this._startPoint),y=h.getSize();It(this._box,h.min),this._box.style.width=y.x+"px",this._box.style.height=y.y+"px"},_finish:function(){this._moved&&(ht(this._box),vt(this._container,"leaflet-crosshair")),ni(),Aa(),dt(document,{contextmenu:si,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var h=new xe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Qe.addInitHook("addHandler","boxZoom",nc),Qe.mergeOptions({doubleClickZoom:!0});var ms=Hn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var h=this._map,y=h.getZoom(),w=h.options.zoomDelta,S=o.originalEvent.shiftKey?y-w:y+w;h.options.doubleClickZoom==="center"?h.setZoom(S):h.setZoomAround(o.containerPoint,S)}});Qe.addInitHook("addHandler","doubleClickZoom",ms),Qe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Nu=Hn.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Bi(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Ce(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){vt(this._map._container,"leaflet-grab"),vt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=Te(this._map.options.maxBounds);this._offsetLimit=be(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var h=this._lastTime=+new Date,y=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(y),this._times.push(h),this._prunePositions(h)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,h){return o-(o-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;o.x<h.min.x&&(o.x=this._viscousLimit(o.x,h.min.x)),o.y<h.min.y&&(o.y=this._viscousLimit(o.y,h.min.y)),o.x>h.max.x&&(o.x=this._viscousLimit(o.x,h.max.x)),o.y>h.max.y&&(o.y=this._viscousLimit(o.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,h=Math.round(o/2),y=this._initialWorldOffset,w=this._draggable._newPos.x,S=(w-h+y)%o+h-y,R=(w+h+y)%o-h-y,q=Math.abs(S+y)<Math.abs(R+y)?S:R;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=q},_onDragEnd:function(o){var h=this._map,y=h.options,w=!y.inertia||o.noInertia||this._times.length<2;if(h.fire("dragend",o),w)h.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),R=(this._lastTime-this._times[0])/1e3,q=y.easeLinearity,ee=S.multiplyBy(q/R),oe=ee.distanceTo([0,0]),_e=Math.min(y.inertiaMaxSpeed,oe),Ae=ee.multiplyBy(_e/oe),Ie=_e/(y.inertiaDeceleration*q),Oe=Ae.multiplyBy(-Ie/2).round();!Oe.x&&!Oe.y?h.fire("moveend"):(Oe=h._limitOffset(Oe,h.options.maxBounds),M(function(){h.panBy(Oe,{duration:Ie,easeLinearity:q,noMoveStart:!0,animate:!0})}))}}});Qe.addInitHook("addHandler","dragging",Nu),Qe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var al=Hn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),ze(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),dt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,h=document.documentElement,y=o.scrollTop||h.scrollTop,w=o.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(w,y)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var h=this._panKeys={},y=this.keyCodes,w,S;for(w=0,S=y.left.length;w<S;w++)h[y.left[w]]=[-1*o,0];for(w=0,S=y.right.length;w<S;w++)h[y.right[w]]=[o,0];for(w=0,S=y.down.length;w<S;w++)h[y.down[w]]=[0,o];for(w=0,S=y.up.length;w<S;w++)h[y.up[w]]=[0,-1*o]},_setZoomDelta:function(o){var h=this._zoomKeys={},y=this.keyCodes,w,S;for(w=0,S=y.zoomIn.length;w<S;w++)h[y.zoomIn[w]]=o;for(w=0,S=y.zoomOut.length;w<S;w++)h[y.zoomOut[w]]=-o},_addHooks:function(){ze(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){dt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var h=o.keyCode,y=this._map,w;if(h in this._panKeys){if(!y._panAnim||!y._panAnim._inProgress)if(w=this._panKeys[h],o.shiftKey&&(w=B(w).multiplyBy(3)),y.options.maxBounds&&(w=y._limitOffset(B(w),y.options.maxBounds)),y.options.worldCopyJump){var S=y.wrapLatLng(y.unproject(y.project(y.getCenter()).add(w)));y.panTo(S)}else y.panBy(w)}else if(h in this._zoomKeys)y.setZoom(y.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&y._popup&&y._popup.options.closeOnEscapeKey)y.closePopup();else return;si(o)}}});Qe.addInitHook("addHandler","keyboard",al),Qe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var hr=Hn.extend({addHooks:function(){ze(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){dt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var h=or(o),y=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var w=Math.max(y-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),w),si(o)},_performZoom:function(){var o=this._map,h=o.getZoom(),y=this._map.options.zoomSnap||0;o._stop();var w=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(w))))/Math.LN2,R=y?Math.ceil(S/y)*y:S,q=o._limitZoom(h+(this._delta>0?R:-R))-h;this._delta=0,this._startTime=null,q&&(o.options.scrollWheelZoom==="center"?o.setZoom(h+q):o.setZoomAround(this._lastMousePos,h+q))}});Qe.addInitHook("addHandler","scrollWheelZoom",hr);var Cu=600;Qe.mergeOptions({tapHold:De.touchNative&&De.safari&&De.mobile,tapTolerance:15});var ic=Hn.extend({addHooks:function(){ze(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){dt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var h=o.touches[0];this._startPos=this._newPos=new le(h.clientX,h.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(ze(document,"touchend",Dt),ze(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),Cu),ze(document,"touchend touchcancel contextmenu",this._cancel,this),ze(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){dt(document,"touchend",Dt),dt(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),dt(document,"touchend touchcancel contextmenu",this._cancel,this),dt(document,"touchmove",this._onMove,this)},_onMove:function(o){var h=o.touches[0];this._newPos=new le(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,h){var y=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});y._simulated=!0,h.target.dispatchEvent(y)}});Qe.addInitHook("addHandler","tapHold",ic),Qe.mergeOptions({touchZoom:De.touch,bounceAtZoomLimits:!0});var Xr=Hn.extend({addHooks:function(){Ce(this._map._container,"leaflet-touch-zoom"),ze(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){vt(this._map._container,"leaflet-touch-zoom"),dt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var h=this._map;if(!(!o.touches||o.touches.length!==2||h._animatingZoom||this._zooming)){var y=h.mouseEventToContainerPoint(o.touches[0]),w=h.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(y.add(w)._divideBy(2))),this._startDist=y.distanceTo(w),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),ze(document,"touchmove",this._onTouchMove,this),ze(document,"touchend touchcancel",this._onTouchEnd,this),Dt(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var h=this._map,y=h.mouseEventToContainerPoint(o.touches[0]),w=h.mouseEventToContainerPoint(o.touches[1]),S=y.distanceTo(w)/this._startDist;if(this._zoom=h.getScaleZoom(S,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&S<1||this._zoom>h.getMaxZoom()&&S>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var R=y._add(w)._divideBy(2)._subtract(this._centerPoint);if(S===1&&R.x===0&&R.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(R),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),G(this._animRequest);var q=u(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=M(q,this,!0),Dt(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,G(this._animRequest),dt(document,"touchmove",this._onTouchMove,this),dt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Qe.addInitHook("addHandler","touchZoom",Xr),Qe.BoxZoom=nc,Qe.DoubleClickZoom=ms,Qe.Drag=Nu,Qe.Keyboard=al,Qe.ScrollWheelZoom=hr,Qe.TapHold=ic,Qe.TouchZoom=Xr,n.Bounds=ce,n.Browser=De,n.CRS=At,n.Canvas=il,n.Circle=Eu,n.CircleMarker=Xo,n.Class=Ue,n.Control=mn,n.DivIcon=Au,n.DivOverlay=Gi,n.DomEvent=Hr,n.DomUtil=Gl,n.Draggable=Bi,n.Evented=de,n.FeatureGroup=oi,n.GeoJSON=ci,n.GridLayer=Kr,n.Handler=Hn,n.Icon=Ma,n.ImageOverlay=fs,n.LatLng=Re,n.LatLngBounds=xe,n.Layer=Hi,n.LayerGroup=Zr,n.LineUtil=ri,n.Map=Qe,n.Marker=ka,n.Mixin=Kl,n.Path=Us,n.Point=le,n.PolyUtil=Ia,n.Polygon=Va,n.Polyline=Bs,n.Popup=nl,n.PosAnimation=qr,n.Projection=zi,n.Rectangle=Ed,n.Renderer=Wi,n.SVG=ur,n.SVGOverlay=cr,n.TileLayer=$r,n.Tooltip=tc,n.Transformation=Js,n.Util=H,n.VideoOverlay=ec,n.bind=u,n.bounds=be,n.canvas=sl,n.circle=up,n.circleMarker=_d,n.control=Ui,n.divIcon=Td,n.extend=a,n.featureGroup=Qo,n.geoJSON=Jl,n.geoJson=xd,n.gridLayer=Zi,n.icon=Yl,n.imageOverlay=Ba,n.latLng=Se,n.latLngBounds=Te,n.layerGroup=vd,n.map=hs,n.marker=Tu,n.point=B,n.polygon=li,n.polyline=hp,n.popup=dp,n.rectangle=di,n.setOptions=z,n.stamp=g,n.svg=Qr,n.svgOverlay=wd,n.tileLayer=ui,n.tooltip=fp,n.transformation=es,n.version=i,n.videoOverlay=bd;var Ha=window.L;n.noConflict=function(){return window.L=Ha,this},window.L=n}))})(xh,xh.exports)),xh.exports}var cd=L3();const mu=NE(cd);function Iv(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function Dv(t,e){return e==null?function(i,a){const c=V.useRef(void 0);return c.current||(c.current=t(i,a)),c}:function(i,a){const c=V.useRef(void 0);c.current||(c.current=t(i,a));const u=V.useRef(i),{instance:m}=c.current;return V.useEffect(function(){u.current!==i&&(e(m,i,u.current),u.current=i)},[m,i,e]),c}}function M3(t,e){V.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){e.layerContainer?.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function CA(t){return function(n){const i=Pv(),a=t(jv(n,i),i);return AA(i.map,n.attribution),NA(a.current,n.eventHandlers),M3(a.current,i),a}}function O3(t,e){const n=Dv(t,e),i=CA(n);return R3(i)}function k3(t,e){const n=Dv(t),i=I3(n,e);return P3(i)}function V3(t,e){const n=Dv(t,e),i=CA(n);return j3(i)}function U3(t,e,n){const{opacity:i,zIndex:a}=e;i!=null&&i!==n.opacity&&t.setOpacity(i),a!=null&&a!==n.zIndex&&t.setZIndex(a)}function B3(){return Pv().map}function z3(t){const e=B3();return V.useEffect(function(){return e.on(t),function(){e.off(t)}},[e,t]),e}function F3({bounds:t,boundsOptions:e,center:n,children:i,className:a,id:c,placeholder:u,style:m,whenReady:g,zoom:_,...x},T){const[A]=V.useState({className:a,id:c,style:m}),[j,I]=V.useState(null),z=V.useRef(void 0);V.useImperativeHandle(T,()=>j?.map??null,[j]);const k=V.useCallback(Y=>{if(Y!==null&&!z.current){const Q=new cd.Map(Y,x);z.current=Q,n!=null&&_!=null?Q.setView(n,_):t!=null&&Q.fitBounds(t,e),g!=null&&Q.whenReady(g),I(N3(Q))}},[]);V.useEffect(()=>()=>{j?.map.remove()},[j]);const $=j?Sy.createElement(Rv,{value:j},i):u??null;return Sy.createElement("div",{...A,ref:k},$)}const RA=V.forwardRef(F3),PA=O3(function({position:e,...n},i){const a=new cd.Marker(e,n);return Iv(a,C3(i,{overlayContainer:a}))},function(e,n,i){n.position!==i.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),jA=k3(function(e,n){const i=new cd.Popup(e,n.overlayContainer);return Iv(i,n)},function(e,n,{position:i},a){V.useEffect(function(){const{instance:u}=e;function m(_){_.popup===u&&(u.update(),a(!0))}function g(_){_.popup===u&&a(!1)}return n.map.on({popupopen:m,popupclose:g}),n.overlayContainer==null?(i!=null&&u.setLatLng(i),u.openOn(n.map)):n.overlayContainer.bindPopup(u),function(){n.map.off({popupopen:m,popupclose:g}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(u)}},[e,n,a,i])}),IA=V3(function({url:e,...n},i){const a=new cd.TileLayer(e,jv(n,i));return Iv(a,i)},function(e,n,i){U3(e,n,i);const{url:a}=n;a!=null&&a!==i.url&&e.setUrl(a)});function DA(t,e){return function(){return t.apply(e,arguments)}}const{toString:H3}=Object.prototype,{getPrototypeOf:Lv}=Object,{iterator:ep,toStringTag:LA}=Symbol,tp=(t=>e=>{const n=H3.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Xs=t=>(t=t.toLowerCase(),e=>tp(e)===t),np=t=>e=>typeof e===t,{isArray:pu}=Array,Qc=np("undefined");function ud(t){return t!==null&&!Qc(t)&&t.constructor!==null&&!Qc(t.constructor)&&Ii(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const MA=Xs("ArrayBuffer");function q3(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&MA(t.buffer),e}const G3=np("string"),Ii=np("function"),OA=np("number"),hd=t=>t!==null&&typeof t=="object",Z3=t=>t===!0||t===!1,Yf=t=>{if(tp(t)!=="object")return!1;const e=Lv(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(LA in t)&&!(ep in t)},W3=t=>{if(!hd(t)||ud(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},K3=Xs("Date"),$3=Xs("File"),Y3=Xs("Blob"),Q3=Xs("FileList"),X3=t=>hd(t)&&Ii(t.pipe),J3=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ii(t.append)&&((e=tp(t))==="formdata"||e==="object"&&Ii(t.toString)&&t.toString()==="[object FormData]"))},e6=Xs("URLSearchParams"),[t6,n6,i6,s6]=["ReadableStream","Request","Response","Headers"].map(Xs),r6=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function dd(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,a;if(typeof t!="object"&&(t=[t]),pu(t))for(i=0,a=t.length;i<a;i++)e.call(null,t[i],i,t);else{if(ud(t))return;const c=n?Object.getOwnPropertyNames(t):Object.keys(t),u=c.length;let m;for(i=0;i<u;i++)m=c[i],e.call(null,t[m],m,t)}}function kA(t,e){if(ud(t))return null;e=e.toLowerCase();const n=Object.keys(t);let i=n.length,a;for(;i-- >0;)if(a=n[i],e===a.toLowerCase())return a;return null}const bl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,VA=t=>!Qc(t)&&t!==bl;function e0(){const{caseless:t,skipUndefined:e}=VA(this)&&this||{},n={},i=(a,c)=>{const u=t&&kA(n,c)||c;Yf(n[u])&&Yf(a)?n[u]=e0(n[u],a):Yf(a)?n[u]=e0({},a):pu(a)?n[u]=a.slice():(!e||!Qc(a))&&(n[u]=a)};for(let a=0,c=arguments.length;a<c;a++)arguments[a]&&dd(arguments[a],i);return n}const a6=(t,e,n,{allOwnKeys:i}={})=>(dd(e,(a,c)=>{n&&Ii(a)?t[c]=DA(a,n):t[c]=a},{allOwnKeys:i}),t),o6=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),l6=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},c6=(t,e,n,i)=>{let a,c,u;const m={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),c=a.length;c-- >0;)u=a[c],(!i||i(u,t,e))&&!m[u]&&(e[u]=t[u],m[u]=!0);t=n!==!1&&Lv(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},u6=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},h6=t=>{if(!t)return null;if(pu(t))return t;let e=t.length;if(!OA(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},d6=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Lv(Uint8Array)),f6=(t,e)=>{const i=(t&&t[ep]).call(t);let a;for(;(a=i.next())&&!a.done;){const c=a.value;e.call(t,c[0],c[1])}},m6=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},p6=Xs("HTMLFormElement"),g6=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,a){return i.toUpperCase()+a}),QT=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),y6=Xs("RegExp"),UA=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};dd(n,(a,c)=>{let u;(u=e(a,c,t))!==!1&&(i[c]=u||a)}),Object.defineProperties(t,i)},v6=t=>{UA(t,(e,n)=>{if(Ii(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Ii(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},_6=(t,e)=>{const n={},i=a=>{a.forEach(c=>{n[c]=!0})};return pu(t)?i(t):i(String(t).split(e)),n},x6=()=>{},b6=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function w6(t){return!!(t&&Ii(t.append)&&t[LA]==="FormData"&&t[ep])}const T6=t=>{const e=new Array(10),n=(i,a)=>{if(hd(i)){if(e.indexOf(i)>=0)return;if(ud(i))return i;if(!("toJSON"in i)){e[a]=i;const c=pu(i)?[]:{};return dd(i,(u,m)=>{const g=n(u,a+1);!Qc(g)&&(c[m]=g)}),e[a]=void 0,c}}return i};return n(t,0)},E6=Xs("AsyncFunction"),S6=t=>t&&(hd(t)||Ii(t))&&Ii(t.then)&&Ii(t.catch),BA=((t,e)=>t?setImmediate:e?((n,i)=>(bl.addEventListener("message",({source:a,data:c})=>{a===bl&&c===n&&i.length&&i.shift()()},!1),a=>{i.push(a),bl.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ii(bl.postMessage)),A6=typeof queueMicrotask<"u"?queueMicrotask.bind(bl):typeof process<"u"&&process.nextTick||BA,N6=t=>t!=null&&Ii(t[ep]),ue={isArray:pu,isArrayBuffer:MA,isBuffer:ud,isFormData:J3,isArrayBufferView:q3,isString:G3,isNumber:OA,isBoolean:Z3,isObject:hd,isPlainObject:Yf,isEmptyObject:W3,isReadableStream:t6,isRequest:n6,isResponse:i6,isHeaders:s6,isUndefined:Qc,isDate:K3,isFile:$3,isBlob:Y3,isRegExp:y6,isFunction:Ii,isStream:X3,isURLSearchParams:e6,isTypedArray:d6,isFileList:Q3,forEach:dd,merge:e0,extend:a6,trim:r6,stripBOM:o6,inherits:l6,toFlatObject:c6,kindOf:tp,kindOfTest:Xs,endsWith:u6,toArray:h6,forEachEntry:f6,matchAll:m6,isHTMLForm:p6,hasOwnProperty:QT,hasOwnProp:QT,reduceDescriptors:UA,freezeMethods:v6,toObjectSet:_6,toCamelCase:g6,noop:x6,toFiniteNumber:b6,findKey:kA,global:bl,isContextDefined:VA,isSpecCompliantForm:w6,toJSONObject:T6,isAsyncFn:E6,isThenable:S6,setImmediate:BA,asap:A6,isIterable:N6};function Xe(t,e,n,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),a&&(this.response=a,this.status=a.status?a.status:null)}ue.inherits(Xe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ue.toJSONObject(this.config),code:this.code,status:this.status}}});const zA=Xe.prototype,FA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{FA[t]={value:t}});Object.defineProperties(Xe,FA);Object.defineProperty(zA,"isAxiosError",{value:!0});Xe.from=(t,e,n,i,a,c)=>{const u=Object.create(zA);ue.toFlatObject(t,u,function(x){return x!==Error.prototype},_=>_!=="isAxiosError");const m=t&&t.message?t.message:"Error",g=e==null&&t?t.code:e;return Xe.call(u,m,g,n,i,a),t&&u.cause==null&&Object.defineProperty(u,"cause",{value:t,configurable:!0}),u.name=t&&t.name||"Error",c&&Object.assign(u,c),u};const C6=null;function t0(t){return ue.isPlainObject(t)||ue.isArray(t)}function HA(t){return ue.endsWith(t,"[]")?t.slice(0,-2):t}function XT(t,e,n){return t?t.concat(e).map(function(a,c){return a=HA(a),!n&&c?"["+a+"]":a}).join(n?".":""):e}function R6(t){return ue.isArray(t)&&!t.some(t0)}const P6=ue.toFlatObject(ue,{},null,function(e){return/^is[A-Z]/.test(e)});function ip(t,e,n){if(!ue.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ue.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(z,k){return!ue.isUndefined(k[z])});const i=n.metaTokens,a=n.visitor||x,c=n.dots,u=n.indexes,g=(n.Blob||typeof Blob<"u"&&Blob)&&ue.isSpecCompliantForm(e);if(!ue.isFunction(a))throw new TypeError("visitor must be a function");function _(I){if(I===null)return"";if(ue.isDate(I))return I.toISOString();if(ue.isBoolean(I))return I.toString();if(!g&&ue.isBlob(I))throw new Xe("Blob is not supported. Use a Buffer instead.");return ue.isArrayBuffer(I)||ue.isTypedArray(I)?g&&typeof Blob=="function"?new Blob([I]):Buffer.from(I):I}function x(I,z,k){let $=I;if(I&&!k&&typeof I=="object"){if(ue.endsWith(z,"{}"))z=i?z:z.slice(0,-2),I=JSON.stringify(I);else if(ue.isArray(I)&&R6(I)||(ue.isFileList(I)||ue.endsWith(z,"[]"))&&($=ue.toArray(I)))return z=HA(z),$.forEach(function(Q,ve){!(ue.isUndefined(Q)||Q===null)&&e.append(u===!0?XT([z],ve,c):u===null?z:z+"[]",_(Q))}),!1}return t0(I)?!0:(e.append(XT(k,z,c),_(I)),!1)}const T=[],A=Object.assign(P6,{defaultVisitor:x,convertValue:_,isVisitable:t0});function j(I,z){if(!ue.isUndefined(I)){if(T.indexOf(I)!==-1)throw Error("Circular reference detected in "+z.join("."));T.push(I),ue.forEach(I,function($,Y){(!(ue.isUndefined($)||$===null)&&a.call(e,$,ue.isString(Y)?Y.trim():Y,z,A))===!0&&j($,z?z.concat(Y):[Y])}),T.pop()}}if(!ue.isObject(t))throw new TypeError("data must be an object");return j(t),e}function JT(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Mv(t,e){this._pairs=[],t&&ip(t,this,e)}const qA=Mv.prototype;qA.append=function(e,n){this._pairs.push([e,n])};qA.toString=function(e){const n=e?function(i){return e.call(this,i,JT)}:JT;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function j6(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function GA(t,e,n){if(!e)return t;const i=n&&n.encode||j6;ue.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let c;if(a?c=a(e,n):c=ue.isURLSearchParams(e)?e.toString():new Mv(e,n).toString(i),c){const u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+c}return t}class e1{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ue.forEach(this.handlers,function(i){i!==null&&e(i)})}}const ZA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},I6=typeof URLSearchParams<"u"?URLSearchParams:Mv,D6=typeof FormData<"u"?FormData:null,L6=typeof Blob<"u"?Blob:null,M6={isBrowser:!0,classes:{URLSearchParams:I6,FormData:D6,Blob:L6},protocols:["http","https","file","blob","url","data"]},Ov=typeof window<"u"&&typeof document<"u",n0=typeof navigator=="object"&&navigator||void 0,O6=Ov&&(!n0||["ReactNative","NativeScript","NS"].indexOf(n0.product)<0),k6=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",V6=Ov&&window.location.href||"http://localhost",U6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ov,hasStandardBrowserEnv:O6,hasStandardBrowserWebWorkerEnv:k6,navigator:n0,origin:V6},Symbol.toStringTag,{value:"Module"})),$n={...U6,...M6};function B6(t,e){return ip(t,new $n.classes.URLSearchParams,{visitor:function(n,i,a,c){return $n.isNode&&ue.isBuffer(n)?(this.append(i,n.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)},...e})}function z6(t){return ue.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function F6(t){const e={},n=Object.keys(t);let i;const a=n.length;let c;for(i=0;i<a;i++)c=n[i],e[c]=t[c];return e}function WA(t){function e(n,i,a,c){let u=n[c++];if(u==="__proto__")return!0;const m=Number.isFinite(+u),g=c>=n.length;return u=!u&&ue.isArray(a)?a.length:u,g?(ue.hasOwnProp(a,u)?a[u]=[a[u],i]:a[u]=i,!m):((!a[u]||!ue.isObject(a[u]))&&(a[u]=[]),e(n,i,a[u],c)&&ue.isArray(a[u])&&(a[u]=F6(a[u])),!m)}if(ue.isFormData(t)&&ue.isFunction(t.entries)){const n={};return ue.forEachEntry(t,(i,a)=>{e(z6(i),a,n,0)}),n}return null}function H6(t,e,n){if(ue.isString(t))try{return(e||JSON.parse)(t),ue.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const fd={transitional:ZA,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",a=i.indexOf("application/json")>-1,c=ue.isObject(e);if(c&&ue.isHTMLForm(e)&&(e=new FormData(e)),ue.isFormData(e))return a?JSON.stringify(WA(e)):e;if(ue.isArrayBuffer(e)||ue.isBuffer(e)||ue.isStream(e)||ue.isFile(e)||ue.isBlob(e)||ue.isReadableStream(e))return e;if(ue.isArrayBufferView(e))return e.buffer;if(ue.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let m;if(c){if(i.indexOf("application/x-www-form-urlencoded")>-1)return B6(e,this.formSerializer).toString();if((m=ue.isFileList(e))||i.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return ip(m?{"files[]":e}:e,g&&new g,this.formSerializer)}}return c||a?(n.setContentType("application/json",!1),H6(e)):e}],transformResponse:[function(e){const n=this.transitional||fd.transitional,i=n&&n.forcedJSONParsing,a=this.responseType==="json";if(ue.isResponse(e)||ue.isReadableStream(e))return e;if(e&&ue.isString(e)&&(i&&!this.responseType||a)){const u=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(m){if(u)throw m.name==="SyntaxError"?Xe.from(m,Xe.ERR_BAD_RESPONSE,this,null,this.response):m}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$n.classes.FormData,Blob:$n.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ue.forEach(["delete","get","head","post","put","patch"],t=>{fd.headers[t]={}});const q6=ue.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),G6=t=>{const e={};let n,i,a;return t&&t.split(`
`).forEach(function(u){a=u.indexOf(":"),n=u.substring(0,a).trim().toLowerCase(),i=u.substring(a+1).trim(),!(!n||e[n]&&q6[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},t1=Symbol("internals");function hh(t){return t&&String(t).trim().toLowerCase()}function Qf(t){return t===!1||t==null?t:ue.isArray(t)?t.map(Qf):String(t)}function Z6(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const W6=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function oy(t,e,n,i,a){if(ue.isFunction(i))return i.call(this,e,n);if(a&&(e=n),!!ue.isString(e)){if(ue.isString(i))return e.indexOf(i)!==-1;if(ue.isRegExp(i))return i.test(e)}}function K6(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function $6(t,e){const n=ue.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(a,c,u){return this[i].call(this,e,a,c,u)},configurable:!0})})}let Di=class{constructor(e){e&&this.set(e)}set(e,n,i){const a=this;function c(m,g,_){const x=hh(g);if(!x)throw new Error("header name must be a non-empty string");const T=ue.findKey(a,x);(!T||a[T]===void 0||_===!0||_===void 0&&a[T]!==!1)&&(a[T||g]=Qf(m))}const u=(m,g)=>ue.forEach(m,(_,x)=>c(_,x,g));if(ue.isPlainObject(e)||e instanceof this.constructor)u(e,n);else if(ue.isString(e)&&(e=e.trim())&&!W6(e))u(G6(e),n);else if(ue.isObject(e)&&ue.isIterable(e)){let m={},g,_;for(const x of e){if(!ue.isArray(x))throw TypeError("Object iterator must return a key-value pair");m[_=x[0]]=(g=m[_])?ue.isArray(g)?[...g,x[1]]:[g,x[1]]:x[1]}u(m,n)}else e!=null&&c(n,e,i);return this}get(e,n){if(e=hh(e),e){const i=ue.findKey(this,e);if(i){const a=this[i];if(!n)return a;if(n===!0)return Z6(a);if(ue.isFunction(n))return n.call(this,a,i);if(ue.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=hh(e),e){const i=ue.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||oy(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let a=!1;function c(u){if(u=hh(u),u){const m=ue.findKey(i,u);m&&(!n||oy(i,i[m],m,n))&&(delete i[m],a=!0)}}return ue.isArray(e)?e.forEach(c):c(e),a}clear(e){const n=Object.keys(this);let i=n.length,a=!1;for(;i--;){const c=n[i];(!e||oy(this,this[c],c,e,!0))&&(delete this[c],a=!0)}return a}normalize(e){const n=this,i={};return ue.forEach(this,(a,c)=>{const u=ue.findKey(i,c);if(u){n[u]=Qf(a),delete n[c];return}const m=e?K6(c):String(c).trim();m!==c&&delete n[c],n[m]=Qf(a),i[m]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ue.forEach(this,(i,a)=>{i!=null&&i!==!1&&(n[a]=e&&ue.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(a=>i.set(a)),i}static accessor(e){const i=(this[t1]=this[t1]={accessors:{}}).accessors,a=this.prototype;function c(u){const m=hh(u);i[m]||($6(a,u),i[m]=!0)}return ue.isArray(e)?e.forEach(c):c(e),this}};Di.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ue.reduceDescriptors(Di.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});ue.freezeMethods(Di);function ly(t,e){const n=this||fd,i=e||n,a=Di.from(i.headers);let c=i.data;return ue.forEach(t,function(m){c=m.call(n,c,a.normalize(),e?e.status:void 0)}),a.normalize(),c}function KA(t){return!!(t&&t.__CANCEL__)}function gu(t,e,n){Xe.call(this,t??"canceled",Xe.ERR_CANCELED,e,n),this.name="CanceledError"}ue.inherits(gu,Xe,{__CANCEL__:!0});function $A(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new Xe("Request failed with status code "+n.status,[Xe.ERR_BAD_REQUEST,Xe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Y6(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Q6(t,e){t=t||10;const n=new Array(t),i=new Array(t);let a=0,c=0,u;return e=e!==void 0?e:1e3,function(g){const _=Date.now(),x=i[c];u||(u=_),n[a]=g,i[a]=_;let T=c,A=0;for(;T!==a;)A+=n[T++],T=T%t;if(a=(a+1)%t,a===c&&(c=(c+1)%t),_-u<e)return;const j=x&&_-x;return j?Math.round(A*1e3/j):void 0}}function X6(t,e){let n=0,i=1e3/e,a,c;const u=(_,x=Date.now())=>{n=x,a=null,c&&(clearTimeout(c),c=null),t(..._)};return[(..._)=>{const x=Date.now(),T=x-n;T>=i?u(_,x):(a=_,c||(c=setTimeout(()=>{c=null,u(a)},i-T)))},()=>a&&u(a)]}const wm=(t,e,n=3)=>{let i=0;const a=Q6(50,250);return X6(c=>{const u=c.loaded,m=c.lengthComputable?c.total:void 0,g=u-i,_=a(g),x=u<=m;i=u;const T={loaded:u,total:m,progress:m?u/m:void 0,bytes:g,rate:_||void 0,estimated:_&&m&&x?(m-u)/_:void 0,event:c,lengthComputable:m!=null,[e?"download":"upload"]:!0};t(T)},n)},n1=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},i1=t=>(...e)=>ue.asap(()=>t(...e)),J6=$n.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,$n.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL($n.origin),$n.navigator&&/(msie|trident)/i.test($n.navigator.userAgent)):()=>!0,eV=$n.hasStandardBrowserEnv?{write(t,e,n,i,a,c){const u=[t+"="+encodeURIComponent(e)];ue.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),ue.isString(i)&&u.push("path="+i),ue.isString(a)&&u.push("domain="+a),c===!0&&u.push("secure"),document.cookie=u.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function tV(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function nV(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function YA(t,e,n){let i=!tV(e);return t&&(i||n==!1)?nV(t,e):e}const s1=t=>t instanceof Di?{...t}:t;function Dl(t,e){e=e||{};const n={};function i(_,x,T,A){return ue.isPlainObject(_)&&ue.isPlainObject(x)?ue.merge.call({caseless:A},_,x):ue.isPlainObject(x)?ue.merge({},x):ue.isArray(x)?x.slice():x}function a(_,x,T,A){if(ue.isUndefined(x)){if(!ue.isUndefined(_))return i(void 0,_,T,A)}else return i(_,x,T,A)}function c(_,x){if(!ue.isUndefined(x))return i(void 0,x)}function u(_,x){if(ue.isUndefined(x)){if(!ue.isUndefined(_))return i(void 0,_)}else return i(void 0,x)}function m(_,x,T){if(T in e)return i(_,x);if(T in t)return i(void 0,_)}const g={url:c,method:c,data:c,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:m,headers:(_,x,T)=>a(s1(_),s1(x),T,!0)};return ue.forEach(Object.keys({...t,...e}),function(x){const T=g[x]||a,A=T(t[x],e[x],x);ue.isUndefined(A)&&T!==m||(n[x]=A)}),n}const QA=t=>{const e=Dl({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:c,headers:u,auth:m}=e;if(e.headers=u=Di.from(u),e.url=GA(YA(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),m&&u.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):""))),ue.isFormData(n)){if($n.hasStandardBrowserEnv||$n.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if(ue.isFunction(n.getHeaders)){const g=n.getHeaders(),_=["content-type","content-length"];Object.entries(g).forEach(([x,T])=>{_.includes(x.toLowerCase())&&u.set(x,T)})}}if($n.hasStandardBrowserEnv&&(i&&ue.isFunction(i)&&(i=i(e)),i||i!==!1&&J6(e.url))){const g=a&&c&&eV.read(c);g&&u.set(a,g)}return e},iV=typeof XMLHttpRequest<"u",sV=iV&&function(t){return new Promise(function(n,i){const a=QA(t);let c=a.data;const u=Di.from(a.headers).normalize();let{responseType:m,onUploadProgress:g,onDownloadProgress:_}=a,x,T,A,j,I;function z(){j&&j(),I&&I(),a.cancelToken&&a.cancelToken.unsubscribe(x),a.signal&&a.signal.removeEventListener("abort",x)}let k=new XMLHttpRequest;k.open(a.method.toUpperCase(),a.url,!0),k.timeout=a.timeout;function $(){if(!k)return;const Q=Di.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),he={data:!m||m==="text"||m==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:Q,config:t,request:k};$A(function(F){n(F),z()},function(F){i(F),z()},he),k=null}"onloadend"in k?k.onloadend=$:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout($)},k.onabort=function(){k&&(i(new Xe("Request aborted",Xe.ECONNABORTED,t,k)),k=null)},k.onerror=function(ve){const he=ve&&ve.message?ve.message:"Network Error",we=new Xe(he,Xe.ERR_NETWORK,t,k);we.event=ve||null,i(we),k=null},k.ontimeout=function(){let ve=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const he=a.transitional||ZA;a.timeoutErrorMessage&&(ve=a.timeoutErrorMessage),i(new Xe(ve,he.clarifyTimeoutError?Xe.ETIMEDOUT:Xe.ECONNABORTED,t,k)),k=null},c===void 0&&u.setContentType(null),"setRequestHeader"in k&&ue.forEach(u.toJSON(),function(ve,he){k.setRequestHeader(he,ve)}),ue.isUndefined(a.withCredentials)||(k.withCredentials=!!a.withCredentials),m&&m!=="json"&&(k.responseType=a.responseType),_&&([A,I]=wm(_,!0),k.addEventListener("progress",A)),g&&k.upload&&([T,j]=wm(g),k.upload.addEventListener("progress",T),k.upload.addEventListener("loadend",j)),(a.cancelToken||a.signal)&&(x=Q=>{k&&(i(!Q||Q.type?new gu(null,t,k):Q),k.abort(),k=null)},a.cancelToken&&a.cancelToken.subscribe(x),a.signal&&(a.signal.aborted?x():a.signal.addEventListener("abort",x)));const Y=Y6(a.url);if(Y&&$n.protocols.indexOf(Y)===-1){i(new Xe("Unsupported protocol "+Y+":",Xe.ERR_BAD_REQUEST,t));return}k.send(c||null)})},rV=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,a;const c=function(_){if(!a){a=!0,m();const x=_ instanceof Error?_:this.reason;i.abort(x instanceof Xe?x:new gu(x instanceof Error?x.message:x))}};let u=e&&setTimeout(()=>{u=null,c(new Xe(`timeout ${e} of ms exceeded`,Xe.ETIMEDOUT))},e);const m=()=>{t&&(u&&clearTimeout(u),u=null,t.forEach(_=>{_.unsubscribe?_.unsubscribe(c):_.removeEventListener("abort",c)}),t=null)};t.forEach(_=>_.addEventListener("abort",c));const{signal:g}=i;return g.unsubscribe=()=>ue.asap(m),g}},aV=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,a;for(;i<n;)a=i+e,yield t.slice(i,a),i=a},oV=async function*(t,e){for await(const n of lV(t))yield*aV(n,e)},lV=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},r1=(t,e,n,i)=>{const a=oV(t,e);let c=0,u,m=g=>{u||(u=!0,i&&i(g))};return new ReadableStream({async pull(g){try{const{done:_,value:x}=await a.next();if(_){m(),g.close();return}let T=x.byteLength;if(n){let A=c+=T;n(A)}g.enqueue(new Uint8Array(x))}catch(_){throw m(_),_}},cancel(g){return m(g),a.return()}},{highWaterMark:2})},a1=64*1024,{isFunction:Rf}=ue,cV=(({Request:t,Response:e})=>({Request:t,Response:e}))(ue.global),{ReadableStream:o1,TextEncoder:l1}=ue.global,c1=(t,...e)=>{try{return!!t(...e)}catch{return!1}},uV=t=>{t=ue.merge.call({skipUndefined:!0},cV,t);const{fetch:e,Request:n,Response:i}=t,a=e?Rf(e):typeof fetch=="function",c=Rf(n),u=Rf(i);if(!a)return!1;const m=a&&Rf(o1),g=a&&(typeof l1=="function"?(I=>z=>I.encode(z))(new l1):async I=>new Uint8Array(await new n(I).arrayBuffer())),_=c&&m&&c1(()=>{let I=!1;const z=new n($n.origin,{body:new o1,method:"POST",get duplex(){return I=!0,"half"}}).headers.has("Content-Type");return I&&!z}),x=u&&m&&c1(()=>ue.isReadableStream(new i("").body)),T={stream:x&&(I=>I.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(I=>{!T[I]&&(T[I]=(z,k)=>{let $=z&&z[I];if($)return $.call(z);throw new Xe(`Response type '${I}' is not supported`,Xe.ERR_NOT_SUPPORT,k)})});const A=async I=>{if(I==null)return 0;if(ue.isBlob(I))return I.size;if(ue.isSpecCompliantForm(I))return(await new n($n.origin,{method:"POST",body:I}).arrayBuffer()).byteLength;if(ue.isArrayBufferView(I)||ue.isArrayBuffer(I))return I.byteLength;if(ue.isURLSearchParams(I)&&(I=I+""),ue.isString(I))return(await g(I)).byteLength},j=async(I,z)=>{const k=ue.toFiniteNumber(I.getContentLength());return k??A(z)};return async I=>{let{url:z,method:k,data:$,signal:Y,cancelToken:Q,timeout:ve,onDownloadProgress:he,onUploadProgress:we,responseType:F,headers:O,withCredentials:U="same-origin",fetchOptions:W}=QA(I),M=e||fetch;F=F?(F+"").toLowerCase():"text";let G=rV([Y,Q&&Q.toAbortSignal()],ve),H=null;const Ue=G&&G.unsubscribe&&(()=>{G.unsubscribe()});let je;try{if(we&&_&&k!=="get"&&k!=="head"&&(je=await j(O,$))!==0){let ce=new n(z,{method:"POST",body:$,duplex:"half"}),be;if(ue.isFormData($)&&(be=ce.headers.get("content-type"))&&O.setContentType(be),ce.body){const[xe,Te]=n1(je,wm(i1(we)));$=r1(ce.body,a1,xe,Te)}}ue.isString(U)||(U=U?"include":"omit");const J=c&&"credentials"in n.prototype,de={...W,signal:G,method:k.toUpperCase(),headers:O.normalize().toJSON(),body:$,duplex:"half",credentials:J?U:void 0};H=c&&new n(z,de);let le=await(c?M(H,W):M(z,de));const Me=x&&(F==="stream"||F==="response");if(x&&(he||Me&&Ue)){const ce={};["status","statusText","headers"].forEach(Re=>{ce[Re]=le[Re]});const be=ue.toFiniteNumber(le.headers.get("content-length")),[xe,Te]=he&&n1(be,wm(i1(he),!0))||[];le=new i(r1(le.body,a1,xe,()=>{Te&&Te(),Ue&&Ue()}),ce)}F=F||"text";let B=await T[ue.findKey(T,F)||"text"](le,I);return!Me&&Ue&&Ue(),await new Promise((ce,be)=>{$A(ce,be,{data:B,headers:Di.from(le.headers),status:le.status,statusText:le.statusText,config:I,request:H})})}catch(J){throw Ue&&Ue(),J&&J.name==="TypeError"&&/Load failed|fetch/i.test(J.message)?Object.assign(new Xe("Network Error",Xe.ERR_NETWORK,I,H),{cause:J.cause||J}):Xe.from(J,J&&J.code,I,H)}}},hV=new Map,XA=t=>{let e=t?t.env:{};const{fetch:n,Request:i,Response:a}=e,c=[i,a,n];let u=c.length,m=u,g,_,x=hV;for(;m--;)g=c[m],_=x.get(g),_===void 0&&x.set(g,_=m?new Map:uV(e)),x=_;return _};XA();const i0={http:C6,xhr:sV,fetch:{get:XA}};ue.forEach(i0,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const u1=t=>`- ${t}`,dV=t=>ue.isFunction(t)||t===null||t===!1,JA={getAdapter:(t,e)=>{t=ue.isArray(t)?t:[t];const{length:n}=t;let i,a;const c={};for(let u=0;u<n;u++){i=t[u];let m;if(a=i,!dV(i)&&(a=i0[(m=String(i)).toLowerCase()],a===void 0))throw new Xe(`Unknown adapter '${m}'`);if(a&&(ue.isFunction(a)||(a=a.get(e))))break;c[m||"#"+u]=a}if(!a){const u=Object.entries(c).map(([g,_])=>`adapter ${g} `+(_===!1?"is not supported by the environment":"is not available in the build"));let m=n?u.length>1?`since :
`+u.map(u1).join(`
`):" "+u1(u[0]):"as no adapter specified";throw new Xe("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return a},adapters:i0};function cy(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new gu(null,t)}function h1(t){return cy(t),t.headers=Di.from(t.headers),t.data=ly.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),JA.getAdapter(t.adapter||fd.adapter,t)(t).then(function(i){return cy(t),i.data=ly.call(t,t.transformResponse,i),i.headers=Di.from(i.headers),i},function(i){return KA(i)||(cy(t),i&&i.response&&(i.response.data=ly.call(t,t.transformResponse,i.response),i.response.headers=Di.from(i.response.headers))),Promise.reject(i)})}const eN="1.12.2",sp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{sp[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const d1={};sp.transitional=function(e,n,i){function a(c,u){return"[Axios v"+eN+"] Transitional option '"+c+"'"+u+(i?". "+i:"")}return(c,u,m)=>{if(e===!1)throw new Xe(a(u," has been removed"+(n?" in "+n:"")),Xe.ERR_DEPRECATED);return n&&!d1[u]&&(d1[u]=!0,console.warn(a(u," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(c,u,m):!0}};sp.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function fV(t,e,n){if(typeof t!="object")throw new Xe("options must be an object",Xe.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let a=i.length;for(;a-- >0;){const c=i[a],u=e[c];if(u){const m=t[c],g=m===void 0||u(m,c,t);if(g!==!0)throw new Xe("option "+c+" must be "+g,Xe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Xe("Unknown option "+c,Xe.ERR_BAD_OPTION)}}const Xf={assertOptions:fV,validators:sp},yr=Xf.validators;let Sl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new e1,response:new e1}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const c=a.stack?a.stack.replace(/^.+\n/,""):"";try{i.stack?c&&!String(i.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+c):i.stack=c}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Dl(this.defaults,n);const{transitional:i,paramsSerializer:a,headers:c}=n;i!==void 0&&Xf.assertOptions(i,{silentJSONParsing:yr.transitional(yr.boolean),forcedJSONParsing:yr.transitional(yr.boolean),clarifyTimeoutError:yr.transitional(yr.boolean)},!1),a!=null&&(ue.isFunction(a)?n.paramsSerializer={serialize:a}:Xf.assertOptions(a,{encode:yr.function,serialize:yr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Xf.assertOptions(n,{baseUrl:yr.spelling("baseURL"),withXsrfToken:yr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let u=c&&ue.merge(c.common,c[n.method]);c&&ue.forEach(["delete","get","head","post","put","patch","common"],I=>{delete c[I]}),n.headers=Di.concat(u,c);const m=[];let g=!0;this.interceptors.request.forEach(function(z){typeof z.runWhen=="function"&&z.runWhen(n)===!1||(g=g&&z.synchronous,m.unshift(z.fulfilled,z.rejected))});const _=[];this.interceptors.response.forEach(function(z){_.push(z.fulfilled,z.rejected)});let x,T=0,A;if(!g){const I=[h1.bind(this),void 0];for(I.unshift(...m),I.push(..._),A=I.length,x=Promise.resolve(n);T<A;)x=x.then(I[T++],I[T++]);return x}A=m.length;let j=n;for(;T<A;){const I=m[T++],z=m[T++];try{j=I(j)}catch(k){z.call(this,k);break}}try{x=h1.call(this,j)}catch(I){return Promise.reject(I)}for(T=0,A=_.length;T<A;)x=x.then(_[T++],_[T++]);return x}getUri(e){e=Dl(this.defaults,e);const n=YA(e.baseURL,e.url,e.allowAbsoluteUrls);return GA(n,e.params,e.paramsSerializer)}};ue.forEach(["delete","get","head","options"],function(e){Sl.prototype[e]=function(n,i){return this.request(Dl(i||{},{method:e,url:n,data:(i||{}).data}))}});ue.forEach(["post","put","patch"],function(e){function n(i){return function(c,u,m){return this.request(Dl(m||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:c,data:u}))}}Sl.prototype[e]=n(),Sl.prototype[e+"Form"]=n(!0)});let mV=class tN{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(c){n=c});const i=this;this.promise.then(a=>{if(!i._listeners)return;let c=i._listeners.length;for(;c-- >0;)i._listeners[c](a);i._listeners=null}),this.promise.then=a=>{let c;const u=new Promise(m=>{i.subscribe(m),c=m}).then(a);return u.cancel=function(){i.unsubscribe(c)},u},e(function(c,u,m){i.reason||(i.reason=new gu(c,u,m),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new tN(function(a){e=a}),cancel:e}}};function pV(t){return function(n){return t.apply(null,n)}}function gV(t){return ue.isObject(t)&&t.isAxiosError===!0}const s0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(s0).forEach(([t,e])=>{s0[e]=t});function nN(t){const e=new Sl(t),n=DA(Sl.prototype.request,e);return ue.extend(n,Sl.prototype,e,{allOwnKeys:!0}),ue.extend(n,e,null,{allOwnKeys:!0}),n.create=function(a){return nN(Dl(t,a))},n}const Yt=nN(fd);Yt.Axios=Sl;Yt.CanceledError=gu;Yt.CancelToken=mV;Yt.isCancel=KA;Yt.VERSION=eN;Yt.toFormData=ip;Yt.AxiosError=Xe;Yt.Cancel=Yt.CanceledError;Yt.all=function(e){return Promise.all(e)};Yt.spread=pV;Yt.isAxiosError=gV;Yt.mergeConfig=Dl;Yt.AxiosHeaders=Di;Yt.formToJSON=t=>WA(ue.isHTMLForm(t)?new FormData(t):t);Yt.getAdapter=JA.getAdapter;Yt.HttpStatusCode=s0;Yt.default=Yt;const{Axios:pB,AxiosError:gB,CanceledError:yB,isCancel:vB,CancelToken:_B,VERSION:xB,all:bB,Cancel:wB,isAxiosError:TB,spread:EB,toFormData:SB,AxiosHeaders:AB,HttpStatusCode:NB,formToJSON:CB,getAdapter:RB,mergeConfig:PB}=Yt;delete mu.Icon.Default.prototype._getIconUrl;mu.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const yV="https://appsail-50034009857.development.catalystappsail.in/create-order",vV="https://appsail-50034009857.development.catalystappsail.in/verify-payment",_V=()=>{const{cartItems:t,cartTotal:e,clearCart:n}=Jm(),i=Oo(),a=V.useRef(),c=fu.currentUser,[u,m]=V.useState(!1);u?(document.body.style.pointerEvents="none",document.body.style.opacity="0.6"):(document.body.style.pointerEvents="auto",document.body.style.opacity="1");const[g,_]=V.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",state:"",pincode:"",country:"India"}),[x,T]=V.useState(null),[A,j]=V.useState(!1),[I,z]=V.useState("card"),[k,$]=V.useState([12.2253,79.0747]),[Y,Q]=V.useState(13),[ve,he]=V.useState("satellite"),we=new mu.Icon({iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41]}),F=je=>{const{name:J,value:de}=je.target;_({...g,[J]:de})},O=async(je,J)=>{try{const le=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${je}&lon=${J}&zoom=18&addressdetails=1`)).json();if(le?.address){const Me=le.address;return{address:`${Me.road||""} ${Me.house_number||""} ${Me.neighbourhood||""}`.trim(),city:Me.city||Me.town||Me.village||Me.county||"",state:Me.state||"",pincode:Me.postcode||"",country:Me.country||"India"}}}catch(de){throw console.error("Reverse geocoding error:",de),new Error("Could not fetch location details.")}},U=async(je,J)=>{try{const de=await O(je,J);_(le=>({...le,...de}))}catch(de){alert(de.message)}},W=()=>{if(!navigator.geolocation){alert("Geolocation not supported by your browser");return}j(!0),navigator.geolocation.getCurrentPosition(async je=>{const{latitude:J,longitude:de}=je.coords;T({lat:J,lng:de}),$([J,de]),Q(16);try{await U(J,de)}catch{}finally{j(!1)}},je=>{console.error("Geolocation error:",je);let J="Location access failed.";switch(je.code){case je.PERMISSION_DENIED:J="Location access denied. Please allow location access and try again.";break;case je.POSITION_UNAVAILABLE:J="Location information unavailable.";break;case je.TIMEOUT:J="Location request timed out.";break}alert(J),j(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})},M=async je=>{const{lat:J,lng:de}=je.latlng;T({lat:J,lng:de}),$([J,de]);try{await U(J,de)}catch{}},G=()=>(z3({click:M}),null),H=async je=>{if(je.preventDefault(),!x){alert("Please set a delivery location.");return}m(!0);try{if(I==="cod"){const xe=await Kf(So(Ri,"orders"),{userId:c?.uid,items:t,amount:e,currency:"INR",status:"Pending (COD)",paymentMethod:"COD",createdAt:$f(),shipping:{firstName:g.firstName,lastName:g.lastName,email:g.email,phone:g.phone,address:g.address,city:g.city,state:g.state,pincode:g.pincode,country:g.country,location:x}});n(),i("/orderconfirmation",{state:{orderId:xe.id,payment:"cod"}}),m(!1);return}const{data:J}=await Yt.post(yV,{amount:e,currency:"INR"}),{orderId:de,keyId:le,amount:Me}=J;await Kf(So(Ri,"orders"),{userId:c?.uid,items:t,amount:e,currency:"INR",status:"Initiated",paymentMethod:I,razorpayOrderId:de,createdAt:$f(),shipping:{firstName:g.firstName,lastName:g.lastName,email:g.email,phone:g.phone,address:g.address,city:g.city,state:g.state,pincode:g.pincode,country:g.country,location:x}});let B="";t.length===1?B=`Payment for ${t[0].name}`:B=`Payment for ${t[0].name} + ${t.length-1} more item(s)`;const ce={key:le,amount:Me,currency:"INR",name:"Fruit Bunch",description:B,order_id:de,handler:async function(xe){try{(await Yt.post(vV,{razorpayOrderId:xe.razorpay_order_id,razorpayPaymentId:xe.razorpay_payment_id,razorpaySignature:xe.razorpay_signature})).data.success?(await Kf(So(Ri,"payments"),{userId:c?.uid,orderId:de,paymentId:xe.razorpay_payment_id,signature:xe.razorpay_signature,createdAt:$f()}),n(),i("/orderconfirmation",{state:{orderId:de,payment:I}})):alert("Payment verification failed!")}catch(Te){console.error("Verify error:",Te),alert("Verification failed.")}finally{m(!1)}},prefill:{name:`${g.firstName} ${g.lastName}`,email:g.email,contact:g.phone},theme:{color:"#22c55e"}};new window.Razorpay(ce).open()}catch(J){console.error("Order error:",J),alert("Failed to place order."),m(!1)}};if(t.length===0)return f.jsx("div",{className:"container mx-auto px-4 py-12",children:f.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[f.jsx("div",{className:"text-6xl mb-6",children:"🛒"}),f.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Your cart is empty"}),f.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"There's nothing to checkout. Add some items to your cart first."}),f.jsx(et,{to:"/cart",className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-8 rounded-lg transition",children:"Back to Cart"})]})});const Ue={satellite:{url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",attribution:"&copy; Google Satellite",subdomains:["mt0","mt1","mt2","mt3"]},hybrid:{url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",attribution:"&copy; Google Hybrid",subdomains:["mt0","mt1","mt2","mt3"]},street:{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"&copy; OpenStreetMap contributors"},detailed:{url:"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",attribution:"&copy; OpenStreetMap contributors, Tiles style by Humanitarian OpenStreetMap Team"}};return f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-center text-gray-800 mb-8",children:"Checkout"}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[f.jsx("div",{children:f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Order Summary"}),f.jsx("div",{className:"space-y-4",children:t.map(je=>f.jsxs("div",{className:"flex items-center border-b border-gray-100 pb-4",children:[f.jsx("img",{src:je.image,alt:je.name,className:"w-16 h-16 object-cover rounded-lg"}),f.jsxs("div",{className:"ml-4 flex-grow",children:[f.jsx("h3",{className:"font-medium text-gray-800",children:je.name}),f.jsxs("p",{className:"text-green-600 font-bold",children:["₹",je.price," × ",je.quantity]})]}),f.jsx("div",{className:"ml-4",children:f.jsxs("p",{className:"font-bold text-green-600",children:["₹",je.price*je.quantity]})})]},je.id))}),f.jsxs("div",{className:"border-t border-gray-200 mt-4 pt-4",children:[f.jsxs("div",{className:"flex justify-between mb-2",children:[f.jsx("span",{children:"Subtotal"}),f.jsxs("span",{children:["₹",e]})]}),f.jsxs("div",{className:"flex justify-between mb-2",children:[f.jsx("span",{children:"Delivery Fee"}),f.jsx("span",{className:"text-green-600",children:"Free"})]}),f.jsxs("div",{className:"flex justify-between font-bold text-lg mt-2 pt-2 border-t border-gray-200",children:[f.jsx("span",{children:"Total"}),f.jsxs("span",{children:["₹",e]})]})]})]})}),f.jsx("div",{children:f.jsxs("form",{onSubmit:H,className:"bg-white rounded-lg shadow-md p-6",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Shipping Information"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),f.jsx("input",{type:"text",name:"firstName",value:g.firstName,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),f.jsx("input",{type:"text",name:"lastName",value:g.lastName,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),f.jsx("input",{type:"email",name:"email",value:g.email,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),f.jsx("input",{type:"tel",name:"phone",value:g.phone,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]})]}),f.jsxs("div",{className:"mb-4",children:[f.jsxs("div",{className:"flex justify-between items-center mb-3",children:[f.jsx("label",{className:"block text-xs md:text-sm font-medium text-gray-700",children:"Delivery Location"}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsxs("select",{value:ve,onChange:je=>he(je.target.value),className:"text-xs md:text-sm border border-gray-300 rounded px-2 py-1",children:[f.jsx("option",{value:"satellite",children:"Satellite"}),f.jsx("option",{value:"street",children:"Street"})]}),f.jsx("button",{type:"button",onClick:W,disabled:A,className:"text-xs md:text-sm bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded flex items-center",children:A?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"animate-spin -ml-1 mr-1 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Detecting..."]}):f.jsxs(f.Fragment,{children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Use my location"]})})]})]}),f.jsx("div",{className:"mb-4 border rounded-lg overflow-hidden",children:f.jsxs(RA,{center:k,zoom:Y,style:{height:"300px",width:"100%"},ref:a,children:[f.jsx(IA,{attribution:Ue[ve].attribution,url:Ue[ve].url,subdomains:Ue[ve].subdomains}),f.jsx(G,{}),x&&f.jsx(PA,{position:[x.lat,x.lng],icon:we,children:f.jsx(jA,{children:f.jsxs("div",{className:"text-sm",children:[f.jsx("strong",{children:"Delivery Location"}),f.jsx("br",{}),g.address&&`${g.address}, `,g.city&&`${g.city}, `,g.state&&`${g.state} - `,g.pincode]})})})]})}),f.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"💡 Click on the map to set your delivery location manually"}),f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),f.jsx("input",{type:"text",name:"address",value:g.address,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0,placeholder:"Street address"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),f.jsx("input",{type:"text",name:"city",value:g.city,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),f.jsx("input",{type:"text",name:"state",value:g.state,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pincode"}),f.jsx("input",{type:"text",name:"pincode",value:g.pincode,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0,pattern:"[0-9]{6}",title:"6-digit pincode"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),f.jsx("input",{type:"text",name:"country",value:g.country,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]})]}),f.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Payment Method"}),f.jsxs("div",{className:"mb-6 space-y-3",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{id:"card",name:"paymentMethod",type:"radio",value:"card",checked:I==="card",onChange:()=>z("card"),className:"h-4 w-4 text-green-600 focus:ring-green-500"}),f.jsx("label",{htmlFor:"card",className:"ml-3 block text-sm font-medium text-gray-700",children:"Credit/Debit Card"})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{id:"upi",name:"paymentMethod",type:"radio",value:"upi",checked:I==="upi",onChange:()=>z("upi"),className:"h-4 w-4 text-green-600 focus:ring-green-500"}),f.jsx("label",{htmlFor:"upi",className:"ml-3 block text-sm font-medium text-gray-700",children:"UPI"})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{id:"cod",name:"paymentMethod",type:"radio",value:"cod",checked:I==="cod",onChange:()=>z("cod"),className:"h-4 w-4 text-green-600 focus:ring-green-500"}),f.jsx("label",{htmlFor:"cod",className:"ml-3 block text-sm font-medium text-gray-700",children:"Cash on Delivery"})]})]}),f.jsxs("div",{className:"flex space-x-4",children:[f.jsx(et,{to:"/cart",className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-3 px-6 rounded-lg transition text-center",children:"Back to Cart"}),f.jsxs("button",{type:"submit",className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg transition",children:["Pay ₹",e]})]})]})})]})]})},xV=()=>{const[t,e]=V.useState(!1);V.useEffect(()=>{const a=()=>{window.scrollY>300?e(!0):e(!1)};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})},i=()=>{const a="918807239379",u=encodeURIComponent("I want fruit bunch"),m=`https://wa.me/${a}?text=${u}`;window.open(m,"_blank")};return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"fixed bottom-6 right-6 z-50 w-14 h-14 bg-green-500 rounded-full flex items-center justify-center shadow-lg cursor-pointer hover:bg-green-600 transition-transform transform hover:scale-110",onClick:i,children:f.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.864 3.49"})})}),t&&f.jsx("div",{className:"fixed bottom-24 right-7 z-50 w-12 h-12 bg-gray-700 rounded-full flex items-center justify-center shadow-lg cursor-pointer hover:bg-gray-800 transition-all duration-300 opacity-80 hover:opacity-100",onClick:n,children:f.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 15l7-7 7 7"})})})]})},bV=()=>{const[t,e]=V.useState(""),[n,i]=V.useState(!1),[a,c]=V.useState(!1),u=async m=>{m.preventDefault(),c(!0);try{await hD(fu,t),console.log("Password reset email sent to:",t),i(!0)}catch(g){console.error("Password reset error:",g.message),alert(g.message)}finally{c(!1)}};return f.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-100 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[f.jsx("div",{className:"absolute -top-20 -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),f.jsx("div",{className:"absolute top-40 -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),f.jsx("div",{className:"absolute -bottom-20 left-40 w-72 h-72 bg-teal-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-4000"}),f.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-2xl shadow-lg z-10 transform transition-all duration-500 hover:shadow-xl",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"mx-auto h-16 w-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),f.jsx("h2",{className:"mt-2 text-3xl font-bold text-gray-900",children:"Reset your password"}),f.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",f.jsx(et,{to:"/login",className:"font-medium text-green-600 hover:text-green-500 transition-colors duration-300",children:"return to sign in"})]})]}),n?f.jsxs("div",{className:"text-center py-6",children:[f.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),f.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"Check your email"}),f.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["We've sent a password reset link to ",f.jsx("span",{className:"font-medium text-green-600",children:t})]}),f.jsx("div",{className:"mt-6",children:f.jsx("button",{onClick:()=>i(!1),className:"text-sm font-medium text-green-600 hover:text-green-500 transition-colors duration-300",children:"Didn't receive the email? Click to resend"})}),f.jsx("div",{className:"mt-4",children:f.jsxs(et,{to:"/login",className:"inline-flex items-center text-sm font-medium text-green-600 hover:text-green-500 transition-colors duration-300",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to sign in"]})})]}):f.jsxs(f.Fragment,{children:[f.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Enter your email address and we'll send you a link to reset your password."}),f.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[f.jsx("div",{className:"rounded-md shadow-sm",children:f.jsxs("div",{className:"relative",children:[f.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),f.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Email address",value:t,onChange:m=>e(m.target.value)}),f.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none opacity-0 peer-focus:opacity-100 transition-opacity duration-300",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]})}),f.jsx("div",{children:f.jsxs("button",{type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",disabled:a,children:[a?f.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,a?"Sending...":"Send reset link"]})})]})]})]})]})},f1=uA(),wV=()=>{const[t,e]=V.useState(null),[n,i]=V.useState(!0),[a,c]=V.useState([]),[u,m]=V.useState(null),[g,_]=V.useState("profile"),x=Oo();return V.useEffect(()=>{const T=localStorage.getItem("user");if(T){const A=JSON.parse(T);e(A),(async()=>{try{const I=So(f1,"orders"),z=_A(I,Vk("userId","==",A.uid)),$=(await Wf(z)).docs.map(Y=>({id:Y.id,...Y.data()}));if(c($),$.length>0){const Y=$[0],Q=Y.createdAt?.toDate?.()||new Date,ve=new Date(Q);ve.setDate(Q.getDate()+26);const he=new Date;if(he>ve)m(null);else{const F=Math.max(0,Math.ceil((ve-he)/864e5));m({plan:Y.items?.[0]?.name||"Standard",product:Y.items?.[0]?.description||"Subscription",status:Y.status,startDate:Q.toISOString(),expiryDate:ve.toISOString(),price:`₹${Y.amount}`,daysLeft:F})}}}catch(I){console.error("Error fetching orders:",I)}})()}i(!1)},[f1]),n?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):t?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 py-8 px-4",children:f.jsxs("div",{className:"max-w-6xl mx-auto",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"Profile Settings"}),f.jsx("p",{className:"text-gray-600",children:"Manage your account information and preferences"})]}),f.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[f.jsx("div",{className:"md:col-span-1",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 sticky top-8",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsxs("div",{className:"relative inline-block",children:[f.jsx("img",{src:`https://ui-avatars.com/api/?background=10b981&color=fff&size=128&name=${encodeURIComponent(t.name)}&bold=true`,alt:"Profile",className:"w-24 h-24 rounded-full mx-auto border-4 border-white shadow-lg"}),f.jsx("div",{className:"absolute bottom-2 right-2 w-6 h-6 bg-green-500 border-2 border-white rounded-full"})]}),f.jsx("h2",{className:"text-xl font-semibold mt-4 text-gray-900",children:t.name}),f.jsx("p",{className:"text-gray-600 text-sm",children:t.email})]}),f.jsxs("nav",{className:"space-y-2",children:[f.jsxs("button",{onClick:()=>_("profile"),className:`flex items-center space-x-3 p-3 rounded-lg w-full text-left ${g==="profile"?"bg-green-50 text-green-600":"text-gray-700 hover:bg-gray-50"}`,children:[f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),f.jsx("span",{className:"font-medium",children:"Profile"})]}),f.jsxs("button",{onClick:()=>_("subscription"),className:`flex items-center space-x-3 p-3 rounded-lg w-full text-left ${g==="subscription"?"bg-green-50 text-green-600":"text-gray-700 hover:bg-gray-50"}`,children:[f.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),f.jsx("span",{children:"Subscription"})]})]})]})}),f.jsx("div",{className:"md:col-span-3",children:g==="subscription"?f.jsxs(f.Fragment,{children:[u?f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden mb-8",children:[f.jsx("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 p-6",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Current Subscription"}),f.jsx("p",{className:"text-green-100",children:"Active plan with premium features"})]}),f.jsx("div",{className:"bg-white text-green-600 px-4 py-2 rounded-full font-semibold",children:u.plan})]})}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:f.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),f.jsx("h4",{className:"font-semibold text-gray-900",children:"Product"}),f.jsxs("p",{className:"text-gray-600 text-sm",children:[u.product,"..more"]})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:f.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),f.jsx("h4",{className:"font-semibold text-gray-900",children:"Expiry Date"}),f.jsx("p",{className:"text-gray-600 text-sm",children:new Date(u.expiryDate).toLocaleDateString()})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:f.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),f.jsx("h4",{className:"font-semibold text-gray-900",children:"Price"}),f.jsx("p",{className:"text-gray-600 text-sm",children:u.price})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:f.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3"})})}),f.jsx("h4",{className:"font-semibold text-gray-900",children:"Days Left"}),f.jsxs("p",{className:"text-gray-600 text-sm",children:[u.daysLeft," days"]})]})]}),f.jsxs("div",{className:"flex gap-4 mt-6",children:[f.jsxs("button",{onClick:()=>x("/subscription"),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg transition duration-200 flex items-center",children:[f.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Renew Subscription"]}),f.jsxs("button",{onClick:()=>x("/subscription"),className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-6 py-2 rounded-lg transition duration-200 flex items-center",children:[f.jsxs("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Change Plan"]})]})]})]}):f.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-6 mb-8 text-center",children:[f.jsx("h3",{className:"text-lg font-semibold text-red-700 mb-2",children:"Subscription Expired"}),f.jsx("p",{className:"text-gray-600 mb-4",children:"Your subscription has expired. Please renew to continue enjoying premium features."}),f.jsx("button",{onClick:()=>x("/subscription"),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg transition duration-200",children:"Renew Now"})]}),f.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden mb-8",children:f.jsxs("div",{className:"p-6 border-b border-gray-100",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order History"}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-gray-50",children:[f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"#"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plan"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"})]})}),f.jsx("tbody",{className:"divide-y divide-gray-200",children:a.map((T,A)=>f.jsxs("tr",{className:"hover:bg-gray-50",children:[f.jsx("td",{className:"px-4 py-3 text-sm font-medium text-green-600",children:A+1}),f.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:T.items?.[0]?.name}),f.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:T.items?.[0]?.description}),f.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:new Date(T.createdAt?.toDate?.()).toLocaleDateString()}),f.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:["Rs: ",T.amount]})]},T.id))})]})})]})})]}):f.jsx(f.Fragment,{children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[f.jsxs("div",{className:"p-6 border-b border-gray-100",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Personal Information"}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),f.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:t.name})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),f.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:t.email})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Member Since"}),f.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Status"}),f.jsxs("div",{className:"p-3 bg-green-50 text-green-700 rounded-lg border border-green-200 flex items-center",children:[f.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Active"]})]})]})]}),f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Actions"}),f.jsxs("div",{className:"flex flex-wrap gap-4",children:[f.jsxs("button",{onClick:()=>x("/forgot-password"),className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-6 py-2 rounded-lg transition duration-200 flex items-center",children:[f.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Change Password"]}),f.jsxs("button",{onClick:()=>{const T=VS();vD(T).then(()=>{localStorage.removeItem("user"),window.location.href="/login"}).catch(A=>{console.error("Logout error:",A)})},className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg transition duration-200 flex items-center ml-auto",children:[f.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})]})]})]})})})]})]})}):f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 flex items-center justify-center",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:f.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),f.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Authentication Required"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"Please login to view your profile"}),f.jsx("a",{href:"/login",className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg transition duration-200",children:"Go to Login"})]})})},kv=V.createContext({});function Vv(t){const e=V.useRef(null);return e.current===null&&(e.current=t()),e.current}const Uv=typeof window<"u",iN=Uv?V.useLayoutEffect:V.useEffect,rp=V.createContext(null);function Bv(t,e){t.indexOf(e)===-1&&t.push(e)}function zv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ya=(t,e,n)=>n>e?e:n<t?t:n;let Fv=()=>{};const va={},sN=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function rN(t){return typeof t=="object"&&t!==null}const aN=t=>/^0[^.\s]+$/u.test(t);function Hv(t){let e;return()=>(e===void 0&&(e=t()),e)}const Es=t=>t,TV=(t,e)=>n=>e(t(n)),md=(...t)=>t.reduce(TV),qh=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class qv{constructor(){this.subscriptions=[]}add(e){return Bv(this.subscriptions,e),()=>zv(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let c=0;c<a;c++){const u=this.subscriptions[c];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Sr=t=>t*1e3,Ts=t=>t/1e3;function oN(t,e){return e?t*(1e3/e):0}const lN=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,EV=1e-7,SV=12;function AV(t,e,n,i,a){let c,u,m=0;do u=e+(n-e)/2,c=lN(u,i,a)-t,c>0?n=u:e=u;while(Math.abs(c)>EV&&++m<SV);return u}function pd(t,e,n,i){if(t===e&&n===i)return Es;const a=c=>AV(c,0,1,t,n);return c=>c===0||c===1?c:lN(a(c),e,i)}const cN=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,uN=t=>e=>1-t(1-e),hN=pd(.33,1.53,.69,.99),Gv=uN(hN),dN=cN(Gv),fN=t=>(t*=2)<1?.5*Gv(t):.5*(2-Math.pow(2,-10*(t-1))),Zv=t=>1-Math.sin(Math.acos(t)),mN=uN(Zv),pN=cN(Zv),NV=pd(.42,0,1,1),CV=pd(0,0,.58,1),gN=pd(.42,0,.58,1),RV=t=>Array.isArray(t)&&typeof t[0]!="number",yN=t=>Array.isArray(t)&&typeof t[0]=="number",PV={linear:Es,easeIn:NV,easeInOut:gN,easeOut:CV,circIn:Zv,circInOut:pN,circOut:mN,backIn:Gv,backInOut:dN,backOut:hN,anticipate:fN},jV=t=>typeof t=="string",m1=t=>{if(yN(t)){Fv(t.length===4);const[e,n,i,a]=t;return pd(e,n,i,a)}else if(jV(t))return PV[t];return t},Pf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function IV(t,e){let n=new Set,i=new Set,a=!1,c=!1;const u=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function g(x){u.has(x)&&(_.schedule(x),t()),x(m)}const _={schedule:(x,T=!1,A=!1)=>{const I=A&&a?n:i;return T&&u.add(x),I.has(x)||I.add(x),x},cancel:x=>{i.delete(x),u.delete(x)},process:x=>{if(m=x,a){c=!0;return}a=!0,[n,i]=[i,n],n.forEach(g),n.clear(),a=!1,c&&(c=!1,_.process(x))}};return _}const DV=40;function vN(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},c=()=>n=!0,u=Pf.reduce((Q,ve)=>(Q[ve]=IV(c),Q),{}),{setup:m,read:g,resolveKeyframes:_,preUpdate:x,update:T,preRender:A,render:j,postRender:I}=u,z=()=>{const Q=va.useManualTiming?a.timestamp:performance.now();n=!1,va.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(Q-a.timestamp,DV),1)),a.timestamp=Q,a.isProcessing=!0,m.process(a),g.process(a),_.process(a),x.process(a),T.process(a),A.process(a),j.process(a),I.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(z))},k=()=>{n=!0,i=!0,a.isProcessing||t(z)};return{schedule:Pf.reduce((Q,ve)=>{const he=u[ve];return Q[ve]=(we,F=!1,O=!1)=>(n||k(),he.schedule(we,F,O)),Q},{}),cancel:Q=>{for(let ve=0;ve<Pf.length;ve++)u[Pf[ve]].cancel(Q)},state:a,steps:u}}const{schedule:Vt,cancel:Lo,state:kn,steps:uy}=vN(typeof requestAnimationFrame<"u"?requestAnimationFrame:Es,!0);let Jf;function LV(){Jf=void 0}const ji={now:()=>(Jf===void 0&&ji.set(kn.isProcessing||va.useManualTiming?kn.timestamp:performance.now()),Jf),set:t=>{Jf=t,queueMicrotask(LV)}},_N=t=>e=>typeof e=="string"&&e.startsWith(t),Wv=_N("--"),MV=_N("var(--"),Kv=t=>MV(t)?OV.test(t.split("/*")[0].trim()):!1,OV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,yu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Gh={...yu,transform:t=>ya(0,1,t)},jf={...yu,default:1},Ch=t=>Math.round(t*1e5)/1e5,$v=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kV(t){return t==null}const VV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Yv=(t,e)=>n=>!!(typeof n=="string"&&VV.test(n)&&n.startsWith(t)||e&&!kV(n)&&Object.prototype.hasOwnProperty.call(n,e)),xN=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,c,u,m]=i.match($v);return{[t]:parseFloat(a),[e]:parseFloat(c),[n]:parseFloat(u),alpha:m!==void 0?parseFloat(m):1}},UV=t=>ya(0,255,t),hy={...yu,transform:t=>Math.round(UV(t))},wl={test:Yv("rgb","red"),parse:xN("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+hy.transform(t)+", "+hy.transform(e)+", "+hy.transform(n)+", "+Ch(Gh.transform(i))+")"};function BV(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const r0={test:Yv("#"),parse:BV,transform:wl.transform},gd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),mo=gd("deg"),Ar=gd("%"),We=gd("px"),zV=gd("vh"),FV=gd("vw"),p1={...Ar,parse:t=>Ar.parse(t)/100,transform:t=>Ar.transform(t*100)},jc={test:Yv("hsl","hue"),parse:xN("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Ar.transform(Ch(e))+", "+Ar.transform(Ch(n))+", "+Ch(Gh.transform(i))+")"},ln={test:t=>wl.test(t)||r0.test(t)||jc.test(t),parse:t=>wl.test(t)?wl.parse(t):jc.test(t)?jc.parse(t):r0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?wl.transform(t):jc.transform(t),getAnimatableNone:t=>{const e=ln.parse(t);return e.alpha=0,ln.transform(e)}},HV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function qV(t){return isNaN(t)&&typeof t=="string"&&(t.match($v)?.length||0)+(t.match(HV)?.length||0)>0}const bN="number",wN="color",GV="var",ZV="var(",g1="${}",WV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Zh(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let c=0;const m=e.replace(WV,g=>(ln.test(g)?(i.color.push(c),a.push(wN),n.push(ln.parse(g))):g.startsWith(ZV)?(i.var.push(c),a.push(GV),n.push(g)):(i.number.push(c),a.push(bN),n.push(parseFloat(g))),++c,g1)).split(g1);return{values:n,split:m,indexes:i,types:a}}function TN(t){return Zh(t).values}function EN(t){const{split:e,types:n}=Zh(t),i=e.length;return a=>{let c="";for(let u=0;u<i;u++)if(c+=e[u],a[u]!==void 0){const m=n[u];m===bN?c+=Ch(a[u]):m===wN?c+=ln.transform(a[u]):c+=a[u]}return c}}const KV=t=>typeof t=="number"?0:ln.test(t)?ln.getAnimatableNone(t):t;function $V(t){const e=TN(t);return EN(t)(e.map(KV))}const Mo={test:qV,parse:TN,createTransformer:EN,getAnimatableNone:$V};function dy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function YV({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,c=0,u=0;if(!e)a=c=u=n;else{const m=n<.5?n*(1+e):n+e-n*e,g=2*n-m;a=dy(g,m,t+1/3),c=dy(g,m,t),u=dy(g,m,t-1/3)}return{red:Math.round(a*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:i}}function Tm(t,e){return n=>n>0?e:t}const Gt=(t,e,n)=>t+(e-t)*n,fy=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},QV=[r0,wl,jc],XV=t=>QV.find(e=>e.test(t));function y1(t){const e=XV(t);if(!e)return!1;let n=e.parse(t);return e===jc&&(n=YV(n)),n}const v1=(t,e)=>{const n=y1(t),i=y1(e);if(!n||!i)return Tm(t,e);const a={...n};return c=>(a.red=fy(n.red,i.red,c),a.green=fy(n.green,i.green,c),a.blue=fy(n.blue,i.blue,c),a.alpha=Gt(n.alpha,i.alpha,c),wl.transform(a))},a0=new Set(["none","hidden"]);function JV(t,e){return a0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function e5(t,e){return n=>Gt(t,e,n)}function Qv(t){return typeof t=="number"?e5:typeof t=="string"?Kv(t)?Tm:ln.test(t)?v1:i5:Array.isArray(t)?SN:typeof t=="object"?ln.test(t)?v1:t5:Tm}function SN(t,e){const n=[...t],i=n.length,a=t.map((c,u)=>Qv(c)(c,e[u]));return c=>{for(let u=0;u<i;u++)n[u]=a[u](c);return n}}function t5(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=Qv(t[a])(t[a],e[a]));return a=>{for(const c in i)n[c]=i[c](a);return n}}function n5(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const c=e.types[a],u=t.indexes[c][i[c]],m=t.values[u]??0;n[a]=m,i[c]++}return n}const i5=(t,e)=>{const n=Mo.createTransformer(e),i=Zh(t),a=Zh(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?a0.has(t)&&!a.values.length||a0.has(e)&&!i.values.length?JV(t,e):md(SN(n5(i,a),a.values),n):Tm(t,e)};function AN(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Gt(t,e,n):Qv(t)(t,e)}const s5=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Vt.update(e,n),stop:()=>Lo(e),now:()=>kn.isProcessing?kn.timestamp:ji.now()}},NN=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let c=0;c<a;c++)i+=Math.round(t(c/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Em=2e4;function Xv(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Em;)e+=n,i=t.next(e);return e>=Em?1/0:e}function r5(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(Xv(i),Em);return{type:"keyframes",ease:c=>i.next(a*c).value/e,duration:Ts(a)}}const a5=5;function CN(t,e,n){const i=Math.max(e-a5,0);return oN(n-t(i),e-i)}const $t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},my=.001;function o5({duration:t=$t.duration,bounce:e=$t.bounce,velocity:n=$t.velocity,mass:i=$t.mass}){let a,c,u=1-e;u=ya($t.minDamping,$t.maxDamping,u),t=ya($t.minDuration,$t.maxDuration,Ts(t)),u<1?(a=_=>{const x=_*u,T=x*t,A=x-n,j=o0(_,u),I=Math.exp(-T);return my-A/j*I},c=_=>{const T=_*u*t,A=T*n+n,j=Math.pow(u,2)*Math.pow(_,2)*t,I=Math.exp(-T),z=o0(Math.pow(_,2),u);return(-a(_)+my>0?-1:1)*((A-j)*I)/z}):(a=_=>{const x=Math.exp(-_*t),T=(_-n)*t+1;return-my+x*T},c=_=>{const x=Math.exp(-_*t),T=(n-_)*(t*t);return x*T});const m=5/t,g=c5(a,c,m);if(t=Sr(t),isNaN(g))return{stiffness:$t.stiffness,damping:$t.damping,duration:t};{const _=Math.pow(g,2)*i;return{stiffness:_,damping:u*2*Math.sqrt(i*_),duration:t}}}const l5=12;function c5(t,e,n){let i=n;for(let a=1;a<l5;a++)i=i-t(i)/e(i);return i}function o0(t,e){return t*Math.sqrt(1-e*e)}const u5=["duration","bounce"],h5=["stiffness","damping","mass"];function _1(t,e){return e.some(n=>t[n]!==void 0)}function d5(t){let e={velocity:$t.velocity,stiffness:$t.stiffness,damping:$t.damping,mass:$t.mass,isResolvedFromDuration:!1,...t};if(!_1(t,h5)&&_1(t,u5))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,c=2*ya(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:$t.mass,stiffness:a,damping:c}}else{const n=o5(t);e={...e,...n,mass:$t.mass},e.isResolvedFromDuration=!0}return e}function Sm(t=$t.visualDuration,e=$t.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const c=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],m={done:!1,value:c},{stiffness:g,damping:_,mass:x,duration:T,velocity:A,isResolvedFromDuration:j}=d5({...n,velocity:-Ts(n.velocity||0)}),I=A||0,z=_/(2*Math.sqrt(g*x)),k=u-c,$=Ts(Math.sqrt(g/x)),Y=Math.abs(k)<5;i||(i=Y?$t.restSpeed.granular:$t.restSpeed.default),a||(a=Y?$t.restDelta.granular:$t.restDelta.default);let Q;if(z<1){const he=o0($,z);Q=we=>{const F=Math.exp(-z*$*we);return u-F*((I+z*$*k)/he*Math.sin(he*we)+k*Math.cos(he*we))}}else if(z===1)Q=he=>u-Math.exp(-$*he)*(k+(I+$*k)*he);else{const he=$*Math.sqrt(z*z-1);Q=we=>{const F=Math.exp(-z*$*we),O=Math.min(he*we,300);return u-F*((I+z*$*k)*Math.sinh(O)+he*k*Math.cosh(O))/he}}const ve={calculatedDuration:j&&T||null,next:he=>{const we=Q(he);if(j)m.done=he>=T;else{let F=he===0?I:0;z<1&&(F=he===0?Sr(I):CN(Q,he,we));const O=Math.abs(F)<=i,U=Math.abs(u-we)<=a;m.done=O&&U}return m.value=m.done?u:we,m},toString:()=>{const he=Math.min(Xv(ve),Em),we=NN(F=>ve.next(he*F).value,he,30);return he+"ms "+we},toTransition:()=>{}};return ve}Sm.applyToOptions=t=>{const e=r5(t,100,Sm);return t.ease=e.ease,t.duration=Sr(e.duration),t.type="keyframes",t};function l0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:c=500,modifyTarget:u,min:m,max:g,restDelta:_=.5,restSpeed:x}){const T=t[0],A={done:!1,value:T},j=O=>m!==void 0&&O<m||g!==void 0&&O>g,I=O=>m===void 0?g:g===void 0||Math.abs(m-O)<Math.abs(g-O)?m:g;let z=n*e;const k=T+z,$=u===void 0?k:u(k);$!==k&&(z=$-T);const Y=O=>-z*Math.exp(-O/i),Q=O=>$+Y(O),ve=O=>{const U=Y(O),W=Q(O);A.done=Math.abs(U)<=_,A.value=A.done?$:W};let he,we;const F=O=>{j(A.value)&&(he=O,we=Sm({keyframes:[A.value,I(A.value)],velocity:CN(Q,O,A.value),damping:a,stiffness:c,restDelta:_,restSpeed:x}))};return F(0),{calculatedDuration:null,next:O=>{let U=!1;return!we&&he===void 0&&(U=!0,ve(O),F(O)),he!==void 0&&O>=he?we.next(O-he):(!U&&ve(O),A)}}}function f5(t,e,n){const i=[],a=n||va.mix||AN,c=t.length-1;for(let u=0;u<c;u++){let m=a(t[u],t[u+1]);if(e){const g=Array.isArray(e)?e[u]||Es:e;m=md(g,m)}i.push(m)}return i}function m5(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const c=t.length;if(Fv(c===e.length),c===1)return()=>e[0];if(c===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[c-1]&&(t=[...t].reverse(),e=[...e].reverse());const m=f5(e,i,a),g=m.length,_=x=>{if(u&&x<t[0])return e[0];let T=0;if(g>1)for(;T<t.length-2&&!(x<t[T+1]);T++);const A=qh(t[T],t[T+1],x);return m[T](A)};return n?x=>_(ya(t[0],t[c-1],x)):_}function p5(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=qh(0,e,i);t.push(Gt(n,1,a))}}function g5(t){const e=[0];return p5(e,t.length-1),e}function y5(t,e){return t.map(n=>n*e)}function v5(t,e){return t.map(()=>e||gN).splice(0,t.length-1)}function Rh({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=RV(i)?i.map(m1):m1(i),c={done:!1,value:e[0]},u=y5(n&&n.length===e.length?n:g5(e),t),m=m5(u,e,{ease:Array.isArray(a)?a:v5(e,a)});return{calculatedDuration:t,next:g=>(c.value=m(g),c.done=g>=t,c)}}const _5=t=>t!==null;function Jv(t,{repeat:e,repeatType:n="loop"},i,a=1){const c=t.filter(_5),m=a<0||e&&n!=="loop"&&e%2===1?0:c.length-1;return!m||i===void 0?c[m]:i}const x5={decay:l0,inertia:l0,tween:Rh,keyframes:Rh,spring:Sm};function RN(t){typeof t.type=="string"&&(t.type=x5[t.type])}class e_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const b5=t=>t/100;class t_ extends e_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==ji.now()&&this.tick(ji.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;RN(e);const{type:n=Rh,repeat:i=0,repeatDelay:a=0,repeatType:c,velocity:u=0}=e;let{keyframes:m}=e;const g=n||Rh;g!==Rh&&typeof m[0]!="number"&&(this.mixKeyframes=md(b5,AN(m[0],m[1])),m=[0,100]);const _=g({...e,keyframes:m});c==="mirror"&&(this.mirroredGenerator=g({...e,keyframes:[...m].reverse(),velocity:-u})),_.calculatedDuration===null&&(_.calculatedDuration=Xv(_));const{calculatedDuration:x}=_;this.calculatedDuration=x,this.resolvedDuration=x+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=_}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:c,mirroredGenerator:u,resolvedDuration:m,calculatedDuration:g}=this;if(this.startTime===null)return i.next(0);const{delay:_=0,keyframes:x,repeat:T,repeatType:A,repeatDelay:j,type:I,onUpdate:z,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const $=this.currentTime-_*(this.playbackSpeed>=0?1:-1),Y=this.playbackSpeed>=0?$<0:$>a;this.currentTime=Math.max($,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let Q=this.currentTime,ve=i;if(T){const O=Math.min(this.currentTime,a)/m;let U=Math.floor(O),W=O%1;!W&&O>=1&&(W=1),W===1&&U--,U=Math.min(U,T+1),!!(U%2)&&(A==="reverse"?(W=1-W,j&&(W-=j/m)):A==="mirror"&&(ve=u)),Q=ya(0,1,W)*m}const he=Y?{done:!1,value:x[0]}:ve.next(Q);c&&(he.value=c(he.value));let{done:we}=he;!Y&&g!==null&&(we=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&we);return F&&I!==l0&&(he.value=Jv(x,this.options,k,this.speed)),z&&z(he.value),F&&this.finish(),he}then(e,n){return this.finished.then(e,n)}get duration(){return Ts(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ts(e)}get time(){return Ts(this.currentTime)}set time(e){e=Sr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ji.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ts(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=s5,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ji.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function w5(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Tl=t=>t*180/Math.PI,c0=t=>{const e=Tl(Math.atan2(t[1],t[0]));return u0(e)},T5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:c0,rotateZ:c0,skewX:t=>Tl(Math.atan(t[1])),skewY:t=>Tl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},u0=t=>(t=t%360,t<0&&(t+=360),t),x1=c0,b1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),w1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),E5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:b1,scaleY:w1,scale:t=>(b1(t)+w1(t))/2,rotateX:t=>u0(Tl(Math.atan2(t[6],t[5]))),rotateY:t=>u0(Tl(Math.atan2(-t[2],t[0]))),rotateZ:x1,rotate:x1,skewX:t=>Tl(Math.atan(t[4])),skewY:t=>Tl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function h0(t){return t.includes("scale")?1:0}function d0(t,e){if(!t||t==="none")return h0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=E5,a=n;else{const m=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=T5,a=m}if(!a)return h0(e);const c=i[e],u=a[1].split(",").map(A5);return typeof c=="function"?c(u):u[c]}const S5=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return d0(n,e)};function A5(t){return parseFloat(t.trim())}const vu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_u=new Set(vu),T1=t=>t===yu||t===We,N5=new Set(["x","y","z"]),C5=vu.filter(t=>!N5.has(t));function R5(t){const e=[];return C5.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Al={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>d0(e,"x"),y:(t,{transform:e})=>d0(e,"y")};Al.translateX=Al.x;Al.translateY=Al.y;const Nl=new Set;let f0=!1,m0=!1,p0=!1;function PN(){if(m0){const t=Array.from(Nl).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=R5(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([c,u])=>{i.getValue(c)?.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}m0=!1,f0=!1,Nl.forEach(t=>t.complete(p0)),Nl.clear()}function jN(){Nl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(m0=!0)})}function P5(){p0=!0,jN(),PN(),p0=!1}class n_{constructor(e,n,i,a,c,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=c,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Nl.add(this),f0||(f0=!0,Vt.read(jN),Vt.resolveKeyframes(PN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const c=a?.get(),u=e[e.length-1];if(c!==void 0)e[0]=c;else if(i&&n){const m=i.readValue(n,u);m!=null&&(e[0]=m)}e[0]===void 0&&(e[0]=u),a&&c===void 0&&a.set(e[0])}w5(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Nl.delete(this)}cancel(){this.state==="scheduled"&&(Nl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const j5=t=>t.startsWith("--");function I5(t,e,n){j5(e)?t.style.setProperty(e,n):t.style[e]=n}const D5=Hv(()=>window.ScrollTimeline!==void 0),L5={};function M5(t,e){const n=Hv(t);return()=>L5[e]??n()}const IN=M5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),bh=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,E1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bh([0,.65,.55,1]),circOut:bh([.55,0,1,.45]),backIn:bh([.31,.01,.66,-.59]),backOut:bh([.33,1.53,.69,.99])};function DN(t,e){if(t)return typeof t=="function"?IN()?NN(t,e):"ease-out":yN(t)?bh(t):Array.isArray(t)?t.map(n=>DN(n,e)||E1.easeOut):E1[t]}function O5(t,e,n,{delay:i=0,duration:a=300,repeat:c=0,repeatType:u="loop",ease:m="easeOut",times:g}={},_=void 0){const x={[e]:n};g&&(x.offset=g);const T=DN(m,a);Array.isArray(T)&&(x.easing=T);const A={delay:i,duration:a,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"};return _&&(A.pseudoElement=_),t.animate(x,A)}function LN(t){return typeof t=="function"&&"applyToOptions"in t}function k5({type:t,...e}){return LN(t)&&IN()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class V5 extends e_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:c,allowFlatten:u=!1,finalKeyframe:m,onComplete:g}=e;this.isPseudoElement=!!c,this.allowFlatten=u,this.options=e,Fv(typeof e.type!="string");const _=k5(e);this.animation=O5(n,i,a,_,c),_.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const x=Jv(a,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(x):I5(n,i,x),this.animation.cancel()}g?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ts(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ts(e)}get time(){return Ts(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Sr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&D5()?(this.animation.timeline=e,Es):n(this)}}const MN={anticipate:fN,backInOut:dN,circInOut:pN};function U5(t){return t in MN}function B5(t){typeof t.ease=="string"&&U5(t.ease)&&(t.ease=MN[t.ease])}const S1=10;class z5 extends V5{constructor(e){B5(e),RN(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:c,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const m=new t_({...u,autoplay:!1}),g=Sr(this.finishedTime??this.time);n.setWithVelocity(m.sample(g-S1).value,m.sample(g).value,S1),m.stop()}}const A1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Mo.test(t)||t==="0")&&!t.startsWith("url("));function F5(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function H5(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const c=t[t.length-1],u=A1(a,e),m=A1(c,e);return!u||!m?!1:F5(t)||(n==="spring"||LN(n))&&i}function g0(t){t.duration=0,t.type="keyframes"}const q5=new Set(["opacity","clipPath","filter","transform"]),G5=Hv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Z5(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:c,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:_}=e.owner.getProps();return G5()&&n&&q5.has(n)&&(n!=="transform"||!_)&&!g&&!i&&a!=="mirror"&&c!==0&&u!=="inertia"}const W5=40;class K5 extends e_{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:c=0,repeatType:u="loop",keyframes:m,name:g,motionValue:_,element:x,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ji.now();const A={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:c,repeatType:u,name:g,motionValue:_,element:x,...T},j=x?.KeyframeResolver||n_;this.keyframeResolver=new j(m,(I,z,k)=>this.onKeyframesResolved(I,z,A,!k),g,_,x),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:c,type:u,velocity:m,delay:g,isHandoff:_,onUpdate:x}=i;this.resolvedAt=ji.now(),H5(e,c,u,m)||((va.instantAnimations||!g)&&x?.(Jv(e,i,n)),e[0]=e[e.length-1],g0(i),i.repeat=0);const A={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>W5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},j=!_&&Z5(A)?new z5({...A,element:A.motionValue.owner.current}):new t_(A);j.finished.then(()=>this.notifyFinished()).catch(Es),this.pendingTimeline&&(this.stopTimeline=j.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=j}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),P5()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const $5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Y5(t){const e=$5.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function ON(t,e,n=1){const[i,a]=Y5(t);if(!i)return;const c=window.getComputedStyle(e).getPropertyValue(i);if(c){const u=c.trim();return sN(u)?parseFloat(u):u}return Kv(a)?ON(a,e,n+1):a}function i_(t,e){return t?.[e]??t?.default??t}const kN=new Set(["width","height","top","left","right","bottom",...vu]),Q5={test:t=>t==="auto",parse:t=>t},VN=t=>e=>e.test(t),UN=[yu,We,Ar,mo,FV,zV,Q5],N1=t=>UN.find(VN(t));function X5(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||aN(t):!0}const J5=new Set(["brightness","contrast","saturate","opacity"]);function e9(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match($v)||[];if(!i)return t;const a=n.replace(i,"");let c=J5.has(e)?1:0;return i!==n&&(c*=100),e+"("+c+a+")"}const t9=/\b([a-z-]*)\(.*?\)/gu,y0={...Mo,getAnimatableNone:t=>{const e=t.match(t9);return e?e.map(e9).join(" "):t}},C1={...yu,transform:Math.round},n9={rotate:mo,rotateX:mo,rotateY:mo,rotateZ:mo,scale:jf,scaleX:jf,scaleY:jf,scaleZ:jf,skew:mo,skewX:mo,skewY:mo,distance:We,translateX:We,translateY:We,translateZ:We,x:We,y:We,z:We,perspective:We,transformPerspective:We,opacity:Gh,originX:p1,originY:p1,originZ:We},s_={borderWidth:We,borderTopWidth:We,borderRightWidth:We,borderBottomWidth:We,borderLeftWidth:We,borderRadius:We,radius:We,borderTopLeftRadius:We,borderTopRightRadius:We,borderBottomRightRadius:We,borderBottomLeftRadius:We,width:We,maxWidth:We,height:We,maxHeight:We,top:We,right:We,bottom:We,left:We,padding:We,paddingTop:We,paddingRight:We,paddingBottom:We,paddingLeft:We,margin:We,marginTop:We,marginRight:We,marginBottom:We,marginLeft:We,backgroundPositionX:We,backgroundPositionY:We,...n9,zIndex:C1,fillOpacity:Gh,strokeOpacity:Gh,numOctaves:C1},i9={...s_,color:ln,backgroundColor:ln,outlineColor:ln,fill:ln,stroke:ln,borderColor:ln,borderTopColor:ln,borderRightColor:ln,borderBottomColor:ln,borderLeftColor:ln,filter:y0,WebkitFilter:y0},BN=t=>i9[t];function zN(t,e){let n=BN(t);return n!==y0&&(n=Mo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const s9=new Set(["auto","none","0"]);function r9(t,e,n){let i=0,a;for(;i<t.length&&!a;){const c=t[i];typeof c=="string"&&!s9.has(c)&&Zh(c).values.length&&(a=t[i]),i++}if(a&&n)for(const c of e)t[c]=zN(n,a)}class a9 extends n_{constructor(e,n,i,a,c){super(e,n,i,a,c,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let _=e[g];if(typeof _=="string"&&(_=_.trim(),Kv(_))){const x=ON(_,n.current);x!==void 0&&(e[g]=x),g===e.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!kN.has(i)||e.length!==2)return;const[a,c]=e,u=N1(a),m=N1(c);if(u!==m)if(T1(u)&&T1(m))for(let g=0;g<e.length;g++){const _=e[g];typeof _=="string"&&(e[g]=parseFloat(_))}else Al[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||X5(e[a]))&&i.push(a);i.length&&r9(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Al[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const c=i.length-1,u=i[c];i[c]=Al[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,g])=>{e.getValue(m).set(g)}),this.resolveNoneKeyframes()}}function o9(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const FN=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function HN(t){return rN(t)&&"offsetHeight"in t}const R1=30,l9=t=>!isNaN(parseFloat(t));class c9{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=ji.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ji.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=l9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new qv);const i=this.events[e].add(n);return e==="change"?()=>{i(),Vt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ji.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>R1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,R1);return oN(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xc(t,e){return new c9(t,e)}const{schedule:r_}=vN(queueMicrotask,!1),Gs={x:!1,y:!1};function qN(){return Gs.x||Gs.y}function u9(t){return t==="x"||t==="y"?Gs[t]?null:(Gs[t]=!0,()=>{Gs[t]=!1}):Gs.x||Gs.y?null:(Gs.x=Gs.y=!0,()=>{Gs.x=Gs.y=!1})}function GN(t,e){const n=o9(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function P1(t){return!(t.pointerType==="touch"||qN())}function h9(t,e,n={}){const[i,a,c]=GN(t,n),u=m=>{if(!P1(m))return;const{target:g}=m,_=e(g,m);if(typeof _!="function"||!g)return;const x=T=>{P1(T)&&(_(T),g.removeEventListener("pointerleave",x))};g.addEventListener("pointerleave",x,a)};return i.forEach(m=>{m.addEventListener("pointerenter",u,a)}),c}const ZN=(t,e)=>e?t===e?!0:ZN(t,e.parentElement):!1,a_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,d9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function f9(t){return d9.has(t.tagName)||t.tabIndex!==-1}const em=new WeakSet;function j1(t){return e=>{e.key==="Enter"&&t(e)}}function py(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const m9=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=j1(()=>{if(em.has(n))return;py(n,"down");const a=j1(()=>{py(n,"up")}),c=()=>py(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",c,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function I1(t){return a_(t)&&!qN()}function p9(t,e,n={}){const[i,a,c]=GN(t,n),u=m=>{const g=m.currentTarget;if(!I1(m))return;em.add(g);const _=e(g,m),x=(j,I)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",A),em.has(g)&&em.delete(g),I1(j)&&typeof _=="function"&&_(j,{success:I})},T=j=>{x(j,g===window||g===document||n.useGlobalTarget||ZN(g,j.target))},A=j=>{x(j,!1)};window.addEventListener("pointerup",T,a),window.addEventListener("pointercancel",A,a)};return i.forEach(m=>{(n.useGlobalTarget?window:m).addEventListener("pointerdown",u,a),HN(m)&&(m.addEventListener("focus",_=>m9(_,a)),!f9(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),c}function WN(t){return rN(t)&&"ownerSVGElement"in t}function g9(t){return WN(t)&&t.tagName==="svg"}const Yn=t=>!!(t&&t.getVelocity),y9=[...UN,ln,Mo],v9=t=>y9.find(VN(t)),o_=V.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function D1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function _9(...t){return e=>{let n=!1;const i=t.map(a=>{const c=D1(a,e);return!n&&typeof c=="function"&&(n=!0),c});if(n)return()=>{for(let a=0;a<i.length;a++){const c=i[a];typeof c=="function"?c():D1(t[a],null)}}}}function x9(...t){return V.useCallback(_9(...t),t)}class b9 extends V.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=HN(i)&&i.offsetWidth||0,c=this.props.sizeRef.current;c.height=n.offsetHeight||0,c.width=n.offsetWidth||0,c.top=n.offsetTop,c.left=n.offsetLeft,c.right=a-c.width-c.left}return null}componentDidUpdate(){}render(){return this.props.children}}function w9({children:t,isPresent:e,anchorX:n,root:i}){const a=V.useId(),c=V.useRef(null),u=V.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=V.useContext(o_),g=x9(c,t?.ref);return V.useInsertionEffect(()=>{const{width:_,height:x,top:T,left:A,right:j}=u.current;if(e||!c.current||!_||!x)return;const I=n==="left"?`left: ${A}`:`right: ${j}`;c.current.dataset.motionPopId=a;const z=document.createElement("style");m&&(z.nonce=m);const k=i??document.head;return k.appendChild(z),z.sheet&&z.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${_}px !important;
            height: ${x}px !important;
            ${I}px !important;
            top: ${T}px !important;
          }
        `),()=>{k.contains(z)&&k.removeChild(z)}},[e]),f.jsx(b9,{isPresent:e,childRef:c,sizeRef:u,children:V.cloneElement(t,{ref:g})})}const T9=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:c,mode:u,anchorX:m,root:g})=>{const _=Vv(E9),x=V.useId();let T=!0,A=V.useMemo(()=>(T=!1,{id:x,initial:e,isPresent:n,custom:a,onExitComplete:j=>{_.set(j,!0);for(const I of _.values())if(!I)return;i&&i()},register:j=>(_.set(j,!1),()=>_.delete(j))}),[n,_,i]);return c&&T&&(A={...A}),V.useMemo(()=>{_.forEach((j,I)=>_.set(I,!1))},[n]),V.useEffect(()=>{!n&&!_.size&&i&&i()},[n]),u==="popLayout"&&(t=f.jsx(w9,{isPresent:n,anchorX:m,root:g,children:t})),f.jsx(rp.Provider,{value:A,children:t})};function E9(){return new Map}function KN(t=!0){const e=V.useContext(rp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,c=V.useId();V.useEffect(()=>{if(t)return a(c)},[t]);const u=V.useCallback(()=>t&&i&&i(c),[c,i,t]);return!n&&i?[!1,u]:[!0]}const If=t=>t.key||"";function L1(t){const e=[];return V.Children.forEach(t,n=>{V.isValidElement(n)&&e.push(n)}),e}const Df=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:c="sync",propagate:u=!1,anchorX:m="left",root:g})=>{const[_,x]=KN(u),T=V.useMemo(()=>L1(t),[t]),A=u&&!_?[]:T.map(If),j=V.useRef(!0),I=V.useRef(T),z=Vv(()=>new Map),[k,$]=V.useState(T),[Y,Q]=V.useState(T);iN(()=>{j.current=!1,I.current=T;for(let we=0;we<Y.length;we++){const F=If(Y[we]);A.includes(F)?z.delete(F):z.get(F)!==!0&&z.set(F,!1)}},[Y,A.length,A.join("-")]);const ve=[];if(T!==k){let we=[...T];for(let F=0;F<Y.length;F++){const O=Y[F],U=If(O);A.includes(U)||(we.splice(F,0,O),ve.push(O))}return c==="wait"&&ve.length&&(we=ve),Q(L1(we)),$(T),null}const{forceRender:he}=V.useContext(kv);return f.jsx(f.Fragment,{children:Y.map(we=>{const F=If(we),O=u&&!_?!1:T===Y||A.includes(F),U=()=>{if(z.has(F))z.set(F,!0);else return;let W=!0;z.forEach(M=>{M||(W=!1)}),W&&(he?.(),Q(I.current),u&&x?.(),i&&i())};return f.jsx(T9,{isPresent:O,initial:!j.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:c,root:g,onExitComplete:O?void 0:U,anchorX:m,children:we},F)})})},$N=V.createContext({strict:!1}),M1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Jc={};for(const t in M1)Jc[t]={isEnabled:e=>M1[t].some(n=>!!e[n])};function S9(t){for(const e in t)Jc[e]={...Jc[e],...t[e]}}const A9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Am(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||A9.has(t)}let YN=t=>!Am(t);function N9(t){typeof t=="function"&&(YN=e=>e.startsWith("on")?!Am(e):t(e))}try{N9(require("@emotion/is-prop-valid").default)}catch{}function C9(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(YN(a)||n===!0&&Am(a)||!e&&!Am(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const ap=V.createContext({});function op(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Wh(t){return typeof t=="string"||Array.isArray(t)}const l_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],c_=["initial",...l_];function lp(t){return op(t.animate)||c_.some(e=>Wh(t[e]))}function QN(t){return!!(lp(t)||t.variants)}function R9(t,e){if(lp(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Wh(n)?n:void 0,animate:Wh(i)?i:void 0}}return t.inherit!==!1?e:{}}function P9(t){const{initial:e,animate:n}=R9(t,V.useContext(ap));return V.useMemo(()=>({initial:e,animate:n}),[O1(e),O1(n)])}function O1(t){return Array.isArray(t)?t.join(" "):t}const Kh={};function j9(t){for(const e in t)Kh[e]=t[e],Wv(e)&&(Kh[e].isCSSVariable=!0)}function XN(t,{layout:e,layoutId:n}){return _u.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Kh[t]||t==="opacity")}const I9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},D9=vu.length;function L9(t,e,n){let i="",a=!0;for(let c=0;c<D9;c++){const u=vu[c],m=t[u];if(m===void 0)continue;let g=!0;if(typeof m=="number"?g=m===(u.startsWith("scale")?1:0):g=parseFloat(m)===0,!g||n){const _=FN(m,s_[u]);if(!g){a=!1;const x=I9[u]||u;i+=`${x}(${_}) `}n&&(e[u]=_)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function u_(t,e,n){const{style:i,vars:a,transformOrigin:c}=t;let u=!1,m=!1;for(const g in e){const _=e[g];if(_u.has(g)){u=!0;continue}else if(Wv(g)){a[g]=_;continue}else{const x=FN(_,s_[g]);g.startsWith("origin")?(m=!0,c[g]=x):i[g]=x}}if(e.transform||(u||n?i.transform=L9(e,t.transform,n):i.transform&&(i.transform="none")),m){const{originX:g="50%",originY:_="50%",originZ:x=0}=c;i.transformOrigin=`${g} ${_} ${x}`}}const h_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function JN(t,e,n){for(const i in e)!Yn(e[i])&&!XN(i,n)&&(t[i]=e[i])}function M9({transformTemplate:t},e){return V.useMemo(()=>{const n=h_();return u_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function O9(t,e){const n=t.style||{},i={};return JN(i,n,t),Object.assign(i,M9(t,e)),i}function k9(t,e){const n={},i=O9(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const V9={offset:"stroke-dashoffset",array:"stroke-dasharray"},U9={offset:"strokeDashoffset",array:"strokeDasharray"};function B9(t,e,n=1,i=0,a=!0){t.pathLength=1;const c=a?V9:U9;t[c.offset]=We.transform(-i);const u=We.transform(e),m=We.transform(n);t[c.array]=`${u} ${m}`}function eC(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:c=1,pathOffset:u=0,...m},g,_,x){if(u_(t,m,_),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:T,style:A}=t;T.transform&&(A.transform=T.transform,delete T.transform),(A.transform||T.transformOrigin)&&(A.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),A.transform&&(A.transformBox=x?.transformBox??"fill-box",delete T.transformBox),e!==void 0&&(T.x=e),n!==void 0&&(T.y=n),i!==void 0&&(T.scale=i),a!==void 0&&B9(T,a,c,u,!1)}const tC=()=>({...h_(),attrs:{}}),nC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function z9(t,e,n,i){const a=V.useMemo(()=>{const c=tC();return eC(c,e,nC(i),t.transformTemplate,t.style),{...c.attrs,style:{...c.style}}},[e]);if(t.style){const c={};JN(c,t.style,t),a.style={...c,...a.style}}return a}const F9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function d_(t){return typeof t!="string"||t.includes("-")?!1:!!(F9.indexOf(t)>-1||/[A-Z]/u.test(t))}function H9(t,e,n,{latestValues:i},a,c=!1){const m=(d_(t)?z9:k9)(e,i,a,t),g=C9(e,typeof t=="string",c),_=t!==V.Fragment?{...g,...m,ref:n}:{},{children:x}=e,T=V.useMemo(()=>Yn(x)?x.get():x,[x]);return V.createElement(t,{..._,children:T})}function k1(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function f_(t,e,n,i){if(typeof e=="function"){const[a,c]=k1(i);e=e(n!==void 0?n:t.custom,a,c)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,c]=k1(i);e=e(n!==void 0?n:t.custom,a,c)}return e}function tm(t){return Yn(t)?t.get():t}function q9({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:G9(n,i,a,t),renderState:e()}}function G9(t,e,n,i){const a={},c=i(t,{});for(const A in c)a[A]=tm(c[A]);let{initial:u,animate:m}=t;const g=lp(t),_=QN(t);e&&_&&!g&&t.inherit!==!1&&(u===void 0&&(u=e.initial),m===void 0&&(m=e.animate));let x=n?n.initial===!1:!1;x=x||u===!1;const T=x?m:u;if(T&&typeof T!="boolean"&&!op(T)){const A=Array.isArray(T)?T:[T];for(let j=0;j<A.length;j++){const I=f_(t,A[j]);if(I){const{transitionEnd:z,transition:k,...$}=I;for(const Y in $){let Q=$[Y];if(Array.isArray(Q)){const ve=x?Q.length-1:0;Q=Q[ve]}Q!==null&&(a[Y]=Q)}for(const Y in z)a[Y]=z[Y]}}}return a}const iC=t=>(e,n)=>{const i=V.useContext(ap),a=V.useContext(rp),c=()=>q9(t,e,i,a);return n?c():Vv(c)};function m_(t,e,n){const{style:i}=t,a={};for(const c in i)(Yn(i[c])||e.style&&Yn(e.style[c])||XN(c,t)||n?.getValue(c)?.liveStyle!==void 0)&&(a[c]=i[c]);return a}const Z9=iC({scrapeMotionValuesFromProps:m_,createRenderState:h_});function sC(t,e,n){const i=m_(t,e,n);for(const a in t)if(Yn(t[a])||Yn(e[a])){const c=vu.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[c]=t[a]}return i}const W9=iC({scrapeMotionValuesFromProps:sC,createRenderState:tC}),K9=Symbol.for("motionComponentSymbol");function Ic(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function $9(t,e,n){return V.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Ic(n)&&(n.current=i))},[e])}const p_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Y9="framerAppearId",rC="data-"+p_(Y9),aC=V.createContext({});function Q9(t,e,n,i,a){const{visualElement:c}=V.useContext(ap),u=V.useContext($N),m=V.useContext(rp),g=V.useContext(o_).reducedMotion,_=V.useRef(null);i=i||u.renderer,!_.current&&i&&(_.current=i(t,{visualState:e,parent:c,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:g}));const x=_.current,T=V.useContext(aC);x&&!x.projection&&a&&(x.type==="html"||x.type==="svg")&&X9(_.current,n,a,T);const A=V.useRef(!1);V.useInsertionEffect(()=>{x&&A.current&&x.update(n,m)});const j=n[rC],I=V.useRef(!!j&&!window.MotionHandoffIsComplete?.(j)&&window.MotionHasOptimisedAnimation?.(j));return iN(()=>{x&&(A.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),x.scheduleRenderMicrotask(),I.current&&x.animationState&&x.animationState.animateChanges())}),V.useEffect(()=>{x&&(!I.current&&x.animationState&&x.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(j)}),I.current=!1),x.enteringChildren=void 0)}),x}function X9(t,e,n,i){const{layoutId:a,layout:c,drag:u,dragConstraints:m,layoutScroll:g,layoutRoot:_,layoutCrossfade:x}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:oC(t.parent)),t.projection.setOptions({layoutId:a,layout:c,alwaysMeasureLayout:!!u||m&&Ic(m),visualElement:t,animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,crossfade:x,layoutScroll:g,layoutRoot:_})}function oC(t){if(t)return t.options.allowProjection!==!1?t.projection:oC(t.parent)}function gy(t,{forwardMotionProps:e=!1}={},n,i){n&&S9(n);const a=d_(t)?W9:Z9;function c(m,g){let _;const x={...V.useContext(o_),...m,layoutId:J9(m)},{isStatic:T}=x,A=P9(m),j=a(m,T);if(!T&&Uv){e7();const I=t7(x);_=I.MeasureLayout,A.visualElement=Q9(t,j,x,i,I.ProjectionNode)}return f.jsxs(ap.Provider,{value:A,children:[_&&A.visualElement?f.jsx(_,{visualElement:A.visualElement,...x}):null,H9(t,m,$9(j,A.visualElement,g),j,T,e)]})}c.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=V.forwardRef(c);return u[K9]=t,u}function J9({layoutId:t}){const e=V.useContext(kv).id;return e&&t!==void 0?e+"-"+t:t}function e7(t,e){V.useContext($N).strict}function t7(t){const{drag:e,layout:n}=Jc;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function n7(t,e){if(typeof Proxy>"u")return gy;const n=new Map,i=(c,u)=>gy(c,u,t,e),a=(c,u)=>i(c,u);return new Proxy(a,{get:(c,u)=>u==="create"?i:(n.has(u)||n.set(u,gy(u,void 0,t,e)),n.get(u))})}function lC({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function i7({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function s7(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function yy(t){return t===void 0||t===1}function v0({scale:t,scaleX:e,scaleY:n}){return!yy(t)||!yy(e)||!yy(n)}function _l(t){return v0(t)||cC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function cC(t){return V1(t.x)||V1(t.y)}function V1(t){return t&&t!=="0%"}function Nm(t,e,n){const i=t-n,a=e*i;return n+a}function U1(t,e,n,i,a){return a!==void 0&&(t=Nm(t,a,i)),Nm(t,n,i)+e}function _0(t,e=0,n=1,i,a){t.min=U1(t.min,e,n,i,a),t.max=U1(t.max,e,n,i,a)}function uC(t,{x:e,y:n}){_0(t.x,e.translate,e.scale,e.originPoint),_0(t.y,n.translate,n.scale,n.originPoint)}const B1=.999999999999,z1=1.0000000000001;function r7(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let c,u;for(let m=0;m<a;m++){c=n[m],u=c.projectionDelta;const{visualElement:g}=c.options;g&&g.props.style&&g.props.style.display==="contents"||(i&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Lc(t,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,uC(t,u)),i&&_l(c.latestValues)&&Lc(t,c.latestValues))}e.x<z1&&e.x>B1&&(e.x=1),e.y<z1&&e.y>B1&&(e.y=1)}function Dc(t,e){t.min=t.min+e,t.max=t.max+e}function F1(t,e,n,i,a=.5){const c=Gt(t.min,t.max,a);_0(t,e,n,c,i)}function Lc(t,e){F1(t.x,e.x,e.scaleX,e.scale,e.originX),F1(t.y,e.y,e.scaleY,e.scale,e.originY)}function hC(t,e){return lC(s7(t.getBoundingClientRect(),e))}function a7(t,e,n){const i=hC(t,n),{scroll:a}=e;return a&&(Dc(i.x,a.offset.x),Dc(i.y,a.offset.y)),i}const H1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Mc=()=>({x:H1(),y:H1()}),q1=()=>({min:0,max:0}),tn=()=>({x:q1(),y:q1()}),x0={current:null},dC={current:!1};function o7(){if(dC.current=!0,!!Uv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>x0.current=t.matches;t.addEventListener("change",e),e()}else x0.current=!1}const l7=new WeakMap;function c7(t,e,n){for(const i in e){const a=e[i],c=n[i];if(Yn(a))t.addValue(i,a);else if(Yn(c))t.addValue(i,Xc(a,{owner:t}));else if(c!==a)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(i);t.addValue(i,Xc(u!==void 0?u:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const G1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class u7{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:c,visualState:u},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=n_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=ji.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,Vt.render(this.render,!1,!0))};const{latestValues:g,renderState:_}=u;this.latestValues=g,this.baseTarget={...g},this.initialValues=n.initial?{...g}:{},this.renderState=_,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=m,this.blockInitialAnimation=!!c,this.isControllingVariants=lp(n),this.isVariantNode=QN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:x,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const A in T){const j=T[A];g[A]!==void 0&&Yn(j)&&j.set(g[A])}}mount(e){this.current=e,l7.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),dC.current||o7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:x0.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Lo(this.notifyUpdate),Lo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=_u.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Vt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Jc){const n=Jc[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const c=this.features[e];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<G1.length;i++){const a=G1[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const c="on"+a,u=e[c];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=c7(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Xc(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(sN(i)||aN(i))?i=parseFloat(i):!v9(i)&&Mo.test(n)&&(i=zN(e,n)),this.setBaseTarget(e,Yn(i)?i.get():i)),Yn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const c=f_(this.props,n,this.presenceContext?.custom);c&&(i=c[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Yn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new qv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){r_.render(this.render)}}class fC extends u7{constructor(){super(...arguments),this.KeyframeResolver=a9}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Yn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function mC(t,{style:e,vars:n},i,a){const c=t.style;let u;for(u in e)c[u]=e[u];a?.applyProjectionStyles(c,i);for(u in n)c.setProperty(u,n[u])}function h7(t){return window.getComputedStyle(t)}class d7 extends fC{constructor(){super(...arguments),this.type="html",this.renderInstance=mC}readValueFromInstance(e,n){if(_u.has(n))return this.projection?.isProjecting?h0(n):S5(e,n);{const i=h7(e),a=(Wv(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return hC(e,n)}build(e,n,i){u_(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return m_(e,n,i)}}const pC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function f7(t,e,n,i){mC(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(pC.has(a)?a:p_(a),e.attrs[a])}class m7 extends fC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=tn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(_u.has(n)){const i=BN(n);return i&&i.default||0}return n=pC.has(n)?n:p_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return sC(e,n,i)}build(e,n,i){eC(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){f7(e,n,i,a)}mount(e){this.isSVGTag=nC(e.tagName),super.mount(e)}}const p7=(t,e)=>d_(t)?new m7(e):new d7(e,{allowProjection:t!==V.Fragment});function zc(t,e,n){const i=t.getProps();return f_(i,e,n!==void 0?n:i.custom,t)}const b0=t=>Array.isArray(t);function g7(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Xc(n))}function y7(t){return b0(t)?t[t.length-1]||0:t}function v7(t,e){const n=zc(t,e);let{transitionEnd:i={},transition:a={},...c}=n||{};c={...c,...i};for(const u in c){const m=y7(c[u]);g7(t,u,m)}}function _7(t){return!!(Yn(t)&&t.add)}function w0(t,e){const n=t.getValue("willChange");if(_7(n))return n.add(e);if(!n&&va.WillChange){const i=new va.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function gC(t){return t.props[rC]}const x7=t=>t!==null;function b7(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(x7),c=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[c]}const w7={type:"spring",stiffness:500,damping:25,restSpeed:10},T7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),E7={type:"keyframes",duration:.8},S7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},A7=(t,{keyframes:e})=>e.length>2?E7:_u.has(t)?t.startsWith("scale")?T7(e[1]):w7:S7;function N7({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:c,repeatType:u,repeatDelay:m,from:g,elapsed:_,...x}){return!!Object.keys(x).length}const g_=(t,e,n,i={},a,c)=>u=>{const m=i_(i,t)||{},g=m.delay||i.delay||0;let{elapsed:_=0}=i;_=_-Sr(g);const x={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...m,delay:-_,onUpdate:A=>{e.set(A),m.onUpdate&&m.onUpdate(A)},onComplete:()=>{u(),m.onComplete&&m.onComplete()},name:t,motionValue:e,element:c?void 0:a};N7(m)||Object.assign(x,A7(t,x)),x.duration&&(x.duration=Sr(x.duration)),x.repeatDelay&&(x.repeatDelay=Sr(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let T=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(g0(x),x.delay===0&&(T=!0)),(va.instantAnimations||va.skipAnimations)&&(T=!0,g0(x),x.delay=0),x.allowFlatten=!m.type&&!m.ease,T&&!c&&e.get()!==void 0){const A=b7(x.keyframes,m);if(A!==void 0){Vt.update(()=>{x.onUpdate(A),x.onComplete()});return}}return m.isSync?new t_(x):new K5(x)};function C7({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function yC(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:c=t.getDefaultTransition(),transitionEnd:u,...m}=e;i&&(c=i);const g=[],_=a&&t.animationState&&t.animationState.getState()[a];for(const x in m){const T=t.getValue(x,t.latestValues[x]??null),A=m[x];if(A===void 0||_&&C7(_,x))continue;const j={delay:n,...i_(c||{},x)},I=T.get();if(I!==void 0&&!T.isAnimating&&!Array.isArray(A)&&A===I&&!j.velocity)continue;let z=!1;if(window.MotionHandoffAnimation){const $=gC(t);if($){const Y=window.MotionHandoffAnimation($,x,Vt);Y!==null&&(j.startTime=Y,z=!0)}}w0(t,x),T.start(g_(x,T,A,t.shouldReduceMotion&&kN.has(x)?{type:!1}:j,t,z));const k=T.animation;k&&g.push(k)}return u&&Promise.all(g).then(()=>{Vt.update(()=>{u&&v7(t,u)})}),g}function vC(t,e,n,i=0,a=1){const c=Array.from(t).sort((_,x)=>_.sortNodePosition(x)).indexOf(e),u=t.size,m=(u-1)*i;return typeof n=="function"?n(c,u):a===1?c*i:m-c*i}function T0(t,e,n={}){const i=zc(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const c=i?()=>Promise.all(yC(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(g=0)=>{const{delayChildren:_=0,staggerChildren:x,staggerDirection:T}=a;return R7(t,e,g,_,x,T,n)}:()=>Promise.resolve(),{when:m}=a;if(m){const[g,_]=m==="beforeChildren"?[c,u]:[u,c];return g().then(()=>_())}else return Promise.all([c(),u(n.delay)])}function R7(t,e,n=0,i=0,a=0,c=1,u){const m=[];for(const g of t.variantChildren)g.notify("AnimationStart",e),m.push(T0(g,e,{...u,delay:n+(typeof i=="function"?0:i)+vC(t.variantChildren,g,i,a,c)}).then(()=>g.notify("AnimationComplete",e)));return Promise.all(m)}function P7(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(c=>T0(t,c,n));i=Promise.all(a)}else if(typeof e=="string")i=T0(t,e,n);else{const a=typeof e=="function"?zc(t,e,n.custom):e;i=Promise.all(yC(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function _C(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const j7=c_.length;function xC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?xC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<j7;n++){const i=c_[n],a=t.props[i];(Wh(a)||a===!1)&&(e[i]=a)}return e}const I7=[...l_].reverse(),D7=l_.length;function L7(t){return e=>Promise.all(e.map(({animation:n,options:i})=>P7(t,n,i)))}function M7(t){let e=L7(t),n=Z1(),i=!0;const a=g=>(_,x)=>{const T=zc(t,x,g==="exit"?t.presenceContext?.custom:void 0);if(T){const{transition:A,transitionEnd:j,...I}=T;_={..._,...I,...j}}return _};function c(g){e=g(t)}function u(g){const{props:_}=t,x=xC(t.parent)||{},T=[],A=new Set;let j={},I=1/0;for(let k=0;k<D7;k++){const $=I7[k],Y=n[$],Q=_[$]!==void 0?_[$]:x[$],ve=Wh(Q),he=$===g?Y.isActive:null;he===!1&&(I=k);let we=Q===x[$]&&Q!==_[$]&&ve;if(we&&i&&t.manuallyAnimateOnMount&&(we=!1),Y.protectedKeys={...j},!Y.isActive&&he===null||!Q&&!Y.prevProp||op(Q)||typeof Q=="boolean")continue;const F=O7(Y.prevProp,Q);let O=F||$===g&&Y.isActive&&!we&&ve||k>I&&ve,U=!1;const W=Array.isArray(Q)?Q:[Q];let M=W.reduce(a($),{});he===!1&&(M={});const{prevResolvedValues:G={}}=Y,H={...G,...M},Ue=de=>{O=!0,A.has(de)&&(U=!0,A.delete(de)),Y.needsAnimating[de]=!0;const le=t.getValue(de);le&&(le.liveStyle=!1)};for(const de in H){const le=M[de],Me=G[de];if(j.hasOwnProperty(de))continue;let B=!1;b0(le)&&b0(Me)?B=!_C(le,Me):B=le!==Me,B?le!=null?Ue(de):A.add(de):le!==void 0&&A.has(de)?Ue(de):Y.protectedKeys[de]=!0}Y.prevProp=Q,Y.prevResolvedValues=M,Y.isActive&&(j={...j,...M}),i&&t.blockInitialAnimation&&(O=!1);const je=we&&F;O&&(!je||U)&&T.push(...W.map(de=>{const le={type:$};if(typeof de=="string"&&i&&!je&&t.manuallyAnimateOnMount&&t.parent){const{parent:Me}=t,B=zc(Me,de);if(Me.enteringChildren&&B){const{delayChildren:ce}=B.transition||{};le.delay=vC(Me.enteringChildren,t,ce)}}return{animation:de,options:le}}))}if(A.size){const k={};if(typeof _.initial!="boolean"){const $=zc(t,Array.isArray(_.initial)?_.initial[0]:_.initial);$&&$.transition&&(k.transition=$.transition)}A.forEach($=>{const Y=t.getBaseTarget($),Q=t.getValue($);Q&&(Q.liveStyle=!0),k[$]=Y??null}),T.push({animation:k})}let z=!!T.length;return i&&(_.initial===!1||_.initial===_.animate)&&!t.manuallyAnimateOnMount&&(z=!1),i=!1,z?e(T):Promise.resolve()}function m(g,_){if(n[g].isActive===_)return Promise.resolve();t.variantChildren?.forEach(T=>T.animationState?.setActive(g,_)),n[g].isActive=_;const x=u(g);for(const T in n)n[T].protectedKeys={};return x}return{animateChanges:u,setActive:m,setAnimateFunction:c,getState:()=>n,reset:()=>{n=Z1(),i=!0}}}function O7(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!_C(e,t):!1}function yl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Z1(){return{animate:yl(!0),whileInView:yl(),whileHover:yl(),whileTap:yl(),whileDrag:yl(),whileFocus:yl(),exit:yl()}}class Bo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class k7 extends Bo{constructor(e){super(e),e.animationState||(e.animationState=M7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();op(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let V7=0;class U7 extends Bo{constructor(){super(...arguments),this.id=V7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const B7={animation:{Feature:k7},exit:{Feature:U7}};function $h(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function yd(t){return{point:{x:t.pageX,y:t.pageY}}}const z7=t=>e=>a_(e)&&t(e,yd(e));function Ph(t,e,n,i){return $h(t,e,z7(n),i)}const bC=1e-4,F7=1-bC,H7=1+bC,wC=.01,q7=0-wC,G7=0+wC;function fi(t){return t.max-t.min}function Z7(t,e,n){return Math.abs(t-e)<=n}function W1(t,e,n,i=.5){t.origin=i,t.originPoint=Gt(e.min,e.max,t.origin),t.scale=fi(n)/fi(e),t.translate=Gt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=F7&&t.scale<=H7||isNaN(t.scale))&&(t.scale=1),(t.translate>=q7&&t.translate<=G7||isNaN(t.translate))&&(t.translate=0)}function jh(t,e,n,i){W1(t.x,e.x,n.x,i?i.originX:void 0),W1(t.y,e.y,n.y,i?i.originY:void 0)}function K1(t,e,n){t.min=n.min+e.min,t.max=t.min+fi(e)}function W7(t,e,n){K1(t.x,e.x,n.x),K1(t.y,e.y,n.y)}function $1(t,e,n){t.min=e.min-n.min,t.max=t.min+fi(e)}function Ih(t,e,n){$1(t.x,e.x,n.x),$1(t.y,e.y,n.y)}function xs(t){return[t("x"),t("y")]}const TC=({current:t})=>t?t.ownerDocument.defaultView:null,Y1=(t,e)=>Math.abs(t-e);function K7(t,e){const n=Y1(t.x,e.x),i=Y1(t.y,e.y);return Math.sqrt(n**2+i**2)}class EC{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:c=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=_y(this.lastMoveEventInfo,this.history),j=this.startEvent!==null,I=K7(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!j&&!I)return;const{point:z}=A,{timestamp:k}=kn;this.history.push({...z,timestamp:k});const{onStart:$,onMove:Y}=this.handlers;j||($&&$(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),Y&&Y(this.lastMoveEvent,A)},this.handlePointerMove=(A,j)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=vy(j,this.transformPagePoint),Vt.update(this.updatePoint,!0)},this.handlePointerUp=(A,j)=>{this.end();const{onEnd:I,onSessionEnd:z,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const $=_y(A.type==="pointercancel"?this.lastMoveEventInfo:vy(j,this.transformPagePoint),this.history);this.startEvent&&I&&I(A,$),z&&z(A,$)},!a_(e))return;this.dragSnapToOrigin=c,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const m=yd(e),g=vy(m,this.transformPagePoint),{point:_}=g,{timestamp:x}=kn;this.history=[{..._,timestamp:x}];const{onSessionStart:T}=n;T&&T(e,_y(g,this.history)),this.removeListeners=md(Ph(this.contextWindow,"pointermove",this.handlePointerMove),Ph(this.contextWindow,"pointerup",this.handlePointerUp),Ph(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Lo(this.updatePoint)}}function vy(t,e){return e?{point:e(t.point)}:t}function Q1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function _y({point:t},e){return{point:t,delta:Q1(t,SC(e)),offset:Q1(t,$7(e)),velocity:Y7(e,.1)}}function $7(t){return t[0]}function SC(t){return t[t.length-1]}function Y7(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=SC(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>Sr(e)));)n--;if(!i)return{x:0,y:0};const c=Ts(a.timestamp-i.timestamp);if(c===0)return{x:0,y:0};const u={x:(a.x-i.x)/c,y:(a.y-i.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function Q7(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Gt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Gt(n,t,i.max):Math.min(t,n)),t}function X1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function X7(t,{top:e,left:n,bottom:i,right:a}){return{x:X1(t.x,n,a),y:X1(t.y,e,i)}}function J1(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function J7(t,e){return{x:J1(t.x,e.x),y:J1(t.y,e.y)}}function eU(t,e){let n=.5;const i=fi(t),a=fi(e);return a>i?n=qh(e.min,e.max-i,t.min):i>a&&(n=qh(t.min,t.max-a,e.min)),ya(0,1,n)}function tU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const E0=.35;function nU(t=E0){return t===!1?t=0:t===!0&&(t=E0),{x:eE(t,"left","right"),y:eE(t,"top","bottom")}}function eE(t,e,n){return{min:tE(t,e),max:tE(t,n)}}function tE(t,e){return typeof t=="number"?t:t[e]||0}const iU=new WeakMap;class sU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const c=T=>{const{dragSnapToOrigin:A}=this.getProps();A?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(yd(T).point)},u=(T,A)=>{const{drag:j,dragPropagation:I,onDragStart:z}=this.getProps();if(j&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=u9(j),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=A,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xs($=>{let Y=this.getAxisMotionValue($).get()||0;if(Ar.test(Y)){const{projection:Q}=this.visualElement;if(Q&&Q.layout){const ve=Q.layout.layoutBox[$];ve&&(Y=fi(ve)*(parseFloat(Y)/100))}}this.originPoint[$]=Y}),z&&Vt.postRender(()=>z(T,A)),w0(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},m=(T,A)=>{this.latestPointerEvent=T,this.latestPanInfo=A;const{dragPropagation:j,dragDirectionLock:I,onDirectionLock:z,onDrag:k}=this.getProps();if(!j&&!this.openDragLock)return;const{offset:$}=A;if(I&&this.currentDirection===null){this.currentDirection=rU($),this.currentDirection!==null&&z&&z(this.currentDirection);return}this.updateAxis("x",A.point,$),this.updateAxis("y",A.point,$),this.visualElement.render(),k&&k(T,A)},g=(T,A)=>{this.latestPointerEvent=T,this.latestPanInfo=A,this.stop(T,A),this.latestPointerEvent=null,this.latestPanInfo=null},_=()=>xs(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:x}=this.getProps();this.panSession=new EC(e,{onSessionStart:c,onStart:u,onMove:m,onSessionEnd:g,resumeAnimation:_},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:x,distanceThreshold:i,contextWindow:TC(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:m}=this.getProps();m&&Vt.postRender(()=>m(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!Lf(e,a,this.currentDirection))return;const c=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=Q7(u,this.constraints[e],this.elastic[e])),c.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Ic(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=X7(i.layoutBox,e):this.constraints=!1,this.elastic=nU(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&xs(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=tU(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ic(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const c=a7(i,a.root,this.visualElement.getTransformPagePoint());let u=J7(a.layout.layoutBox,c);if(n){const m=n(i7(u));this.hasMutatedConstraints=!!m,m&&(u=lC(m))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:m}=this.getProps(),g=this.constraints||{},_=xs(x=>{if(!Lf(x,n,this.currentDirection))return;let T=g&&g[x]||{};u&&(T={min:0,max:0});const A=a?200:1e6,j=a?40:1e7,I={type:"inertia",velocity:i?e[x]:0,bounceStiffness:A,bounceDamping:j,timeConstant:750,restDelta:1,restSpeed:10,...c,...T};return this.startAxisValueAnimation(x,I)});return Promise.all(_).then(m)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return w0(this.visualElement,e),i.start(g_(e,i,0,n,this.visualElement,!1))}stopAnimation(){xs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){xs(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){xs(n=>{const{drag:i}=this.getProps();if(!Lf(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,c=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:m}=a.layout.layoutBox[n];c.set(e[n]-Gt(u,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Ic(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};xs(u=>{const m=this.getAxisMotionValue(u);if(m&&this.constraints!==!1){const g=m.get();a[u]=eU({min:g,max:g},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),xs(u=>{if(!Lf(u,e,null))return;const m=this.getAxisMotionValue(u),{min:g,max:_}=this.constraints[u];m.set(Gt(g,_,a[u]))})}addListeners(){if(!this.visualElement.current)return;iU.set(this.visualElement,this);const e=this.visualElement.current,n=Ph(e,"pointerdown",g=>{const{drag:_,dragListener:x=!0}=this.getProps();_&&x&&this.start(g)}),i=()=>{const{dragConstraints:g}=this.getProps();Ic(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,c=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Vt.read(i);const u=$h(window,"resize",()=>this.scalePositionWithinConstraints()),m=a.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:_})=>{this.isDragging&&_&&(xs(x=>{const T=this.getAxisMotionValue(x);T&&(this.originPoint[x]+=g[x].translate,T.set(T.get()+g[x].translate))}),this.visualElement.render())}));return()=>{u(),n(),c(),m&&m()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:c=!1,dragElastic:u=E0,dragMomentum:m=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:c,dragElastic:u,dragMomentum:m}}}function Lf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function rU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class aU extends Bo{constructor(e){super(e),this.removeGroupControls=Es,this.removeListeners=Es,this.controls=new sU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Es}unmount(){this.removeGroupControls(),this.removeListeners()}}const nE=t=>(e,n)=>{t&&Vt.postRender(()=>t(e,n))};class oU extends Bo{constructor(){super(...arguments),this.removePointerDownListener=Es}onPointerDown(e){this.session=new EC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:TC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:nE(e),onStart:nE(n),onMove:i,onEnd:(c,u)=>{delete this.session,a&&Vt.postRender(()=>a(c,u))}}}mount(){this.removePointerDownListener=Ph(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const nm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function iE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const dh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(We.test(t))t=parseFloat(t);else return t;const n=iE(t,e.target.x),i=iE(t,e.target.y);return`${n}% ${i}%`}},lU={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=Mo.parse(t);if(a.length>5)return i;const c=Mo.createTransformer(t),u=typeof a[0]!="number"?1:0,m=n.x.scale*e.x,g=n.y.scale*e.y;a[0+u]/=m,a[1+u]/=g;const _=Gt(m,g,.5);return typeof a[2+u]=="number"&&(a[2+u]/=_),typeof a[3+u]=="number"&&(a[3+u]/=_),c(a)}};let xy=!1;class cU extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:c}=e;j9(uU),c&&(n.group&&n.group.add(c),i&&i.register&&a&&i.register(c),xy&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),nm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:c}=this.props,{projection:u}=i;return u&&(u.isPresent=c,xy=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==c?u.willUpdate():this.safeToRemove(),e.isPresent!==c&&(c?u.promote():u.relegate()||Vt.postRender(()=>{const m=u.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),r_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;xy=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function AC(t){const[e,n]=KN(),i=V.useContext(kv);return f.jsx(cU,{...t,layoutGroup:i,switchLayoutGroup:V.useContext(aC),isPresent:e,safeToRemove:n})}const uU={borderRadius:{...dh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:dh,borderTopRightRadius:dh,borderBottomLeftRadius:dh,borderBottomRightRadius:dh,boxShadow:lU};function hU(t,e,n){const i=Yn(t)?t:Xc(t);return i.start(g_("",i,e,n)),i.animation}const dU=(t,e)=>t.depth-e.depth;class fU{constructor(){this.children=[],this.isDirty=!1}add(e){Bv(this.children,e),this.isDirty=!0}remove(e){zv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(dU),this.isDirty=!1,this.children.forEach(e)}}function mU(t,e){const n=ji.now(),i=({timestamp:a})=>{const c=a-n;c>=e&&(Lo(i),t(c-e))};return Vt.setup(i,!0),()=>Lo(i)}const NC=["TopLeft","TopRight","BottomLeft","BottomRight"],pU=NC.length,sE=t=>typeof t=="string"?parseFloat(t):t,rE=t=>typeof t=="number"||We.test(t);function gU(t,e,n,i,a,c){a?(t.opacity=Gt(0,n.opacity??1,yU(i)),t.opacityExit=Gt(e.opacity??1,0,vU(i))):c&&(t.opacity=Gt(e.opacity??1,n.opacity??1,i));for(let u=0;u<pU;u++){const m=`border${NC[u]}Radius`;let g=aE(e,m),_=aE(n,m);if(g===void 0&&_===void 0)continue;g||(g=0),_||(_=0),g===0||_===0||rE(g)===rE(_)?(t[m]=Math.max(Gt(sE(g),sE(_),i),0),(Ar.test(_)||Ar.test(g))&&(t[m]+="%")):t[m]=_}(e.rotate||n.rotate)&&(t.rotate=Gt(e.rotate||0,n.rotate||0,i))}function aE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const yU=CC(0,.5,mN),vU=CC(.5,.95,Es);function CC(t,e,n){return i=>i<t?0:i>e?1:n(qh(t,e,i))}function oE(t,e){t.min=e.min,t.max=e.max}function _s(t,e){oE(t.x,e.x),oE(t.y,e.y)}function lE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function cE(t,e,n,i,a){return t-=e,t=Nm(t,1/n,i),a!==void 0&&(t=Nm(t,1/a,i)),t}function _U(t,e=0,n=1,i=.5,a,c=t,u=t){if(Ar.test(e)&&(e=parseFloat(e),e=Gt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let m=Gt(c.min,c.max,i);t===c&&(m-=e),t.min=cE(t.min,e,n,m,a),t.max=cE(t.max,e,n,m,a)}function uE(t,e,[n,i,a],c,u){_U(t,e[n],e[i],e[a],e.scale,c,u)}const xU=["x","scaleX","originX"],bU=["y","scaleY","originY"];function hE(t,e,n,i){uE(t.x,e,xU,n?n.x:void 0,i?i.x:void 0),uE(t.y,e,bU,n?n.y:void 0,i?i.y:void 0)}function dE(t){return t.translate===0&&t.scale===1}function RC(t){return dE(t.x)&&dE(t.y)}function fE(t,e){return t.min===e.min&&t.max===e.max}function wU(t,e){return fE(t.x,e.x)&&fE(t.y,e.y)}function mE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function PC(t,e){return mE(t.x,e.x)&&mE(t.y,e.y)}function pE(t){return fi(t.x)/fi(t.y)}function gE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class TU{constructor(){this.members=[]}add(e){Bv(this.members,e),e.scheduleRender()}remove(e){if(zv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const c=this.members[a];if(c.isPresent!==!1){i=c;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function EU(t,e,n){let i="";const a=t.x.translate/e.x,c=t.y.translate/e.y,u=n?.z||0;if((a||c||u)&&(i=`translate3d(${a}px, ${c}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:_,rotate:x,rotateX:T,rotateY:A,skewX:j,skewY:I}=n;_&&(i=`perspective(${_}px) ${i}`),x&&(i+=`rotate(${x}deg) `),T&&(i+=`rotateX(${T}deg) `),A&&(i+=`rotateY(${A}deg) `),j&&(i+=`skewX(${j}deg) `),I&&(i+=`skewY(${I}deg) `)}const m=t.x.scale*e.x,g=t.y.scale*e.y;return(m!==1||g!==1)&&(i+=`scale(${m}, ${g})`),i||"none"}const by=["","X","Y","Z"],SU=1e3;let AU=0;function wy(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function jC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=gC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:c}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Vt,!(a||c))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&jC(i)}function IC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},m=e?.()){this.id=AU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(RU),this.nodes.forEach(DU),this.nodes.forEach(LU),this.nodes.forEach(PU)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new fU)}addEventListener(u,m){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new qv),this.eventHandlers.get(u).add(m)}notifyListeners(u,...m){const g=this.eventHandlers.get(u);g&&g.notify(...m)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=WN(u)&&!g9(u),this.instance=u;const{layoutId:m,layout:g,visualElement:_}=this.options;if(_&&!_.current&&_.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||m)&&(this.isLayoutDirty=!0),t){let x,T=0;const A=()=>this.root.updateBlockedByResize=!1;Vt.read(()=>{T=window.innerWidth}),t(u,()=>{const j=window.innerWidth;j!==T&&(T=j,this.root.updateBlockedByResize=!0,x&&x(),x=mU(A,250),nm.hasAnimatedSinceResize&&(nm.hasAnimatedSinceResize=!1,this.nodes.forEach(_E)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&_&&(m||g)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:T,hasRelativeLayoutChanged:A,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||_.getDefaultTransition()||UU,{onLayoutAnimationStart:z,onLayoutAnimationComplete:k}=_.getProps(),$=!this.targetLayout||!PC(this.targetLayout,j),Y=!T&&A;if(this.options.layoutRoot||this.resumeFrom||Y||T&&($||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Q={...i_(I,"layout"),onPlay:z,onComplete:k};(_.shouldReduceMotion||this.options.layoutRoot)&&(Q.delay=0,Q.type=!1),this.startAnimation(Q),this.setAnimationOrigin(x,Y)}else T||_E(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Lo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(MU),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const T=this.path[x];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:m,layout:g}=this.options;if(m===void 0&&!g)return;const _=this.getTransformTemplate();this.prevTransformTemplateValue=_?_(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(vE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(IU),this.nodes.forEach(NU),this.nodes.forEach(CU)):this.nodes.forEach(vE),this.clearAllSnapshots();const m=ji.now();kn.delta=ya(0,1e3/60,m-kn.timestamp),kn.timestamp=m,kn.isProcessing=!0,uy.update.process(kn),uy.preRender.process(kn),uy.render.process(kn),kn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,r_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(jU),this.sharedNodes.forEach(OU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Vt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Vt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fi(this.snapshot.measuredBox.x)&&!fi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=tn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(m=!1),m&&this.instance){const g=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:g,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!RC(this.projectionDelta),g=this.getTransformTemplate(),_=g?g(this.latestValues,""):void 0,x=_!==this.prevTransformTemplateValue;u&&this.instance&&(m||_l(this.latestValues)||x)&&(a(this.instance,_),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const m=this.measurePageBox();let g=this.removeElementScroll(m);return u&&(g=this.removeTransform(g)),BU(g),{animationId:this.root.animationId,measuredBox:m,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return tn();const m=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(zU))){const{scroll:_}=this.root;_&&(Dc(m.x,_.offset.x),Dc(m.y,_.offset.y))}return m}removeElementScroll(u){const m=tn();if(_s(m,u),this.scroll?.wasRoot)return m;for(let g=0;g<this.path.length;g++){const _=this.path[g],{scroll:x,options:T}=_;_!==this.root&&x&&T.layoutScroll&&(x.wasRoot&&_s(m,u),Dc(m.x,x.offset.x),Dc(m.y,x.offset.y))}return m}applyTransform(u,m=!1){const g=tn();_s(g,u);for(let _=0;_<this.path.length;_++){const x=this.path[_];!m&&x.options.layoutScroll&&x.scroll&&x!==x.root&&Lc(g,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),_l(x.latestValues)&&Lc(g,x.latestValues)}return _l(this.latestValues)&&Lc(g,this.latestValues),g}removeTransform(u){const m=tn();_s(m,u);for(let g=0;g<this.path.length;g++){const _=this.path[g];if(!_.instance||!_l(_.latestValues))continue;v0(_.latestValues)&&_.updateSnapshot();const x=tn(),T=_.measurePageBox();_s(x,T),hE(m,_.latestValues,_.snapshot?_.snapshot.layoutBox:void 0,x)}return _l(this.latestValues)&&hE(m,this.latestValues),m}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==kn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==m;if(!(u||g&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:T}=this.options;if(!(!this.layout||!(x||T))){if(this.resolvedRelativeTargetAt=kn.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tn(),this.relativeTargetOrigin=tn(),Ih(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),_s(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=tn(),this.targetWithTransforms=tn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),W7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_s(this.target,this.layout.layoutBox),uC(this.target,this.targetDelta)):_s(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tn(),this.relativeTargetOrigin=tn(),Ih(this.relativeTargetOrigin,this.target,A.target),_s(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||v0(this.parent.latestValues)||cC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),m=!!this.resumingFrom||this!==u;let g=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(g=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===kn.timestamp&&(g=!1),g)return;const{layout:_,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(_||x))return;_s(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,A=this.treeScale.y;r7(this.layoutCorrected,this.treeScale,this.path,m),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=tn());const{target:j}=u;if(!j){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(lE(this.prevProjectionDelta.x,this.projectionDelta.x),lE(this.prevProjectionDelta.y,this.projectionDelta.y)),jh(this.projectionDelta,this.layoutCorrected,j,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==A||!gE(this.projectionDelta.x,this.prevProjectionDelta.x)||!gE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",j))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Mc(),this.projectionDelta=Mc(),this.projectionDeltaWithTransform=Mc()}setAnimationOrigin(u,m=!1){const g=this.snapshot,_=g?g.latestValues:{},x={...this.latestValues},T=Mc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const A=tn(),j=g?g.source:void 0,I=this.layout?this.layout.source:void 0,z=j!==I,k=this.getStack(),$=!k||k.members.length<=1,Y=!!(z&&!$&&this.options.crossfade===!0&&!this.path.some(VU));this.animationProgress=0;let Q;this.mixTargetDelta=ve=>{const he=ve/1e3;xE(T.x,u.x,he),xE(T.y,u.y,he),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ih(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kU(this.relativeTarget,this.relativeTargetOrigin,A,he),Q&&wU(this.relativeTarget,Q)&&(this.isProjectionDirty=!1),Q||(Q=tn()),_s(Q,this.relativeTarget)),z&&(this.animationValues=x,gU(x,_,this.latestValues,he,Y,$)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=he},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Lo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Vt.update(()=>{nm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Xc(0)),this.currentAnimation=hU(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),u.onUpdate&&u.onUpdate(m)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(SU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:m,target:g,layout:_,latestValues:x}=u;if(!(!m||!g||!_)){if(this!==u&&this.layout&&_&&DC(this.options.animationType,this.layout.layoutBox,_.layoutBox)){g=this.target||tn();const T=fi(this.layout.layoutBox.x);g.x.min=u.target.x.min,g.x.max=g.x.min+T;const A=fi(this.layout.layoutBox.y);g.y.min=u.target.y.min,g.y.max=g.y.min+A}_s(m,g),Lc(m,x),jh(this.projectionDeltaWithTransform,this.layoutCorrected,m,x)}}registerSharedNode(u,m){this.sharedNodes.has(u)||this.sharedNodes.set(u,new TU),this.sharedNodes.get(u).add(m);const _=m.options.initialPromotionConfig;m.promote({transition:_?_.transition:void 0,preserveFollowOpacity:_&&_.shouldPreserveFollowOpacity?_.shouldPreserveFollowOpacity(m):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:m,preserveFollowOpacity:g}={}){const _=this.getStack();_&&_.promote(this,g),u&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let m=!1;const{latestValues:g}=u;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(m=!0),!m)return;const _={};g.z&&wy("z",u,_,this.animationValues);for(let x=0;x<by.length;x++)wy(`rotate${by[x]}`,u,_,this.animationValues),wy(`skew${by[x]}`,u,_,this.animationValues);u.render();for(const x in _)u.setStaticValue(x,_[x]),this.animationValues&&(this.animationValues[x]=_[x]);u.scheduleRender()}applyProjectionStyles(u,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=tm(m?.pointerEvents)||"",u.transform=g?g(this.latestValues,""):"none";return}const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=tm(m?.pointerEvents)||""),this.hasProjected&&!_l(this.latestValues)&&(u.transform=g?g({},""):"none",this.hasProjected=!1);return}u.visibility="";const x=_.animationValues||_.latestValues;this.applyTransformsToTarget();let T=EU(this.projectionDeltaWithTransform,this.treeScale,x);g&&(T=g(x,T)),u.transform=T;const{x:A,y:j}=this.projectionDelta;u.transformOrigin=`${A.origin*100}% ${j.origin*100}% 0`,_.animationValues?u.opacity=_===this?x.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:u.opacity=_===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const I in Kh){if(x[I]===void 0)continue;const{correct:z,applyTo:k,isCSSVariable:$}=Kh[I],Y=T==="none"?x[I]:z(x[I],_);if(k){const Q=k.length;for(let ve=0;ve<Q;ve++)u[k[ve]]=Y}else $?this.options.visualElement.renderState.vars[I]=Y:u[I]=Y}this.options.layoutId&&(u.pointerEvents=_===this?tm(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(yE),this.root.sharedNodes.clear()}}}function NU(t){t.updateLayout()}function CU(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,c=e.source!==t.layout.source;a==="size"?xs(x=>{const T=c?e.measuredBox[x]:e.layoutBox[x],A=fi(T);T.min=n[x].min,T.max=T.min+A}):DC(a,e.layoutBox,n)&&xs(x=>{const T=c?e.measuredBox[x]:e.layoutBox[x],A=fi(n[x]);T.max=T.min+A,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+A)});const u=Mc();jh(u,n,e.layoutBox);const m=Mc();c?jh(m,t.applyTransform(i,!0),e.measuredBox):jh(m,n,e.layoutBox);const g=!RC(u);let _=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:T,layout:A}=x;if(T&&A){const j=tn();Ih(j,e.layoutBox,T.layoutBox);const I=tn();Ih(I,n,A.layoutBox),PC(j,I)||(_=!0),x.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=j,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:m,layoutDelta:u,hasLayoutChanged:g,hasRelativeLayoutChanged:_})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function RU(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function PU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function jU(t){t.clearSnapshot()}function yE(t){t.clearMeasurements()}function vE(t){t.isLayoutDirty=!1}function IU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function _E(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function DU(t){t.resolveTargetDelta()}function LU(t){t.calcProjection()}function MU(t){t.resetSkewAndRotation()}function OU(t){t.removeLeadSnapshot()}function xE(t,e,n){t.translate=Gt(e.translate,0,n),t.scale=Gt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function bE(t,e,n,i){t.min=Gt(e.min,n.min,i),t.max=Gt(e.max,n.max,i)}function kU(t,e,n,i){bE(t.x,e.x,n.x,i),bE(t.y,e.y,n.y,i)}function VU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const UU={duration:.45,ease:[.4,0,.1,1]},wE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),TE=wE("applewebkit/")&&!wE("chrome/")?Math.round:Es;function EE(t){t.min=TE(t.min),t.max=TE(t.max)}function BU(t){EE(t.x),EE(t.y)}function DC(t,e,n){return t==="position"||t==="preserve-aspect"&&!Z7(pE(e),pE(n),.2)}function zU(t){return t!==t.root&&t.scroll?.wasRoot}const FU=IC({attachResizeListener:(t,e)=>$h(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ty={current:void 0},LC=IC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ty.current){const t=new FU({});t.mount(window),t.setOptions({layoutScroll:!0}),Ty.current=t}return Ty.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),HU={pan:{Feature:oU},drag:{Feature:aU,ProjectionNode:LC,MeasureLayout:AC}};function SE(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,c=i[a];c&&Vt.postRender(()=>c(e,yd(e)))}class qU extends Bo{mount(){const{current:e}=this.node;e&&(this.unmount=h9(e,(n,i)=>(SE(this.node,i,"Start"),a=>SE(this.node,a,"End"))))}unmount(){}}class GU extends Bo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=md($h(this.node.current,"focus",()=>this.onFocus()),$h(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function AE(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),c=i[a];c&&Vt.postRender(()=>c(e,yd(e)))}class ZU extends Bo{mount(){const{current:e}=this.node;e&&(this.unmount=p9(e,(n,i)=>(AE(this.node,i,"Start"),(a,{success:c})=>AE(this.node,a,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const S0=new WeakMap,Ey=new WeakMap,WU=t=>{const e=S0.get(t.target);e&&e(t)},KU=t=>{t.forEach(WU)};function $U({root:t,...e}){const n=t||document;Ey.has(n)||Ey.set(n,{});const i=Ey.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(KU,{root:t,...e})),i[a]}function YU(t,e,n){const i=$U(e);return S0.set(t,n),i.observe(t),()=>{S0.delete(t),i.unobserve(t)}}const QU={some:0,all:1};class XU extends Bo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:c}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:QU[a]},m=g=>{const{isIntersecting:_}=g;if(this.isInView===_||(this.isInView=_,c&&!_&&this.hasEnteredView))return;_&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",_);const{onViewportEnter:x,onViewportLeave:T}=this.node.getProps(),A=_?x:T;A&&A(g)};return YU(this.node.current,u,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(JU(e,n))&&this.startObserver()}unmount(){}}function JU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const eB={inView:{Feature:XU},tap:{Feature:ZU},focus:{Feature:GU},hover:{Feature:qU}},tB={layout:{ProjectionNode:LC,MeasureLayout:AC}},nB={...B7,...eB,...HU,...tB},Ni=n7(nB,p7),iB=()=>{const t=As(),{orderId:e,payment:n}=t.state||{},[i,a]=V.useState(null),[c,u]=V.useState(!0),[m,g]=V.useState(!1);return V.useEffect(()=>{if(!e)return;(async()=>{try{const T=Ao(Ri,"orders",e),A=await Nv(T);A.exists()&&a(A.data())}catch(T){console.error("Error fetching order:",T)}finally{u(!1)}})();const x=setTimeout(()=>g(!0),2e3);return()=>clearTimeout(x)},[e]),e?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-green-50 to-teal-50 py-8 px-4",children:f.jsxs("div",{className:"max-w-2xl mx-auto",children:[f.jsxs(Ni.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8",children:[f.jsx(Ni.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15,delay:.2},className:"w-24 h-24 bg-gradient-to-r from-emerald-500 to-green-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:f.jsx("i",{className:"fas fa-check-circle text-4xl text-white"})}),f.jsx(Ni.h1,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-4xl font-bold bg-gradient-to-r from-emerald-600 to-green-600 bg-clip-text text-transparent mb-4",children:"Order Confirmed!"}),f.jsx(Ni.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"text-lg text-gray-600",children:"Thank you for your purchase! Your order has been successfully placed."})]}),f.jsx(Ni.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.8},className:"flex justify-center mb-8",children:f.jsxs("span",{className:`inline-flex items-center px-6 py-3 rounded-full text-sm font-semibold ${n==="success"?"bg-emerald-100 text-emerald-800 border border-emerald-200":"bg-amber-100 text-amber-800 border border-amber-200"}`,children:[f.jsx("i",{className:`fas ${n==="success"?"fa-check-circle":"fa-clock"} mr-2`}),"Payment ",n?.toUpperCase()]})}),f.jsxs(Ni.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:1},className:"bg-white rounded-2xl shadow-xl overflow-hidden mb-8 border border-emerald-100",children:[f.jsx("div",{className:"bg-gradient-to-r from-emerald-600 to-green-600 p-6",children:f.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center",children:[f.jsx("i",{className:"fas fa-receipt mr-3"}),"Order Details"]})}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[f.jsxs("span",{className:"text-gray-600 font-medium flex items-center",children:[f.jsx("i",{className:"fas fa-hashtag mr-2 text-emerald-500"}),"Order ID"]}),f.jsxs("span",{className:"font-mono font-semibold text-emerald-600 bg-emerald-50 px-3 py-1 rounded-lg",children:["#",e.slice(-8)]})]}),f.jsx(Df,{children:c&&f.jsxs(Ni.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-8",children:[f.jsx(Ni.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-8 h-8 border-2 border-emerald-500 border-t-transparent rounded-full mx-auto mb-4"}),f.jsx("p",{className:"text-gray-500",children:"Loading order details..."})]})}),f.jsx(Df,{children:!c&&i&&f.jsxs(Ni.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"space-y-4 mt-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-emerald-50 p-4 rounded-xl",children:[f.jsxs("div",{className:"text-sm text-emerald-600 font-medium mb-1",children:[f.jsx("i",{className:"fas fa-rupee-sign mr-1"}),"Amount"]}),f.jsxs("div",{className:"text-lg font-bold text-emerald-700",children:["₹",i.amount]})]}),f.jsxs("div",{className:"bg-green-50 p-4 rounded-xl",children:[f.jsx("div",{className:"text-sm text-green-600 font-medium mb-1",children:"Date"}),f.jsx("div",{className:"text-sm font-semibold text-green-700",children:i.createdAt?.toDate?i.createdAt.toDate().toLocaleDateString():"N/A"})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-teal-50 p-4 rounded-xl",children:[f.jsx("div",{className:"text-sm text-teal-600 font-medium mb-1",children:"Status"}),f.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-teal-100 text-teal-800",children:i.status||"Confirmed"})]}),f.jsxs("div",{className:"bg-cyan-50 p-4 rounded-xl",children:[f.jsx("div",{className:"text-sm text-cyan-600 font-medium mb-1",children:"Plan"}),f.jsx("div",{className:"text-sm font-semibold text-cyan-700",children:i.items[0].name})]})]})]})}),f.jsx(Df,{children:!c&&!i&&f.jsxs(Ni.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-6 text-red-500",children:[f.jsx("i",{className:"fas fa-exclamation-circle text-2xl mb-2"}),f.jsx("p",{children:"Order details not found."})]})})]})]}),f.jsxs(Ni.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:2},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[f.jsxs(et,{to:"/",className:"flex-1 bg-gradient-to-r from-emerald-600 to-green-600 text-white px-8 py-4 rounded-xl hover:from-emerald-700 hover:to-green-700 transition-all duration-300 font-semibold text-center group",children:[f.jsx("i",{className:"fas fa-shopping-bag mr-2 group-hover:scale-110 transition-transform"}),"Continue Shopping"]}),f.jsxs(et,{to:"/profile",className:"flex-1 border-2 border-emerald-600 text-emerald-600 px-8 py-4 rounded-xl hover:bg-emerald-50 transition-all duration-300 font-semibold text-center group",children:[f.jsx("i",{className:"fas fa-clipboard-list mr-2 group-hover:scale-110 transition-transform"}),"View My Orders"]})]}),f.jsx(Df,{children:m&&f.jsx(f.Fragment,{children:[...Array(5)].map((_,x)=>f.jsx(Ni.div,{initial:{scale:0,opacity:0,x:Math.random()*100-50,y:Math.random()*100-50},animate:{scale:[0,1,0],opacity:[0,1,0],rotate:Math.random()*360},transition:{duration:2,delay:x*.3,repeat:1/0,repeatDelay:5},className:"fixed text-emerald-400 text-2xl pointer-events-none",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},children:f.jsx("i",{className:"fas fa-star"})},x))})})]})}):f.jsx(Ni.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen bg-gradient-to-br from-emerald-50 to-green-50 flex items-center justify-center px-4",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[f.jsx(Ni.div,{initial:{scale:0},animate:{scale:1},className:"text-red-500 text-6xl mb-4",children:f.jsx("i",{className:"fas fa-exclamation-triangle"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Invalid Order Confirmation"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't find your order details. Please check your confirmation link."}),f.jsxs(et,{to:"/",className:"inline-flex items-center bg-emerald-600 text-white px-6 py-3 rounded-xl hover:bg-emerald-700 transition-all duration-300 font-medium",children:[f.jsx("i",{className:"fas fa-home mr-2"}),"Go back to Home"]})]})})};delete mu.Icon.Default.prototype._getIconUrl;mu.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const sB=new mu.Icon({iconUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32' fill='%2300C853'%3E%3Cpath d='M16 2C10.48 2 6 6.48 6 12c0 8 10 18 10 18s10-10 10-18c0-5.52-4.48-10-10-10zm0 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z'/%3E%3C/svg%3E",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[32,32],iconAnchor:[16,32]}),rB=()=>{const[t,e]=V.useState("subscriptions"),[n,i]=V.useState([]),[a,c]=V.useState([]),[u,m]=V.useState(!0),[g,_]=V.useState(null),[x,T]=V.useState(!1),[A,j]=V.useState({}),[I,z]=V.useState(new Date().toISOString().split("T")[0]),[k,$]=V.useState(!1);V.useEffect(()=>{Y()},[]),V.useEffect(()=>{t==="attendance"&&Q()},[t,I,a]);const Y=async()=>{try{m(!0);const M=_A(So(Ri,"orders"),Uk("createdAt","desc")),H=(await Wf(M)).docs.map(de=>{const le=de.data();return{id:de.id,...le,createdAt:le.createdAt?.toDate?.()||new Date,shippingAddress:{address:le.shipping?.address||"",city:le.shipping?.city||"",state:le.shipping?.state||"",pincode:le.shipping?.pincode||"",country:le.shipping?.country||"",location:le.shipping?.location||null}}});c(H);const J=(await Wf(So(Ri,"users"))).docs.map(de=>({id:de.id,...de.data()})).map(de=>{const le=H.filter(B=>B.userId===de.id),Me=le.length>0?{...le[0],daysLeft:ve(le[0].createdAt),status:he(le[0].createdAt)}:null;return{user:de,orders:le,activeSubscription:Me,totalOrders:le.length,totalSpent:le.reduce((B,ce)=>B+(ce.amount||0),0)}});i(J)}catch(M){console.error("Error fetching data:",M)}finally{m(!1)}},Q=async()=>{try{const M=a.filter(G=>G.createdAt.toISOString().split("T")[0]===I);j({date:I,totalOrders:M.length,delivered:M.filter(G=>G.deliveryStatus==="delivered").length,notDelivered:M.filter(G=>!G.deliveryStatus||G.deliveryStatus==="pending"||G.deliveryStatus==="not_delivered").length,orders:M})}catch(M){console.error("Error fetching attendance data:",M)}},ve=M=>{const G=new Date(M);G.setDate(G.getDate()+26);const Ue=Math.ceil((G-new Date)/(1e3*60*60*24));return Math.max(0,Ue)},he=M=>{const G=ve(M);return G===0?"expired":G<=7?"expiring_soon":"active"},we=async(M,G)=>{try{const H=Ao(Ri,"orders",M);await ay(H,{deliveryStatus:G,updatedAt:Ct.now()}),c(Ue=>Ue.map(je=>je.id===M?{...je,deliveryStatus:G}:je)),g?.id===M&&_(Ue=>({...Ue,deliveryStatus:G})),alert(`Delivery status updated to ${G}`)}catch(H){console.error("Error updating delivery status:",H),alert("Error updating delivery status")}},F=async M=>{try{const G=Ao(Ri,"subscriptions",M);await ay(G,{extraDays:$T(1),events:KT({type:"cancel",date:new Date().toISOString()})}),alert("Cancelled today for this user. Timeline extended by 1 day.")}catch(G){console.error("Error cancelling day:",G)}},O=async()=>{try{(await Wf(So(Ri,"subscriptions"))).forEach(async G=>{await ay(Ao(Ri,"subscriptions",G.id),{extraDays:$T(1),events:KT({type:"leave",date:new Date().toISOString()})})}),alert("Marked today as leave. Timeline extended by 1 day for all users.")}catch(M){console.error("Error marking leave:",M)}},U=M=>{_(M),T(!0)},W=M=>{const H={active:{color:"bg-emerald-100 text-emerald-800 border-emerald-200",label:"Active"},expiring_soon:{color:"bg-amber-100 text-amber-800 border-amber-200",label:"Expiring Soon"},expired:{color:"bg-red-100 text-red-800 border-red-200",label:"Expired"},delivered:{color:"bg-emerald-100 text-emerald-800 border-emerald-200",label:"Delivered"},pending:{color:"bg-amber-100 text-amber-800 border-amber-200",label:"Pending"},not_delivered:{color:"bg-red-100 text-red-800 border-red-200",label:"Not Delivered"}}[M]||{color:"bg-gray-100 text-gray-800 border-gray-200",label:M};return f.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${H.color}`,children:H.label})};return u?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-green-50 flex items-center justify-center",children:f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"}),f.jsxs("p",{className:"mt-3 text-emerald-700 font-medium",children:[f.jsx("i",{className:"fas fa-spinner fa-spin mr-2"}),"Loading dashboard..."]})]})}):f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-green-50",children:[f.jsx("div",{className:"lg:hidden bg-white shadow-sm border-b border-emerald-100",children:f.jsxs("div",{className:"flex items-center justify-between p-4",children:[f.jsx("button",{onClick:()=>$(!k),className:"p-2 rounded-lg bg-emerald-50 text-emerald-700",children:f.jsx("i",{className:"fas fa-bars"})}),f.jsxs("div",{className:"text-emerald-700 font-semibold",children:[f.jsx("i",{className:"fas fa-leaf mr-2"}),"Admin Dashboard"]}),f.jsx("div",{className:"w-6"})]})}),f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:`fixed lg:static inset-y-0 left-0 z-40 w-64 h-[100vh] bg-white shadow-xl transform ${k?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out`,children:f.jsxs("div",{className:"flex flex-col h-full",children:[f.jsxs("div",{className:"py-6 p-2 bg-gradient-to-r from-emerald-600 to-green-600 text-white",children:[f.jsx("h1",{className:"text-xl font-bold",children:"Fruit Bunch Admin"}),f.jsx("p",{className:"text-emerald-100 text-sm mt-1",children:"Sustainable Delivery Management"})]}),f.jsx("nav",{className:"flex-1 p-4 space-y-2",children:[{id:"subscriptions",label:"Subscriptions",icon:"fa-chart-pie"},{id:"orders",label:"Orders",icon:"fa-box"},{id:"attendance",label:"Attendance",icon:"fa-users"},{id:"analytics",label:"Analytics",icon:"fa-chart-line"}].map(M=>f.jsxs("button",{onClick:()=>{e(M.id),$(!1)},className:`w-full flex items-center px-4 py-3 rounded-xl text-left transition-all duration-200 ${t===M.id?"bg-emerald-50 text-emerald-700 border-l-4 border-emerald-600 shadow-sm":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[f.jsx("i",{className:`fas ${M.icon} text-lg mr-3`}),f.jsx("span",{className:"font-medium",children:M.label})]},M.id))}),f.jsx("div",{className:"p-4 border-t border-gray-100",children:f.jsx("div",{className:"text-center text-sm text-gray-500",children:new Date().toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})})]})}),f.jsxs("div",{className:"flex-1 lg:ml-0",children:[f.jsx("div",{className:"bg-white/80 backdrop-blur-sm shadow-sm border-b border-emerald-100",children:f.jsx("div",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900 capitalize",children:t.replace("_"," ")}),f.jsx("p",{className:"text-gray-600",children:"Manage your delivery operations efficiently"})]}),f.jsxs("div",{className:"hidden lg:flex items-center space-x-4",children:[f.jsxs("div",{className:"text-right",children:[f.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[f.jsx("i",{className:"fas fa-user-shield mr-1"}),"Welcome back, Admin"]}),f.jsxs("div",{className:"text-xs text-gray-500",children:[f.jsx("i",{className:"fas fa-sync-alt mr-1"}),"Last updated: Just now"]})]}),f.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-emerald-500 to-green-500 rounded-full flex items-center justify-center text-white font-semibold",children:f.jsx("i",{className:"fas fa-user"})})]})]})})}),f.jsxs("div",{className:"p-6",children:[t==="subscriptions"&&f.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-emerald-100 overflow-hidden",children:[f.jsx("div",{className:"px-6 py-5 bg-gradient-to-r from-emerald-50 to-green-50 border-b border-emerald-100",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"User Subscriptions"}),f.jsx("p",{className:"text-emerald-700",children:"Active subscriptions and customer management"})]}),f.jsx("div",{className:"text-2xl text-emerald-600",children:f.jsx("i",{className:"fas fa-users"})})]})}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"User"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Subscription"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Orders"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Total Spent"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(M=>f.jsxs("tr",{className:"hover:bg-emerald-50/50 transition-colors",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-gradient-to-r from-emerald-400 to-green-400 rounded-full flex items-center justify-center text-white font-semibold",children:f.jsx("i",{className:"fas fa-user"})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("div",{className:"text-sm font-medium text-gray-900",children:M.user.name||"No Name"}),f.jsx("div",{className:"text-sm text-gray-500",children:M.user.email})]})]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:M.activeSubscription?f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-medium text-gray-900",children:M.activeSubscription.items?.[0]?.name||"Subscription"}),f.jsxs("div",{className:"text-sm text-emerald-600 font-semibold",children:[M.activeSubscription.daysLeft," days left"]})]}):f.jsxs("span",{className:"text-sm text-gray-500",children:[f.jsx("i",{className:"fas fa-times mr-1"}),"No active subscription"]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:M.activeSubscription?W(M.activeSubscription.status):W("expired")}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:[f.jsx("i",{className:"fas fa-hashtag mr-1"}),M.totalOrders]}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-emerald-600",children:[f.jsx("i",{className:"fas fa-rupee-sign mr-1"}),M.totalSpent]}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:f.jsxs("button",{onClick:()=>M.orders.length>0&&U(M.orders[0]),className:"text-emerald-600 hover:text-emerald-800 px-3 py-1 rounded-lg bg-emerald-50 hover:bg-emerald-100 transition-colors",children:[f.jsx("i",{className:"fas fa-eye mr-1"}),"View"]})})]},M.user.id))})]})})]}),t==="orders"&&f.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-emerald-100 overflow-hidden",children:[f.jsx("div",{className:"px-6 py-5 bg-gradient-to-r from-emerald-50 to-green-50 border-b border-emerald-100",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Order Management"}),f.jsx("p",{className:"text-emerald-700",children:"Track and manage all delivery orders"})]}),f.jsx("div",{className:"text-2xl text-emerald-600",children:f.jsx("i",{className:"fas fa-boxes"})})]})}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Order ID"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"User"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Amount"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Date"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(M=>f.jsxs("tr",{className:"hover:bg-emerald-50/50 transition-colors",children:[f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono font-semibold text-emerald-600",children:[f.jsx("i",{className:"fas fa-hashtag mr-1"}),"#",M.id.slice(-8)]}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:n.find(G=>G.user.id===M.userId)?.user.name||"Unknown User"}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-emerald-600",children:[f.jsx("i",{className:"fas fa-rupee-sign mr-1"}),M.amount]}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:M.createdAt.toLocaleDateString()}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:W(M.deliveryStatus||"pending")}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:f.jsxs("button",{onClick:()=>U(M),className:"text-emerald-600 hover:text-emerald-800 px-3 py-1 rounded-lg bg-emerald-50 hover:bg-emerald-100 transition-colors",children:[f.jsx("i",{className:"fas fa-eye mr-1"}),"View"]})})]},M.id))})]})})]}),t==="attendance"&&f.jsx("div",{className:"space-y-6",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-emerald-100 overflow-hidden",children:[f.jsx("div",{className:"px-6 py-5 bg-gradient-to-r from-emerald-50 to-green-50 border-b border-emerald-100",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Daily Attendance"}),f.jsx("p",{className:"text-emerald-700",children:"Track delivery performance and attendance"})]}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("input",{type:"date",value:I,onChange:M=>z(M.target.value),className:"border border-emerald-200 rounded-xl px-4 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent"}),f.jsx("div",{className:"text-2xl text-emerald-600",children:f.jsx("i",{className:"fas fa-calendar-check"})})]})]})}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[f.jsxs("div",{className:"bg-gradient-to-br from-emerald-500 to-green-500 p-6 rounded-2xl text-white shadow-lg",children:[f.jsx("div",{className:"text-3xl font-bold",children:A.totalOrders||0}),f.jsx("div",{className:"text-emerald-100",children:"Total Orders"}),f.jsxs("div",{className:"text-xs text-emerald-200 mt-2",children:[f.jsx("i",{className:"fas fa-info-circle mr-1"}),"All scheduled deliveries"]})]}),f.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 p-6 rounded-2xl text-white shadow-lg",children:[f.jsx("div",{className:"text-3xl font-bold",children:A.delivered||0}),f.jsx("div",{className:"text-emerald-100",children:"Successful Deliveries"}),f.jsxs("div",{className:"text-xs text-emerald-200 mt-2",children:[f.jsx("i",{className:"fas fa-truck mr-1"}),"Completed orders"]})]}),f.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-orange-500 p-6 rounded-2xl text-white shadow-lg",children:[f.jsx("div",{className:"text-3xl font-bold",children:A.notDelivered||0}),f.jsx("div",{className:"text-amber-100",children:"Pending Actions"}),f.jsxs("div",{className:"text-xs text-amber-200 mt-2",children:[f.jsx("i",{className:"fas fa-clock mr-1"}),"Requires attention"]})]})]}),f.jsx("div",{className:"flex justify-end mb-4",children:f.jsx("button",{onClick:O,className:"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-lg",children:"Mark as Today Leave"})}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Order ID"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"User"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.orders?.map(M=>f.jsxs("tr",{className:"hover:bg-emerald-50/50 transition-colors",children:[f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono font-semibold text-emerald-600",children:[f.jsx("i",{className:"fas fa-hashtag mr-1"}),"#",M.id.slice(-8)]}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[f.jsx("i",{className:"fas fa-user mr-1"}),n.find(G=>G.user.id===M.userId)?.user.name||"Unknown User"]}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:W(M.deliveryStatus||"pending")}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:f.jsxs("select",{value:M.deliveryStatus||"pending",onChange:G=>{const H=G.target.value;H==="cancel"?F(M.userId):we(M.id,H)},className:"text-sm border border-emerald-200 rounded-lg px-3 py-1 bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:[f.jsx("option",{value:"pending",children:"Pending"}),f.jsx("option",{value:"delivered",children:"Delivered"}),f.jsx("option",{value:"not_delivered",children:"Not Delivered"}),f.jsx("option",{value:"cancel",children:"Cancel Today"})]})})]},M.id))})]})})]})]})}),t==="analytics"&&f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"bg-gradient-to-br from-emerald-500 to-green-500 p-6 rounded-2xl text-white shadow-lg",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-semibold text-emerald-100",children:[f.jsx("i",{className:"fas fa-users mr-2"}),"Total Users"]}),f.jsx("div",{className:"text-3xl font-bold mt-2",children:n.length})]}),f.jsx("div",{className:"text-3xl",children:f.jsx("i",{className:"fas fa-user-friends"})})]}),f.jsxs("div",{className:"text-emerald-200 text-sm mt-4",children:[f.jsx("i",{className:"fas fa-chart-line mr-1"}),"Active subscribers"]})]}),f.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 p-6 rounded-2xl text-white shadow-lg",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-semibold text-emerald-100",children:[f.jsx("i",{className:"fas fa-shopping-cart mr-2"}),"Total Orders"]}),f.jsx("div",{className:"text-3xl font-bold mt-2",children:a.length})]}),f.jsx("div",{className:"text-3xl",children:f.jsx("i",{className:"fas fa-boxes"})})]}),f.jsxs("div",{className:"text-emerald-200 text-sm mt-4",children:[f.jsx("i",{className:"fas fa-truck mr-1"}),"All-time deliveries"]})]}),f.jsxs("div",{className:"bg-gradient-to-br from-emerald-600 to-green-700 p-6 rounded-2xl text-white shadow-lg",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-semibold text-emerald-100",children:[f.jsx("i",{className:"fas fa-rupee-sign mr-2"}),"Total Revenue"]}),f.jsxs("div",{className:"text-3xl font-bold mt-2",children:["₹",a.reduce((M,G)=>M+(G.amount||0),0)]})]}),f.jsx("div",{className:"text-3xl",children:f.jsx("i",{className:"fas fa-money-bill-wave"})})]}),f.jsxs("div",{className:"text-emerald-200 text-sm mt-4",children:[f.jsx("i",{className:"fas fa-trending-up mr-1"}),"Lifetime earnings"]})]})]})]})]})]}),x&&g&&f.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"px-6 py-4 bg-gradient-to-r from-emerald-600 to-green-600 text-white rounded-t-2xl flex justify-between items-center",children:[f.jsx("h3",{className:"text-xl font-bold",children:"Order Details"}),f.jsx("button",{onClick:()=>T(!1),className:"text-white hover:text-emerald-200 transition-colors",children:f.jsx("i",{className:"fas fa-times"})})]}),f.jsx("div",{className:"p-6",children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-gray-900 mb-4 text-lg",children:"Order Information"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[f.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Order ID:"}),f.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:g.id})]}),f.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[f.jsx("span",{className:"text-sm font-medium text-gray-700",children:"User:"}),f.jsxs("span",{className:"text-sm font-semibold text-emerald-600",children:[g.shipping?.firstName," ",g.shipping?.lastName]})]}),f.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[f.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Date:"}),f.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:new Date(g.createdAt).toLocaleDateString()})]}),f.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[f.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Amount:"}),f.jsxs("span",{className:"text-sm font-semibold text-emerald-600",children:["₹",g.amount]})]}),f.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[f.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Status:"}),f.jsx("span",{children:W(g.deliveryStatus)})]})]}),f.jsx("h4",{className:"font-semibold text-gray-900 mb-4 mt-6 text-lg",children:"Delivery Address"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{className:"font-medium",children:g.shipping?.address}),f.jsxs("p",{className:"text-gray-600",children:[g.shipping?.city,", ",g.shipping?.state]}),f.jsxs("p",{className:"text-gray-600",children:[g.shipping?.pincode,", ",g.shipping?.country]}),f.jsxs("p",{className:"text-gray-600",children:["Email: ",g.shipping?.email]}),f.jsxs("p",{className:"text-gray-600",children:["Phone: ",g.shipping?.phone]})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-gray-900 mb-4 text-lg",children:"Delivery Location"}),g.shipping?.location?f.jsxs(RA,{center:[g.shipping.location.lat,g.shipping.location.lng],zoom:13,scrollWheelZoom:!1,className:"w-full h-64 rounded-xl",children:[f.jsx(IA,{attribution:'© <a href="https://www.google.com/maps">Google</a>',url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",subdomains:["mt0","mt1","mt2","mt3"]}),f.jsx(PA,{position:[g.shipping.location.lat,g.shipping.location.lng],icon:sB,children:f.jsx(jA,{children:"Delivery Location"})})]}):f.jsx("p",{className:"text-gray-500",children:"Location not available"}),f.jsx("h4",{className:"font-semibold text-gray-900 mb-4 mt-6 text-lg",children:"Items"}),f.jsx("div",{className:"space-y-3",children:g.items?.map((M,G)=>f.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-emerald-50 to-green-50 rounded-xl border border-emerald-100",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("img",{src:M.image,alt:M.name,className:"w-12 h-12 object-cover rounded-lg"}),f.jsxs("div",{className:"ml-4",children:[f.jsx("p",{className:"font-medium text-gray-900",children:M.name}),f.jsxs("p",{className:"text-sm text-emerald-600",children:["Quantity: ",M.quantity]})]})]}),f.jsxs("p",{className:"font-semibold text-emerald-600",children:["₹",M.price*M.quantity]})]},G))})]})]})})]})})]})},aB=()=>{const[t,e]=V.useState("introduction"),n=[{id:"introduction",title:"Introduction"},{id:"accounts",title:"User Accounts"},{id:"subscriptions",title:"Subscriptions"},{id:"payments",title:"Payments"},{id:"delivery",title:"Delivery Policy"},{id:"cancellations",title:"Cancellations & Refunds"}];return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-8",children:f.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsxs(et,{to:"/",className:"inline-flex items-center text-green-600 hover:text-green-700 mb-6",children:[f.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Home"]}),f.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Terms & Conditions"}),f.jsxs("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:["Last updated: ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[f.jsx("div",{className:"lg:col-span-1",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg sticky top-8 p-6",children:[f.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Table of Contents"}),f.jsxs("nav",{className:"space-y-2",children:[n.map(i=>f.jsx("button",{onClick:()=>e(i.id),className:`block w-full text-left px-3 py-2 rounded-lg transition-colors ${t===i.id?"bg-green-50 text-green-700 font-medium":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:i.title},i.id)),f.jsxs("div",{className:"mt-6 p-4 bg-green-50 rounded-lg",children:[f.jsx("h4",{className:"font-semibold text-green-900 text-sm mb-2",children:"Questions?"}),f.jsxs("p",{className:"text-green-700 text-xs",children:["Contact our privacy team at"," ",f.jsx("p",{className:"font-medium text-lg",children:"Hariharan"}),f.jsx("a",{href:"mailto:fruitbunch.tvm@gmail.com",className:"underline",children:"fruitbunch.tvm@gmail.com"}),f.jsx("br",{}),"or call us at"," ",f.jsx("a",{href:"tel:+918807239379",className:"underline",children:"+91 88072 39379"})]})]})]})]})}),f.jsxs("div",{className:"lg:col-span-3",children:[f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[t==="introduction"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"1. Introduction"}),f.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[f.jsxs("p",{children:["Welcome to ",f.jsx("strong",{children:"FreshDaily"}),' ("we," "our," or "us"). These Terms and Conditions govern your use of our subscription-based daily delivery service. By accessing or using our services, you agree to be bound by these terms.']}),f.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 my-6",children:[f.jsx("p",{className:"text-blue-800 font-medium",children:"Important:"}),f.jsx("p",{className:"text-blue-700 text-sm mt-1",children:"Please read these terms carefully before using our services. If you disagree with any part of these terms, you may not access our services."})]}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-6",children:"1.1 Definitions"}),f.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Service:"})," Our daily delivery subscription service"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"User:"})," Any individual or entity using our services"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Subscription:"})," A recurring service plan with specified duration"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Content:"})," All materials provided through our service"]})]})]})]}),t==="accounts"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"2. User Accounts"}),f.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2.1 Account Registration"}),f.jsx("p",{children:"To use our services, you must register for an account by providing accurate and complete information. You are responsible for maintaining the confidentiality of your account credentials."}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2.2 Account Security"}),f.jsx("p",{children:"You must notify us immediately of any unauthorized use of your account. We reserve the right to suspend or terminate accounts that violate these terms."}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2.3 Age Requirement"}),f.jsx("p",{children:"You must be at least 18 years old to use our services. By registering, you represent that you meet this age requirement."})]})]}),t==="subscriptions"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"3. Subscriptions"}),f.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"3.1 Subscription Plans"}),f.jsx("p",{children:"We offer various subscription plans with different durations and features. All subscriptions automatically renew unless canceled before the renewal date."}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"3.2 Subscription Period"}),f.jsx("p",{children:"Each subscription period is 26 days. The service will automatically renew for subsequent 26-day periods unless canceled."}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"3.3 Cancellation Policy"}),f.jsx("p",{children:"You may cancel your subscription at any time. Cancellations will take effect at the end of the current billing period."}),f.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-4 my-6",children:[f.jsx("p",{className:"text-yellow-800 font-medium",children:"Note:"}),f.jsx("p",{className:"text-yellow-700 text-sm mt-1",children:"Canceling your subscription does not entitle you to a refund for the current period."})]})]})]}),t==="payments"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"4. Payments"}),f.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"4.1 Payment Methods"}),f.jsx("p",{children:"We accept various payment methods including credit/debit cards, UPI, and other electronic payment systems. All payments are processed through secure third-party payment gateways."}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"4.2 Billing Cycle"}),f.jsx("p",{children:"Payments are charged at the beginning of each subscription period. You will receive a notification before each renewal."}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"4.3 Price Changes"}),f.jsx("p",{children:"We reserve the right to change subscription prices. Existing subscribers will be notified 30 days in advance of any price changes."})]})]}),t==="delivery"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"5. Delivery Policy"}),f.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"5.1 Delivery Areas"}),f.jsx("p",{children:"We currently deliver to specified areas within our service coverage. Delivery availability may vary based on your location."}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"5.2 Delivery Times"}),f.jsx("p",{children:"Deliveries are made daily within specified time windows. While we strive for punctuality, delivery times may vary due to unforeseen circumstances."}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"5.3 Delivery Issues"}),f.jsx("p",{children:"If you encounter any delivery issues, please contact our support team within 24 hours of the scheduled delivery time."})]})]}),t==="cancellations"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"6. Cancellations & Refunds"}),f.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"6.1 Subscription Cancellation"}),f.jsx("p",{children:"You may cancel your subscription at any time through your account dashboard. The cancellation will take effect at the end of your current billing period."}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"6.2 Refund Policy"}),f.jsx("p",{children:"We offer refunds only under specific circumstances:"}),f.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[f.jsx("li",{children:"Service interruption for more than 3 consecutive days"}),f.jsx("li",{children:"Technical issues preventing service access"}),f.jsx("li",{children:"Duplicate payments"})]}),f.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 my-6",children:[f.jsx("p",{className:"text-red-800 font-medium",children:"No Refunds For:"}),f.jsxs("ul",{className:"text-red-700 text-sm mt-1 list-disc list-inside ml-4",children:[f.jsx("li",{children:"Change of mind after subscription"}),f.jsx("li",{children:"Non-usage of service during active period"}),f.jsx("li",{children:"Partial month usage"})]})]})]})]}),f.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:f.jsxs("div",{className:"flex justify-between",children:[f.jsxs("button",{onClick:()=>{const i=n.findIndex(a=>a.id===t);i>0&&e(n[i-1].id)},className:"flex items-center text-green-600 hover:text-green-700",children:[f.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous Section"]}),f.jsxs("button",{onClick:()=>{const i=n.findIndex(a=>a.id===t);i<n.length-1&&e(n[i+1].id)},className:"flex items-center text-green-600 hover:text-green-700",children:["Next Section",f.jsx("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})})]}),f.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mt-6",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Acceptance of Terms"}),f.jsx("p",{className:"text-gray-600 mb-4",children:"By using our services, you acknowledge that you have read, understood, and agree to be bound by these Terms and Conditions."}),f.jsx("div",{className:"flex justify-center space-x-4",children:f.jsx(et,{to:"/privacypolicy",className:"bg-gray-200 hover:bg-gray-300 text-gray-800 px-6 py-2 rounded-lg transition",children:"Privacy Policy"})})]})})]})]})]})})},oB=()=>{const[t,e]=V.useState("overview"),n=[{id:"overview",title:"Overview"},{id:"information",title:"Information We Collect"},{id:"usage",title:"How We Use Information"},{id:"sharing",title:"Information Sharing"},{id:"cookies",title:"Cookies & Tracking"}];return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 py-8",children:f.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsxs(et,{to:"/",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-6",children:[f.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Home"]}),f.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Privacy Policy"}),f.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"We are committed to protecting your privacy and ensuring transparency about how we handle your personal information."}),f.jsxs("div",{className:"mt-4 text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[f.jsx("div",{className:"lg:col-span-1",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg sticky top-8 p-6",children:[f.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Quick Navigation"}),f.jsx("nav",{className:"space-y-2",children:n.map(i=>f.jsx("button",{onClick:()=>e(i.id),className:`block w-full text-left px-3 py-2 rounded-lg transition-colors ${t===i.id?"bg-blue-50 text-blue-700 font-medium":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:i.title},i.id))}),f.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[f.jsx("h4",{className:"font-semibold text-blue-900 text-sm mb-2",children:"Questions?"}),f.jsxs("p",{className:"text-blue-700 text-xs",children:["Contact our privacy team at"," ",f.jsx("p",{className:"font-medium text-lg",children:"Hariharan"}),f.jsx("a",{href:"mailto:fruitbunch.tvm@gmail.com",className:"underline",children:"fruitbunch.tvm@gmail.com"}),f.jsx("br",{}),"or call us at"," ",f.jsx("a",{href:"tel:+918807239379",className:"underline",children:"+91 88072 39379"})]})]})]})}),f.jsxs("div",{className:"lg:col-span-3",children:[f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[t==="overview"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"1. Overview"}),f.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[f.jsxs("p",{children:["At ",f.jsx("strong",{children:"FreshDaily"}),", we are committed to protecting your privacy and ensuring the security of your personal information. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our services."]}),f.jsxs("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 my-6",children:[f.jsx("p",{className:"text-green-800 font-medium",children:"Our Commitment:"}),f.jsxs("ul",{className:"text-green-700 text-sm mt-1 list-disc list-inside ml-4",children:[f.jsx("li",{children:"We never sell your personal information"}),f.jsx("li",{children:"We minimize data collection to what's necessary"}),f.jsx("li",{children:"We implement robust security measures"}),f.jsx("li",{children:"We are transparent about our practices"})]})]}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-6",children:"1.1 Scope"}),f.jsx("p",{children:'This policy applies to all information collected through our website, mobile applications, and services (collectively, the "Services").'})]})]}),t==="information"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"2. Information We Collect"}),f.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2.1 Personal Information"}),f.jsx("p",{children:"We collect information that identifies you as an individual:"}),f.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Contact Information:"})," Name, email address, phone number"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Account Information:"})," Username, password, profile details"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Payment Information:"})," Billing address, payment method details"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Delivery Information:"})," Shipping address, location data"]})]}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2.2 Usage Information"}),f.jsx("p",{children:"We automatically collect information about your interaction with our Services:"}),f.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[f.jsx("li",{children:"IP address and device information"}),f.jsx("li",{children:"Browser type and version"}),f.jsx("li",{children:"Pages visited and time spent"}),f.jsx("li",{children:"Subscription usage patterns"})]}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2.3 Location Information"}),f.jsx("p",{children:"With your permission, we collect precise location data to provide delivery services and improve user experience."})]})]}),t==="usage"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"3. How We Use Your Information"}),f.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-6",children:[f.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[f.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Service Provision"}),f.jsxs("ul",{className:"text-blue-700 text-sm space-y-1 list-disc list-inside ml-2",children:[f.jsx("li",{children:"Process subscriptions and payments"}),f.jsx("li",{children:"Schedule and manage deliveries"}),f.jsx("li",{children:"Provide customer support"}),f.jsx("li",{children:"Send service notifications"})]})]}),f.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[f.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"Service Improvement"}),f.jsxs("ul",{className:"text-green-700 text-sm space-y-1 list-disc list-inside ml-2",children:[f.jsx("li",{children:"Analyze usage patterns"}),f.jsx("li",{children:"Improve service quality"}),f.jsx("li",{children:"Develop new features"}),f.jsx("li",{children:"Personalize user experience"})]})]})]}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"3.1 Legal Bases for Processing"}),f.jsx("p",{children:"We process your information based on:"}),f.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Contractual necessity:"})," To provide the services you requested"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Legal compliance:"})," To meet regulatory requirements"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Legitimate interests:"})," To improve our services"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Consent:"})," For specific purposes where required"]})]})]})]}),t==="sharing"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"4. Information Sharing & Disclosure"}),f.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-6",children:[f.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-4",children:f.jsx("p",{className:"text-yellow-800 font-medium",children:"We do not sell your personal information to third parties."})}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"4.1 Service Providers"}),f.jsx("p",{children:"We share information with trusted service providers who assist in our operations:"}),f.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[f.jsx("li",{children:"Payment processors (Razorpay, Stripe)"}),f.jsx("li",{children:"Delivery and logistics partners"}),f.jsx("li",{children:"Cloud storage providers (Firebase)"}),f.jsx("li",{children:"Customer support platforms"})]}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"4.2 Legal Requirements"}),f.jsx("p",{children:"We may disclose information when required by law or to:"}),f.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[f.jsx("li",{children:"Comply with legal processes"}),f.jsx("li",{children:"Protect our rights and property"}),f.jsx("li",{children:"Prevent fraud or security issues"}),f.jsx("li",{children:"Protect the safety of our users"})]})]})]}),t==="cookies"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"5. Cookies & Tracking Technologies"}),f.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"5.1 Types of Cookies We Use"}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Purpose"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Duration"})]})}),f.jsxs("tbody",{className:"divide-y divide-gray-200",children:[f.jsxs("tr",{children:[f.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:"Essential"}),f.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:"Basic website functionality"}),f.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:"Session"})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:"Analytics"}),f.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:"Service improvement"}),f.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:"2 years"})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:"Preferences"}),f.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:"Remember your settings"}),f.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:"1 year"})]})]})]})}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"5.2 Managing Cookies"}),f.jsx("p",{children:"You can control cookie settings through your browser. However, disabling essential cookies may affect service functionality."})]})]}),t==="rights"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"7. Your Privacy Rights"}),f.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-6",children:[f.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[f.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Access & Portability"}),f.jsx("p",{className:"text-sm text-gray-600",children:"Request a copy of your personal data in a machine-readable format"})]}),f.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[f.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Correction"}),f.jsx("p",{className:"text-sm text-gray-600",children:"Update or correct inaccurate personal information"})]}),f.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[f.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Deletion"}),f.jsx("p",{className:"text-sm text-gray-600",children:"Request deletion of your personal data under certain conditions"})]}),f.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[f.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Objection"}),f.jsx("p",{className:"text-sm text-gray-600",children:"Object to processing of your personal data for specific purposes"})]})]}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"7.1 Exercising Your Rights"}),f.jsxs("p",{children:["To exercise any of these rights, please contact us at"," ",f.jsx("a",{href:"mailto:privacy@freshdaily.com",className:"text-blue-600 underline",children:"privacy@freshdaily.com"}),". We will respond to your request within 30 days."]})]})]}),f.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:f.jsxs("div",{className:"flex justify-between",children:[f.jsxs("button",{onClick:()=>{const i=n.findIndex(a=>a.id===t);i>0&&e(n[i-1].id)},className:"flex items-center text-blue-600 hover:text-blue-700",children:[f.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous Section"]}),f.jsxs("button",{onClick:()=>{const i=n.findIndex(a=>a.id===t);i<n.length-1&&e(n[i+1].id)},className:"flex items-center text-blue-600 hover:text-blue-700",children:["Next Section",f.jsx("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})})]}),f.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mt-6",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Contact Our Privacy Team"}),f.jsx("p",{className:"text-gray-600 mb-4",children:"If you have any questions about this Privacy Policy or our data practices, please contact us."}),f.jsxs("div",{className:"flex justify-center space-x-4",children:[f.jsx("a",{href:"mailto:fruitbunch.tvm@gmail.com",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition",children:"Email Privacy Team"}),f.jsx(et,{to:"/termsandconditions",className:"bg-gray-200 hover:bg-gray-300 text-gray-800 px-6 py-2 rounded-lg transition",children:"View Terms"})]})]})})]})]})]})})},lB=()=>{const{pathname:t}=As();return V.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[t]),null};function cB(){return f.jsxs("div",{className:"min-h-screen flex flex-col",children:[f.jsx(lB,{}),f.jsx(Qk,{}),f.jsx("main",{className:"flex-grow",children:f.jsx(KP,{})}),f.jsx(Xk,{}),f.jsx(xV,{})]})}function uB(){return f.jsx($k,{children:f.jsx(_j,{children:f.jsxs(YP,{children:[f.jsxs(On,{element:f.jsx(cB,{}),children:[f.jsx(On,{path:"/",element:f.jsx(s3,{})}),f.jsx(On,{path:"/subscription",element:f.jsx(f3,{})}),f.jsx(On,{path:"/corporate",element:f.jsx(_3,{})}),f.jsx(On,{path:"/about",element:f.jsx(w3,{})}),f.jsx(On,{path:"/cart",element:f.jsx(S3,{})}),f.jsx(On,{path:"/profile",element:f.jsx(wV,{})}),f.jsx(On,{path:"/orderconfirmation",element:f.jsx(iB,{})}),f.jsx(On,{path:"/checkout",element:f.jsx(Gk,{children:f.jsx(_V,{})})}),f.jsx(On,{path:"/termsandconditions",element:f.jsx(aB,{})}),f.jsx(On,{path:"/privacypolicy",element:f.jsx(oB,{})})]}),f.jsx(On,{path:"/login",element:f.jsx(T3,{})}),f.jsx(On,{path:"/signup",element:f.jsx(E3,{})}),f.jsx(On,{path:"/forgot-password",element:f.jsx(bV,{})}),f.jsx(On,{path:"/admin",element:f.jsx(Zk,{children:f.jsx(rB,{})})}),f.jsx(On,{path:"*",element:f.jsx(I0,{to:"/",replace:!0})})]})})})}iP.createRoot(document.getElementById("root")).render(f.jsx(V.StrictMode,{children:f.jsx(uB,{})}));
