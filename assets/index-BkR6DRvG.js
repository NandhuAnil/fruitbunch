(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();function NE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Vg={exports:{}},lh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sw;function QR(){if(sw)return lh;sw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,c){var u=null;if(c!==void 0&&(u=""+c),a.key!==void 0&&(u=""+a.key),"key"in a){c={};for(var p in a)p!=="key"&&(c[p]=a[p])}else c=a;return a=c.ref,{$$typeof:t,type:i,key:u,ref:a!==void 0?a:null,props:c}}return lh.Fragment=e,lh.jsx=n,lh.jsxs=n,lh}var rw;function JR(){return rw||(rw=1,Vg.exports=QR()),Vg.exports}var f=JR(),Ug={exports:{}},Je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aw;function eP(){if(aw)return Je;aw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),T=Symbol.iterator;function A(F){return F===null||typeof F!="object"?null:(F=T&&F[T]||F["@@iterator"],typeof F=="function"?F:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,z={};function V(F,ce,xe){this.props=F,this.context=ce,this.refs=z,this.updater=xe||j}V.prototype.isReactComponent={},V.prototype.setState=function(F,ce){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ce,"setState")},V.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function $(){}$.prototype=V.prototype;function Y(F,ce,xe){this.props=F,this.context=ce,this.refs=z,this.updater=xe||j}var X=Y.prototype=new $;X.constructor=Y,I(X,V.prototype),X.isPureReactComponent=!0;var ve=Array.isArray,he={H:null,A:null,T:null,S:null,V:null},we=Object.prototype.hasOwnProperty;function B(F,ce,xe,be,Se,Re){return xe=Re.ref,{$$typeof:t,type:F,key:ce,ref:xe!==void 0?xe:null,props:Re}}function O(F,ce){return B(F.type,ce,void 0,void 0,void 0,F.props)}function U(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function W(F){var ce={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(xe){return ce[xe]})}var M=/\/+/g;function G(F,ce){return typeof F=="object"&&F!==null&&F.key!=null?W(""+F.key):ce.toString(36)}function H(){}function Ue(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(H,H):(F.status="pending",F.then(function(ce){F.status==="pending"&&(F.status="fulfilled",F.value=ce)},function(ce){F.status==="pending"&&(F.status="rejected",F.reason=ce)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function je(F,ce,xe,be,Se){var Re=typeof F;(Re==="undefined"||Re==="boolean")&&(F=null);var Ee=!1;if(F===null)Ee=!0;else switch(Re){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(F.$$typeof){case t:case e:Ee=!0;break;case x:return Ee=F._init,je(Ee(F._payload),ce,xe,be,Se)}}if(Ee)return Se=Se(F),Ee=be===""?"."+G(F,0):be,ve(Se)?(xe="",Ee!=null&&(xe=Ee.replace(M,"$&/")+"/"),je(Se,ce,xe,"",function(mi){return mi})):Se!=null&&(U(Se)&&(Se=O(Se,xe+(Se.key==null||F&&F.key===Se.key?"":(""+Se.key).replace(M,"$&/")+"/")+Ee)),ce.push(Se)),1;Ee=0;var At=be===""?".":be+":";if(ve(F))for(var st=0;st<F.length;st++)be=F[st],Re=At+G(be,st),Ee+=je(be,ce,xe,Re,Se);else if(st=A(F),typeof st=="function")for(F=st.call(F),st=0;!(be=F.next()).done;)be=be.value,Re=At+G(be,st++),Ee+=je(be,ce,xe,Re,Se);else if(Re==="object"){if(typeof F.then=="function")return je(Ue(F),ce,xe,be,Se);throw ce=String(F),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function J(F,ce,xe){if(F==null)return F;var be=[],Se=0;return je(F,be,"","",function(Re){return ce.call(xe,Re,Se++)}),be}function de(F){if(F._status===-1){var ce=F._result;ce=ce(),ce.then(function(xe){(F._status===0||F._status===-1)&&(F._status=1,F._result=xe)},function(xe){(F._status===0||F._status===-1)&&(F._status=2,F._result=xe)}),F._status===-1&&(F._status=0,F._result=ce)}if(F._status===1)return F._result.default;throw F._result}var le=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function Me(){}return Je.Children={map:J,forEach:function(F,ce,xe){J(F,function(){ce.apply(this,arguments)},xe)},count:function(F){var ce=0;return J(F,function(){ce++}),ce},toArray:function(F){return J(F,function(ce){return ce})||[]},only:function(F){if(!U(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Je.Component=V,Je.Fragment=n,Je.Profiler=a,Je.PureComponent=Y,Je.StrictMode=i,Je.Suspense=y,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,Je.__COMPILER_RUNTIME={__proto__:null,c:function(F){return he.H.useMemoCache(F)}},Je.cache=function(F){return function(){return F.apply(null,arguments)}},Je.cloneElement=function(F,ce,xe){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var be=I({},F.props),Se=F.key,Re=void 0;if(ce!=null)for(Ee in ce.ref!==void 0&&(Re=void 0),ce.key!==void 0&&(Se=""+ce.key),ce)!we.call(ce,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&ce.ref===void 0||(be[Ee]=ce[Ee]);var Ee=arguments.length-2;if(Ee===1)be.children=xe;else if(1<Ee){for(var At=Array(Ee),st=0;st<Ee;st++)At[st]=arguments[st+2];be.children=At}return B(F.type,Se,void 0,void 0,Re,be)},Je.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:c,_context:F},F},Je.createElement=function(F,ce,xe){var be,Se={},Re=null;if(ce!=null)for(be in ce.key!==void 0&&(Re=""+ce.key),ce)we.call(ce,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(Se[be]=ce[be]);var Ee=arguments.length-2;if(Ee===1)Se.children=xe;else if(1<Ee){for(var At=Array(Ee),st=0;st<Ee;st++)At[st]=arguments[st+2];Se.children=At}if(F&&F.defaultProps)for(be in Ee=F.defaultProps,Ee)Se[be]===void 0&&(Se[be]=Ee[be]);return B(F,Re,void 0,void 0,null,Se)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(F){return{$$typeof:p,render:F}},Je.isValidElement=U,Je.lazy=function(F){return{$$typeof:x,_payload:{_status:-1,_result:F},_init:de}},Je.memo=function(F,ce){return{$$typeof:_,type:F,compare:ce===void 0?null:ce}},Je.startTransition=function(F){var ce=he.T,xe={};he.T=xe;try{var be=F(),Se=he.S;Se!==null&&Se(xe,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(Me,le)}catch(Re){le(Re)}finally{he.T=ce}},Je.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},Je.use=function(F){return he.H.use(F)},Je.useActionState=function(F,ce,xe){return he.H.useActionState(F,ce,xe)},Je.useCallback=function(F,ce){return he.H.useCallback(F,ce)},Je.useContext=function(F){return he.H.useContext(F)},Je.useDebugValue=function(){},Je.useDeferredValue=function(F,ce){return he.H.useDeferredValue(F,ce)},Je.useEffect=function(F,ce,xe){var be=he.H;if(typeof xe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return be.useEffect(F,ce)},Je.useId=function(){return he.H.useId()},Je.useImperativeHandle=function(F,ce,xe){return he.H.useImperativeHandle(F,ce,xe)},Je.useInsertionEffect=function(F,ce){return he.H.useInsertionEffect(F,ce)},Je.useLayoutEffect=function(F,ce){return he.H.useLayoutEffect(F,ce)},Je.useMemo=function(F,ce){return he.H.useMemo(F,ce)},Je.useOptimistic=function(F,ce){return he.H.useOptimistic(F,ce)},Je.useReducer=function(F,ce,xe){return he.H.useReducer(F,ce,xe)},Je.useRef=function(F){return he.H.useRef(F)},Je.useState=function(F){return he.H.useState(F)},Je.useSyncExternalStore=function(F,ce,xe){return he.H.useSyncExternalStore(F,ce,xe)},Je.useTransition=function(){return he.H.useTransition()},Je.version="19.1.1",Je}var ow;function N0(){return ow||(ow=1,Ug.exports=eP()),Ug.exports}var k=N0();const Ty=NE(k);var Bg={exports:{}},ch={},zg={exports:{}},Fg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lw;function tP(){return lw||(lw=1,(function(t){function e(J,de){var le=J.length;J.push(de);e:for(;0<le;){var Me=le-1>>>1,F=J[Me];if(0<a(F,de))J[Me]=de,J[le]=F,le=Me;else break e}}function n(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var de=J[0],le=J.pop();if(le!==de){J[0]=le;e:for(var Me=0,F=J.length,ce=F>>>1;Me<ce;){var xe=2*(Me+1)-1,be=J[xe],Se=xe+1,Re=J[Se];if(0>a(be,le))Se<F&&0>a(Re,be)?(J[Me]=Re,J[Se]=le,Me=Se):(J[Me]=be,J[xe]=le,Me=xe);else if(Se<F&&0>a(Re,le))J[Me]=Re,J[Se]=le,Me=Se;else break e}}return de}function a(J,de){var le=J.sortIndex-de.sortIndex;return le!==0?le:J.id-de.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,p=u.now();t.unstable_now=function(){return u.now()-p}}var y=[],_=[],x=1,T=null,A=3,j=!1,I=!1,z=!1,V=!1,$=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function ve(J){for(var de=n(_);de!==null;){if(de.callback===null)i(_);else if(de.startTime<=J)i(_),de.sortIndex=de.expirationTime,e(y,de);else break;de=n(_)}}function he(J){if(z=!1,ve(J),!I)if(n(y)!==null)I=!0,we||(we=!0,G());else{var de=n(_);de!==null&&je(he,de.startTime-J)}}var we=!1,B=-1,O=5,U=-1;function W(){return V?!0:!(t.unstable_now()-U<O)}function M(){if(V=!1,we){var J=t.unstable_now();U=J;var de=!0;try{e:{I=!1,z&&(z=!1,Y(B),B=-1),j=!0;var le=A;try{t:{for(ve(J),T=n(y);T!==null&&!(T.expirationTime>J&&W());){var Me=T.callback;if(typeof Me=="function"){T.callback=null,A=T.priorityLevel;var F=Me(T.expirationTime<=J);if(J=t.unstable_now(),typeof F=="function"){T.callback=F,ve(J),de=!0;break t}T===n(y)&&i(y),ve(J)}else i(y);T=n(y)}if(T!==null)de=!0;else{var ce=n(_);ce!==null&&je(he,ce.startTime-J),de=!1}}break e}finally{T=null,A=le,j=!1}de=void 0}}finally{de?G():we=!1}}}var G;if(typeof X=="function")G=function(){X(M)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Ue=H.port2;H.port1.onmessage=M,G=function(){Ue.postMessage(null)}}else G=function(){$(M,0)};function je(J,de){B=$(function(){J(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_next=function(J){switch(A){case 1:case 2:case 3:var de=3;break;default:de=A}var le=A;A=de;try{return J()}finally{A=le}},t.unstable_requestPaint=function(){V=!0},t.unstable_runWithPriority=function(J,de){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var le=A;A=J;try{return de()}finally{A=le}},t.unstable_scheduleCallback=function(J,de,le){var Me=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Me+le:Me):le=Me,J){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=le+F,J={id:x++,callback:de,priorityLevel:J,startTime:le,expirationTime:F,sortIndex:-1},le>Me?(J.sortIndex=le,e(_,J),n(y)===null&&J===n(_)&&(z?(Y(B),B=-1):z=!0,je(he,le-Me))):(J.sortIndex=F,e(y,J),I||j||(I=!0,we||(we=!0,G()))),J},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(J){var de=A;return function(){var le=A;A=de;try{return J.apply(this,arguments)}finally{A=le}}}})(Fg)),Fg}var cw;function nP(){return cw||(cw=1,zg.exports=tP()),zg.exports}var Hg={exports:{}},qn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uw;function iP(){if(uw)return qn;uw=1;var t=N0();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)_+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function c(y,_,x){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:y,containerInfo:_,implementation:x}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,qn.createPortal=function(y,_){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,x)},qn.flushSync=function(y){var _=u.T,x=i.p;try{if(u.T=null,i.p=2,y)return y()}finally{u.T=_,i.p=x,i.d.f()}},qn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,i.d.C(y,_))},qn.prefetchDNS=function(y){typeof y=="string"&&i.d.D(y)},qn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var x=_.as,T=p(x,_.crossOrigin),A=typeof _.integrity=="string"?_.integrity:void 0,j=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;x==="style"?i.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:j}):x==="script"&&i.d.X(y,{crossOrigin:T,integrity:A,fetchPriority:j,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},qn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var x=p(_.as,_.crossOrigin);i.d.M(y,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&i.d.M(y)},qn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var x=_.as,T=p(x,_.crossOrigin);i.d.L(y,x,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},qn.preloadModule=function(y,_){if(typeof y=="string")if(_){var x=p(_.as,_.crossOrigin);i.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else i.d.m(y)},qn.requestFormReset=function(y){i.d.r(y)},qn.unstable_batchedUpdates=function(y,_){return y(_)},qn.useFormState=function(y,_,x){return u.H.useFormState(y,_,x)},qn.useFormStatus=function(){return u.H.useHostTransitionStatus()},qn.version="19.1.1",qn}var hw;function CE(){if(hw)return Hg.exports;hw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Hg.exports=iP(),Hg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dw;function sP(){if(dw)return ch;dw=1;var t=nP(),e=N0(),n=CE();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function c(s){var r=s,l=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(l=r.return),s=r.return;while(s)}return r.tag===3?l:null}function u(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function p(s){if(c(s)!==s)throw Error(i(188))}function y(s){var r=s.alternate;if(!r){if(r=c(s),r===null)throw Error(i(188));return r!==s?null:s}for(var l=s,d=r;;){var v=l.return;if(v===null)break;var b=v.alternate;if(b===null){if(d=v.return,d!==null){l=d;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===l)return p(v),s;if(b===d)return p(v),r;b=b.sibling}throw Error(i(188))}if(l.return!==d.return)l=v,d=b;else{for(var C=!1,P=v.child;P;){if(P===l){C=!0,l=v,d=b;break}if(P===d){C=!0,d=v,l=b;break}P=P.sibling}if(!C){for(P=b.child;P;){if(P===l){C=!0,l=b,d=v;break}if(P===d){C=!0,d=b,l=v;break}P=P.sibling}if(!C)throw Error(i(189))}}if(l.alternate!==d)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:r}function _(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=_(s),r!==null)return r;s=s.sibling}return null}var x=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),X=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function G(s){return s===null||typeof s!="object"?null:(s=M&&s[M]||s["@@iterator"],typeof s=="function"?s:null)}var H=Symbol.for("react.client.reference");function Ue(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===H?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case I:return"Fragment";case V:return"Profiler";case z:return"StrictMode";case he:return"Suspense";case we:return"SuspenseList";case U:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case j:return"Portal";case X:return(s.displayName||"Context")+".Provider";case Y:return(s._context.displayName||"Context")+".Consumer";case ve:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case B:return r=s.displayName||null,r!==null?r:Ue(s.type)||"Memo";case O:r=s._payload,s=s._init;try{return Ue(s(r))}catch{}}return null}var je=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},Me=[],F=-1;function ce(s){return{current:s}}function xe(s){0>F||(s.current=Me[F],Me[F]=null,F--)}function be(s,r){F++,Me[F]=s.current,s.current=r}var Se=ce(null),Re=ce(null),Ee=ce(null),At=ce(null);function st(s,r){switch(be(Ee,r),be(Re,s),be(Se,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?Ib(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=Ib(r),s=Db(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}xe(Se),be(Se,s)}function mi(){xe(Se),xe(Re),xe(Ee)}function Pr(s){s.memoizedState!==null&&be(At,s);var r=Se.current,l=Db(r,s.type);r!==l&&(be(Re,s),be(Se,l))}function Js(s){Re.current===s&&(xe(Se),xe(Re)),At.current===s&&(xe(At),ih._currentValue=le)}var es=Object.prototype.hasOwnProperty,As=t.unstable_scheduleCallback,ba=t.unstable_cancelCallback,kl=t.unstable_shouldYield,wa=t.unstable_requestPaint,_n=t.unstable_now,jr=t.unstable_getCurrentPriorityLevel,Xt=t.unstable_ImmediatePriority,Qt=t.unstable_UserBlockingPriority,Di=t.unstable_NormalPriority,Vl=t.unstable_LowPriority,Ta=t.unstable_IdlePriority,xu=t.log,Ir=t.unstable_setDisableYieldValue,ts=null,hn=null;function Qn(s){if(typeof xu=="function"&&Ir(s),hn&&typeof hn.setStrictMode=="function")try{hn.setStrictMode(ts,s)}catch{}}var In=Math.clz32?Math.clz32:Bl,Ul=Math.log,Bo=Math.LN2;function Bl(s){return s>>>=0,s===0?32:31-(Ul(s)/Bo|0)|0}var Li=256,ns=4194304;function pi(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function gi(s,r,l){var d=s.pendingLanes;if(d===0)return 0;var v=0,b=s.suspendedLanes,C=s.pingedLanes;s=s.warmLanes;var P=d&134217727;return P!==0?(d=P&~b,d!==0?v=pi(d):(C&=P,C!==0?v=pi(C):l||(l=P&~s,l!==0&&(v=pi(l))))):(P=d&~b,P!==0?v=pi(P):C!==0?v=pi(C):l||(l=d&~s,l!==0&&(v=pi(l)))),v===0?0:r!==0&&r!==v&&(r&b)===0&&(b=v&-v,l=r&-r,b>=l||b===32&&(l&4194048)!==0)?r:v}function yi(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Ea(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zo(){var s=Li;return Li<<=1,(Li&4194048)===0&&(Li=256),s}function Ns(){var s=ns;return ns<<=1,(ns&62914560)===0&&(ns=4194304),s}function Dr(s){for(var r=[],l=0;31>l;l++)r.push(s);return r}function Lt(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function zl(s,r,l,d,v,b){var C=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var P=s.entanglements,Z=s.expirationTimes,ie=s.hiddenUpdates;for(l=C&~l;0<l;){var fe=31-In(l),ge=1<<fe;P[fe]=0,Z[fe]=-1;var se=ie[fe];if(se!==null)for(ie[fe]=null,fe=0;fe<se.length;fe++){var ae=se[fe];ae!==null&&(ae.lane&=-536870913)}l&=~ge}d!==0&&er(s,d,0),b!==0&&v===0&&s.tag!==0&&(s.suspendedLanes|=b&~(C&~r))}function er(s,r,l){s.pendingLanes|=r,s.suspendedLanes&=~r;var d=31-In(r);s.entangledLanes|=r,s.entanglements[d]=s.entanglements[d]|1073741824|l&4194090}function tr(s,r){var l=s.entangledLanes|=r;for(s=s.entanglements;l;){var d=31-In(l),v=1<<d;v&r|s[d]&r&&(s[d]|=r),l&=~v}}function Fo(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ho(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Cs(){var s=de.p;return s!==0?s:(s=window.event,s===void 0?32:Qb(s.type))}function qo(s,r){var l=de.p;try{return de.p=s,r()}finally{de.p=l}}var is=Math.random().toString(36).slice(2),Bt="__reactFiber$"+is,dn="__reactProps$"+is,Rs="__reactContainer$"+is,xn="__reactEvents$"+is,De="__reactListeners$"+is,Fl="__reactHandles$"+is,vi="__reactResources$"+is,Ps="__reactMarker$"+is;function Lr(s){delete s[Bt],delete s[dn],delete s[xn],delete s[De],delete s[Fl]}function _i(s){var r=s[Bt];if(r)return r;for(var l=s.parentNode;l;){if(r=l[Rs]||l[Bt]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(s=kb(s);s!==null;){if(l=s[Bt])return l;s=kb(s)}return r}s=l,l=s.parentNode}return null}function Mi(s){if(s=s[Bt]||s[Rs]){var r=s.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return s}return null}function Jn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function js(s){var r=s[vi];return r||(r=s[vi]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function zt(s){s[Ps]=!0}var Hl=new Set,Mr={};function ss(s,r){Oi(s,r),Oi(s+"Capture",r)}function Oi(s,r){for(Mr[s]=r,s=0;s<r.length;s++)Hl.add(r[s])}var Or=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ei={},Sa={};function bu(s){return es.call(Sa,s)?!0:es.call(ei,s)?!1:Or.test(s)?Sa[s]=!0:(ei[s]=!0,!1)}function kr(s,r,l){if(bu(r))if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var d=r.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+l)}}function Vr(s,r,l){if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+l)}}function xi(s,r,l,d){if(d===null)s.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(r,l,""+d)}}var Is,rs;function as(s){if(Is===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);Is=r&&r[1]||"",rs=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Is+s+rs}var Ur=!1;function os(s,r){if(!s||Ur)return"";Ur=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(r){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(ae){var se=ae}Reflect.construct(s,[],ge)}else{try{ge.call()}catch(ae){se=ae}s.call(ge.prototype)}}else{try{throw Error()}catch(ae){se=ae}(ge=s())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(ae){if(ae&&se&&typeof ae.stack=="string")return[ae.stack,se.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),C=b[0],P=b[1];if(C&&P){var Z=C.split(`
`),ie=P.split(`
`);for(v=d=0;d<Z.length&&!Z[d].includes("DetermineComponentFrameRoot");)d++;for(;v<ie.length&&!ie[v].includes("DetermineComponentFrameRoot");)v++;if(d===Z.length||v===ie.length)for(d=Z.length-1,v=ie.length-1;1<=d&&0<=v&&Z[d]!==ie[v];)v--;for(;1<=d&&0<=v;d--,v--)if(Z[d]!==ie[v]){if(d!==1||v!==1)do if(d--,v--,0>v||Z[d]!==ie[v]){var fe=`
`+Z[d].replace(" at new "," at ");return s.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",s.displayName)),fe}while(1<=d&&0<=v);break}}}finally{Ur=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?as(l):""}function ot(s){switch(s.tag){case 26:case 27:case 5:return as(s.type);case 16:return as("Lazy");case 13:return as("Suspense");case 19:return as("SuspenseList");case 0:case 15:return os(s.type,!1);case 11:return os(s.type.render,!1);case 1:return os(s.type,!0);case 31:return as("Activity");default:return""}}function ht(s){try{var r="";do r+=ot(s),s=s.return;while(s);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function wt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ti(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function bi(s){var r=ti(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,r),d=""+s[r];if(!s.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var v=l.get,b=l.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return v.call(this)},set:function(C){d=""+C,b.call(this,C)}}),Object.defineProperty(s,r,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(C){d=""+C},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function ls(s){s._valueTracker||(s._valueTracker=bi(s))}function Ce(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var l=r.getValue(),d="";return s&&(d=ti(s)?s.checked?"true":"false":s.value),s=d,s!==l?(r.setValue(s),!0):!1}function vt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Ds=/[\n"\\]/g;function Ft(s){return s.replace(Ds,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function bn(s,r,l,d,v,b,C,P){s.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.type=C:s.removeAttribute("type"),r!=null?C==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+wt(r)):s.value!==""+wt(r)&&(s.value=""+wt(r)):C!=="submit"&&C!=="reset"||s.removeAttribute("value"),r!=null?nr(s,C,wt(r)):l!=null?nr(s,C,wt(l)):d!=null&&s.removeAttribute("value"),v==null&&b!=null&&(s.defaultChecked=!!b),v!=null&&(s.checked=v&&typeof v!="function"&&typeof v!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?s.name=""+wt(P):s.removeAttribute("name")}function Go(s,r,l,d,v,b,C,P){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.type=b),r!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||r!=null))return;l=l!=null?""+wt(l):"",r=r!=null?""+wt(r):l,P||r===s.value||(s.value=r),s.defaultValue=r}d=d??v,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=P?s.checked:!!d,s.defaultChecked=!!d,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(s.name=C)}function nr(s,r,l){r==="number"&&vt(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Bn(s,r,l,d){if(s=s.options,r){r={};for(var v=0;v<l.length;v++)r["$"+l[v]]=!0;for(l=0;l<s.length;l++)v=r.hasOwnProperty("$"+s[l].value),s[l].selected!==v&&(s[l].selected=v),v&&d&&(s[l].defaultSelected=!0)}else{for(l=""+wt(l),r=null,v=0;v<s.length;v++){if(s[v].value===l){s[v].selected=!0,d&&(s[v].defaultSelected=!0);return}r!==null||s[v].disabled||(r=s[v])}r!==null&&(r.selected=!0)}}function It(s,r,l){if(r!=null&&(r=""+wt(r),r!==s.value&&(s.value=r),l==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=l!=null?""+wt(l):""}function cs(s,r,l,d){if(r==null){if(d!=null){if(l!=null)throw Error(i(92));if(je(d)){if(1<d.length)throw Error(i(93));d=d[0]}l=d}l==null&&(l=""),r=l}l=wt(r),s.defaultValue=l,d=s.textContent,d===l&&d!==""&&d!==null&&(s.value=d)}function wn(s,r){if(r){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=r;return}}s.textContent=r}var ni=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Br(s,r,l){var d=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":d?s.setProperty(r,l):typeof l!="number"||l===0||ni.has(r)?r==="float"?s.cssFloat=l:s[r]=(""+l).trim():s[r]=l+"px"}function Ls(s,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||r!=null&&r.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var v in r)d=r[v],r.hasOwnProperty(v)&&l[v]!==d&&Br(s,v,d)}else for(var b in r)r.hasOwnProperty(b)&&Br(s,b,r[b])}function ir(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Aa=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ii(s){return zr.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Fr=null;function sr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ms=null,fn=null;function ql(s){var r=Mi(s);if(r&&(s=r.stateNode)){var l=s[dn]||null;e:switch(s=r.stateNode,r.type){case"input":if(bn(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ft(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var d=l[r];if(d!==s&&d.form===s.form){var v=d[dn]||null;if(!v)throw Error(i(90));bn(d,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(r=0;r<l.length;r++)d=l[r],d.form===s.form&&Ce(d)}break e;case"textarea":It(s,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&Bn(s,!!l.multiple,r,!1)}}}var ze=!1;function Tn(s,r,l){if(ze)return s(r,l);ze=!0;try{var d=s(r);return d}finally{if(ze=!1,(Ms!==null||fn!==null)&&(ef(),Ms&&(r=Ms,s=fn,fn=Ms=null,ql(r),s)))for(r=0;r<s.length;r++)ql(s[r])}}function dt(s,r){var l=s.stateNode;if(l===null)return null;var d=l[dn]||null;if(d===null)return null;l=d[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ki=!1;if(En)try{var us={};Object.defineProperty(us,"passive",{get:function(){ki=!0}}),window.addEventListener("test",us,us),window.removeEventListener("test",us,us)}catch{ki=!1}var zn=null,ft=null,rr=null;function ar(){if(rr)return rr;var s,r=ft,l=r.length,d,v="value"in zn?zn.value:zn.textContent,b=v.length;for(s=0;s<l&&r[s]===v[s];s++);var C=l-s;for(d=1;d<=C&&r[l-d]===v[b-d];d++);return rr=v.slice(s,1<d?1-d:void 0)}function Dt(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function si(){return!0}function Na(){return!1}function Wt(s){function r(l,d,v,b,C){this._reactName=l,this._targetInst=v,this.type=d,this.nativeEvent=b,this.target=C,this.currentTarget=null;for(var P in s)s.hasOwnProperty(P)&&(l=s[P],this[P]=l?l(b):b[P]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?si:Na,this.isPropagationStopped=Na,this}return x(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),r}var Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},or=Wt(Sn),Os=x({},Sn,{view:0,detail:0}),Hr=Wt(Os),qr,Xe,hs,mn=x({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==hs&&(hs&&s.type==="mousemove"?(qr=s.screenX-hs.screenX,Xe=s.screenY-hs.screenY):Xe=qr=0,hs=s),qr)},movementY:function(s){return"movementY"in s?s.movementY:Xe}}),Vi=Wt(mn),Gl=x({},mn,{dataTransfer:0}),Zl=Wt(Gl),ks=x({},Os,{relatedTarget:0}),Ca=Wt(ks),Zo=x({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0}),Wo=Wt(Zo),Ko=x({},Sn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ra=Wt(Ko),Pa=x({},Sn,{data:0}),Fn=Wt(Pa),Wl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ds={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ui={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $o(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Ui[s])?!!r[s]:!1}function Gr(){return $o}var ja=x({},Os,{key:function(s){if(s.key){var r=Wl[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Dt(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ds[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gr,charCode:function(s){return s.type==="keypress"?Dt(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Dt(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ia=Wt(ja),An=x({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Da=Wt(An),Kl=x({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gr}),lr=Wt(Kl),m=x({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),E=Wt(m),N=x({},mn,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),D=Wt(N),te=x({},Sn,{newState:0,oldState:0}),re=Wt(te),Te=[9,13,27,32],Fe=En&&"CompositionEvent"in window,nt=null;En&&"documentMode"in document&&(nt=document.documentMode);var gt=En&&"TextEvent"in window&&!nt,Mt=En&&(!Fe||nt&&8<nt&&11>=nt),ri=" ",wi=!1;function ai(s,r){switch(s){case"keyup":return Te.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bi(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var zi=!1;function La(s,r){switch(s){case"compositionend":return Bi(r);case"keypress":return r.which!==32?null:(wi=!0,ri);case"textInput":return s=r.data,s===ri&&wi?null:s;default:return null}}function op(s,r){if(zi)return s==="compositionend"||!Fe&&ai(s,r)?(s=ar(),rr=ft=zn=null,zi=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Mt&&r.locale!=="ko"?null:r.data;default:return null}}var Fi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zr(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!Fi[s.type]:r==="textarea"}function vd(s,r,l,d){Ms?fn?fn.push(d):fn=[d]:Ms=d,r=of(r,"onChange"),0<r.length&&(l=new or("onChange","change",null,l,d),s.push({event:l,listeners:r}))}var oi=null,Yo=null;function Ma(s){Nb(s,0)}function $l(s){var r=Jn(s);if(Ce(r))return s}function Oa(s,r){if(s==="change")return r}var wu=!1;if(En){var ka;if(En){var Tu="oninput"in document;if(!Tu){var Vs=document.createElement("div");Vs.setAttribute("oninput","return;"),Tu=typeof Vs.oninput=="function"}ka=Tu}else ka=!1;wu=ka&&(!document.documentMode||9<document.documentMode)}function Xo(){oi&&(oi.detachEvent("onpropertychange",_d),Yo=oi=null)}function _d(s){if(s.propertyName==="value"&&$l(Yo)){var r=[];vd(r,Yo,s,sr(s)),Tn(Ma,r)}}function Eu(s,r,l){s==="focusin"?(Xo(),oi=r,Yo=l,oi.attachEvent("onpropertychange",_d)):s==="focusout"&&Xo()}function lp(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return $l(Yo)}function Us(s,r){if(s==="click")return $l(r)}function cp(s,r){if(s==="input"||s==="change")return $l(r)}function Va(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var li=typeof Object.is=="function"?Object.is:Va;function ci(s,r){if(li(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var l=Object.keys(s),d=Object.keys(r);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var v=l[d];if(!es.call(r,v)||!li(s[v],r[v]))return!1}return!0}function Qo(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Su(s,r){var l=Qo(s);s=0;for(var d;l;){if(l.nodeType===3){if(d=s+l.textContent.length,s<=r&&d>=r)return{node:l,offset:r-s};s=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Qo(l)}}function Yl(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?Yl(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function Jo(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=vt(s.document);r instanceof s.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)s=r.contentWindow;else break;r=vt(s.document)}return r}function el(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var Xl=En&&"documentMode"in document&&11>=document.documentMode,Hi=null,Ua=null,Wr=null,Ql=!1;function xd(s,r,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ql||Hi==null||Hi!==vt(d)||(d=Hi,"selectionStart"in d&&el(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Wr&&ci(Wr,d)||(Wr=d,d=of(Ua,"onSelect"),0<d.length&&(r=new or("onSelect","select",null,r,l),s.push({event:r,listeners:d}),r.target=Hi)))}function fs(s,r){var l={};return l[s.toLowerCase()]=r.toLowerCase(),l["Webkit"+s]="webkit"+r,l["Moz"+s]="moz"+r,l}var Ba={animationend:fs("Animation","AnimationEnd"),animationiteration:fs("Animation","AnimationIteration"),animationstart:fs("Animation","AnimationStart"),transitionrun:fs("Transition","TransitionRun"),transitionstart:fs("Transition","TransitionStart"),transitioncancel:fs("Transition","TransitionCancel"),transitionend:fs("Transition","TransitionEnd")},Jl={},bd={};En&&(bd=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function cr(s){if(Jl[s])return Jl[s];if(!Ba[s])return s;var r=Ba[s],l;for(l in r)if(r.hasOwnProperty(l)&&l in bd)return Jl[s]=r[l];return s}var wd=cr("animationend"),qi=cr("animationiteration"),tl=cr("animationstart"),up=cr("transitionrun"),ec=cr("transitionstart"),hp=cr("transitioncancel"),Au=cr("transitionend"),Td=new Map,Kr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kr.push("scrollEnd");function Gi(s,r){Td.set(s,r),ss(r,[s])}var $r=new WeakMap;function ui(s,r){if(typeof s=="object"&&s!==null){var l=$r.get(s);return l!==void 0?l:(r={value:s,source:r,stack:ht(r)},$r.set(s,r),r)}return{value:s,source:r,stack:ht(r)}}var hi=[],za=0,Zi=0;function nl(){for(var s=za,r=Zi=za=0;r<s;){var l=hi[r];hi[r++]=null;var d=hi[r];hi[r++]=null;var v=hi[r];hi[r++]=null;var b=hi[r];if(hi[r++]=null,d!==null&&v!==null){var C=d.pending;C===null?v.next=v:(v.next=C.next,C.next=v),d.pending=v}b!==0&&sl(l,v,b)}}function il(s,r,l,d){hi[za++]=s,hi[za++]=r,hi[za++]=l,hi[za++]=d,Zi|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function Yr(s,r,l,d){return il(s,r,l,d),ur(s)}function Fa(s,r){return il(s,null,null,r),ur(s)}function sl(s,r,l){s.lanes|=l;var d=s.alternate;d!==null&&(d.lanes|=l);for(var v=!1,b=s.return;b!==null;)b.childLanes|=l,d=b.alternate,d!==null&&(d.childLanes|=l),b.tag===22&&(s=b.stateNode,s===null||s._visibility&1||(v=!0)),s=b,b=b.return;return s.tag===3?(b=s.stateNode,v&&r!==null&&(v=31-In(l),s=b.hiddenUpdates,d=s[v],d===null?s[v]=[r]:d.push(r),r.lane=l|536870912),b):null}function ur(s){if(50<$u)throw $u=0,lg=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var Xr={};function Ed(s,r,l,d){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function di(s,r,l,d){return new Ed(s,r,l,d)}function tc(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ms(s,r){var l=s.alternate;return l===null?(l=di(s.tag,r,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=r,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,r=s.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function Nu(s,r){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,r=l.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function rl(s,r,l,d,v,b){var C=0;if(d=s,typeof s=="function")tc(s)&&(C=1);else if(typeof s=="string")C=UR(s,l,Se.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case U:return s=di(31,l,r,v),s.elementType=U,s.lanes=b,s;case I:return hr(l.children,v,b,r);case z:C=8,v|=24;break;case V:return s=di(12,l,r,v|2),s.elementType=V,s.lanes=b,s;case he:return s=di(13,l,r,v),s.elementType=he,s.lanes=b,s;case we:return s=di(19,l,r,v),s.elementType=we,s.lanes=b,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case $:case X:C=10;break e;case Y:C=9;break e;case ve:C=11;break e;case B:C=14;break e;case O:C=16,d=null;break e}C=29,l=Error(i(130,s===null?"null":typeof s,"")),d=null}return r=di(C,l,r,v),r.elementType=s,r.type=d,r.lanes=b,r}function hr(s,r,l,d){return s=di(7,s,d,r),s.lanes=l,s}function Cu(s,r,l){return s=di(6,s,null,r),s.lanes=l,s}function nc(s,r,l){return r=di(4,s.children!==null?s.children:[],s.key,r),r.lanes=l,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var Qr=[],Ha=0,o=null,h=0,g=[],w=0,S=null,R=1,q="";function ee(s,r){Qr[Ha++]=h,Qr[Ha++]=o,o=s,h=r}function oe(s,r,l){g[w++]=R,g[w++]=q,g[w++]=S,S=s;var d=R;s=q;var v=32-In(d)-1;d&=~(1<<v),l+=1;var b=32-In(r)+v;if(30<b){var C=v-v%5;b=(d&(1<<C)-1).toString(32),d>>=C,v-=C,R=1<<32-In(r)+v|l<<v|d,q=b+s}else R=1<<b|l<<v|d,q=s}function _e(s){s.return!==null&&(ee(s,1),oe(s,1,0))}function Ae(s){for(;s===o;)o=Qr[--Ha],Qr[Ha]=null,h=Qr[--Ha],Qr[Ha]=null;for(;s===S;)S=g[--w],g[w]=null,q=g[--w],g[w]=null,R=g[--w],g[w]=null}var Ie=null,Oe=null,Ke=!1,Rt=null,Ht=!1,Nn=Error(i(519));function Ti(s){var r=Error(i(418,""));throw Ga(ui(r,s)),Nn}function Sd(s){var r=s.stateNode,l=s.type,d=s.memoizedProps;switch(r[Bt]=s,r[dn]=d,l){case"dialog":at("cancel",r),at("close",r);break;case"iframe":case"object":case"embed":at("load",r);break;case"video":case"audio":for(l=0;l<Xu.length;l++)at(Xu[l],r);break;case"source":at("error",r);break;case"img":case"image":case"link":at("error",r),at("load",r);break;case"details":at("toggle",r);break;case"input":at("invalid",r),Go(r,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),ls(r);break;case"select":at("invalid",r);break;case"textarea":at("invalid",r),cs(r,d.value,d.defaultValue,d.children),ls(r)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||d.suppressHydrationWarning===!0||jb(r.textContent,l)?(d.popover!=null&&(at("beforetoggle",r),at("toggle",r)),d.onScroll!=null&&at("scroll",r),d.onScrollEnd!=null&&at("scrollend",r),d.onClick!=null&&(r.onclick=lf),r=!0):r=!1,r||Ti(s)}function Ad(s){for(Ie=s.return;Ie;)switch(Ie.tag){case 5:case 13:Ht=!1;return;case 27:case 3:Ht=!0;return;default:Ie=Ie.return}}function al(s){if(s!==Ie)return!1;if(!Ke)return Ad(s),Ke=!0,!1;var r=s.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Eg(s.type,s.memoizedProps)),l=!l),l&&Oe&&Ti(s),Ad(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,r=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(r===0){Oe=Hs(s.nextSibling);break e}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;s=s.nextSibling}Oe=null}}else r===27?(r=Oe,ao(s.type)?(s=Cg,Cg=null,Oe=s):Oe=r):Oe=Ie?Hs(s.stateNode.nextSibling):null;return!0}function qa(){Oe=Ie=null,Ke=!1}function Nd(){var s=Rt;return s!==null&&(Ai===null?Ai=s:Ai.push.apply(Ai,s),Rt=null),s}function Ga(s){Rt===null?Rt=[s]:Rt.push(s)}var Ot=ce(null),ps=null,Bs=null;function dr(s,r,l){be(Ot,r._currentValue),r._currentValue=l}function zs(s){s._currentValue=Ot.current,xe(Ot)}function ol(s,r,l){for(;s!==null;){var d=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,d!==null&&(d.childLanes|=r)):d!==null&&(d.childLanes&r)!==r&&(d.childLanes|=r),s===l)break;s=s.return}}function ic(s,r,l,d){var v=s.child;for(v!==null&&(v.return=s);v!==null;){var b=v.dependencies;if(b!==null){var C=v.child;b=b.firstContext;e:for(;b!==null;){var P=b;b=v;for(var Z=0;Z<r.length;Z++)if(P.context===r[Z]){b.lanes|=l,P=b.alternate,P!==null&&(P.lanes|=l),ol(b.return,l,s),d||(C=null);break e}b=P.next}}else if(v.tag===18){if(C=v.return,C===null)throw Error(i(341));C.lanes|=l,b=C.alternate,b!==null&&(b.lanes|=l),ol(C,l,s),C=null}else C=v.child;if(C!==null)C.return=v;else for(C=v;C!==null;){if(C===s){C=null;break}if(v=C.sibling,v!==null){v.return=C.return,C=v;break}C=C.return}v=C}}function ll(s,r,l,d){s=null;for(var v=r,b=!1;v!==null;){if(!b){if((v.flags&524288)!==0)b=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var C=v.alternate;if(C===null)throw Error(i(387));if(C=C.memoizedProps,C!==null){var P=v.type;li(v.pendingProps.value,C.value)||(s!==null?s.push(P):s=[P])}}else if(v===At.current){if(C=v.alternate,C===null)throw Error(i(387));C.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(s!==null?s.push(ih):s=[ih])}v=v.return}s!==null&&ic(r,s,l,d),r.flags|=262144}function Cd(s){for(s=s.firstContext;s!==null;){if(!li(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function cl(s){ps=s,Bs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Hn(s){return y_(ps,s)}function Rd(s,r){return ps===null&&cl(s),y_(s,r)}function y_(s,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},Bs===null){if(s===null)throw Error(i(308));Bs=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Bs=Bs.next=r;return l}var VC=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(l,d){s.push(d)}};this.abort=function(){r.aborted=!0,s.forEach(function(l){return l()})}},UC=t.unstable_scheduleCallback,BC=t.unstable_NormalPriority,pn={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dp(){return{controller:new VC,data:new Map,refCount:0}}function Ru(s){s.refCount--,s.refCount===0&&UC(BC,function(){s.controller.abort()})}var Pu=null,fp=0,sc=0,rc=null;function zC(s,r){if(Pu===null){var l=Pu=[];fp=0,sc=pg(),rc={status:"pending",value:void 0,then:function(d){l.push(d)}}}return fp++,r.then(v_,v_),r}function v_(){if(--fp===0&&Pu!==null){rc!==null&&(rc.status="fulfilled");var s=Pu;Pu=null,sc=0,rc=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function FC(s,r){var l=[],d={status:"pending",value:null,reason:null,then:function(v){l.push(v)}};return s.then(function(){d.status="fulfilled",d.value=r;for(var v=0;v<l.length;v++)(0,l[v])(r)},function(v){for(d.status="rejected",d.reason=v,v=0;v<l.length;v++)(0,l[v])(void 0)}),d}var __=J.S;J.S=function(s,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&zC(s,r),__!==null&&__(s,r)};var ul=ce(null);function mp(){var s=ul.current;return s!==null?s:Pt.pooledCache}function Pd(s,r){r===null?be(ul,ul.current):be(ul,r.pool)}function x_(){var s=mp();return s===null?null:{parent:pn._currentValue,pool:s}}var ju=Error(i(460)),b_=Error(i(474)),jd=Error(i(542)),pp={then:function(){}};function w_(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Id(){}function T_(s,r,l){switch(l=s[l],l===void 0?s.push(r):l!==r&&(r.then(Id,Id),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,S_(s),s;default:if(typeof r.status=="string")r.then(Id,Id);else{if(s=Pt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(d){if(r.status==="pending"){var v=r;v.status="fulfilled",v.value=d}},function(d){if(r.status==="pending"){var v=r;v.status="rejected",v.reason=d}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,S_(s),s}throw Iu=r,ju}}var Iu=null;function E_(){if(Iu===null)throw Error(i(459));var s=Iu;return Iu=null,s}function S_(s){if(s===ju||s===jd)throw Error(i(483))}var Za=!1;function gp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yp(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Wa(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ka(s,r,l){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(xt&2)!==0){var v=d.pending;return v===null?r.next=r:(r.next=v.next,v.next=r),d.pending=r,r=ur(s),sl(s,null,l),r}return il(s,d,r,l),ur(s)}function Du(s,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var d=r.lanes;d&=s.pendingLanes,l|=d,r.lanes=l,tr(s,l)}}function vp(s,r){var l=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var v=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?v=b=C:b=b.next=C,l=l.next}while(l!==null);b===null?v=b=r:b=b.next=r}else v=b=r;l={baseState:d.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=r:s.next=r,l.lastBaseUpdate=r}var _p=!1;function Lu(){if(_p){var s=rc;if(s!==null)throw s}}function Mu(s,r,l,d){_p=!1;var v=s.updateQueue;Za=!1;var b=v.firstBaseUpdate,C=v.lastBaseUpdate,P=v.shared.pending;if(P!==null){v.shared.pending=null;var Z=P,ie=Z.next;Z.next=null,C===null?b=ie:C.next=ie,C=Z;var fe=s.alternate;fe!==null&&(fe=fe.updateQueue,P=fe.lastBaseUpdate,P!==C&&(P===null?fe.firstBaseUpdate=ie:P.next=ie,fe.lastBaseUpdate=Z))}if(b!==null){var ge=v.baseState;C=0,fe=ie=Z=null,P=b;do{var se=P.lane&-536870913,ae=se!==P.lane;if(ae?(mt&se)===se:(d&se)===se){se!==0&&se===sc&&(_p=!0),fe!==null&&(fe=fe.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var Ze=s,Be=P;se=r;var St=l;switch(Be.tag){case 1:if(Ze=Be.payload,typeof Ze=="function"){ge=Ze.call(St,ge,se);break e}ge=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=Be.payload,se=typeof Ze=="function"?Ze.call(St,ge,se):Ze,se==null)break e;ge=x({},ge,se);break e;case 2:Za=!0}}se=P.callback,se!==null&&(s.flags|=64,ae&&(s.flags|=8192),ae=v.callbacks,ae===null?v.callbacks=[se]:ae.push(se))}else ae={lane:se,tag:P.tag,payload:P.payload,callback:P.callback,next:null},fe===null?(ie=fe=ae,Z=ge):fe=fe.next=ae,C|=se;if(P=P.next,P===null){if(P=v.shared.pending,P===null)break;ae=P,P=ae.next,ae.next=null,v.lastBaseUpdate=ae,v.shared.pending=null}}while(!0);fe===null&&(Z=ge),v.baseState=Z,v.firstBaseUpdate=ie,v.lastBaseUpdate=fe,b===null&&(v.shared.lanes=0),no|=C,s.lanes=C,s.memoizedState=ge}}function A_(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function N_(s,r){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)A_(l[s],r)}var ac=ce(null),Dd=ce(0);function C_(s,r){s=ra,be(Dd,s),be(ac,r),ra=s|r.baseLanes}function xp(){be(Dd,ra),be(ac,ac.current)}function bp(){ra=Dd.current,xe(ac),xe(Dd)}var $a=0,tt=null,Tt=null,rn=null,Ld=!1,oc=!1,hl=!1,Md=0,Ou=0,lc=null,HC=0;function Jt(){throw Error(i(321))}function wp(s,r){if(r===null)return!1;for(var l=0;l<r.length&&l<s.length;l++)if(!li(s[l],r[l]))return!1;return!0}function Tp(s,r,l,d,v,b){return $a=b,tt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,J.H=s===null||s.memoizedState===null?hx:dx,hl=!1,b=l(d,v),hl=!1,oc&&(b=P_(r,l,d,v)),R_(s),b}function R_(s){J.H=zd;var r=Tt!==null&&Tt.next!==null;if($a=0,rn=Tt=tt=null,Ld=!1,Ou=0,lc=null,r)throw Error(i(300));s===null||Cn||(s=s.dependencies,s!==null&&Cd(s)&&(Cn=!0))}function P_(s,r,l,d){tt=s;var v=0;do{if(oc&&(lc=null),Ou=0,oc=!1,25<=v)throw Error(i(301));if(v+=1,rn=Tt=null,s.updateQueue!=null){var b=s.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}J.H=YC,b=r(l,d)}while(oc);return b}function qC(){var s=J.H,r=s.useState()[0];return r=typeof r.then=="function"?ku(r):r,s=s.useState()[0],(Tt!==null?Tt.memoizedState:null)!==s&&(tt.flags|=1024),r}function Ep(){var s=Md!==0;return Md=0,s}function Sp(s,r,l){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~l}function Ap(s){if(Ld){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Ld=!1}$a=0,rn=Tt=tt=null,oc=!1,Ou=Md=0,lc=null}function Ei(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?tt.memoizedState=rn=s:rn=rn.next=s,rn}function an(){if(Tt===null){var s=tt.alternate;s=s!==null?s.memoizedState:null}else s=Tt.next;var r=rn===null?tt.memoizedState:rn.next;if(r!==null)rn=r,Tt=s;else{if(s===null)throw tt.alternate===null?Error(i(467)):Error(i(310));Tt=s,s={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},rn===null?tt.memoizedState=rn=s:rn=rn.next=s}return rn}function Np(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ku(s){var r=Ou;return Ou+=1,lc===null&&(lc=[]),s=T_(lc,s,r),r=tt,(rn===null?r.memoizedState:rn.next)===null&&(r=r.alternate,J.H=r===null||r.memoizedState===null?hx:dx),s}function Od(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return ku(s);if(s.$$typeof===X)return Hn(s)}throw Error(i(438,String(s)))}function Cp(s){var r=null,l=tt.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var d=tt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(r={data:d.data.map(function(v){return v.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=Np(),tt.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(s),d=0;d<s;d++)l[d]=W;return r.index++,l}function Jr(s,r){return typeof r=="function"?r(s):r}function kd(s){var r=an();return Rp(r,Tt,s)}function Rp(s,r,l){var d=s.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=l;var v=s.baseQueue,b=d.pending;if(b!==null){if(v!==null){var C=v.next;v.next=b.next,b.next=C}r.baseQueue=v=b,d.pending=null}if(b=s.baseState,v===null)s.memoizedState=b;else{r=v.next;var P=C=null,Z=null,ie=r,fe=!1;do{var ge=ie.lane&-536870913;if(ge!==ie.lane?(mt&ge)===ge:($a&ge)===ge){var se=ie.revertLane;if(se===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),ge===sc&&(fe=!0);else if(($a&se)===se){ie=ie.next,se===sc&&(fe=!0);continue}else ge={lane:0,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},Z===null?(P=Z=ge,C=b):Z=Z.next=ge,tt.lanes|=se,no|=se;ge=ie.action,hl&&l(b,ge),b=ie.hasEagerState?ie.eagerState:l(b,ge)}else se={lane:ge,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},Z===null?(P=Z=se,C=b):Z=Z.next=se,tt.lanes|=ge,no|=ge;ie=ie.next}while(ie!==null&&ie!==r);if(Z===null?C=b:Z.next=P,!li(b,s.memoizedState)&&(Cn=!0,fe&&(l=rc,l!==null)))throw l;s.memoizedState=b,s.baseState=C,s.baseQueue=Z,d.lastRenderedState=b}return v===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function Pp(s){var r=an(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var d=l.dispatch,v=l.pending,b=r.memoizedState;if(v!==null){l.pending=null;var C=v=v.next;do b=s(b,C.action),C=C.next;while(C!==v);li(b,r.memoizedState)||(Cn=!0),r.memoizedState=b,r.baseQueue===null&&(r.baseState=b),l.lastRenderedState=b}return[b,d]}function j_(s,r,l){var d=tt,v=an(),b=Ke;if(b){if(l===void 0)throw Error(i(407));l=l()}else l=r();var C=!li((Tt||v).memoizedState,l);C&&(v.memoizedState=l,Cn=!0),v=v.queue;var P=L_.bind(null,d,v,s);if(Vu(2048,8,P,[s]),v.getSnapshot!==r||C||rn!==null&&rn.memoizedState.tag&1){if(d.flags|=2048,cc(9,Vd(),D_.bind(null,d,v,l,r),null),Pt===null)throw Error(i(349));b||($a&124)!==0||I_(d,r,l)}return l}function I_(s,r,l){s.flags|=16384,s={getSnapshot:r,value:l},r=tt.updateQueue,r===null?(r=Np(),tt.updateQueue=r,r.stores=[s]):(l=r.stores,l===null?r.stores=[s]:l.push(s))}function D_(s,r,l,d){r.value=l,r.getSnapshot=d,M_(r)&&O_(s)}function L_(s,r,l){return l(function(){M_(r)&&O_(s)})}function M_(s){var r=s.getSnapshot;s=s.value;try{var l=r();return!li(s,l)}catch{return!0}}function O_(s){var r=Fa(s,2);r!==null&&Xi(r,s,2)}function jp(s){var r=Ei();if(typeof s=="function"){var l=s;if(s=l(),hl){Qn(!0);try{l()}finally{Qn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:s},r}function k_(s,r,l,d){return s.baseState=l,Rp(s,Tt,typeof d=="function"?d:Jr)}function GC(s,r,l,d,v){if(Bd(s))throw Error(i(485));if(s=r.action,s!==null){var b={payload:v,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){b.listeners.push(C)}};J.T!==null?l(!0):b.isTransition=!1,d(b),l=r.pending,l===null?(b.next=r.pending=b,V_(r,b)):(b.next=l.next,r.pending=l.next=b)}}function V_(s,r){var l=r.action,d=r.payload,v=s.state;if(r.isTransition){var b=J.T,C={};J.T=C;try{var P=l(v,d),Z=J.S;Z!==null&&Z(C,P),U_(s,r,P)}catch(ie){Ip(s,r,ie)}finally{J.T=b}}else try{b=l(v,d),U_(s,r,b)}catch(ie){Ip(s,r,ie)}}function U_(s,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){B_(s,r,d)},function(d){return Ip(s,r,d)}):B_(s,r,l)}function B_(s,r,l){r.status="fulfilled",r.value=l,z_(r),s.state=l,r=s.pending,r!==null&&(l=r.next,l===r?s.pending=null:(l=l.next,r.next=l,V_(s,l)))}function Ip(s,r,l){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do r.status="rejected",r.reason=l,z_(r),r=r.next;while(r!==d)}s.action=null}function z_(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function F_(s,r){return r}function H_(s,r){if(Ke){var l=Pt.formState;if(l!==null){e:{var d=tt;if(Ke){if(Oe){t:{for(var v=Oe,b=Ht;v.nodeType!==8;){if(!b){v=null;break t}if(v=Hs(v.nextSibling),v===null){v=null;break t}}b=v.data,v=b==="F!"||b==="F"?v:null}if(v){Oe=Hs(v.nextSibling),d=v.data==="F!";break e}}Ti(d)}d=!1}d&&(r=l[0])}}return l=Ei(),l.memoizedState=l.baseState=r,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:F_,lastRenderedState:r},l.queue=d,l=lx.bind(null,tt,d),d.dispatch=l,d=jp(!1),b=kp.bind(null,tt,!1,d.queue),d=Ei(),v={state:r,dispatch:null,action:s,pending:null},d.queue=v,l=GC.bind(null,tt,v,b,l),v.dispatch=l,d.memoizedState=s,[r,l,!1]}function q_(s){var r=an();return G_(r,Tt,s)}function G_(s,r,l){if(r=Rp(s,r,F_)[0],s=kd(Jr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var d=ku(r)}catch(C){throw C===ju?jd:C}else d=r;r=an();var v=r.queue,b=v.dispatch;return l!==r.memoizedState&&(tt.flags|=2048,cc(9,Vd(),ZC.bind(null,v,l),null)),[d,b,s]}function ZC(s,r){s.action=r}function Z_(s){var r=an(),l=Tt;if(l!==null)return G_(r,l,s);an(),r=r.memoizedState,l=an();var d=l.queue.dispatch;return l.memoizedState=s,[r,d,!1]}function cc(s,r,l,d){return s={tag:s,create:l,deps:d,inst:r,next:null},r=tt.updateQueue,r===null&&(r=Np(),tt.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=s.next=s:(d=l.next,l.next=s,s.next=d,r.lastEffect=s),s}function Vd(){return{destroy:void 0,resource:void 0}}function W_(){return an().memoizedState}function Ud(s,r,l,d){var v=Ei();d=d===void 0?null:d,tt.flags|=s,v.memoizedState=cc(1|r,Vd(),l,d)}function Vu(s,r,l,d){var v=an();d=d===void 0?null:d;var b=v.memoizedState.inst;Tt!==null&&d!==null&&wp(d,Tt.memoizedState.deps)?v.memoizedState=cc(r,b,l,d):(tt.flags|=s,v.memoizedState=cc(1|r,b,l,d))}function K_(s,r){Ud(8390656,8,s,r)}function $_(s,r){Vu(2048,8,s,r)}function Y_(s,r){return Vu(4,2,s,r)}function X_(s,r){return Vu(4,4,s,r)}function Q_(s,r){if(typeof r=="function"){s=s();var l=r(s);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function J_(s,r,l){l=l!=null?l.concat([s]):null,Vu(4,4,Q_.bind(null,r,s),l)}function Dp(){}function ex(s,r){var l=an();r=r===void 0?null:r;var d=l.memoizedState;return r!==null&&wp(r,d[1])?d[0]:(l.memoizedState=[s,r],s)}function tx(s,r){var l=an();r=r===void 0?null:r;var d=l.memoizedState;if(r!==null&&wp(r,d[1]))return d[0];if(d=s(),hl){Qn(!0);try{s()}finally{Qn(!1)}}return l.memoizedState=[d,r],d}function Lp(s,r,l){return l===void 0||($a&1073741824)!==0?s.memoizedState=r:(s.memoizedState=l,s=sb(),tt.lanes|=s,no|=s,l)}function nx(s,r,l,d){return li(l,r)?l:ac.current!==null?(s=Lp(s,l,d),li(s,r)||(Cn=!0),s):($a&42)===0?(Cn=!0,s.memoizedState=l):(s=sb(),tt.lanes|=s,no|=s,r)}function ix(s,r,l,d,v){var b=de.p;de.p=b!==0&&8>b?b:8;var C=J.T,P={};J.T=P,kp(s,!1,r,l);try{var Z=v(),ie=J.S;if(ie!==null&&ie(P,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var fe=FC(Z,d);Uu(s,r,fe,Yi(s))}else Uu(s,r,d,Yi(s))}catch(ge){Uu(s,r,{then:function(){},status:"rejected",reason:ge},Yi())}finally{de.p=b,J.T=C}}function WC(){}function Mp(s,r,l,d){if(s.tag!==5)throw Error(i(476));var v=sx(s).queue;ix(s,v,r,le,l===null?WC:function(){return rx(s),l(d)})}function sx(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:le},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:l},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function rx(s){var r=sx(s).next.queue;Uu(s,r,{},Yi())}function Op(){return Hn(ih)}function ax(){return an().memoizedState}function ox(){return an().memoizedState}function KC(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var l=Yi();s=Wa(l);var d=Ka(r,s,l);d!==null&&(Xi(d,r,l),Du(d,r,l)),r={cache:dp()},s.payload=r;return}r=r.return}}function $C(s,r,l){var d=Yi();l={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Bd(s)?cx(r,l):(l=Yr(s,r,l,d),l!==null&&(Xi(l,s,d),ux(l,r,d)))}function lx(s,r,l){var d=Yi();Uu(s,r,l,d)}function Uu(s,r,l,d){var v={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Bd(s))cx(r,v);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=r.lastRenderedReducer,b!==null))try{var C=r.lastRenderedState,P=b(C,l);if(v.hasEagerState=!0,v.eagerState=P,li(P,C))return il(s,r,v,0),Pt===null&&nl(),!1}catch{}finally{}if(l=Yr(s,r,v,d),l!==null)return Xi(l,s,d),ux(l,r,d),!0}return!1}function kp(s,r,l,d){if(d={lane:2,revertLane:pg(),action:d,hasEagerState:!1,eagerState:null,next:null},Bd(s)){if(r)throw Error(i(479))}else r=Yr(s,l,d,2),r!==null&&Xi(r,s,2)}function Bd(s){var r=s.alternate;return s===tt||r!==null&&r===tt}function cx(s,r){oc=Ld=!0;var l=s.pending;l===null?r.next=r:(r.next=l.next,l.next=r),s.pending=r}function ux(s,r,l){if((l&4194048)!==0){var d=r.lanes;d&=s.pendingLanes,l|=d,r.lanes=l,tr(s,l)}}var zd={readContext:Hn,use:Od,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useLayoutEffect:Jt,useInsertionEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useSyncExternalStore:Jt,useId:Jt,useHostTransitionStatus:Jt,useFormState:Jt,useActionState:Jt,useOptimistic:Jt,useMemoCache:Jt,useCacheRefresh:Jt},hx={readContext:Hn,use:Od,useCallback:function(s,r){return Ei().memoizedState=[s,r===void 0?null:r],s},useContext:Hn,useEffect:K_,useImperativeHandle:function(s,r,l){l=l!=null?l.concat([s]):null,Ud(4194308,4,Q_.bind(null,r,s),l)},useLayoutEffect:function(s,r){return Ud(4194308,4,s,r)},useInsertionEffect:function(s,r){Ud(4,2,s,r)},useMemo:function(s,r){var l=Ei();r=r===void 0?null:r;var d=s();if(hl){Qn(!0);try{s()}finally{Qn(!1)}}return l.memoizedState=[d,r],d},useReducer:function(s,r,l){var d=Ei();if(l!==void 0){var v=l(r);if(hl){Qn(!0);try{l(r)}finally{Qn(!1)}}}else v=r;return d.memoizedState=d.baseState=v,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:v},d.queue=s,s=s.dispatch=$C.bind(null,tt,s),[d.memoizedState,s]},useRef:function(s){var r=Ei();return s={current:s},r.memoizedState=s},useState:function(s){s=jp(s);var r=s.queue,l=lx.bind(null,tt,r);return r.dispatch=l,[s.memoizedState,l]},useDebugValue:Dp,useDeferredValue:function(s,r){var l=Ei();return Lp(l,s,r)},useTransition:function(){var s=jp(!1);return s=ix.bind(null,tt,s.queue,!0,!1),Ei().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,l){var d=tt,v=Ei();if(Ke){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),Pt===null)throw Error(i(349));(mt&124)!==0||I_(d,r,l)}v.memoizedState=l;var b={value:l,getSnapshot:r};return v.queue=b,K_(L_.bind(null,d,b,s),[s]),d.flags|=2048,cc(9,Vd(),D_.bind(null,d,b,l,r),null),l},useId:function(){var s=Ei(),r=Pt.identifierPrefix;if(Ke){var l=q,d=R;l=(d&~(1<<32-In(d)-1)).toString(32)+l,r="«"+r+"R"+l,l=Md++,0<l&&(r+="H"+l.toString(32)),r+="»"}else l=HC++,r="«"+r+"r"+l.toString(32)+"»";return s.memoizedState=r},useHostTransitionStatus:Op,useFormState:H_,useActionState:H_,useOptimistic:function(s){var r=Ei();r.memoizedState=r.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=kp.bind(null,tt,!0,l),l.dispatch=r,[s,r]},useMemoCache:Cp,useCacheRefresh:function(){return Ei().memoizedState=KC.bind(null,tt)}},dx={readContext:Hn,use:Od,useCallback:ex,useContext:Hn,useEffect:$_,useImperativeHandle:J_,useInsertionEffect:Y_,useLayoutEffect:X_,useMemo:tx,useReducer:kd,useRef:W_,useState:function(){return kd(Jr)},useDebugValue:Dp,useDeferredValue:function(s,r){var l=an();return nx(l,Tt.memoizedState,s,r)},useTransition:function(){var s=kd(Jr)[0],r=an().memoizedState;return[typeof s=="boolean"?s:ku(s),r]},useSyncExternalStore:j_,useId:ax,useHostTransitionStatus:Op,useFormState:q_,useActionState:q_,useOptimistic:function(s,r){var l=an();return k_(l,Tt,s,r)},useMemoCache:Cp,useCacheRefresh:ox},YC={readContext:Hn,use:Od,useCallback:ex,useContext:Hn,useEffect:$_,useImperativeHandle:J_,useInsertionEffect:Y_,useLayoutEffect:X_,useMemo:tx,useReducer:Pp,useRef:W_,useState:function(){return Pp(Jr)},useDebugValue:Dp,useDeferredValue:function(s,r){var l=an();return Tt===null?Lp(l,s,r):nx(l,Tt.memoizedState,s,r)},useTransition:function(){var s=Pp(Jr)[0],r=an().memoizedState;return[typeof s=="boolean"?s:ku(s),r]},useSyncExternalStore:j_,useId:ax,useHostTransitionStatus:Op,useFormState:Z_,useActionState:Z_,useOptimistic:function(s,r){var l=an();return Tt!==null?k_(l,Tt,s,r):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Cp,useCacheRefresh:ox},uc=null,Bu=0;function Fd(s){var r=Bu;return Bu+=1,uc===null&&(uc=[]),T_(uc,s,r)}function zu(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Hd(s,r){throw r.$$typeof===T?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function fx(s){var r=s._init;return r(s._payload)}function mx(s){function r(Q,K){if(s){var ne=Q.deletions;ne===null?(Q.deletions=[K],Q.flags|=16):ne.push(K)}}function l(Q,K){if(!s)return null;for(;K!==null;)r(Q,K),K=K.sibling;return null}function d(Q){for(var K=new Map;Q!==null;)Q.key!==null?K.set(Q.key,Q):K.set(Q.index,Q),Q=Q.sibling;return K}function v(Q,K){return Q=ms(Q,K),Q.index=0,Q.sibling=null,Q}function b(Q,K,ne){return Q.index=ne,s?(ne=Q.alternate,ne!==null?(ne=ne.index,ne<K?(Q.flags|=67108866,K):ne):(Q.flags|=67108866,K)):(Q.flags|=1048576,K)}function C(Q){return s&&Q.alternate===null&&(Q.flags|=67108866),Q}function P(Q,K,ne,me){return K===null||K.tag!==6?(K=Cu(ne,Q.mode,me),K.return=Q,K):(K=v(K,ne),K.return=Q,K)}function Z(Q,K,ne,me){var Le=ne.type;return Le===I?fe(Q,K,ne.props.children,me,ne.key):K!==null&&(K.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===O&&fx(Le)===K.type)?(K=v(K,ne.props),zu(K,ne),K.return=Q,K):(K=rl(ne.type,ne.key,ne.props,null,Q.mode,me),zu(K,ne),K.return=Q,K)}function ie(Q,K,ne,me){return K===null||K.tag!==4||K.stateNode.containerInfo!==ne.containerInfo||K.stateNode.implementation!==ne.implementation?(K=nc(ne,Q.mode,me),K.return=Q,K):(K=v(K,ne.children||[]),K.return=Q,K)}function fe(Q,K,ne,me,Le){return K===null||K.tag!==7?(K=hr(ne,Q.mode,me,Le),K.return=Q,K):(K=v(K,ne),K.return=Q,K)}function ge(Q,K,ne){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Cu(""+K,Q.mode,ne),K.return=Q,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case A:return ne=rl(K.type,K.key,K.props,null,Q.mode,ne),zu(ne,K),ne.return=Q,ne;case j:return K=nc(K,Q.mode,ne),K.return=Q,K;case O:var me=K._init;return K=me(K._payload),ge(Q,K,ne)}if(je(K)||G(K))return K=hr(K,Q.mode,ne,null),K.return=Q,K;if(typeof K.then=="function")return ge(Q,Fd(K),ne);if(K.$$typeof===X)return ge(Q,Rd(Q,K),ne);Hd(Q,K)}return null}function se(Q,K,ne,me){var Le=K!==null?K.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Le!==null?null:P(Q,K,""+ne,me);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case A:return ne.key===Le?Z(Q,K,ne,me):null;case j:return ne.key===Le?ie(Q,K,ne,me):null;case O:return Le=ne._init,ne=Le(ne._payload),se(Q,K,ne,me)}if(je(ne)||G(ne))return Le!==null?null:fe(Q,K,ne,me,null);if(typeof ne.then=="function")return se(Q,K,Fd(ne),me);if(ne.$$typeof===X)return se(Q,K,Rd(Q,ne),me);Hd(Q,ne)}return null}function ae(Q,K,ne,me,Le){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return Q=Q.get(ne)||null,P(K,Q,""+me,Le);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case A:return Q=Q.get(me.key===null?ne:me.key)||null,Z(K,Q,me,Le);case j:return Q=Q.get(me.key===null?ne:me.key)||null,ie(K,Q,me,Le);case O:var it=me._init;return me=it(me._payload),ae(Q,K,ne,me,Le)}if(je(me)||G(me))return Q=Q.get(ne)||null,fe(K,Q,me,Le,null);if(typeof me.then=="function")return ae(Q,K,ne,Fd(me),Le);if(me.$$typeof===X)return ae(Q,K,ne,Rd(K,me),Le);Hd(K,me)}return null}function Ze(Q,K,ne,me){for(var Le=null,it=null,ke=K,He=K=0,Pn=null;ke!==null&&He<ne.length;He++){ke.index>He?(Pn=ke,ke=null):Pn=ke.sibling;var yt=se(Q,ke,ne[He],me);if(yt===null){ke===null&&(ke=Pn);break}s&&ke&&yt.alternate===null&&r(Q,ke),K=b(yt,K,He),it===null?Le=yt:it.sibling=yt,it=yt,ke=Pn}if(He===ne.length)return l(Q,ke),Ke&&ee(Q,He),Le;if(ke===null){for(;He<ne.length;He++)ke=ge(Q,ne[He],me),ke!==null&&(K=b(ke,K,He),it===null?Le=ke:it.sibling=ke,it=ke);return Ke&&ee(Q,He),Le}for(ke=d(ke);He<ne.length;He++)Pn=ae(ke,Q,He,ne[He],me),Pn!==null&&(s&&Pn.alternate!==null&&ke.delete(Pn.key===null?He:Pn.key),K=b(Pn,K,He),it===null?Le=Pn:it.sibling=Pn,it=Pn);return s&&ke.forEach(function(ho){return r(Q,ho)}),Ke&&ee(Q,He),Le}function Be(Q,K,ne,me){if(ne==null)throw Error(i(151));for(var Le=null,it=null,ke=K,He=K=0,Pn=null,yt=ne.next();ke!==null&&!yt.done;He++,yt=ne.next()){ke.index>He?(Pn=ke,ke=null):Pn=ke.sibling;var ho=se(Q,ke,yt.value,me);if(ho===null){ke===null&&(ke=Pn);break}s&&ke&&ho.alternate===null&&r(Q,ke),K=b(ho,K,He),it===null?Le=ho:it.sibling=ho,it=ho,ke=Pn}if(yt.done)return l(Q,ke),Ke&&ee(Q,He),Le;if(ke===null){for(;!yt.done;He++,yt=ne.next())yt=ge(Q,yt.value,me),yt!==null&&(K=b(yt,K,He),it===null?Le=yt:it.sibling=yt,it=yt);return Ke&&ee(Q,He),Le}for(ke=d(ke);!yt.done;He++,yt=ne.next())yt=ae(ke,Q,He,yt.value,me),yt!==null&&(s&&yt.alternate!==null&&ke.delete(yt.key===null?He:yt.key),K=b(yt,K,He),it===null?Le=yt:it.sibling=yt,it=yt);return s&&ke.forEach(function(XR){return r(Q,XR)}),Ke&&ee(Q,He),Le}function St(Q,K,ne,me){if(typeof ne=="object"&&ne!==null&&ne.type===I&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case A:e:{for(var Le=ne.key;K!==null;){if(K.key===Le){if(Le=ne.type,Le===I){if(K.tag===7){l(Q,K.sibling),me=v(K,ne.props.children),me.return=Q,Q=me;break e}}else if(K.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===O&&fx(Le)===K.type){l(Q,K.sibling),me=v(K,ne.props),zu(me,ne),me.return=Q,Q=me;break e}l(Q,K);break}else r(Q,K);K=K.sibling}ne.type===I?(me=hr(ne.props.children,Q.mode,me,ne.key),me.return=Q,Q=me):(me=rl(ne.type,ne.key,ne.props,null,Q.mode,me),zu(me,ne),me.return=Q,Q=me)}return C(Q);case j:e:{for(Le=ne.key;K!==null;){if(K.key===Le)if(K.tag===4&&K.stateNode.containerInfo===ne.containerInfo&&K.stateNode.implementation===ne.implementation){l(Q,K.sibling),me=v(K,ne.children||[]),me.return=Q,Q=me;break e}else{l(Q,K);break}else r(Q,K);K=K.sibling}me=nc(ne,Q.mode,me),me.return=Q,Q=me}return C(Q);case O:return Le=ne._init,ne=Le(ne._payload),St(Q,K,ne,me)}if(je(ne))return Ze(Q,K,ne,me);if(G(ne)){if(Le=G(ne),typeof Le!="function")throw Error(i(150));return ne=Le.call(ne),Be(Q,K,ne,me)}if(typeof ne.then=="function")return St(Q,K,Fd(ne),me);if(ne.$$typeof===X)return St(Q,K,Rd(Q,ne),me);Hd(Q,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,K!==null&&K.tag===6?(l(Q,K.sibling),me=v(K,ne),me.return=Q,Q=me):(l(Q,K),me=Cu(ne,Q.mode,me),me.return=Q,Q=me),C(Q)):l(Q,K)}return function(Q,K,ne,me){try{Bu=0;var Le=St(Q,K,ne,me);return uc=null,Le}catch(ke){if(ke===ju||ke===jd)throw ke;var it=di(29,ke,null,Q.mode);return it.lanes=me,it.return=Q,it}finally{}}}var hc=mx(!0),px=mx(!1),gs=ce(null),fr=null;function Ya(s){var r=s.alternate;be(gn,gn.current&1),be(gs,s),fr===null&&(r===null||ac.current!==null||r.memoizedState!==null)&&(fr=s)}function gx(s){if(s.tag===22){if(be(gn,gn.current),be(gs,s),fr===null){var r=s.alternate;r!==null&&r.memoizedState!==null&&(fr=s)}}else Xa()}function Xa(){be(gn,gn.current),be(gs,gs.current)}function ea(s){xe(gs),fr===s&&(fr=null),xe(gn)}var gn=ce(0);function qd(s){for(var r=s;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Ng(l)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Vp(s,r,l,d){r=s.memoizedState,l=l(d,r),l=l==null?r:x({},r,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Up={enqueueSetState:function(s,r,l){s=s._reactInternals;var d=Yi(),v=Wa(d);v.payload=r,l!=null&&(v.callback=l),r=Ka(s,v,d),r!==null&&(Xi(r,s,d),Du(r,s,d))},enqueueReplaceState:function(s,r,l){s=s._reactInternals;var d=Yi(),v=Wa(d);v.tag=1,v.payload=r,l!=null&&(v.callback=l),r=Ka(s,v,d),r!==null&&(Xi(r,s,d),Du(r,s,d))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var l=Yi(),d=Wa(l);d.tag=2,r!=null&&(d.callback=r),r=Ka(s,d,l),r!==null&&(Xi(r,s,l),Du(r,s,l))}};function yx(s,r,l,d,v,b,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,b,C):r.prototype&&r.prototype.isPureReactComponent?!ci(l,d)||!ci(v,b):!0}function vx(s,r,l,d){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,d),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,d),r.state!==s&&Up.enqueueReplaceState(r,r.state,null)}function dl(s,r){var l=r;if("ref"in r){l={};for(var d in r)d!=="ref"&&(l[d]=r[d])}if(s=s.defaultProps){l===r&&(l=x({},l));for(var v in s)l[v]===void 0&&(l[v]=s[v])}return l}var Gd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function _x(s){Gd(s)}function xx(s){console.error(s)}function bx(s){Gd(s)}function Zd(s,r){try{var l=s.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(d){setTimeout(function(){throw d})}}function wx(s,r,l){try{var d=s.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Bp(s,r,l){return l=Wa(l),l.tag=3,l.payload={element:null},l.callback=function(){Zd(s,r)},l}function Tx(s){return s=Wa(s),s.tag=3,s}function Ex(s,r,l,d){var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var b=d.value;s.payload=function(){return v(b)},s.callback=function(){wx(r,l,d)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(s.callback=function(){wx(r,l,d),typeof v!="function"&&(io===null?io=new Set([this]):io.add(this));var P=d.stack;this.componentDidCatch(d.value,{componentStack:P!==null?P:""})})}function XC(s,r,l,d,v){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(r=l.alternate,r!==null&&ll(r,l,v,!0),l=gs.current,l!==null){switch(l.tag){case 13:return fr===null?ug():l.alternate===null&&Kt===0&&(Kt=3),l.flags&=-257,l.flags|=65536,l.lanes=v,d===pp?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([d]):r.add(d),dg(s,d,v)),!1;case 22:return l.flags|=65536,d===pp?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([d]):l.add(d)),dg(s,d,v)),!1}throw Error(i(435,l.tag))}return dg(s,d,v),ug(),!1}if(Ke)return r=gs.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=v,d!==Nn&&(s=Error(i(422),{cause:d}),Ga(ui(s,l)))):(d!==Nn&&(r=Error(i(423),{cause:d}),Ga(ui(r,l))),s=s.current.alternate,s.flags|=65536,v&=-v,s.lanes|=v,d=ui(d,l),v=Bp(s.stateNode,d,v),vp(s,v),Kt!==4&&(Kt=2)),!1;var b=Error(i(520),{cause:d});if(b=ui(b,l),Ku===null?Ku=[b]:Ku.push(b),Kt!==4&&(Kt=2),r===null)return!0;d=ui(d,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,s=v&-v,l.lanes|=s,s=Bp(l.stateNode,d,s),vp(l,s),!1;case 1:if(r=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(io===null||!io.has(b))))return l.flags|=65536,v&=-v,l.lanes|=v,v=Tx(v),Ex(v,s,l,d),vp(l,v),!1}l=l.return}while(l!==null);return!1}var Sx=Error(i(461)),Cn=!1;function Dn(s,r,l,d){r.child=s===null?px(r,null,l,d):hc(r,s.child,l,d)}function Ax(s,r,l,d,v){l=l.render;var b=r.ref;if("ref"in d){var C={};for(var P in d)P!=="ref"&&(C[P]=d[P])}else C=d;return cl(r),d=Tp(s,r,l,C,b,v),P=Ep(),s!==null&&!Cn?(Sp(s,r,v),ta(s,r,v)):(Ke&&P&&_e(r),r.flags|=1,Dn(s,r,d,v),r.child)}function Nx(s,r,l,d,v){if(s===null){var b=l.type;return typeof b=="function"&&!tc(b)&&b.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=b,Cx(s,r,b,d,v)):(s=rl(l.type,null,d,r,r.mode,v),s.ref=r.ref,s.return=r,r.child=s)}if(b=s.child,!Kp(s,v)){var C=b.memoizedProps;if(l=l.compare,l=l!==null?l:ci,l(C,d)&&s.ref===r.ref)return ta(s,r,v)}return r.flags|=1,s=ms(b,d),s.ref=r.ref,s.return=r,r.child=s}function Cx(s,r,l,d,v){if(s!==null){var b=s.memoizedProps;if(ci(b,d)&&s.ref===r.ref)if(Cn=!1,r.pendingProps=d=b,Kp(s,v))(s.flags&131072)!==0&&(Cn=!0);else return r.lanes=s.lanes,ta(s,r,v)}return zp(s,r,l,d,v)}function Rx(s,r,l){var d=r.pendingProps,v=d.children,b=s!==null?s.memoizedState:null;if(d.mode==="hidden"){if((r.flags&128)!==0){if(d=b!==null?b.baseLanes|l:l,s!==null){for(v=r.child=s.child,b=0;v!==null;)b=b|v.lanes|v.childLanes,v=v.sibling;r.childLanes=b&~d}else r.childLanes=0,r.child=null;return Px(s,r,d,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Pd(r,b!==null?b.cachePool:null),b!==null?C_(r,b):xp(),gx(r);else return r.lanes=r.childLanes=536870912,Px(s,r,b!==null?b.baseLanes|l:l,l)}else b!==null?(Pd(r,b.cachePool),C_(r,b),Xa(),r.memoizedState=null):(s!==null&&Pd(r,null),xp(),Xa());return Dn(s,r,v,l),r.child}function Px(s,r,l,d){var v=mp();return v=v===null?null:{parent:pn._currentValue,pool:v},r.memoizedState={baseLanes:l,cachePool:v},s!==null&&Pd(r,null),xp(),gx(r),s!==null&&ll(s,r,d,!0),null}function Wd(s,r){var l=r.ref;if(l===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(r.flags|=4194816)}}function zp(s,r,l,d,v){return cl(r),l=Tp(s,r,l,d,void 0,v),d=Ep(),s!==null&&!Cn?(Sp(s,r,v),ta(s,r,v)):(Ke&&d&&_e(r),r.flags|=1,Dn(s,r,l,v),r.child)}function jx(s,r,l,d,v,b){return cl(r),r.updateQueue=null,l=P_(r,d,l,v),R_(s),d=Ep(),s!==null&&!Cn?(Sp(s,r,b),ta(s,r,b)):(Ke&&d&&_e(r),r.flags|=1,Dn(s,r,l,b),r.child)}function Ix(s,r,l,d,v){if(cl(r),r.stateNode===null){var b=Xr,C=l.contextType;typeof C=="object"&&C!==null&&(b=Hn(C)),b=new l(d,b),r.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Up,r.stateNode=b,b._reactInternals=r,b=r.stateNode,b.props=d,b.state=r.memoizedState,b.refs={},gp(r),C=l.contextType,b.context=typeof C=="object"&&C!==null?Hn(C):Xr,b.state=r.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(Vp(r,l,C,d),b.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(C=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),C!==b.state&&Up.enqueueReplaceState(b,b.state,null),Mu(r,d,b,v),Lu(),b.state=r.memoizedState),typeof b.componentDidMount=="function"&&(r.flags|=4194308),d=!0}else if(s===null){b=r.stateNode;var P=r.memoizedProps,Z=dl(l,P);b.props=Z;var ie=b.context,fe=l.contextType;C=Xr,typeof fe=="object"&&fe!==null&&(C=Hn(fe));var ge=l.getDerivedStateFromProps;fe=typeof ge=="function"||typeof b.getSnapshotBeforeUpdate=="function",P=r.pendingProps!==P,fe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(P||ie!==C)&&vx(r,b,d,C),Za=!1;var se=r.memoizedState;b.state=se,Mu(r,d,b,v),Lu(),ie=r.memoizedState,P||se!==ie||Za?(typeof ge=="function"&&(Vp(r,l,ge,d),ie=r.memoizedState),(Z=Za||yx(r,l,Z,d,se,ie,C))?(fe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(r.flags|=4194308)):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=d,r.memoizedState=ie),b.props=d,b.state=ie,b.context=C,d=Z):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),d=!1)}else{b=r.stateNode,yp(s,r),C=r.memoizedProps,fe=dl(l,C),b.props=fe,ge=r.pendingProps,se=b.context,ie=l.contextType,Z=Xr,typeof ie=="object"&&ie!==null&&(Z=Hn(ie)),P=l.getDerivedStateFromProps,(ie=typeof P=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(C!==ge||se!==Z)&&vx(r,b,d,Z),Za=!1,se=r.memoizedState,b.state=se,Mu(r,d,b,v),Lu();var ae=r.memoizedState;C!==ge||se!==ae||Za||s!==null&&s.dependencies!==null&&Cd(s.dependencies)?(typeof P=="function"&&(Vp(r,l,P,d),ae=r.memoizedState),(fe=Za||yx(r,l,fe,d,se,ae,Z)||s!==null&&s.dependencies!==null&&Cd(s.dependencies))?(ie||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,ae,Z),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,ae,Z)),typeof b.componentDidUpdate=="function"&&(r.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof b.componentDidUpdate!="function"||C===s.memoizedProps&&se===s.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&se===s.memoizedState||(r.flags|=1024),r.memoizedProps=d,r.memoizedState=ae),b.props=d,b.state=ae,b.context=Z,d=fe):(typeof b.componentDidUpdate!="function"||C===s.memoizedProps&&se===s.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&se===s.memoizedState||(r.flags|=1024),d=!1)}return b=d,Wd(s,r),d=(r.flags&128)!==0,b||d?(b=r.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:b.render(),r.flags|=1,s!==null&&d?(r.child=hc(r,s.child,null,v),r.child=hc(r,null,l,v)):Dn(s,r,l,v),r.memoizedState=b.state,s=r.child):s=ta(s,r,v),s}function Dx(s,r,l,d){return qa(),r.flags|=256,Dn(s,r,l,d),r.child}var Fp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hp(s){return{baseLanes:s,cachePool:x_()}}function qp(s,r,l){return s=s!==null?s.childLanes&~l:0,r&&(s|=ys),s}function Lx(s,r,l){var d=r.pendingProps,v=!1,b=(r.flags&128)!==0,C;if((C=b)||(C=s!==null&&s.memoizedState===null?!1:(gn.current&2)!==0),C&&(v=!0,r.flags&=-129),C=(r.flags&32)!==0,r.flags&=-33,s===null){if(Ke){if(v?Ya(r):Xa(),Ke){var P=Oe,Z;if(Z=P){e:{for(Z=P,P=Ht;Z.nodeType!==8;){if(!P){P=null;break e}if(Z=Hs(Z.nextSibling),Z===null){P=null;break e}}P=Z}P!==null?(r.memoizedState={dehydrated:P,treeContext:S!==null?{id:R,overflow:q}:null,retryLane:536870912,hydrationErrors:null},Z=di(18,null,null,0),Z.stateNode=P,Z.return=r,r.child=Z,Ie=r,Oe=null,Z=!0):Z=!1}Z||Ti(r)}if(P=r.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return Ng(P)?r.lanes=32:r.lanes=536870912,null;ea(r)}return P=d.children,d=d.fallback,v?(Xa(),v=r.mode,P=Kd({mode:"hidden",children:P},v),d=hr(d,v,l,null),P.return=r,d.return=r,P.sibling=d,r.child=P,v=r.child,v.memoizedState=Hp(l),v.childLanes=qp(s,C,l),r.memoizedState=Fp,d):(Ya(r),Gp(r,P))}if(Z=s.memoizedState,Z!==null&&(P=Z.dehydrated,P!==null)){if(b)r.flags&256?(Ya(r),r.flags&=-257,r=Zp(s,r,l)):r.memoizedState!==null?(Xa(),r.child=s.child,r.flags|=128,r=null):(Xa(),v=d.fallback,P=r.mode,d=Kd({mode:"visible",children:d.children},P),v=hr(v,P,l,null),v.flags|=2,d.return=r,v.return=r,d.sibling=v,r.child=d,hc(r,s.child,null,l),d=r.child,d.memoizedState=Hp(l),d.childLanes=qp(s,C,l),r.memoizedState=Fp,r=v);else if(Ya(r),Ng(P)){if(C=P.nextSibling&&P.nextSibling.dataset,C)var ie=C.dgst;C=ie,d=Error(i(419)),d.stack="",d.digest=C,Ga({value:d,source:null,stack:null}),r=Zp(s,r,l)}else if(Cn||ll(s,r,l,!1),C=(l&s.childLanes)!==0,Cn||C){if(C=Pt,C!==null&&(d=l&-l,d=(d&42)!==0?1:Fo(d),d=(d&(C.suspendedLanes|l))!==0?0:d,d!==0&&d!==Z.retryLane))throw Z.retryLane=d,Fa(s,d),Xi(C,s,d),Sx;P.data==="$?"||ug(),r=Zp(s,r,l)}else P.data==="$?"?(r.flags|=192,r.child=s.child,r=null):(s=Z.treeContext,Oe=Hs(P.nextSibling),Ie=r,Ke=!0,Rt=null,Ht=!1,s!==null&&(g[w++]=R,g[w++]=q,g[w++]=S,R=s.id,q=s.overflow,S=r),r=Gp(r,d.children),r.flags|=4096);return r}return v?(Xa(),v=d.fallback,P=r.mode,Z=s.child,ie=Z.sibling,d=ms(Z,{mode:"hidden",children:d.children}),d.subtreeFlags=Z.subtreeFlags&65011712,ie!==null?v=ms(ie,v):(v=hr(v,P,l,null),v.flags|=2),v.return=r,d.return=r,d.sibling=v,r.child=d,d=v,v=r.child,P=s.child.memoizedState,P===null?P=Hp(l):(Z=P.cachePool,Z!==null?(ie=pn._currentValue,Z=Z.parent!==ie?{parent:ie,pool:ie}:Z):Z=x_(),P={baseLanes:P.baseLanes|l,cachePool:Z}),v.memoizedState=P,v.childLanes=qp(s,C,l),r.memoizedState=Fp,d):(Ya(r),l=s.child,s=l.sibling,l=ms(l,{mode:"visible",children:d.children}),l.return=r,l.sibling=null,s!==null&&(C=r.deletions,C===null?(r.deletions=[s],r.flags|=16):C.push(s)),r.child=l,r.memoizedState=null,l)}function Gp(s,r){return r=Kd({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Kd(s,r){return s=di(22,s,null,r),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Zp(s,r,l){return hc(r,s.child,null,l),s=Gp(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function Mx(s,r,l){s.lanes|=r;var d=s.alternate;d!==null&&(d.lanes|=r),ol(s.return,r,l)}function Wp(s,r,l,d,v){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:v}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=d,b.tail=l,b.tailMode=v)}function Ox(s,r,l){var d=r.pendingProps,v=d.revealOrder,b=d.tail;if(Dn(s,r,d.children,l),d=gn.current,(d&2)!==0)d=d&1|2,r.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Mx(s,l,r);else if(s.tag===19)Mx(s,l,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}switch(be(gn,d),v){case"forwards":for(l=r.child,v=null;l!==null;)s=l.alternate,s!==null&&qd(s)===null&&(v=l),l=l.sibling;l=v,l===null?(v=r.child,r.child=null):(v=l.sibling,l.sibling=null),Wp(r,!1,v,l,b);break;case"backwards":for(l=null,v=r.child,r.child=null;v!==null;){if(s=v.alternate,s!==null&&qd(s)===null){r.child=v;break}s=v.sibling,v.sibling=l,l=v,v=s}Wp(r,!0,l,null,b);break;case"together":Wp(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ta(s,r,l){if(s!==null&&(r.dependencies=s.dependencies),no|=r.lanes,(l&r.childLanes)===0)if(s!==null){if(ll(s,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,l=ms(s,s.pendingProps),r.child=l,l.return=r;s.sibling!==null;)s=s.sibling,l=l.sibling=ms(s,s.pendingProps),l.return=r;l.sibling=null}return r.child}function Kp(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Cd(s)))}function QC(s,r,l){switch(r.tag){case 3:st(r,r.stateNode.containerInfo),dr(r,pn,s.memoizedState.cache),qa();break;case 27:case 5:Pr(r);break;case 4:st(r,r.stateNode.containerInfo);break;case 10:dr(r,r.type,r.memoizedProps.value);break;case 13:var d=r.memoizedState;if(d!==null)return d.dehydrated!==null?(Ya(r),r.flags|=128,null):(l&r.child.childLanes)!==0?Lx(s,r,l):(Ya(r),s=ta(s,r,l),s!==null?s.sibling:null);Ya(r);break;case 19:var v=(s.flags&128)!==0;if(d=(l&r.childLanes)!==0,d||(ll(s,r,l,!1),d=(l&r.childLanes)!==0),v){if(d)return Ox(s,r,l);r.flags|=128}if(v=r.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),be(gn,gn.current),d)break;return null;case 22:case 23:return r.lanes=0,Rx(s,r,l);case 24:dr(r,pn,s.memoizedState.cache)}return ta(s,r,l)}function kx(s,r,l){if(s!==null)if(s.memoizedProps!==r.pendingProps)Cn=!0;else{if(!Kp(s,l)&&(r.flags&128)===0)return Cn=!1,QC(s,r,l);Cn=(s.flags&131072)!==0}else Cn=!1,Ke&&(r.flags&1048576)!==0&&oe(r,h,r.index);switch(r.lanes=0,r.tag){case 16:e:{s=r.pendingProps;var d=r.elementType,v=d._init;if(d=v(d._payload),r.type=d,typeof d=="function")tc(d)?(s=dl(d,s),r.tag=1,r=Ix(null,r,d,s,l)):(r.tag=0,r=zp(null,r,d,s,l));else{if(d!=null){if(v=d.$$typeof,v===ve){r.tag=11,r=Ax(null,r,d,s,l);break e}else if(v===B){r.tag=14,r=Nx(null,r,d,s,l);break e}}throw r=Ue(d)||d,Error(i(306,r,""))}}return r;case 0:return zp(s,r,r.type,r.pendingProps,l);case 1:return d=r.type,v=dl(d,r.pendingProps),Ix(s,r,d,v,l);case 3:e:{if(st(r,r.stateNode.containerInfo),s===null)throw Error(i(387));d=r.pendingProps;var b=r.memoizedState;v=b.element,yp(s,r),Mu(r,d,null,l);var C=r.memoizedState;if(d=C.cache,dr(r,pn,d),d!==b.cache&&ic(r,[pn],l,!0),Lu(),d=C.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:C.cache},r.updateQueue.baseState=b,r.memoizedState=b,r.flags&256){r=Dx(s,r,d,l);break e}else if(d!==v){v=ui(Error(i(424)),r),Ga(v),r=Dx(s,r,d,l);break e}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Oe=Hs(s.firstChild),Ie=r,Ke=!0,Rt=null,Ht=!0,l=px(r,null,d,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(qa(),d===v){r=ta(s,r,l);break e}Dn(s,r,d,l)}r=r.child}return r;case 26:return Wd(s,r),s===null?(l=zb(r.type,null,r.pendingProps,null))?r.memoizedState=l:Ke||(l=r.type,s=r.pendingProps,d=cf(Ee.current).createElement(l),d[Bt]=r,d[dn]=s,Mn(d,l,s),zt(d),r.stateNode=d):r.memoizedState=zb(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return Pr(r),s===null&&Ke&&(d=r.stateNode=Vb(r.type,r.pendingProps,Ee.current),Ie=r,Ht=!0,v=Oe,ao(r.type)?(Cg=v,Oe=Hs(d.firstChild)):Oe=v),Dn(s,r,r.pendingProps.children,l),Wd(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Ke&&((v=d=Oe)&&(d=AR(d,r.type,r.pendingProps,Ht),d!==null?(r.stateNode=d,Ie=r,Oe=Hs(d.firstChild),Ht=!1,v=!0):v=!1),v||Ti(r)),Pr(r),v=r.type,b=r.pendingProps,C=s!==null?s.memoizedProps:null,d=b.children,Eg(v,b)?d=null:C!==null&&Eg(v,C)&&(r.flags|=32),r.memoizedState!==null&&(v=Tp(s,r,qC,null,null,l),ih._currentValue=v),Wd(s,r),Dn(s,r,d,l),r.child;case 6:return s===null&&Ke&&((s=l=Oe)&&(l=NR(l,r.pendingProps,Ht),l!==null?(r.stateNode=l,Ie=r,Oe=null,s=!0):s=!1),s||Ti(r)),null;case 13:return Lx(s,r,l);case 4:return st(r,r.stateNode.containerInfo),d=r.pendingProps,s===null?r.child=hc(r,null,d,l):Dn(s,r,d,l),r.child;case 11:return Ax(s,r,r.type,r.pendingProps,l);case 7:return Dn(s,r,r.pendingProps,l),r.child;case 8:return Dn(s,r,r.pendingProps.children,l),r.child;case 12:return Dn(s,r,r.pendingProps.children,l),r.child;case 10:return d=r.pendingProps,dr(r,r.type,d.value),Dn(s,r,d.children,l),r.child;case 9:return v=r.type._context,d=r.pendingProps.children,cl(r),v=Hn(v),d=d(v),r.flags|=1,Dn(s,r,d,l),r.child;case 14:return Nx(s,r,r.type,r.pendingProps,l);case 15:return Cx(s,r,r.type,r.pendingProps,l);case 19:return Ox(s,r,l);case 31:return d=r.pendingProps,l=r.mode,d={mode:d.mode,children:d.children},s===null?(l=Kd(d,l),l.ref=r.ref,r.child=l,l.return=r,r=l):(l=ms(s.child,d),l.ref=r.ref,r.child=l,l.return=r,r=l),r;case 22:return Rx(s,r,l);case 24:return cl(r),d=Hn(pn),s===null?(v=mp(),v===null&&(v=Pt,b=dp(),v.pooledCache=b,b.refCount++,b!==null&&(v.pooledCacheLanes|=l),v=b),r.memoizedState={parent:d,cache:v},gp(r),dr(r,pn,v)):((s.lanes&l)!==0&&(yp(s,r),Mu(r,null,null,l),Lu()),v=s.memoizedState,b=r.memoizedState,v.parent!==d?(v={parent:d,cache:d},r.memoizedState=v,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=v),dr(r,pn,d)):(d=b.cache,dr(r,pn,d),d!==v.cache&&ic(r,[pn],l,!0))),Dn(s,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function na(s){s.flags|=4}function Vx(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Zb(r)){if(r=gs.current,r!==null&&((mt&4194048)===mt?fr!==null:(mt&62914560)!==mt&&(mt&536870912)===0||r!==fr))throw Iu=pp,b_;s.flags|=8192}}function $d(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Ns():536870912,s.lanes|=r,pc|=r)}function Fu(s,r){if(!Ke)switch(s.tailMode){case"hidden":r=s.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function qt(s){var r=s.alternate!==null&&s.alternate.child===s.child,l=0,d=0;if(r)for(var v=s.child;v!==null;)l|=v.lanes|v.childLanes,d|=v.subtreeFlags&65011712,d|=v.flags&65011712,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)l|=v.lanes|v.childLanes,d|=v.subtreeFlags,d|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=d,s.childLanes=l,r}function JC(s,r,l){var d=r.pendingProps;switch(Ae(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(r),null;case 1:return qt(r),null;case 3:return l=r.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),r.memoizedState.cache!==d&&(r.flags|=2048),zs(pn),mi(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(al(r)?na(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Nd())),qt(r),null;case 26:return l=r.memoizedState,s===null?(na(r),l!==null?(qt(r),Vx(r,l)):(qt(r),r.flags&=-16777217)):l?l!==s.memoizedState?(na(r),qt(r),Vx(r,l)):(qt(r),r.flags&=-16777217):(s.memoizedProps!==d&&na(r),qt(r),r.flags&=-16777217),null;case 27:Js(r),l=Ee.current;var v=r.type;if(s!==null&&r.stateNode!=null)s.memoizedProps!==d&&na(r);else{if(!d){if(r.stateNode===null)throw Error(i(166));return qt(r),null}s=Se.current,al(r)?Sd(r):(s=Vb(v,d,l),r.stateNode=s,na(r))}return qt(r),null;case 5:if(Js(r),l=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==d&&na(r);else{if(!d){if(r.stateNode===null)throw Error(i(166));return qt(r),null}if(s=Se.current,al(r))Sd(r);else{switch(v=cf(Ee.current),s){case 1:s=v.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=v.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=v.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=v.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=v.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof d.is=="string"?v.createElement("select",{is:d.is}):v.createElement("select"),d.multiple?s.multiple=!0:d.size&&(s.size=d.size);break;default:s=typeof d.is=="string"?v.createElement(l,{is:d.is}):v.createElement(l)}}s[Bt]=r,s[dn]=d;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)s.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=s;e:switch(Mn(s,l,d),l){case"button":case"input":case"select":case"textarea":s=!!d.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&na(r)}}return qt(r),r.flags&=-16777217,null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==d&&na(r);else{if(typeof d!="string"&&r.stateNode===null)throw Error(i(166));if(s=Ee.current,al(r)){if(s=r.stateNode,l=r.memoizedProps,d=null,v=Ie,v!==null)switch(v.tag){case 27:case 5:d=v.memoizedProps}s[Bt]=r,s=!!(s.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||jb(s.nodeValue,l)),s||Ti(r)}else s=cf(s).createTextNode(d),s[Bt]=r,r.stateNode=s}return qt(r),null;case 13:if(d=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(v=al(r),d!==null&&d.dehydrated!==null){if(s===null){if(!v)throw Error(i(318));if(v=r.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[Bt]=r}else qa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;qt(r),v=!1}else v=Nd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=v),v=!0;if(!v)return r.flags&256?(ea(r),r):(ea(r),null)}if(ea(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=d!==null,s=s!==null&&s.memoizedState!==null,l){d=r.child,v=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(v=d.alternate.memoizedState.cachePool.pool);var b=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==v&&(d.flags|=2048)}return l!==s&&l&&(r.child.flags|=8192),$d(r,r.updateQueue),qt(r),null;case 4:return mi(),s===null&&_g(r.stateNode.containerInfo),qt(r),null;case 10:return zs(r.type),qt(r),null;case 19:if(xe(gn),v=r.memoizedState,v===null)return qt(r),null;if(d=(r.flags&128)!==0,b=v.rendering,b===null)if(d)Fu(v,!1);else{if(Kt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(b=qd(s),b!==null){for(r.flags|=128,Fu(v,!1),s=b.updateQueue,r.updateQueue=s,$d(r,s),r.subtreeFlags=0,s=l,l=r.child;l!==null;)Nu(l,s),l=l.sibling;return be(gn,gn.current&1|2),r.child}s=s.sibling}v.tail!==null&&_n()>Qd&&(r.flags|=128,d=!0,Fu(v,!1),r.lanes=4194304)}else{if(!d)if(s=qd(b),s!==null){if(r.flags|=128,d=!0,s=s.updateQueue,r.updateQueue=s,$d(r,s),Fu(v,!0),v.tail===null&&v.tailMode==="hidden"&&!b.alternate&&!Ke)return qt(r),null}else 2*_n()-v.renderingStartTime>Qd&&l!==536870912&&(r.flags|=128,d=!0,Fu(v,!1),r.lanes=4194304);v.isBackwards?(b.sibling=r.child,r.child=b):(s=v.last,s!==null?s.sibling=b:r.child=b,v.last=b)}return v.tail!==null?(r=v.tail,v.rendering=r,v.tail=r.sibling,v.renderingStartTime=_n(),r.sibling=null,s=gn.current,be(gn,d?s&1|2:s&1),r):(qt(r),null);case 22:case 23:return ea(r),bp(),d=r.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(r.flags|=8192):d&&(r.flags|=8192),d?(l&536870912)!==0&&(r.flags&128)===0&&(qt(r),r.subtreeFlags&6&&(r.flags|=8192)):qt(r),l=r.updateQueue,l!==null&&$d(r,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==l&&(r.flags|=2048),s!==null&&xe(ul),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),zs(pn),qt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function eR(s,r){switch(Ae(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return zs(pn),mi(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Js(r),null;case 13:if(ea(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));qa()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return xe(gn),null;case 4:return mi(),null;case 10:return zs(r.type),null;case 22:case 23:return ea(r),bp(),s!==null&&xe(ul),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return zs(pn),null;case 25:return null;default:return null}}function Ux(s,r){switch(Ae(r),r.tag){case 3:zs(pn),mi();break;case 26:case 27:case 5:Js(r);break;case 4:mi();break;case 13:ea(r);break;case 19:xe(gn);break;case 10:zs(r.type);break;case 22:case 23:ea(r),bp(),s!==null&&xe(ul);break;case 24:zs(pn)}}function Hu(s,r){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var v=d.next;l=v;do{if((l.tag&s)===s){d=void 0;var b=l.create,C=l.inst;d=b(),C.destroy=d}l=l.next}while(l!==v)}}catch(P){Nt(r,r.return,P)}}function Qa(s,r,l){try{var d=r.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var b=v.next;d=b;do{if((d.tag&s)===s){var C=d.inst,P=C.destroy;if(P!==void 0){C.destroy=void 0,v=r;var Z=l,ie=P;try{ie()}catch(fe){Nt(v,Z,fe)}}}d=d.next}while(d!==b)}}catch(fe){Nt(r,r.return,fe)}}function Bx(s){var r=s.updateQueue;if(r!==null){var l=s.stateNode;try{N_(r,l)}catch(d){Nt(s,s.return,d)}}}function zx(s,r,l){l.props=dl(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(d){Nt(s,r,d)}}function qu(s,r){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof l=="function"?s.refCleanup=l(d):l.current=d}}catch(v){Nt(s,r,v)}}function mr(s,r){var l=s.ref,d=s.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(v){Nt(s,r,v)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(v){Nt(s,r,v)}else l.current=null}function Fx(s){var r=s.type,l=s.memoizedProps,d=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(v){Nt(s,s.return,v)}}function $p(s,r,l){try{var d=s.stateNode;bR(d,s.type,l,r),d[dn]=r}catch(v){Nt(s,s.return,v)}}function Hx(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ao(s.type)||s.tag===4}function Yp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Hx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ao(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Xp(s,r,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(s),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=lf));else if(d!==4&&(d===27&&ao(s.type)&&(l=s.stateNode,r=null),s=s.child,s!==null))for(Xp(s,r,l),s=s.sibling;s!==null;)Xp(s,r,l),s=s.sibling}function Yd(s,r,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,r?l.insertBefore(s,r):l.appendChild(s);else if(d!==4&&(d===27&&ao(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Yd(s,r,l),s=s.sibling;s!==null;)Yd(s,r,l),s=s.sibling}function qx(s){var r=s.stateNode,l=s.memoizedProps;try{for(var d=s.type,v=r.attributes;v.length;)r.removeAttributeNode(v[0]);Mn(r,d,l),r[Bt]=s,r[dn]=l}catch(b){Nt(s,s.return,b)}}var ia=!1,en=!1,Qp=!1,Gx=typeof WeakSet=="function"?WeakSet:Set,Rn=null;function tR(s,r){if(s=s.containerInfo,wg=pf,s=Jo(s),el(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var v=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var C=0,P=-1,Z=-1,ie=0,fe=0,ge=s,se=null;t:for(;;){for(var ae;ge!==l||v!==0&&ge.nodeType!==3||(P=C+v),ge!==b||d!==0&&ge.nodeType!==3||(Z=C+d),ge.nodeType===3&&(C+=ge.nodeValue.length),(ae=ge.firstChild)!==null;)se=ge,ge=ae;for(;;){if(ge===s)break t;if(se===l&&++ie===v&&(P=C),se===b&&++fe===d&&(Z=C),(ae=ge.nextSibling)!==null)break;ge=se,se=ge.parentNode}ge=ae}l=P===-1||Z===-1?null:{start:P,end:Z}}else l=null}l=l||{start:0,end:0}}else l=null;for(Tg={focusedElem:s,selectionRange:l},pf=!1,Rn=r;Rn!==null;)if(r=Rn,s=r.child,(r.subtreeFlags&1024)!==0&&s!==null)s.return=r,Rn=s;else for(;Rn!==null;){switch(r=Rn,b=r.alternate,s=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&b!==null){s=void 0,l=r,v=b.memoizedProps,b=b.memoizedState,d=l.stateNode;try{var Ze=dl(l.type,v,l.elementType===l.type);s=d.getSnapshotBeforeUpdate(Ze,b),d.__reactInternalSnapshotBeforeUpdate=s}catch(Be){Nt(l,l.return,Be)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,l=s.nodeType,l===9)Ag(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Ag(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Rn=s;break}Rn=r.return}}function Zx(s,r,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:Ja(s,l),d&4&&Hu(5,l);break;case 1:if(Ja(s,l),d&4)if(s=l.stateNode,r===null)try{s.componentDidMount()}catch(C){Nt(l,l.return,C)}else{var v=dl(l.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(v,r,s.__reactInternalSnapshotBeforeUpdate)}catch(C){Nt(l,l.return,C)}}d&64&&Bx(l),d&512&&qu(l,l.return);break;case 3:if(Ja(s,l),d&64&&(s=l.updateQueue,s!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{N_(s,r)}catch(C){Nt(l,l.return,C)}}break;case 27:r===null&&d&4&&qx(l);case 26:case 5:Ja(s,l),r===null&&d&4&&Fx(l),d&512&&qu(l,l.return);break;case 12:Ja(s,l);break;case 13:Ja(s,l),d&4&&$x(s,l),d&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=uR.bind(null,l),CR(s,l))));break;case 22:if(d=l.memoizedState!==null||ia,!d){r=r!==null&&r.memoizedState!==null||en,v=ia;var b=en;ia=d,(en=r)&&!b?eo(s,l,(l.subtreeFlags&8772)!==0):Ja(s,l),ia=v,en=b}break;case 30:break;default:Ja(s,l)}}function Wx(s){var r=s.alternate;r!==null&&(s.alternate=null,Wx(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&Lr(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var kt=null,Si=!1;function sa(s,r,l){for(l=l.child;l!==null;)Kx(s,r,l),l=l.sibling}function Kx(s,r,l){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(ts,l)}catch{}switch(l.tag){case 26:en||mr(l,r),sa(s,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:en||mr(l,r);var d=kt,v=Si;ao(l.type)&&(kt=l.stateNode,Si=!1),sa(s,r,l),Ju(l.stateNode),kt=d,Si=v;break;case 5:en||mr(l,r);case 6:if(d=kt,v=Si,kt=null,sa(s,r,l),kt=d,Si=v,kt!==null)if(Si)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(l.stateNode)}catch(b){Nt(l,r,b)}else try{kt.removeChild(l.stateNode)}catch(b){Nt(l,r,b)}break;case 18:kt!==null&&(Si?(s=kt,Ob(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),oh(s)):Ob(kt,l.stateNode));break;case 4:d=kt,v=Si,kt=l.stateNode.containerInfo,Si=!0,sa(s,r,l),kt=d,Si=v;break;case 0:case 11:case 14:case 15:en||Qa(2,l,r),en||Qa(4,l,r),sa(s,r,l);break;case 1:en||(mr(l,r),d=l.stateNode,typeof d.componentWillUnmount=="function"&&zx(l,r,d)),sa(s,r,l);break;case 21:sa(s,r,l);break;case 22:en=(d=en)||l.memoizedState!==null,sa(s,r,l),en=d;break;default:sa(s,r,l)}}function $x(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{oh(s)}catch(l){Nt(r,r.return,l)}}function nR(s){switch(s.tag){case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new Gx),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new Gx),r;default:throw Error(i(435,s.tag))}}function Jp(s,r){var l=nR(s);r.forEach(function(d){var v=hR.bind(null,s,d);l.has(d)||(l.add(d),d.then(v,v))})}function Wi(s,r){var l=r.deletions;if(l!==null)for(var d=0;d<l.length;d++){var v=l[d],b=s,C=r,P=C;e:for(;P!==null;){switch(P.tag){case 27:if(ao(P.type)){kt=P.stateNode,Si=!1;break e}break;case 5:kt=P.stateNode,Si=!1;break e;case 3:case 4:kt=P.stateNode.containerInfo,Si=!0;break e}P=P.return}if(kt===null)throw Error(i(160));Kx(b,C,v),kt=null,Si=!1,b=v.alternate,b!==null&&(b.return=null),v.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Yx(r,s),r=r.sibling}var Fs=null;function Yx(s,r){var l=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Wi(r,s),Ki(s),d&4&&(Qa(3,s,s.return),Hu(3,s),Qa(5,s,s.return));break;case 1:Wi(r,s),Ki(s),d&512&&(en||l===null||mr(l,l.return)),d&64&&ia&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var v=Fs;if(Wi(r,s),Ki(s),d&512&&(en||l===null||mr(l,l.return)),d&4){var b=l!==null?l.memoizedState:null;if(d=s.memoizedState,l===null)if(d===null)if(s.stateNode===null){e:{d=s.type,l=s.memoizedProps,v=v.ownerDocument||v;t:switch(d){case"title":b=v.getElementsByTagName("title")[0],(!b||b[Ps]||b[Bt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=v.createElement(d),v.head.insertBefore(b,v.querySelector("head > title"))),Mn(b,d,l),b[Bt]=s,zt(b),d=b;break e;case"link":var C=qb("link","href",v).get(d+(l.href||""));if(C){for(var P=0;P<C.length;P++)if(b=C[P],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice(P,1);break t}}b=v.createElement(d),Mn(b,d,l),v.head.appendChild(b);break;case"meta":if(C=qb("meta","content",v).get(d+(l.content||""))){for(P=0;P<C.length;P++)if(b=C[P],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice(P,1);break t}}b=v.createElement(d),Mn(b,d,l),v.head.appendChild(b);break;default:throw Error(i(468,d))}b[Bt]=s,zt(b),d=b}s.stateNode=d}else Gb(v,s.type,s.stateNode);else s.stateNode=Hb(v,d,s.memoizedProps);else b!==d?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,d===null?Gb(v,s.type,s.stateNode):Hb(v,d,s.memoizedProps)):d===null&&s.stateNode!==null&&$p(s,s.memoizedProps,l.memoizedProps)}break;case 27:Wi(r,s),Ki(s),d&512&&(en||l===null||mr(l,l.return)),l!==null&&d&4&&$p(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Wi(r,s),Ki(s),d&512&&(en||l===null||mr(l,l.return)),s.flags&32){v=s.stateNode;try{wn(v,"")}catch(ae){Nt(s,s.return,ae)}}d&4&&s.stateNode!=null&&(v=s.memoizedProps,$p(s,v,l!==null?l.memoizedProps:v)),d&1024&&(Qp=!0);break;case 6:if(Wi(r,s),Ki(s),d&4){if(s.stateNode===null)throw Error(i(162));d=s.memoizedProps,l=s.stateNode;try{l.nodeValue=d}catch(ae){Nt(s,s.return,ae)}}break;case 3:if(df=null,v=Fs,Fs=uf(r.containerInfo),Wi(r,s),Fs=v,Ki(s),d&4&&l!==null&&l.memoizedState.isDehydrated)try{oh(r.containerInfo)}catch(ae){Nt(s,s.return,ae)}Qp&&(Qp=!1,Xx(s));break;case 4:d=Fs,Fs=uf(s.stateNode.containerInfo),Wi(r,s),Ki(s),Fs=d;break;case 12:Wi(r,s),Ki(s);break;case 13:Wi(r,s),Ki(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(rg=_n()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Jp(s,d)));break;case 22:v=s.memoizedState!==null;var Z=l!==null&&l.memoizedState!==null,ie=ia,fe=en;if(ia=ie||v,en=fe||Z,Wi(r,s),en=fe,ia=ie,Ki(s),d&8192)e:for(r=s.stateNode,r._visibility=v?r._visibility&-2:r._visibility|1,v&&(l===null||Z||ia||en||fl(s)),l=null,r=s;;){if(r.tag===5||r.tag===26){if(l===null){Z=l=r;try{if(b=Z.stateNode,v)C=b.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{P=Z.stateNode;var ge=Z.memoizedProps.style,se=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;P.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(ae){Nt(Z,Z.return,ae)}}}else if(r.tag===6){if(l===null){Z=r;try{Z.stateNode.nodeValue=v?"":Z.memoizedProps}catch(ae){Nt(Z,Z.return,ae)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}d&4&&(d=s.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,Jp(s,l))));break;case 19:Wi(r,s),Ki(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Jp(s,d)));break;case 30:break;case 21:break;default:Wi(r,s),Ki(s)}}function Ki(s){var r=s.flags;if(r&2){try{for(var l,d=s.return;d!==null;){if(Hx(d)){l=d;break}d=d.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var v=l.stateNode,b=Yp(s);Yd(s,b,v);break;case 5:var C=l.stateNode;l.flags&32&&(wn(C,""),l.flags&=-33);var P=Yp(s);Yd(s,P,C);break;case 3:case 4:var Z=l.stateNode.containerInfo,ie=Yp(s);Xp(s,ie,Z);break;default:throw Error(i(161))}}catch(fe){Nt(s,s.return,fe)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function Xx(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;Xx(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Ja(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Zx(s,r.alternate,r),r=r.sibling}function fl(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Qa(4,r,r.return),fl(r);break;case 1:mr(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&zx(r,r.return,l),fl(r);break;case 27:Ju(r.stateNode);case 26:case 5:mr(r,r.return),fl(r);break;case 22:r.memoizedState===null&&fl(r);break;case 30:fl(r);break;default:fl(r)}s=s.sibling}}function eo(s,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var d=r.alternate,v=s,b=r,C=b.flags;switch(b.tag){case 0:case 11:case 15:eo(v,b,l),Hu(4,b);break;case 1:if(eo(v,b,l),d=b,v=d.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ie){Nt(d,d.return,ie)}if(d=b,v=d.updateQueue,v!==null){var P=d.stateNode;try{var Z=v.shared.hiddenCallbacks;if(Z!==null)for(v.shared.hiddenCallbacks=null,v=0;v<Z.length;v++)A_(Z[v],P)}catch(ie){Nt(d,d.return,ie)}}l&&C&64&&Bx(b),qu(b,b.return);break;case 27:qx(b);case 26:case 5:eo(v,b,l),l&&d===null&&C&4&&Fx(b),qu(b,b.return);break;case 12:eo(v,b,l);break;case 13:eo(v,b,l),l&&C&4&&$x(v,b);break;case 22:b.memoizedState===null&&eo(v,b,l),qu(b,b.return);break;case 30:break;default:eo(v,b,l)}r=r.sibling}}function eg(s,r){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Ru(l))}function tg(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Ru(s))}function pr(s,r,l,d){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Qx(s,r,l,d),r=r.sibling}function Qx(s,r,l,d){var v=r.flags;switch(r.tag){case 0:case 11:case 15:pr(s,r,l,d),v&2048&&Hu(9,r);break;case 1:pr(s,r,l,d);break;case 3:pr(s,r,l,d),v&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Ru(s)));break;case 12:if(v&2048){pr(s,r,l,d),s=r.stateNode;try{var b=r.memoizedProps,C=b.id,P=b.onPostCommit;typeof P=="function"&&P(C,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Z){Nt(r,r.return,Z)}}else pr(s,r,l,d);break;case 13:pr(s,r,l,d);break;case 23:break;case 22:b=r.stateNode,C=r.alternate,r.memoizedState!==null?b._visibility&2?pr(s,r,l,d):Gu(s,r):b._visibility&2?pr(s,r,l,d):(b._visibility|=2,dc(s,r,l,d,(r.subtreeFlags&10256)!==0)),v&2048&&eg(C,r);break;case 24:pr(s,r,l,d),v&2048&&tg(r.alternate,r);break;default:pr(s,r,l,d)}}function dc(s,r,l,d,v){for(v=v&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var b=s,C=r,P=l,Z=d,ie=C.flags;switch(C.tag){case 0:case 11:case 15:dc(b,C,P,Z,v),Hu(8,C);break;case 23:break;case 22:var fe=C.stateNode;C.memoizedState!==null?fe._visibility&2?dc(b,C,P,Z,v):Gu(b,C):(fe._visibility|=2,dc(b,C,P,Z,v)),v&&ie&2048&&eg(C.alternate,C);break;case 24:dc(b,C,P,Z,v),v&&ie&2048&&tg(C.alternate,C);break;default:dc(b,C,P,Z,v)}r=r.sibling}}function Gu(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=s,d=r,v=d.flags;switch(d.tag){case 22:Gu(l,d),v&2048&&eg(d.alternate,d);break;case 24:Gu(l,d),v&2048&&tg(d.alternate,d);break;default:Gu(l,d)}r=r.sibling}}var Zu=8192;function fc(s){if(s.subtreeFlags&Zu)for(s=s.child;s!==null;)Jx(s),s=s.sibling}function Jx(s){switch(s.tag){case 26:fc(s),s.flags&Zu&&s.memoizedState!==null&&zR(Fs,s.memoizedState,s.memoizedProps);break;case 5:fc(s);break;case 3:case 4:var r=Fs;Fs=uf(s.stateNode.containerInfo),fc(s),Fs=r;break;case 22:s.memoizedState===null&&(r=s.alternate,r!==null&&r.memoizedState!==null?(r=Zu,Zu=16777216,fc(s),Zu=r):fc(s));break;default:fc(s)}}function eb(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Wu(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var d=r[l];Rn=d,nb(d,s)}eb(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)tb(s),s=s.sibling}function tb(s){switch(s.tag){case 0:case 11:case 15:Wu(s),s.flags&2048&&Qa(9,s,s.return);break;case 3:Wu(s);break;case 12:Wu(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Xd(s)):Wu(s);break;default:Wu(s)}}function Xd(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var d=r[l];Rn=d,nb(d,s)}eb(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Qa(8,r,r.return),Xd(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,Xd(r));break;default:Xd(r)}s=s.sibling}}function nb(s,r){for(;Rn!==null;){var l=Rn;switch(l.tag){case 0:case 11:case 15:Qa(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Ru(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,Rn=d;else e:for(l=s;Rn!==null;){d=Rn;var v=d.sibling,b=d.return;if(Wx(d),d===l){Rn=null;break e}if(v!==null){v.return=b,Rn=v;break e}Rn=b}}}var iR={getCacheForType:function(s){var r=Hn(pn),l=r.data.get(s);return l===void 0&&(l=s(),r.data.set(s,l)),l}},sR=typeof WeakMap=="function"?WeakMap:Map,xt=0,Pt=null,rt=null,mt=0,bt=0,$i=null,to=!1,mc=!1,ng=!1,ra=0,Kt=0,no=0,ml=0,ig=0,ys=0,pc=0,Ku=null,Ai=null,sg=!1,rg=0,Qd=1/0,Jd=null,io=null,Ln=0,so=null,gc=null,yc=0,ag=0,og=null,ib=null,$u=0,lg=null;function Yi(){if((xt&2)!==0&&mt!==0)return mt&-mt;if(J.T!==null){var s=sc;return s!==0?s:pg()}return Cs()}function sb(){ys===0&&(ys=(mt&536870912)===0||Ke?zo():536870912);var s=gs.current;return s!==null&&(s.flags|=32),ys}function Xi(s,r,l){(s===Pt&&(bt===2||bt===9)||s.cancelPendingCommit!==null)&&(vc(s,0),ro(s,mt,ys,!1)),Lt(s,l),((xt&2)===0||s!==Pt)&&(s===Pt&&((xt&2)===0&&(ml|=l),Kt===4&&ro(s,mt,ys,!1)),gr(s))}function rb(s,r,l){if((xt&6)!==0)throw Error(i(327));var d=!l&&(r&124)===0&&(r&s.expiredLanes)===0||yi(s,r),v=d?oR(s,r):hg(s,r,!0),b=d;do{if(v===0){mc&&!d&&ro(s,r,0,!1);break}else{if(l=s.current.alternate,b&&!rR(l)){v=hg(s,r,!1),b=!1;continue}if(v===2){if(b=r,s.errorRecoveryDisabledLanes&b)var C=0;else C=s.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){r=C;e:{var P=s;v=Ku;var Z=P.current.memoizedState.isDehydrated;if(Z&&(vc(P,C).flags|=256),C=hg(P,C,!1),C!==2){if(ng&&!Z){P.errorRecoveryDisabledLanes|=b,ml|=b,v=4;break e}b=Ai,Ai=v,b!==null&&(Ai===null?Ai=b:Ai.push.apply(Ai,b))}v=C}if(b=!1,v!==2)continue}}if(v===1){vc(s,0),ro(s,r,0,!0);break}e:{switch(d=s,b=v,b){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:ro(d,r,ys,!to);break e;case 2:Ai=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(v=rg+300-_n(),10<v)){if(ro(d,r,ys,!to),gi(d,0,!0)!==0)break e;d.timeoutHandle=Lb(ab.bind(null,d,l,Ai,Jd,sg,r,ys,ml,pc,to,b,2,-0,0),v);break e}ab(d,l,Ai,Jd,sg,r,ys,ml,pc,to,b,0,-0,0)}}break}while(!0);gr(s)}function ab(s,r,l,d,v,b,C,P,Z,ie,fe,ge,se,ae){if(s.timeoutHandle=-1,ge=r.subtreeFlags,(ge&8192||(ge&16785408)===16785408)&&(nh={stylesheets:null,count:0,unsuspend:BR},Jx(r),ge=FR(),ge!==null)){s.cancelPendingCommit=ge(fb.bind(null,s,r,b,l,d,v,C,P,Z,fe,1,se,ae)),ro(s,b,C,!ie);return}fb(s,r,b,l,d,v,C,P,Z)}function rR(s){for(var r=s;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var v=l[d],b=v.getSnapshot;v=v.value;try{if(!li(b(),v))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ro(s,r,l,d){r&=~ig,r&=~ml,s.suspendedLanes|=r,s.pingedLanes&=~r,d&&(s.warmLanes|=r),d=s.expirationTimes;for(var v=r;0<v;){var b=31-In(v),C=1<<b;d[b]=-1,v&=~C}l!==0&&er(s,l,r)}function ef(){return(xt&6)===0?(Yu(0),!1):!0}function cg(){if(rt!==null){if(bt===0)var s=rt.return;else s=rt,Bs=ps=null,Ap(s),uc=null,Bu=0,s=rt;for(;s!==null;)Ux(s.alternate,s),s=s.return;rt=null}}function vc(s,r){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,TR(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),cg(),Pt=s,rt=l=ms(s.current,null),mt=r,bt=0,$i=null,to=!1,mc=yi(s,r),ng=!1,pc=ys=ig=ml=no=Kt=0,Ai=Ku=null,sg=!1,(r&8)!==0&&(r|=r&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=r;0<d;){var v=31-In(d),b=1<<v;r|=s[v],d&=~b}return ra=r,nl(),l}function ob(s,r){tt=null,J.H=zd,r===ju||r===jd?(r=E_(),bt=3):r===b_?(r=E_(),bt=4):bt=r===Sx?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,$i=r,rt===null&&(Kt=1,Zd(s,ui(r,s.current)))}function lb(){var s=J.H;return J.H=zd,s===null?zd:s}function cb(){var s=J.A;return J.A=iR,s}function ug(){Kt=4,to||(mt&4194048)!==mt&&gs.current!==null||(mc=!0),(no&134217727)===0&&(ml&134217727)===0||Pt===null||ro(Pt,mt,ys,!1)}function hg(s,r,l){var d=xt;xt|=2;var v=lb(),b=cb();(Pt!==s||mt!==r)&&(Jd=null,vc(s,r)),r=!1;var C=Kt;e:do try{if(bt!==0&&rt!==null){var P=rt,Z=$i;switch(bt){case 8:cg(),C=6;break e;case 3:case 2:case 9:case 6:gs.current===null&&(r=!0);var ie=bt;if(bt=0,$i=null,_c(s,P,Z,ie),l&&mc){C=0;break e}break;default:ie=bt,bt=0,$i=null,_c(s,P,Z,ie)}}aR(),C=Kt;break}catch(fe){ob(s,fe)}while(!0);return r&&s.shellSuspendCounter++,Bs=ps=null,xt=d,J.H=v,J.A=b,rt===null&&(Pt=null,mt=0,nl()),C}function aR(){for(;rt!==null;)ub(rt)}function oR(s,r){var l=xt;xt|=2;var d=lb(),v=cb();Pt!==s||mt!==r?(Jd=null,Qd=_n()+500,vc(s,r)):mc=yi(s,r);e:do try{if(bt!==0&&rt!==null){r=rt;var b=$i;t:switch(bt){case 1:bt=0,$i=null,_c(s,r,b,1);break;case 2:case 9:if(w_(b)){bt=0,$i=null,hb(r);break}r=function(){bt!==2&&bt!==9||Pt!==s||(bt=7),gr(s)},b.then(r,r);break e;case 3:bt=7;break e;case 4:bt=5;break e;case 7:w_(b)?(bt=0,$i=null,hb(r)):(bt=0,$i=null,_c(s,r,b,7));break;case 5:var C=null;switch(rt.tag){case 26:C=rt.memoizedState;case 5:case 27:var P=rt;if(!C||Zb(C)){bt=0,$i=null;var Z=P.sibling;if(Z!==null)rt=Z;else{var ie=P.return;ie!==null?(rt=ie,tf(ie)):rt=null}break t}}bt=0,$i=null,_c(s,r,b,5);break;case 6:bt=0,$i=null,_c(s,r,b,6);break;case 8:cg(),Kt=6;break e;default:throw Error(i(462))}}lR();break}catch(fe){ob(s,fe)}while(!0);return Bs=ps=null,J.H=d,J.A=v,xt=l,rt!==null?0:(Pt=null,mt=0,nl(),Kt)}function lR(){for(;rt!==null&&!kl();)ub(rt)}function ub(s){var r=kx(s.alternate,s,ra);s.memoizedProps=s.pendingProps,r===null?tf(s):rt=r}function hb(s){var r=s,l=r.alternate;switch(r.tag){case 15:case 0:r=jx(l,r,r.pendingProps,r.type,void 0,mt);break;case 11:r=jx(l,r,r.pendingProps,r.type.render,r.ref,mt);break;case 5:Ap(r);default:Ux(l,r),r=rt=Nu(r,ra),r=kx(l,r,ra)}s.memoizedProps=s.pendingProps,r===null?tf(s):rt=r}function _c(s,r,l,d){Bs=ps=null,Ap(r),uc=null,Bu=0;var v=r.return;try{if(XC(s,v,r,l,mt)){Kt=1,Zd(s,ui(l,s.current)),rt=null;return}}catch(b){if(v!==null)throw rt=v,b;Kt=1,Zd(s,ui(l,s.current)),rt=null;return}r.flags&32768?(Ke||d===1?s=!0:mc||(mt&536870912)!==0?s=!1:(to=s=!0,(d===2||d===9||d===3||d===6)&&(d=gs.current,d!==null&&d.tag===13&&(d.flags|=16384))),db(r,s)):tf(r)}function tf(s){var r=s;do{if((r.flags&32768)!==0){db(r,to);return}s=r.return;var l=JC(r.alternate,r,ra);if(l!==null){rt=l;return}if(r=r.sibling,r!==null){rt=r;return}rt=r=s}while(r!==null);Kt===0&&(Kt=5)}function db(s,r){do{var l=eR(s.alternate,s);if(l!==null){l.flags&=32767,rt=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(s=s.sibling,s!==null)){rt=s;return}rt=s=l}while(s!==null);Kt=6,rt=null}function fb(s,r,l,d,v,b,C,P,Z){s.cancelPendingCommit=null;do nf();while(Ln!==0);if((xt&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(b=r.lanes|r.childLanes,b|=Zi,zl(s,l,b,C,P,Z),s===Pt&&(rt=Pt=null,mt=0),gc=r,so=s,yc=l,ag=b,og=v,ib=d,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,dR(Di,function(){return vb(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||d){d=J.T,J.T=null,v=de.p,de.p=2,C=xt,xt|=4;try{tR(s,r,l)}finally{xt=C,de.p=v,J.T=d}}Ln=1,mb(),pb(),gb()}}function mb(){if(Ln===1){Ln=0;var s=so,r=gc,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=J.T,J.T=null;var d=de.p;de.p=2;var v=xt;xt|=4;try{Yx(r,s);var b=Tg,C=Jo(s.containerInfo),P=b.focusedElem,Z=b.selectionRange;if(C!==P&&P&&P.ownerDocument&&Yl(P.ownerDocument.documentElement,P)){if(Z!==null&&el(P)){var ie=Z.start,fe=Z.end;if(fe===void 0&&(fe=ie),"selectionStart"in P)P.selectionStart=ie,P.selectionEnd=Math.min(fe,P.value.length);else{var ge=P.ownerDocument||document,se=ge&&ge.defaultView||window;if(se.getSelection){var ae=se.getSelection(),Ze=P.textContent.length,Be=Math.min(Z.start,Ze),St=Z.end===void 0?Be:Math.min(Z.end,Ze);!ae.extend&&Be>St&&(C=St,St=Be,Be=C);var Q=Su(P,Be),K=Su(P,St);if(Q&&K&&(ae.rangeCount!==1||ae.anchorNode!==Q.node||ae.anchorOffset!==Q.offset||ae.focusNode!==K.node||ae.focusOffset!==K.offset)){var ne=ge.createRange();ne.setStart(Q.node,Q.offset),ae.removeAllRanges(),Be>St?(ae.addRange(ne),ae.extend(K.node,K.offset)):(ne.setEnd(K.node,K.offset),ae.addRange(ne))}}}}for(ge=[],ae=P;ae=ae.parentNode;)ae.nodeType===1&&ge.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<ge.length;P++){var me=ge[P];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}pf=!!wg,Tg=wg=null}finally{xt=v,de.p=d,J.T=l}}s.current=r,Ln=2}}function pb(){if(Ln===2){Ln=0;var s=so,r=gc,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=J.T,J.T=null;var d=de.p;de.p=2;var v=xt;xt|=4;try{Zx(s,r.alternate,r)}finally{xt=v,de.p=d,J.T=l}}Ln=3}}function gb(){if(Ln===4||Ln===3){Ln=0,wa();var s=so,r=gc,l=yc,d=ib;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ln=5:(Ln=0,gc=so=null,yb(s,s.pendingLanes));var v=s.pendingLanes;if(v===0&&(io=null),Ho(l),r=r.stateNode,hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(ts,r,void 0,(r.current.flags&128)===128)}catch{}if(d!==null){r=J.T,v=de.p,de.p=2,J.T=null;try{for(var b=s.onRecoverableError,C=0;C<d.length;C++){var P=d[C];b(P.value,{componentStack:P.stack})}}finally{J.T=r,de.p=v}}(yc&3)!==0&&nf(),gr(s),v=s.pendingLanes,(l&4194090)!==0&&(v&42)!==0?s===lg?$u++:($u=0,lg=s):$u=0,Yu(0)}}function yb(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Ru(r)))}function nf(s){return mb(),pb(),gb(),vb()}function vb(){if(Ln!==5)return!1;var s=so,r=ag;ag=0;var l=Ho(yc),d=J.T,v=de.p;try{de.p=32>l?32:l,J.T=null,l=og,og=null;var b=so,C=yc;if(Ln=0,gc=so=null,yc=0,(xt&6)!==0)throw Error(i(331));var P=xt;if(xt|=4,tb(b.current),Qx(b,b.current,C,l),xt=P,Yu(0,!1),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(ts,b)}catch{}return!0}finally{de.p=v,J.T=d,yb(s,r)}}function _b(s,r,l){r=ui(l,r),r=Bp(s.stateNode,r,2),s=Ka(s,r,2),s!==null&&(Lt(s,2),gr(s))}function Nt(s,r,l){if(s.tag===3)_b(s,s,l);else for(;r!==null;){if(r.tag===3){_b(r,s,l);break}else if(r.tag===1){var d=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(io===null||!io.has(d))){s=ui(l,s),l=Tx(2),d=Ka(r,l,2),d!==null&&(Ex(l,d,r,s),Lt(d,2),gr(d));break}}r=r.return}}function dg(s,r,l){var d=s.pingCache;if(d===null){d=s.pingCache=new sR;var v=new Set;d.set(r,v)}else v=d.get(r),v===void 0&&(v=new Set,d.set(r,v));v.has(l)||(ng=!0,v.add(l),s=cR.bind(null,s,r,l),r.then(s,s))}function cR(s,r,l){var d=s.pingCache;d!==null&&d.delete(r),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,Pt===s&&(mt&l)===l&&(Kt===4||Kt===3&&(mt&62914560)===mt&&300>_n()-rg?(xt&2)===0&&vc(s,0):ig|=l,pc===mt&&(pc=0)),gr(s)}function xb(s,r){r===0&&(r=Ns()),s=Fa(s,r),s!==null&&(Lt(s,r),gr(s))}function uR(s){var r=s.memoizedState,l=0;r!==null&&(l=r.retryLane),xb(s,l)}function hR(s,r){var l=0;switch(s.tag){case 13:var d=s.stateNode,v=s.memoizedState;v!==null&&(l=v.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(r),xb(s,l)}function dR(s,r){return As(s,r)}var sf=null,xc=null,fg=!1,rf=!1,mg=!1,pl=0;function gr(s){s!==xc&&s.next===null&&(xc===null?sf=xc=s:xc=xc.next=s),rf=!0,fg||(fg=!0,mR())}function Yu(s,r){if(!mg&&rf){mg=!0;do for(var l=!1,d=sf;d!==null;){if(s!==0){var v=d.pendingLanes;if(v===0)var b=0;else{var C=d.suspendedLanes,P=d.pingedLanes;b=(1<<31-In(42|s)+1)-1,b&=v&~(C&~P),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,Eb(d,b))}else b=mt,b=gi(d,d===Pt?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||yi(d,b)||(l=!0,Eb(d,b));d=d.next}while(l);mg=!1}}function fR(){bb()}function bb(){rf=fg=!1;var s=0;pl!==0&&(wR()&&(s=pl),pl=0);for(var r=_n(),l=null,d=sf;d!==null;){var v=d.next,b=wb(d,r);b===0?(d.next=null,l===null?sf=v:l.next=v,v===null&&(xc=l)):(l=d,(s!==0||(b&3)!==0)&&(rf=!0)),d=v}Yu(s)}function wb(s,r){for(var l=s.suspendedLanes,d=s.pingedLanes,v=s.expirationTimes,b=s.pendingLanes&-62914561;0<b;){var C=31-In(b),P=1<<C,Z=v[C];Z===-1?((P&l)===0||(P&d)!==0)&&(v[C]=Ea(P,r)):Z<=r&&(s.expiredLanes|=P),b&=~P}if(r=Pt,l=mt,l=gi(s,s===r?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,l===0||s===r&&(bt===2||bt===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&ba(d),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||yi(s,l)){if(r=l&-l,r===s.callbackPriority)return r;switch(d!==null&&ba(d),Ho(l)){case 2:case 8:l=Qt;break;case 32:l=Di;break;case 268435456:l=Ta;break;default:l=Di}return d=Tb.bind(null,s),l=As(l,d),s.callbackPriority=r,s.callbackNode=l,r}return d!==null&&d!==null&&ba(d),s.callbackPriority=2,s.callbackNode=null,2}function Tb(s,r){if(Ln!==0&&Ln!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(nf()&&s.callbackNode!==l)return null;var d=mt;return d=gi(s,s===Pt?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(rb(s,d,r),wb(s,_n()),s.callbackNode!=null&&s.callbackNode===l?Tb.bind(null,s):null)}function Eb(s,r){if(nf())return null;rb(s,r,!0)}function mR(){ER(function(){(xt&6)!==0?As(Xt,fR):bb()})}function pg(){return pl===0&&(pl=zo()),pl}function Sb(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ii(""+s)}function Ab(s,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,s.id&&l.setAttribute("form",s.id),r.parentNode.insertBefore(l,r),s=new FormData(s),l.parentNode.removeChild(l),s}function pR(s,r,l,d,v){if(r==="submit"&&l&&l.stateNode===v){var b=Sb((v[dn]||null).action),C=d.submitter;C&&(r=(r=C[dn]||null)?Sb(r.formAction):C.getAttribute("formAction"),r!==null&&(b=r,C=null));var P=new or("action","action",null,d,v);s.push({event:P,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(pl!==0){var Z=C?Ab(v,C):new FormData(v);Mp(l,{pending:!0,data:Z,method:v.method,action:b},null,Z)}}else typeof b=="function"&&(P.preventDefault(),Z=C?Ab(v,C):new FormData(v),Mp(l,{pending:!0,data:Z,method:v.method,action:b},b,Z))},currentTarget:v}]})}}for(var gg=0;gg<Kr.length;gg++){var yg=Kr[gg],gR=yg.toLowerCase(),yR=yg[0].toUpperCase()+yg.slice(1);Gi(gR,"on"+yR)}Gi(wd,"onAnimationEnd"),Gi(qi,"onAnimationIteration"),Gi(tl,"onAnimationStart"),Gi("dblclick","onDoubleClick"),Gi("focusin","onFocus"),Gi("focusout","onBlur"),Gi(up,"onTransitionRun"),Gi(ec,"onTransitionStart"),Gi(hp,"onTransitionCancel"),Gi(Au,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ss("onBeforeInput",["compositionend","keypress","textInput","paste"]),ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xu));function Nb(s,r){r=(r&4)!==0;for(var l=0;l<s.length;l++){var d=s[l],v=d.event;d=d.listeners;e:{var b=void 0;if(r)for(var C=d.length-1;0<=C;C--){var P=d[C],Z=P.instance,ie=P.currentTarget;if(P=P.listener,Z!==b&&v.isPropagationStopped())break e;b=P,v.currentTarget=ie;try{b(v)}catch(fe){Gd(fe)}v.currentTarget=null,b=Z}else for(C=0;C<d.length;C++){if(P=d[C],Z=P.instance,ie=P.currentTarget,P=P.listener,Z!==b&&v.isPropagationStopped())break e;b=P,v.currentTarget=ie;try{b(v)}catch(fe){Gd(fe)}v.currentTarget=null,b=Z}}}}function at(s,r){var l=r[xn];l===void 0&&(l=r[xn]=new Set);var d=s+"__bubble";l.has(d)||(Cb(r,s,2,!1),l.add(d))}function vg(s,r,l){var d=0;r&&(d|=4),Cb(l,s,d,r)}var af="_reactListening"+Math.random().toString(36).slice(2);function _g(s){if(!s[af]){s[af]=!0,Hl.forEach(function(l){l!=="selectionchange"&&(vR.has(l)||vg(l,!1,s),vg(l,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[af]||(r[af]=!0,vg("selectionchange",!1,r))}}function Cb(s,r,l,d){switch(Qb(r)){case 2:var v=GR;break;case 8:v=ZR;break;default:v=Dg}l=v.bind(null,r,l,s),v=void 0,!ki||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(v=!0),d?v!==void 0?s.addEventListener(r,l,{capture:!0,passive:v}):s.addEventListener(r,l,!0):v!==void 0?s.addEventListener(r,l,{passive:v}):s.addEventListener(r,l,!1)}function xg(s,r,l,d,v){var b=d;if((r&1)===0&&(r&2)===0&&d!==null)e:for(;;){if(d===null)return;var C=d.tag;if(C===3||C===4){var P=d.stateNode.containerInfo;if(P===v)break;if(C===4)for(C=d.return;C!==null;){var Z=C.tag;if((Z===3||Z===4)&&C.stateNode.containerInfo===v)return;C=C.return}for(;P!==null;){if(C=_i(P),C===null)return;if(Z=C.tag,Z===5||Z===6||Z===26||Z===27){d=b=C;continue e}P=P.parentNode}}d=d.return}Tn(function(){var ie=b,fe=sr(l),ge=[];e:{var se=Td.get(s);if(se!==void 0){var ae=or,Ze=s;switch(s){case"keypress":if(Dt(l)===0)break e;case"keydown":case"keyup":ae=Ia;break;case"focusin":Ze="focus",ae=Ca;break;case"focusout":Ze="blur",ae=Ca;break;case"beforeblur":case"afterblur":ae=Ca;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Vi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=Zl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=lr;break;case wd:case qi:case tl:ae=Wo;break;case Au:ae=E;break;case"scroll":case"scrollend":ae=Hr;break;case"wheel":ae=D;break;case"copy":case"cut":case"paste":ae=Ra;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Da;break;case"toggle":case"beforetoggle":ae=re}var Be=(r&4)!==0,St=!Be&&(s==="scroll"||s==="scrollend"),Q=Be?se!==null?se+"Capture":null:se;Be=[];for(var K=ie,ne;K!==null;){var me=K;if(ne=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||ne===null||Q===null||(me=dt(K,Q),me!=null&&Be.push(Qu(K,me,ne))),St)break;K=K.return}0<Be.length&&(se=new ae(se,Ze,null,l,fe),ge.push({event:se,listeners:Be}))}}if((r&7)===0){e:{if(se=s==="mouseover"||s==="pointerover",ae=s==="mouseout"||s==="pointerout",se&&l!==Fr&&(Ze=l.relatedTarget||l.fromElement)&&(_i(Ze)||Ze[Rs]))break e;if((ae||se)&&(se=fe.window===fe?fe:(se=fe.ownerDocument)?se.defaultView||se.parentWindow:window,ae?(Ze=l.relatedTarget||l.toElement,ae=ie,Ze=Ze?_i(Ze):null,Ze!==null&&(St=c(Ze),Be=Ze.tag,Ze!==St||Be!==5&&Be!==27&&Be!==6)&&(Ze=null)):(ae=null,Ze=ie),ae!==Ze)){if(Be=Vi,me="onMouseLeave",Q="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(Be=Da,me="onPointerLeave",Q="onPointerEnter",K="pointer"),St=ae==null?se:Jn(ae),ne=Ze==null?se:Jn(Ze),se=new Be(me,K+"leave",ae,l,fe),se.target=St,se.relatedTarget=ne,me=null,_i(fe)===ie&&(Be=new Be(Q,K+"enter",Ze,l,fe),Be.target=ne,Be.relatedTarget=St,me=Be),St=me,ae&&Ze)t:{for(Be=ae,Q=Ze,K=0,ne=Be;ne;ne=bc(ne))K++;for(ne=0,me=Q;me;me=bc(me))ne++;for(;0<K-ne;)Be=bc(Be),K--;for(;0<ne-K;)Q=bc(Q),ne--;for(;K--;){if(Be===Q||Q!==null&&Be===Q.alternate)break t;Be=bc(Be),Q=bc(Q)}Be=null}else Be=null;ae!==null&&Rb(ge,se,ae,Be,!1),Ze!==null&&St!==null&&Rb(ge,St,Ze,Be,!0)}}e:{if(se=ie?Jn(ie):window,ae=se.nodeName&&se.nodeName.toLowerCase(),ae==="select"||ae==="input"&&se.type==="file")var Le=Oa;else if(Zr(se))if(wu)Le=cp;else{Le=lp;var it=Eu}else ae=se.nodeName,!ae||ae.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?ie&&ir(ie.elementType)&&(Le=Oa):Le=Us;if(Le&&(Le=Le(s,ie))){vd(ge,Le,l,fe);break e}it&&it(s,se,ie),s==="focusout"&&ie&&se.type==="number"&&ie.memoizedProps.value!=null&&nr(se,"number",se.value)}switch(it=ie?Jn(ie):window,s){case"focusin":(Zr(it)||it.contentEditable==="true")&&(Hi=it,Ua=ie,Wr=null);break;case"focusout":Wr=Ua=Hi=null;break;case"mousedown":Ql=!0;break;case"contextmenu":case"mouseup":case"dragend":Ql=!1,xd(ge,l,fe);break;case"selectionchange":if(Xl)break;case"keydown":case"keyup":xd(ge,l,fe)}var ke;if(Fe)e:{switch(s){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else zi?ai(s,l)&&(He="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(He="onCompositionStart");He&&(Mt&&l.locale!=="ko"&&(zi||He!=="onCompositionStart"?He==="onCompositionEnd"&&zi&&(ke=ar()):(zn=fe,ft="value"in zn?zn.value:zn.textContent,zi=!0)),it=of(ie,He),0<it.length&&(He=new Fn(He,s,null,l,fe),ge.push({event:He,listeners:it}),ke?He.data=ke:(ke=Bi(l),ke!==null&&(He.data=ke)))),(ke=gt?La(s,l):op(s,l))&&(He=of(ie,"onBeforeInput"),0<He.length&&(it=new Fn("onBeforeInput","beforeinput",null,l,fe),ge.push({event:it,listeners:He}),it.data=ke)),pR(ge,s,ie,l,fe)}Nb(ge,r)})}function Qu(s,r,l){return{instance:s,listener:r,currentTarget:l}}function of(s,r){for(var l=r+"Capture",d=[];s!==null;){var v=s,b=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||b===null||(v=dt(s,l),v!=null&&d.unshift(Qu(s,v,b)),v=dt(s,r),v!=null&&d.push(Qu(s,v,b))),s.tag===3)return d;s=s.return}return[]}function bc(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Rb(s,r,l,d,v){for(var b=r._reactName,C=[];l!==null&&l!==d;){var P=l,Z=P.alternate,ie=P.stateNode;if(P=P.tag,Z!==null&&Z===d)break;P!==5&&P!==26&&P!==27||ie===null||(Z=ie,v?(ie=dt(l,b),ie!=null&&C.unshift(Qu(l,ie,Z))):v||(ie=dt(l,b),ie!=null&&C.push(Qu(l,ie,Z)))),l=l.return}C.length!==0&&s.push({event:r,listeners:C})}var _R=/\r\n?/g,xR=/\u0000|\uFFFD/g;function Pb(s){return(typeof s=="string"?s:""+s).replace(_R,`
`).replace(xR,"")}function jb(s,r){return r=Pb(r),Pb(s)===r}function lf(){}function Et(s,r,l,d,v,b){switch(l){case"children":typeof d=="string"?r==="body"||r==="textarea"&&d===""||wn(s,d):(typeof d=="number"||typeof d=="bigint")&&r!=="body"&&wn(s,""+d);break;case"className":Vr(s,"class",d);break;case"tabIndex":Vr(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Vr(s,l,d);break;case"style":Ls(s,d,b);break;case"data":if(r!=="object"){Vr(s,"data",d);break}case"src":case"href":if(d===""&&(r!=="a"||l!=="href")){s.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(l);break}d=ii(""+d),s.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(r!=="input"&&Et(s,r,"name",v.name,v,null),Et(s,r,"formEncType",v.formEncType,v,null),Et(s,r,"formMethod",v.formMethod,v,null),Et(s,r,"formTarget",v.formTarget,v,null)):(Et(s,r,"encType",v.encType,v,null),Et(s,r,"method",v.method,v,null),Et(s,r,"target",v.target,v,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(l);break}d=ii(""+d),s.setAttribute(l,d);break;case"onClick":d!=null&&(s.onclick=lf);break;case"onScroll":d!=null&&at("scroll",s);break;case"onScrollEnd":d!=null&&at("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(l=d.__html,l!=null){if(v.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}l=ii(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(l,""+d):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":d===!0?s.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(l,d):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(l,d):s.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(l):s.setAttribute(l,d);break;case"popover":at("beforetoggle",s),at("toggle",s),kr(s,"popover",d);break;case"xlinkActuate":xi(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":xi(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":xi(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":xi(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":xi(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":xi(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":xi(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":xi(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":xi(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":kr(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Aa.get(l)||l,kr(s,l,d))}}function bg(s,r,l,d,v,b){switch(l){case"style":Ls(s,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(l=d.__html,l!=null){if(v.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof d=="string"?wn(s,d):(typeof d=="number"||typeof d=="bigint")&&wn(s,""+d);break;case"onScroll":d!=null&&at("scroll",s);break;case"onScrollEnd":d!=null&&at("scrollend",s);break;case"onClick":d!=null&&(s.onclick=lf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(v=l.endsWith("Capture"),r=l.slice(2,v?l.length-7:void 0),b=s[dn]||null,b=b!=null?b[l]:null,typeof b=="function"&&s.removeEventListener(r,b,v),typeof d=="function")){typeof b!="function"&&b!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(r,d,v);break e}l in s?s[l]=d:d===!0?s.setAttribute(l,""):kr(s,l,d)}}}function Mn(s,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",s),at("load",s);var d=!1,v=!1,b;for(b in l)if(l.hasOwnProperty(b)){var C=l[b];if(C!=null)switch(b){case"src":d=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Et(s,r,b,C,l,null)}}v&&Et(s,r,"srcSet",l.srcSet,l,null),d&&Et(s,r,"src",l.src,l,null);return;case"input":at("invalid",s);var P=b=C=v=null,Z=null,ie=null;for(d in l)if(l.hasOwnProperty(d)){var fe=l[d];if(fe!=null)switch(d){case"name":v=fe;break;case"type":C=fe;break;case"checked":Z=fe;break;case"defaultChecked":ie=fe;break;case"value":b=fe;break;case"defaultValue":P=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(i(137,r));break;default:Et(s,r,d,fe,l,null)}}Go(s,b,P,Z,ie,C,v,!1),ls(s);return;case"select":at("invalid",s),d=C=b=null;for(v in l)if(l.hasOwnProperty(v)&&(P=l[v],P!=null))switch(v){case"value":b=P;break;case"defaultValue":C=P;break;case"multiple":d=P;default:Et(s,r,v,P,l,null)}r=b,l=C,s.multiple=!!d,r!=null?Bn(s,!!d,r,!1):l!=null&&Bn(s,!!d,l,!0);return;case"textarea":at("invalid",s),b=v=d=null;for(C in l)if(l.hasOwnProperty(C)&&(P=l[C],P!=null))switch(C){case"value":d=P;break;case"defaultValue":v=P;break;case"children":b=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(i(91));break;default:Et(s,r,C,P,l,null)}cs(s,d,v,b),ls(s);return;case"option":for(Z in l)if(l.hasOwnProperty(Z)&&(d=l[Z],d!=null))switch(Z){case"selected":s.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Et(s,r,Z,d,l,null)}return;case"dialog":at("beforetoggle",s),at("toggle",s),at("cancel",s),at("close",s);break;case"iframe":case"object":at("load",s);break;case"video":case"audio":for(d=0;d<Xu.length;d++)at(Xu[d],s);break;case"image":at("error",s),at("load",s);break;case"details":at("toggle",s);break;case"embed":case"source":case"link":at("error",s),at("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in l)if(l.hasOwnProperty(ie)&&(d=l[ie],d!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Et(s,r,ie,d,l,null)}return;default:if(ir(r)){for(fe in l)l.hasOwnProperty(fe)&&(d=l[fe],d!==void 0&&bg(s,r,fe,d,l,void 0));return}}for(P in l)l.hasOwnProperty(P)&&(d=l[P],d!=null&&Et(s,r,P,d,l,null))}function bR(s,r,l,d){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,b=null,C=null,P=null,Z=null,ie=null,fe=null;for(ae in l){var ge=l[ae];if(l.hasOwnProperty(ae)&&ge!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":Z=ge;default:d.hasOwnProperty(ae)||Et(s,r,ae,null,d,ge)}}for(var se in d){var ae=d[se];if(ge=l[se],d.hasOwnProperty(se)&&(ae!=null||ge!=null))switch(se){case"type":b=ae;break;case"name":v=ae;break;case"checked":ie=ae;break;case"defaultChecked":fe=ae;break;case"value":C=ae;break;case"defaultValue":P=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,r));break;default:ae!==ge&&Et(s,r,se,ae,d,ge)}}bn(s,C,P,Z,ie,fe,b,v);return;case"select":ae=C=P=se=null;for(b in l)if(Z=l[b],l.hasOwnProperty(b)&&Z!=null)switch(b){case"value":break;case"multiple":ae=Z;default:d.hasOwnProperty(b)||Et(s,r,b,null,d,Z)}for(v in d)if(b=d[v],Z=l[v],d.hasOwnProperty(v)&&(b!=null||Z!=null))switch(v){case"value":se=b;break;case"defaultValue":P=b;break;case"multiple":C=b;default:b!==Z&&Et(s,r,v,b,d,Z)}r=P,l=C,d=ae,se!=null?Bn(s,!!l,se,!1):!!d!=!!l&&(r!=null?Bn(s,!!l,r,!0):Bn(s,!!l,l?[]:"",!1));return;case"textarea":ae=se=null;for(P in l)if(v=l[P],l.hasOwnProperty(P)&&v!=null&&!d.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:Et(s,r,P,null,d,v)}for(C in d)if(v=d[C],b=l[C],d.hasOwnProperty(C)&&(v!=null||b!=null))switch(C){case"value":se=v;break;case"defaultValue":ae=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==b&&Et(s,r,C,v,d,b)}It(s,se,ae);return;case"option":for(var Ze in l)if(se=l[Ze],l.hasOwnProperty(Ze)&&se!=null&&!d.hasOwnProperty(Ze))switch(Ze){case"selected":s.selected=!1;break;default:Et(s,r,Ze,null,d,se)}for(Z in d)if(se=d[Z],ae=l[Z],d.hasOwnProperty(Z)&&se!==ae&&(se!=null||ae!=null))switch(Z){case"selected":s.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:Et(s,r,Z,se,d,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in l)se=l[Be],l.hasOwnProperty(Be)&&se!=null&&!d.hasOwnProperty(Be)&&Et(s,r,Be,null,d,se);for(ie in d)if(se=d[ie],ae=l[ie],d.hasOwnProperty(ie)&&se!==ae&&(se!=null||ae!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,r));break;default:Et(s,r,ie,se,d,ae)}return;default:if(ir(r)){for(var St in l)se=l[St],l.hasOwnProperty(St)&&se!==void 0&&!d.hasOwnProperty(St)&&bg(s,r,St,void 0,d,se);for(fe in d)se=d[fe],ae=l[fe],!d.hasOwnProperty(fe)||se===ae||se===void 0&&ae===void 0||bg(s,r,fe,se,d,ae);return}}for(var Q in l)se=l[Q],l.hasOwnProperty(Q)&&se!=null&&!d.hasOwnProperty(Q)&&Et(s,r,Q,null,d,se);for(ge in d)se=d[ge],ae=l[ge],!d.hasOwnProperty(ge)||se===ae||se==null&&ae==null||Et(s,r,ge,se,d,ae)}var wg=null,Tg=null;function cf(s){return s.nodeType===9?s:s.ownerDocument}function Ib(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Db(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Eg(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Sg=null;function wR(){var s=window.event;return s&&s.type==="popstate"?s===Sg?!1:(Sg=s,!0):(Sg=null,!1)}var Lb=typeof setTimeout=="function"?setTimeout:void 0,TR=typeof clearTimeout=="function"?clearTimeout:void 0,Mb=typeof Promise=="function"?Promise:void 0,ER=typeof queueMicrotask=="function"?queueMicrotask:typeof Mb<"u"?function(s){return Mb.resolve(null).then(s).catch(SR)}:Lb;function SR(s){setTimeout(function(){throw s})}function ao(s){return s==="head"}function Ob(s,r){var l=r,d=0,v=0;do{var b=l.nextSibling;if(s.removeChild(l),b&&b.nodeType===8)if(l=b.data,l==="/$"){if(0<d&&8>d){l=d;var C=s.ownerDocument;if(l&1&&Ju(C.documentElement),l&2&&Ju(C.body),l&4)for(l=C.head,Ju(l),C=l.firstChild;C;){var P=C.nextSibling,Z=C.nodeName;C[Ps]||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&C.rel.toLowerCase()==="stylesheet"||l.removeChild(C),C=P}}if(v===0){s.removeChild(b),oh(r);return}v--}else l==="$"||l==="$?"||l==="$!"?v++:d=l.charCodeAt(0)-48;else d=0;l=b}while(l);oh(r)}function Ag(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Ag(l),Lr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function AR(s,r,l,d){for(;s.nodeType===1;){var v=l;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[Ps])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(b=s.getAttribute("rel"),b==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(b!==v.rel||s.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||s.getAttribute("title")!==(v.title==null?null:v.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(b=s.getAttribute("src"),(b!==(v.src==null?null:v.src)||s.getAttribute("type")!==(v.type==null?null:v.type)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&b&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var b=v.name==null?null:""+v.name;if(v.type==="hidden"&&s.getAttribute("name")===b)return s}else return s;if(s=Hs(s.nextSibling),s===null)break}return null}function NR(s,r,l){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Hs(s.nextSibling),s===null))return null;return s}function Ng(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function CR(s,r){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")r();else{var d=function(){r(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function Hs(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return s}var Cg=null;function kb(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return s;r--}else l==="/$"&&r++}s=s.previousSibling}return null}function Vb(s,r,l){switch(r=cf(l),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Ju(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);Lr(s)}var vs=new Map,Ub=new Set;function uf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var aa=de.d;de.d={f:RR,r:PR,D:jR,C:IR,L:DR,m:LR,X:OR,S:MR,M:kR};function RR(){var s=aa.f(),r=ef();return s||r}function PR(s){var r=Mi(s);r!==null&&r.tag===5&&r.type==="form"?rx(r):aa.r(s)}var wc=typeof document>"u"?null:document;function Bb(s,r,l){var d=wc;if(d&&typeof r=="string"&&r){var v=Ft(r);v='link[rel="'+s+'"][href="'+v+'"]',typeof l=="string"&&(v+='[crossorigin="'+l+'"]'),Ub.has(v)||(Ub.add(v),s={rel:s,crossOrigin:l,href:r},d.querySelector(v)===null&&(r=d.createElement("link"),Mn(r,"link",s),zt(r),d.head.appendChild(r)))}}function jR(s){aa.D(s),Bb("dns-prefetch",s,null)}function IR(s,r){aa.C(s,r),Bb("preconnect",s,r)}function DR(s,r,l){aa.L(s,r,l);var d=wc;if(d&&s&&r){var v='link[rel="preload"][as="'+Ft(r)+'"]';r==="image"&&l&&l.imageSrcSet?(v+='[imagesrcset="'+Ft(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(v+='[imagesizes="'+Ft(l.imageSizes)+'"]')):v+='[href="'+Ft(s)+'"]';var b=v;switch(r){case"style":b=Tc(s);break;case"script":b=Ec(s)}vs.has(b)||(s=x({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:s,as:r},l),vs.set(b,s),d.querySelector(v)!==null||r==="style"&&d.querySelector(eh(b))||r==="script"&&d.querySelector(th(b))||(r=d.createElement("link"),Mn(r,"link",s),zt(r),d.head.appendChild(r)))}}function LR(s,r){aa.m(s,r);var l=wc;if(l&&s){var d=r&&typeof r.as=="string"?r.as:"script",v='link[rel="modulepreload"][as="'+Ft(d)+'"][href="'+Ft(s)+'"]',b=v;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Ec(s)}if(!vs.has(b)&&(s=x({rel:"modulepreload",href:s},r),vs.set(b,s),l.querySelector(v)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(th(b)))return}d=l.createElement("link"),Mn(d,"link",s),zt(d),l.head.appendChild(d)}}}function MR(s,r,l){aa.S(s,r,l);var d=wc;if(d&&s){var v=js(d).hoistableStyles,b=Tc(s);r=r||"default";var C=v.get(b);if(!C){var P={loading:0,preload:null};if(C=d.querySelector(eh(b)))P.loading=5;else{s=x({rel:"stylesheet",href:s,"data-precedence":r},l),(l=vs.get(b))&&Rg(s,l);var Z=C=d.createElement("link");zt(Z),Mn(Z,"link",s),Z._p=new Promise(function(ie,fe){Z.onload=ie,Z.onerror=fe}),Z.addEventListener("load",function(){P.loading|=1}),Z.addEventListener("error",function(){P.loading|=2}),P.loading|=4,hf(C,r,d)}C={type:"stylesheet",instance:C,count:1,state:P},v.set(b,C)}}}function OR(s,r){aa.X(s,r);var l=wc;if(l&&s){var d=js(l).hoistableScripts,v=Ec(s),b=d.get(v);b||(b=l.querySelector(th(v)),b||(s=x({src:s,async:!0},r),(r=vs.get(v))&&Pg(s,r),b=l.createElement("script"),zt(b),Mn(b,"link",s),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(v,b))}}function kR(s,r){aa.M(s,r);var l=wc;if(l&&s){var d=js(l).hoistableScripts,v=Ec(s),b=d.get(v);b||(b=l.querySelector(th(v)),b||(s=x({src:s,async:!0,type:"module"},r),(r=vs.get(v))&&Pg(s,r),b=l.createElement("script"),zt(b),Mn(b,"link",s),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(v,b))}}function zb(s,r,l,d){var v=(v=Ee.current)?uf(v):null;if(!v)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=Tc(l.href),l=js(v).hoistableStyles,d=l.get(r),d||(d={type:"style",instance:null,count:0,state:null},l.set(r,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Tc(l.href);var b=js(v).hoistableStyles,C=b.get(s);if(C||(v=v.ownerDocument||v,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(s,C),(b=v.querySelector(eh(s)))&&!b._p&&(C.instance=b,C.state.loading=5),vs.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},vs.set(s,l),b||VR(v,s,l,C.state))),r&&d===null)throw Error(i(528,""));return C}if(r&&d!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ec(l),l=js(v).hoistableScripts,d=l.get(r),d||(d={type:"script",instance:null,count:0,state:null},l.set(r,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Tc(s){return'href="'+Ft(s)+'"'}function eh(s){return'link[rel="stylesheet"]['+s+"]"}function Fb(s){return x({},s,{"data-precedence":s.precedence,precedence:null})}function VR(s,r,l,d){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?d.loading=1:(r=s.createElement("link"),d.preload=r,r.addEventListener("load",function(){return d.loading|=1}),r.addEventListener("error",function(){return d.loading|=2}),Mn(r,"link",l),zt(r),s.head.appendChild(r))}function Ec(s){return'[src="'+Ft(s)+'"]'}function th(s){return"script[async]"+s}function Hb(s,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var d=s.querySelector('style[data-href~="'+Ft(l.href)+'"]');if(d)return r.instance=d,zt(d),d;var v=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),zt(d),Mn(d,"style",v),hf(d,l.precedence,s),r.instance=d;case"stylesheet":v=Tc(l.href);var b=s.querySelector(eh(v));if(b)return r.state.loading|=4,r.instance=b,zt(b),b;d=Fb(l),(v=vs.get(v))&&Rg(d,v),b=(s.ownerDocument||s).createElement("link"),zt(b);var C=b;return C._p=new Promise(function(P,Z){C.onload=P,C.onerror=Z}),Mn(b,"link",d),r.state.loading|=4,hf(b,l.precedence,s),r.instance=b;case"script":return b=Ec(l.src),(v=s.querySelector(th(b)))?(r.instance=v,zt(v),v):(d=l,(v=vs.get(b))&&(d=x({},l),Pg(d,v)),s=s.ownerDocument||s,v=s.createElement("script"),zt(v),Mn(v,"link",d),s.head.appendChild(v),r.instance=v);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(d=r.instance,r.state.loading|=4,hf(d,l.precedence,s));return r.instance}function hf(s,r,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=d.length?d[d.length-1]:null,b=v,C=0;C<d.length;C++){var P=d[C];if(P.dataset.precedence===r)b=P;else if(b!==v)break}b?b.parentNode.insertBefore(s,b.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(s,r.firstChild))}function Rg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Pg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var df=null;function qb(s,r,l){if(df===null){var d=new Map,v=df=new Map;v.set(l,d)}else v=df,d=v.get(l),d||(d=new Map,v.set(l,d));if(d.has(s))return d;for(d.set(s,null),l=l.getElementsByTagName(s),v=0;v<l.length;v++){var b=l[v];if(!(b[Ps]||b[Bt]||s==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var C=b.getAttribute(r)||"";C=s+C;var P=d.get(C);P?P.push(b):d.set(C,[b])}}return d}function Gb(s,r,l){s=s.ownerDocument||s,s.head.insertBefore(l,r==="title"?s.querySelector("head > title"):null)}function UR(s,r,l){if(l===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Zb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var nh=null;function BR(){}function zR(s,r,l){if(nh===null)throw Error(i(475));var d=nh;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var v=Tc(l.href),b=s.querySelector(eh(v));if(b){s=b._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(d.count++,d=ff.bind(d),s.then(d,d)),r.state.loading|=4,r.instance=b,zt(b);return}b=s.ownerDocument||s,l=Fb(l),(v=vs.get(v))&&Rg(l,v),b=b.createElement("link"),zt(b);var C=b;C._p=new Promise(function(P,Z){C.onload=P,C.onerror=Z}),Mn(b,"link",l),r.instance=b}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(d.count++,r=ff.bind(d),s.addEventListener("load",r),s.addEventListener("error",r))}}function FR(){if(nh===null)throw Error(i(475));var s=nh;return s.stylesheets&&s.count===0&&jg(s,s.stylesheets),0<s.count?function(r){var l=setTimeout(function(){if(s.stylesheets&&jg(s,s.stylesheets),s.unsuspend){var d=s.unsuspend;s.unsuspend=null,d()}},6e4);return s.unsuspend=r,function(){s.unsuspend=null,clearTimeout(l)}}:null}function ff(){if(this.count--,this.count===0){if(this.stylesheets)jg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var mf=null;function jg(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,mf=new Map,r.forEach(HR,s),mf=null,ff.call(s))}function HR(s,r){if(!(r.state.loading&4)){var l=mf.get(s);if(l)var d=l.get(null);else{l=new Map,mf.set(s,l);for(var v=s.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<v.length;b++){var C=v[b];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),d=C)}d&&l.set(null,d)}v=r.instance,C=v.getAttribute("data-precedence"),b=l.get(C)||d,b===d&&l.set(null,v),l.set(C,v),this.count++,d=ff.bind(this),v.addEventListener("load",d),v.addEventListener("error",d),b?b.parentNode.insertBefore(v,b.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(v,s.firstChild)),r.state.loading|=4}}var ih={$$typeof:X,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function qR(s,r,l,d,v,b,C,P){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dr(0),this.hiddenUpdates=Dr(null),this.identifierPrefix=d,this.onUncaughtError=v,this.onCaughtError=b,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Wb(s,r,l,d,v,b,C,P,Z,ie,fe,ge){return s=new qR(s,r,l,C,P,Z,ie,ge),r=1,b===!0&&(r|=24),b=di(3,null,null,r),s.current=b,b.stateNode=s,r=dp(),r.refCount++,s.pooledCache=r,r.refCount++,b.memoizedState={element:d,isDehydrated:l,cache:r},gp(b),s}function Kb(s){return s?(s=Xr,s):Xr}function $b(s,r,l,d,v,b){v=Kb(v),d.context===null?d.context=v:d.pendingContext=v,d=Wa(r),d.payload={element:l},b=b===void 0?null:b,b!==null&&(d.callback=b),l=Ka(s,d,r),l!==null&&(Xi(l,s,r),Du(l,s,r))}function Yb(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<r?l:r}}function Ig(s,r){Yb(s,r),(s=s.alternate)&&Yb(s,r)}function Xb(s){if(s.tag===13){var r=Fa(s,67108864);r!==null&&Xi(r,s,67108864),Ig(s,67108864)}}var pf=!0;function GR(s,r,l,d){var v=J.T;J.T=null;var b=de.p;try{de.p=2,Dg(s,r,l,d)}finally{de.p=b,J.T=v}}function ZR(s,r,l,d){var v=J.T;J.T=null;var b=de.p;try{de.p=8,Dg(s,r,l,d)}finally{de.p=b,J.T=v}}function Dg(s,r,l,d){if(pf){var v=Lg(d);if(v===null)xg(s,r,d,gf,l),Jb(s,d);else if(KR(v,s,r,l,d))d.stopPropagation();else if(Jb(s,d),r&4&&-1<WR.indexOf(s)){for(;v!==null;){var b=Mi(v);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var C=pi(b.pendingLanes);if(C!==0){var P=b;for(P.pendingLanes|=2,P.entangledLanes|=2;C;){var Z=1<<31-In(C);P.entanglements[1]|=Z,C&=~Z}gr(b),(xt&6)===0&&(Qd=_n()+500,Yu(0))}}break;case 13:P=Fa(b,2),P!==null&&Xi(P,b,2),ef(),Ig(b,2)}if(b=Lg(d),b===null&&xg(s,r,d,gf,l),b===v)break;v=b}v!==null&&d.stopPropagation()}else xg(s,r,d,null,l)}}function Lg(s){return s=sr(s),Mg(s)}var gf=null;function Mg(s){if(gf=null,s=_i(s),s!==null){var r=c(s);if(r===null)s=null;else{var l=r.tag;if(l===13){if(s=u(r),s!==null)return s;s=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return gf=s,null}function Qb(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jr()){case Xt:return 2;case Qt:return 8;case Di:case Vl:return 32;case Ta:return 268435456;default:return 32}default:return 32}}var Og=!1,oo=null,lo=null,co=null,sh=new Map,rh=new Map,uo=[],WR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jb(s,r){switch(s){case"focusin":case"focusout":oo=null;break;case"dragenter":case"dragleave":lo=null;break;case"mouseover":case"mouseout":co=null;break;case"pointerover":case"pointerout":sh.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":rh.delete(r.pointerId)}}function ah(s,r,l,d,v,b){return s===null||s.nativeEvent!==b?(s={blockedOn:r,domEventName:l,eventSystemFlags:d,nativeEvent:b,targetContainers:[v]},r!==null&&(r=Mi(r),r!==null&&Xb(r)),s):(s.eventSystemFlags|=d,r=s.targetContainers,v!==null&&r.indexOf(v)===-1&&r.push(v),s)}function KR(s,r,l,d,v){switch(r){case"focusin":return oo=ah(oo,s,r,l,d,v),!0;case"dragenter":return lo=ah(lo,s,r,l,d,v),!0;case"mouseover":return co=ah(co,s,r,l,d,v),!0;case"pointerover":var b=v.pointerId;return sh.set(b,ah(sh.get(b)||null,s,r,l,d,v)),!0;case"gotpointercapture":return b=v.pointerId,rh.set(b,ah(rh.get(b)||null,s,r,l,d,v)),!0}return!1}function ew(s){var r=_i(s.target);if(r!==null){var l=c(r);if(l!==null){if(r=l.tag,r===13){if(r=u(l),r!==null){s.blockedOn=r,qo(s.priority,function(){if(l.tag===13){var d=Yi();d=Fo(d);var v=Fa(l,d);v!==null&&Xi(v,l,d),Ig(l,d)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function yf(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var l=Lg(s.nativeEvent);if(l===null){l=s.nativeEvent;var d=new l.constructor(l.type,l);Fr=d,l.target.dispatchEvent(d),Fr=null}else return r=Mi(l),r!==null&&Xb(r),s.blockedOn=l,!1;r.shift()}return!0}function tw(s,r,l){yf(s)&&l.delete(r)}function $R(){Og=!1,oo!==null&&yf(oo)&&(oo=null),lo!==null&&yf(lo)&&(lo=null),co!==null&&yf(co)&&(co=null),sh.forEach(tw),rh.forEach(tw)}function vf(s,r){s.blockedOn===r&&(s.blockedOn=null,Og||(Og=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,$R)))}var _f=null;function nw(s){_f!==s&&(_f=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){_f===s&&(_f=null);for(var r=0;r<s.length;r+=3){var l=s[r],d=s[r+1],v=s[r+2];if(typeof d!="function"){if(Mg(d||l)===null)continue;break}var b=Mi(l);b!==null&&(s.splice(r,3),r-=3,Mp(b,{pending:!0,data:v,method:l.method,action:d},d,v))}}))}function oh(s){function r(Z){return vf(Z,s)}oo!==null&&vf(oo,s),lo!==null&&vf(lo,s),co!==null&&vf(co,s),sh.forEach(r),rh.forEach(r);for(var l=0;l<uo.length;l++){var d=uo[l];d.blockedOn===s&&(d.blockedOn=null)}for(;0<uo.length&&(l=uo[0],l.blockedOn===null);)ew(l),l.blockedOn===null&&uo.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var v=l[d],b=l[d+1],C=v[dn]||null;if(typeof b=="function")C||nw(l);else if(C){var P=null;if(b&&b.hasAttribute("formAction")){if(v=b,C=b[dn]||null)P=C.formAction;else if(Mg(v)!==null)continue}else P=C.action;typeof P=="function"?l[d+1]=P:(l.splice(d,3),d-=3),nw(l)}}}function kg(s){this._internalRoot=s}xf.prototype.render=kg.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,d=Yi();$b(l,d,s,r,null,null)},xf.prototype.unmount=kg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;$b(s.current,2,null,s,null,null),ef(),r[Rs]=null}};function xf(s){this._internalRoot=s}xf.prototype.unstable_scheduleHydration=function(s){if(s){var r=Cs();s={blockedOn:null,target:s,priority:r};for(var l=0;l<uo.length&&r!==0&&r<uo[l].priority;l++);uo.splice(l,0,s),l===0&&ew(s)}};var iw=e.version;if(iw!=="19.1.1")throw Error(i(527,iw,"19.1.1"));de.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=y(r),s=s!==null?_(s):null,s=s===null?null:s.stateNode,s};var YR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bf.isDisabled&&bf.supportsFiber)try{ts=bf.inject(YR),hn=bf}catch{}}return ch.createRoot=function(s,r){if(!a(s))throw Error(i(299));var l=!1,d="",v=_x,b=xx,C=bx,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(v=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(P=r.unstable_transitionCallbacks)),r=Wb(s,1,!1,null,null,l,d,v,b,C,P,null),s[Rs]=r.current,_g(s),new kg(r)},ch.hydrateRoot=function(s,r,l){if(!a(s))throw Error(i(299));var d=!1,v="",b=_x,C=xx,P=bx,Z=null,ie=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(P=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(Z=l.unstable_transitionCallbacks),l.formState!==void 0&&(ie=l.formState)),r=Wb(s,1,!0,r,l??null,d,v,b,C,P,Z,ie),r.context=Kb(null),l=r.current,d=Yi(),d=Fo(d),v=Wa(d),v.callback=null,Ka(l,v,d),l=d,r.current.lanes=l,Lt(r,l),gr(r),s[Rs]=r.current,_g(s),new xf(r)},ch.version="19.1.1",ch}var fw;function rP(){if(fw)return Bg.exports;fw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bg.exports=sP(),Bg.exports}var aP=rP();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var mw="popstate";function oP(t={}){function e(i,a){let{pathname:c,search:u,hash:p}=i.location;return Ey("",{pathname:c,search:u,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:Dh(a)}return cP(e,n,null,t)}function Ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ws(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lP(){return Math.random().toString(36).substring(2,10)}function pw(t,e){return{usr:t.state,key:t.key,idx:e}}function Ey(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Jc(e):e,state:n,key:e&&e.key||i||lP()}}function Dh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Jc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function cP(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:c=!1}=i,u=a.history,p="POP",y=null,_=x();_==null&&(_=0,u.replaceState({...u.state,idx:_},""));function x(){return(u.state||{idx:null}).idx}function T(){p="POP";let V=x(),$=V==null?null:V-_;_=V,y&&y({action:p,location:z.location,delta:$})}function A(V,$){p="PUSH";let Y=Ey(z.location,V,$);_=x()+1;let X=pw(Y,_),ve=z.createHref(Y);try{u.pushState(X,"",ve)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;a.location.assign(ve)}c&&y&&y({action:p,location:z.location,delta:1})}function j(V,$){p="REPLACE";let Y=Ey(z.location,V,$);_=x();let X=pw(Y,_),ve=z.createHref(Y);u.replaceState(X,"",ve),c&&y&&y({action:p,location:z.location,delta:0})}function I(V){return uP(V)}let z={get action(){return p},get location(){return t(a,u)},listen(V){if(y)throw new Error("A history only accepts one active listener");return a.addEventListener(mw,T),y=V,()=>{a.removeEventListener(mw,T),y=null}},createHref(V){return e(a,V)},createURL:I,encodeLocation(V){let $=I(V);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:A,replace:j,go(V){return u.go(V)}};return z}function uP(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ut(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Dh(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function RE(t,e,n="/"){return hP(t,e,n,!1)}function hP(t,e,n,i){let a=typeof e=="string"?Jc(e):e,c=da(a.pathname||"/",n);if(c==null)return null;let u=PE(t);dP(u);let p=null;for(let y=0;p==null&&y<u.length;++y){let _=TP(c);p=bP(u[y],_,i)}return p}function PE(t,e=[],n=[],i="",a=!1){let c=(u,p,y=a,_)=>{let x={relativePath:_===void 0?u.path||"":_,caseSensitive:u.caseSensitive===!0,childrenIndex:p,route:u};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(i)&&y)return;Ut(x.relativePath.startsWith(i),`Absolute route path "${x.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(i.length)}let T=ca([i,x.relativePath]),A=n.concat(x);u.children&&u.children.length>0&&(Ut(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),PE(u.children,e,A,T,y)),!(u.path==null&&!u.index)&&e.push({path:T,score:_P(T,u.index),routesMeta:A})};return t.forEach((u,p)=>{if(u.path===""||!u.path?.includes("?"))c(u,p);else for(let y of jE(u.path))c(u,p,!0,y)}),e}function jE(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),c=n.replace(/\?$/,"");if(i.length===0)return a?[c,""]:[c];let u=jE(i.join("/")),p=[];return p.push(...u.map(y=>y===""?c:[c,y].join("/"))),a&&p.push(...u),p.map(y=>t.startsWith("/")&&y===""?"/":y)}function dP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:xP(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var fP=/^:[\w-]+$/,mP=3,pP=2,gP=1,yP=10,vP=-2,gw=t=>t==="*";function _P(t,e){let n=t.split("/"),i=n.length;return n.some(gw)&&(i+=vP),e&&(i+=pP),n.filter(a=>!gw(a)).reduce((a,c)=>a+(fP.test(c)?mP:c===""?gP:yP),i)}function xP(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function bP(t,e,n=!1){let{routesMeta:i}=t,a={},c="/",u=[];for(let p=0;p<i.length;++p){let y=i[p],_=p===i.length-1,x=c==="/"?e:e.slice(c.length)||"/",T=tm({path:y.relativePath,caseSensitive:y.caseSensitive,end:_},x),A=y.route;if(!T&&_&&n&&!i[i.length-1].route.index&&(T=tm({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},x)),!T)return null;Object.assign(a,T.params),u.push({params:a,pathname:ca([c,T.pathname]),pathnameBase:NP(ca([c,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(c=ca([c,T.pathnameBase]))}return u}function tm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=wP(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let c=a[0],u=c.replace(/(.)\/+$/,"$1"),p=a.slice(1);return{params:i.reduce((_,{paramName:x,isOptional:T},A)=>{if(x==="*"){let I=p[A]||"";u=c.slice(0,c.length-I.length).replace(/(.)\/+$/,"$1")}const j=p[A];return T&&!j?_[x]=void 0:_[x]=(j||"").replace(/%2F/g,"/"),_},{}),pathname:c,pathnameBase:u,pattern:t}}function wP(t,e=!1,n=!0){Ws(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,p,y)=>(i.push({paramName:p,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function TP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ws(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function da(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function EP(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?Jc(t):t;return{pathname:n?n.startsWith("/")?n:SP(n,e):e,search:CP(i),hash:RP(a)}}function SP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function qg(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function C0(t){let e=AP(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function R0(t,e,n,i=!1){let a;typeof t=="string"?a=Jc(t):(a={...t},Ut(!a.pathname||!a.pathname.includes("?"),qg("?","pathname","search",a)),Ut(!a.pathname||!a.pathname.includes("#"),qg("#","pathname","hash",a)),Ut(!a.search||!a.search.includes("#"),qg("#","search","hash",a)));let c=t===""||a.pathname==="",u=c?"/":a.pathname,p;if(u==null)p=n;else{let T=e.length-1;if(!i&&u.startsWith("..")){let A=u.split("/");for(;A[0]==="..";)A.shift(),T-=1;a.pathname=A.join("/")}p=T>=0?e[T]:"/"}let y=EP(a,p),_=u&&u!=="/"&&u.endsWith("/"),x=(c||u===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(_||x)&&(y.pathname+="/"),y}var ca=t=>t.join("/").replace(/\/\/+/g,"/"),NP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,RP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function PP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var IE=["POST","PUT","PATCH","DELETE"];new Set(IE);var jP=["GET",...IE];new Set(jP);var eu=k.createContext(null);eu.displayName="DataRouter";var Am=k.createContext(null);Am.displayName="DataRouterState";k.createContext(!1);var DE=k.createContext({isTransitioning:!1});DE.displayName="ViewTransition";var IP=k.createContext(new Map);IP.displayName="Fetchers";var DP=k.createContext(null);DP.displayName="Await";var Ys=k.createContext(null);Ys.displayName="Navigation";var Yh=k.createContext(null);Yh.displayName="Location";var Xs=k.createContext({outlet:null,matches:[],isDataRoute:!1});Xs.displayName="Route";var P0=k.createContext(null);P0.displayName="RouteError";function LP(t,{relative:e}={}){Ut(tu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=k.useContext(Ys),{hash:a,pathname:c,search:u}=Xh(t,{relative:e}),p=c;return n!=="/"&&(p=c==="/"?n:ca([n,c])),i.createHref({pathname:p,search:u,hash:a})}function tu(){return k.useContext(Yh)!=null}function Ss(){return Ut(tu(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Yh).location}var LE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ME(t){k.useContext(Ys).static||k.useLayoutEffect(t)}function Mo(){let{isDataRoute:t}=k.useContext(Xs);return t?$P():MP()}function MP(){Ut(tu(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(eu),{basename:e,navigator:n}=k.useContext(Ys),{matches:i}=k.useContext(Xs),{pathname:a}=Ss(),c=JSON.stringify(C0(i)),u=k.useRef(!1);return ME(()=>{u.current=!0}),k.useCallback((y,_={})=>{if(Ws(u.current,LE),!u.current)return;if(typeof y=="number"){n.go(y);return}let x=R0(y,JSON.parse(c),a,_.relative==="path");t==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:ca([e,x.pathname])),(_.replace?n.replace:n.push)(x,_.state,_)},[e,n,c,a,t])}var OP=k.createContext(null);function kP(t){let e=k.useContext(Xs).outlet;return e&&k.createElement(OP.Provider,{value:t},e)}function Xh(t,{relative:e}={}){let{matches:n}=k.useContext(Xs),{pathname:i}=Ss(),a=JSON.stringify(C0(n));return k.useMemo(()=>R0(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function VP(t,e){return OE(t,e)}function OE(t,e,n,i,a){Ut(tu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=k.useContext(Ys),{matches:u}=k.useContext(Xs),p=u[u.length-1],y=p?p.params:{},_=p?p.pathname:"/",x=p?p.pathnameBase:"/",T=p&&p.route;{let Y=T&&T.path||"";kE(_,!T||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let A=Ss(),j;if(e){let Y=typeof e=="string"?Jc(e):e;Ut(x==="/"||Y.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),j=Y}else j=A;let I=j.pathname||"/",z=I;if(x!=="/"){let Y=x.replace(/^\//,"").split("/");z="/"+I.replace(/^\//,"").split("/").slice(Y.length).join("/")}let V=RE(t,{pathname:z});Ws(T||V!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Ws(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=HP(V&&V.map(Y=>Object.assign({},Y,{params:Object.assign({},y,Y.params),pathname:ca([x,c.encodeLocation?c.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?x:ca([x,c.encodeLocation?c.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),u,n,i,a);return e&&$?k.createElement(Yh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},$):$}function UP(){let t=KP(),e=PP(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:c},"ErrorBoundary")," or"," ",k.createElement("code",{style:c},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:a},n):null,u)}var BP=k.createElement(UP,null),zP=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?k.createElement(Xs.Provider,{value:this.props.routeContext},k.createElement(P0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function FP({routeContext:t,match:e,children:n}){let i=k.useContext(eu);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(Xs.Provider,{value:t},n)}function HP(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,u=n?.errors;if(u!=null){let _=c.findIndex(x=>x.route.id&&u?.[x.route.id]!==void 0);Ut(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,_+1))}let p=!1,y=-1;if(n)for(let _=0;_<c.length;_++){let x=c[_];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(y=_),x.route.id){let{loaderData:T,errors:A}=n,j=x.route.loader&&!T.hasOwnProperty(x.route.id)&&(!A||A[x.route.id]===void 0);if(x.route.lazy||j){p=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}return c.reduceRight((_,x,T)=>{let A,j=!1,I=null,z=null;n&&(A=u&&x.route.id?u[x.route.id]:void 0,I=x.route.errorElement||BP,p&&(y<0&&T===0?(kE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,z=null):y===T&&(j=!0,z=x.route.hydrateFallbackElement||null)));let V=e.concat(c.slice(0,T+1)),$=()=>{let Y;return A?Y=I:j?Y=z:x.route.Component?Y=k.createElement(x.route.Component,null):x.route.element?Y=x.route.element:Y=_,k.createElement(FP,{match:x,routeContext:{outlet:_,matches:V,isDataRoute:n!=null},children:Y})};return n&&(x.route.ErrorBoundary||x.route.errorElement||T===0)?k.createElement(zP,{location:n.location,revalidation:n.revalidation,component:I,error:A,children:$(),routeContext:{outlet:null,matches:V,isDataRoute:!0},unstable_onError:i}):$()},null)}function j0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qP(t){let e=k.useContext(eu);return Ut(e,j0(t)),e}function GP(t){let e=k.useContext(Am);return Ut(e,j0(t)),e}function ZP(t){let e=k.useContext(Xs);return Ut(e,j0(t)),e}function I0(t){let e=ZP(t),n=e.matches[e.matches.length-1];return Ut(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function WP(){return I0("useRouteId")}function KP(){let t=k.useContext(P0),e=GP("useRouteError"),n=I0("useRouteError");return t!==void 0?t:e.errors?.[n]}function $P(){let{router:t}=qP("useNavigate"),e=I0("useNavigate"),n=k.useRef(!1);return ME(()=>{n.current=!0}),k.useCallback(async(a,c={})=>{Ws(n.current,LE),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...c}))},[t,e])}var yw={};function kE(t,e,n){!e&&!yw[t]&&(yw[t]=!0,Ws(!1,n))}k.memo(YP);function YP({routes:t,future:e,state:n,unstable_onError:i}){return OE(t,void 0,n,i,e)}function VE({to:t,replace:e,state:n,relative:i}){Ut(tu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=k.useContext(Ys);Ws(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=k.useContext(Xs),{pathname:u}=Ss(),p=Mo(),y=R0(t,C0(c),u,i==="path"),_=JSON.stringify(y);return k.useEffect(()=>{p(JSON.parse(_),{replace:e,state:n,relative:i})},[p,_,i,e,n]),null}function XP(t){return kP(t.context)}function Zn(t){Ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function QP({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:c=!1}){Ut(!tu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),p=k.useMemo(()=>({basename:u,navigator:a,static:c,future:{}}),[u,a,c]);typeof n=="string"&&(n=Jc(n));let{pathname:y="/",search:_="",hash:x="",state:T=null,key:A="default"}=n,j=k.useMemo(()=>{let I=da(y,u);return I==null?null:{location:{pathname:I,search:_,hash:x,state:T,key:A},navigationType:i}},[u,y,_,x,T,A,i]);return Ws(j!=null,`<Router basename="${u}"> is not able to match the URL "${y}${_}${x}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:k.createElement(Ys.Provider,{value:p},k.createElement(Yh.Provider,{children:e,value:j}))}function JP({children:t,location:e}){return VP(Sy(t),e)}function Sy(t,e=[]){let n=[];return k.Children.forEach(t,(i,a)=>{if(!k.isValidElement(i))return;let c=[...e,a];if(i.type===k.Fragment){n.push.apply(n,Sy(i.props.children,c));return}Ut(i.type===Zn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ut(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Sy(i.props.children,c)),n.push(u)}),n}var Mf="get",Of="application/x-www-form-urlencoded";function Nm(t){return t!=null&&typeof t.tagName=="string"}function ej(t){return Nm(t)&&t.tagName.toLowerCase()==="button"}function tj(t){return Nm(t)&&t.tagName.toLowerCase()==="form"}function nj(t){return Nm(t)&&t.tagName.toLowerCase()==="input"}function ij(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sj(t,e){return t.button===0&&(!e||e==="_self")&&!ij(t)}var wf=null;function rj(){if(wf===null)try{new FormData(document.createElement("form"),0),wf=!1}catch{wf=!0}return wf}var aj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gg(t){return t!=null&&!aj.has(t)?(Ws(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Of}"`),null):t}function oj(t,e){let n,i,a,c,u;if(tj(t)){let p=t.getAttribute("action");i=p?da(p,e):null,n=t.getAttribute("method")||Mf,a=Gg(t.getAttribute("enctype"))||Of,c=new FormData(t)}else if(ej(t)||nj(t)&&(t.type==="submit"||t.type==="image")){let p=t.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=t.getAttribute("formaction")||p.getAttribute("action");if(i=y?da(y,e):null,n=t.getAttribute("formmethod")||p.getAttribute("method")||Mf,a=Gg(t.getAttribute("formenctype"))||Gg(p.getAttribute("enctype"))||Of,c=new FormData(p,t),!rj()){let{name:_,type:x,value:T}=t;if(x==="image"){let A=_?`${_}.`:"";c.append(`${A}x`,"0"),c.append(`${A}y`,"0")}else _&&c.append(_,T)}}else{if(Nm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mf,i=null,a=Of,u=t}return c&&a==="text/plain"&&(u=c,c=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function D0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lj(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&da(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function cj(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uj(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function hj(t,e,n){let i=await Promise.all(t.map(async a=>{let c=e.routes[a.route.id];if(c){let u=await cj(c,n);return u.links?u.links():[]}return[]}));return pj(i.flat(1).filter(uj).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function vw(t,e,n,i,a,c){let u=(y,_)=>n[_]?y.route.id!==n[_].route.id:!0,p=(y,_)=>n[_].pathname!==y.pathname||n[_].route.path?.endsWith("*")&&n[_].params["*"]!==y.params["*"];return c==="assets"?e.filter((y,_)=>u(y,_)||p(y,_)):c==="data"?e.filter((y,_)=>{let x=i.routes[y.route.id];if(!x||!x.hasLoader)return!1;if(u(y,_)||p(y,_))return!0;if(y.route.shouldRevalidate){let T=y.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function dj(t,e,{includeHydrateFallback:n}={}){return fj(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let c=[a.module];return a.clientActionModule&&(c=c.concat(a.clientActionModule)),a.clientLoaderModule&&(c=c.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(c=c.concat(a.hydrateFallbackModule)),a.imports&&(c=c.concat(a.imports)),c}).flat(1))}function fj(t){return[...new Set(t)]}function mj(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function pj(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let c=JSON.stringify(mj(a));return n.has(c)||(n.add(c),i.push({key:c,link:a})),i},[])}function UE(){let t=k.useContext(eu);return D0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function gj(){let t=k.useContext(Am);return D0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var L0=k.createContext(void 0);L0.displayName="FrameworkContext";function BE(){let t=k.useContext(L0);return D0(t,"You must render this element inside a <HydratedRouter> element"),t}function yj(t,e){let n=k.useContext(L0),[i,a]=k.useState(!1),[c,u]=k.useState(!1),{onFocus:p,onBlur:y,onMouseEnter:_,onMouseLeave:x,onTouchStart:T}=e,A=k.useRef(null);k.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let z=$=>{$.forEach(Y=>{u(Y.isIntersecting)})},V=new IntersectionObserver(z,{threshold:.5});return A.current&&V.observe(A.current),()=>{V.disconnect()}}},[t]),k.useEffect(()=>{if(i){let z=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(z)}}},[i]);let j=()=>{a(!0)},I=()=>{a(!1),u(!1)};return n?t!=="intent"?[c,A,{}]:[c,A,{onFocus:uh(p,j),onBlur:uh(y,I),onMouseEnter:uh(_,j),onMouseLeave:uh(x,I),onTouchStart:uh(T,j)}]:[!1,A,{}]}function uh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function vj({page:t,...e}){let{router:n}=UE(),i=k.useMemo(()=>RE(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?k.createElement(xj,{page:t,matches:i,...e}):null}function _j(t){let{manifest:e,routeModules:n}=BE(),[i,a]=k.useState([]);return k.useEffect(()=>{let c=!1;return hj(t,e,n).then(u=>{c||a(u)}),()=>{c=!0}},[t,e,n]),i}function xj({page:t,matches:e,...n}){let i=Ss(),{manifest:a,routeModules:c}=BE(),{basename:u}=UE(),{loaderData:p,matches:y}=gj(),_=k.useMemo(()=>vw(t,e,y,a,i,"data"),[t,e,y,a,i]),x=k.useMemo(()=>vw(t,e,y,a,i,"assets"),[t,e,y,a,i]),T=k.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let I=new Set,z=!1;if(e.forEach($=>{let Y=a.routes[$.route.id];!Y||!Y.hasLoader||(!_.some(X=>X.route.id===$.route.id)&&$.route.id in p&&c[$.route.id]?.shouldRevalidate||Y.hasClientLoader?z=!0:I.add($.route.id))}),I.size===0)return[];let V=lj(t,u,"data");return z&&I.size>0&&V.searchParams.set("_routes",e.filter($=>I.has($.route.id)).map($=>$.route.id).join(",")),[V.pathname+V.search]},[u,p,i,a,_,e,t,c]),A=k.useMemo(()=>dj(x,a),[x,a]),j=_j(x);return k.createElement(k.Fragment,null,T.map(I=>k.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),A.map(I=>k.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),j.map(({key:I,link:z})=>k.createElement("link",{key:I,nonce:n.nonce,...z})))}function bj(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var zE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zE&&(window.__reactRouterVersion="7.9.1")}catch{}function wj({basename:t,children:e,window:n}){let i=k.useRef();i.current==null&&(i.current=oP({window:n,v5Compat:!0}));let a=i.current,[c,u]=k.useState({action:a.action,location:a.location}),p=k.useCallback(y=>{k.startTransition(()=>u(y))},[u]);return k.useLayoutEffect(()=>a.listen(p),[a,p]),k.createElement(QP,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:a})}var FE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,et=k.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:c,replace:u,state:p,target:y,to:_,preventScrollReset:x,viewTransition:T,...A},j){let{basename:I}=k.useContext(Ys),z=typeof _=="string"&&FE.test(_),V,$=!1;if(typeof _=="string"&&z&&(V=_,zE))try{let U=new URL(window.location.href),W=_.startsWith("//")?new URL(U.protocol+_):new URL(_),M=da(W.pathname,I);W.origin===U.origin&&M!=null?_=M+W.search+W.hash:$=!0}catch{Ws(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=LP(_,{relative:a}),[X,ve,he]=yj(i,A),we=Sj(_,{replace:u,state:p,target:y,preventScrollReset:x,relative:a,viewTransition:T});function B(U){e&&e(U),U.defaultPrevented||we(U)}let O=k.createElement("a",{...A,...he,href:V||Y,onClick:$||c?e:B,ref:bj(j,ve),target:y,"data-discover":!z&&n==="render"?"true":void 0});return X&&!z?k.createElement(k.Fragment,null,O,k.createElement(vj,{page:Y})):O});et.displayName="Link";var fh=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:c,to:u,viewTransition:p,children:y,..._},x){let T=Xh(u,{relative:_.relative}),A=Ss(),j=k.useContext(Am),{navigator:I,basename:z}=k.useContext(Ys),V=j!=null&&Pj(T)&&p===!0,$=I.encodeLocation?I.encodeLocation(T).pathname:T.pathname,Y=A.pathname,X=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),X=X?X.toLowerCase():null,$=$.toLowerCase()),X&&z&&(X=da(X,z)||X);const ve=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let he=Y===$||!a&&Y.startsWith($)&&Y.charAt(ve)==="/",we=X!=null&&(X===$||!a&&X.startsWith($)&&X.charAt($.length)==="/"),B={isActive:he,isPending:we,isTransitioning:V},O=he?e:void 0,U;typeof i=="function"?U=i(B):U=[i,he?"active":null,we?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let W=typeof c=="function"?c(B):c;return k.createElement(et,{..._,"aria-current":O,className:U,ref:x,style:W,to:u,viewTransition:p},typeof y=="function"?y(B):y)});fh.displayName="NavLink";var Tj=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:c,method:u=Mf,action:p,onSubmit:y,relative:_,preventScrollReset:x,viewTransition:T,...A},j)=>{let I=Cj(),z=Rj(p,{relative:_}),V=u.toLowerCase()==="get"?"get":"post",$=typeof p=="string"&&FE.test(p),Y=X=>{if(y&&y(X),X.defaultPrevented)return;X.preventDefault();let ve=X.nativeEvent.submitter,he=ve?.getAttribute("formmethod")||u;I(ve||X.currentTarget,{fetcherKey:e,method:he,navigate:n,replace:a,state:c,relative:_,preventScrollReset:x,viewTransition:T})};return k.createElement("form",{ref:j,method:V,action:z,onSubmit:i?y:Y,...A,"data-discover":!$&&t==="render"?"true":void 0})});Tj.displayName="Form";function Ej(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HE(t){let e=k.useContext(eu);return Ut(e,Ej(t)),e}function Sj(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:c,viewTransition:u}={}){let p=Mo(),y=Ss(),_=Xh(t,{relative:c});return k.useCallback(x=>{if(sj(x,e)){x.preventDefault();let T=n!==void 0?n:Dh(y)===Dh(_);p(t,{replace:T,state:i,preventScrollReset:a,relative:c,viewTransition:u})}},[y,p,_,n,i,e,t,a,c,u])}var Aj=0,Nj=()=>`__${String(++Aj)}__`;function Cj(){let{router:t}=HE("useSubmit"),{basename:e}=k.useContext(Ys),n=WP();return k.useCallback(async(i,a={})=>{let{action:c,method:u,encType:p,formData:y,body:_}=oj(i,e);if(a.navigate===!1){let x=a.fetcherKey||Nj();await t.fetch(x,n,a.action||c,{preventScrollReset:a.preventScrollReset,formData:y,body:_,formMethod:a.method||u,formEncType:a.encType||p,flushSync:a.flushSync})}else await t.navigate(a.action||c,{preventScrollReset:a.preventScrollReset,formData:y,body:_,formMethod:a.method||u,formEncType:a.encType||p,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function Rj(t,{relative:e}={}){let{basename:n}=k.useContext(Ys),i=k.useContext(Xs);Ut(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),c={...Xh(t||".",{relative:e})},u=Ss();if(t==null){c.search=u.search;let p=new URLSearchParams(c.search),y=p.getAll("index");if(y.some(x=>x==="")){p.delete("index"),y.filter(T=>T).forEach(T=>p.append("index",T));let x=p.toString();c.search=x?`?${x}`:""}}return(!t||t===".")&&a.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:ca([n,c.pathname])),Dh(c)}function Pj(t,{relative:e}={}){let n=k.useContext(DE);Ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=HE("useViewTransitionState"),a=Xh(t,{relative:e});if(!n.isTransitioning)return!1;let c=da(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=da(n.nextLocation.pathname,i)||n.nextLocation.pathname;return tm(a.pathname,u)!=null||tm(a.pathname,c)!=null}var jj=CE();const Ij=()=>{};var _w={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},Dj=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const c=t[n++];e[i++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=t[n++],u=t[n++],p=t[n++],y=((a&7)<<18|(c&63)<<12|(u&63)<<6|p&63)-65536;e[i++]=String.fromCharCode(55296+(y>>10)),e[i++]=String.fromCharCode(56320+(y&1023))}else{const c=t[n++],u=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(c&63)<<6|u&63)}}return e.join("")},GE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const c=t[a],u=a+1<t.length,p=u?t[a+1]:0,y=a+2<t.length,_=y?t[a+2]:0,x=c>>2,T=(c&3)<<4|p>>4;let A=(p&15)<<2|_>>6,j=_&63;y||(j=64,u||(A=64)),i.push(n[x],n[T],n[A],n[j])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Dj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const c=n[t.charAt(a++)],p=a<t.length?n[t.charAt(a)]:0;++a;const _=a<t.length?n[t.charAt(a)]:64;++a;const T=a<t.length?n[t.charAt(a)]:64;if(++a,c==null||p==null||_==null||T==null)throw new Lj;const A=c<<2|p>>4;if(i.push(A),_!==64){const j=p<<4&240|_>>2;if(i.push(j),T!==64){const I=_<<6&192|T;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Lj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Mj=function(t){const e=qE(t);return GE.encodeByteArray(e,!0)},nm=function(t){return Mj(t).replace(/\./g,"")},ZE=function(t){try{return GE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj=()=>Oj().__FIREBASE_DEFAULTS__,Vj=()=>{if(typeof process>"u"||typeof _w>"u")return;const t=_w.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Uj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ZE(t[1]);return e&&JSON.parse(e)},Cm=()=>{try{return Ij()||kj()||Vj()||Uj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WE=t=>Cm()?.emulatorHosts?.[t],Bj=t=>{const e=WE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},KE=()=>Cm()?.config,$E=t=>Cm()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function YE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,c=t.sub||t.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...t};return[nm(JSON.stringify(n)),nm(JSON.stringify(u)),""].join(".")}const wh={};function Hj(){const t={prod:[],emulator:[]};for(const e of Object.keys(wh))wh[e]?t.emulator.push(e):t.prod.push(e);return t}function qj(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let xw=!1;function XE(t,e){if(typeof window>"u"||typeof document>"u"||!nu(window.location.host)||wh[t]===e||wh[t]||xw)return;wh[t]=e;function n(A){return`__firebase__banner__${A}`}const i="__firebase__banner",c=Hj().prod.length>0;function u(){const A=document.getElementById(i);A&&A.remove()}function p(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function y(A,j){A.setAttribute("width","24"),A.setAttribute("id",j),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function _(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{xw=!0,u()},A}function x(A,j){A.setAttribute("id",j),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=qj(i),j=n("text"),I=document.getElementById(j)||document.createElement("span"),z=n("learnmore"),V=document.getElementById(z)||document.createElement("a"),$=n("preprendIcon"),Y=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const X=A.element;p(X),x(V,z);const ve=_();y(Y,$),X.append(Y,I,V,ve),document.body.appendChild(X)}c?(I.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xn())}function Zj(){const t=Cm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Wj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Kj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $j(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Yj(){const t=Xn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Xj(){return!Zj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qj(){try{return typeof indexedDB=="object"}catch{return!1}}function Jj(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="FirebaseError";class _a extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=eI,Object.setPrototypeOf(this,_a.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qh.prototype.create)}}class Qh{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],u=c?tI(c,i):"Error",p=`${this.serviceName}: ${u} (${a}).`;return new _a(a,p,i)}}function tI(t,e){return t.replace(nI,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const nI=/\{\$([^}]+)}/g;function iI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ao(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const c=t[a],u=e[a];if(bw(c)&&bw(u)){if(!Ao(c,u))return!1}else if(c!==u)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function bw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function mh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,c]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(c)}}),e}function ph(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function sI(t,e){const n=new rI(t,e);return n.subscribe.bind(n)}class rI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");aI(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=Zg),a.error===void 0&&(a.error=Zg),a.complete===void 0&&(a.complete=Zg);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t){return t&&t._delegate?t._delegate:t}class Cl{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new zj;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cI(e))try{this.getOrInitializeService({instanceIdentifier:yl})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});i.resolve(c)}catch{}}}}clearInstance(e=yl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yl){return this.instances.has(e)}getOptions(e=yl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[c,u]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);i===p&&u.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const c=this.instances.get(i);return c&&e(c,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:lI(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=yl){return this.component?this.component.multipleInstances?e:yl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lI(t){return t===yl?void 0:t}function cI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(lt||(lt={}));const hI={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},dI=lt.INFO,fI={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},mI=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=fI[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class M0{constructor(e){this.name=e,this._logLevel=dI,this._logHandler=mI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const pI=(t,e)=>e.some(n=>t instanceof n);let ww,Tw;function gI(){return ww||(ww=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yI(){return Tw||(Tw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QE=new WeakMap,Ay=new WeakMap,JE=new WeakMap,Wg=new WeakMap,O0=new WeakMap;function vI(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",c),t.removeEventListener("error",u)},c=()=>{n(xo(t.result)),a()},u=()=>{i(t.error),a()};t.addEventListener("success",c),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&QE.set(n,t)}).catch(()=>{}),O0.set(e,t),e}function _I(t){if(Ay.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",u),t.removeEventListener("abort",u)},c=()=>{n(),a()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",c),t.addEventListener("error",u),t.addEventListener("abort",u)});Ay.set(t,e)}let Ny={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ay.get(t);if(e==="objectStoreNames")return t.objectStoreNames||JE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xI(t){Ny=t(Ny)}function bI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Kg(this),e,...n);return JE.set(i,e.sort?e.sort():[e]),xo(i)}:yI().includes(t)?function(...e){return t.apply(Kg(this),e),xo(QE.get(this))}:function(...e){return xo(t.apply(Kg(this),e))}}function wI(t){return typeof t=="function"?bI(t):(t instanceof IDBTransaction&&_I(t),pI(t,gI())?new Proxy(t,Ny):t)}function xo(t){if(t instanceof IDBRequest)return vI(t);if(Wg.has(t))return Wg.get(t);const e=wI(t);return e!==t&&(Wg.set(t,e),O0.set(e,t)),e}const Kg=t=>O0.get(t);function TI(t,e,{blocked:n,upgrade:i,blocking:a,terminated:c}={}){const u=indexedDB.open(t,e),p=xo(u);return i&&u.addEventListener("upgradeneeded",y=>{i(xo(u.result),y.oldVersion,y.newVersion,xo(u.transaction),y)}),n&&u.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),a&&y.addEventListener("versionchange",_=>a(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const EI=["get","getKey","getAll","getAllKeys","count"],SI=["put","add","delete","clear"],$g=new Map;function Ew(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($g.get(e))return $g.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=SI.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||EI.includes(n)))return;const c=async function(u,...p){const y=this.transaction(u,a?"readwrite":"readonly");let _=y.store;return i&&(_=_.index(p.shift())),(await Promise.all([_[n](...p),a&&y.done]))[0]};return $g.set(e,c),c}xI(t=>({...t,get:(e,n,i)=>Ew(e,n)||t.get(e,n,i),has:(e,n)=>!!Ew(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NI(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function NI(t){return t.getComponent()?.type==="VERSION"}const Cy="@firebase/app",Sw="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=new M0("@firebase/app"),CI="@firebase/app-compat",RI="@firebase/analytics-compat",PI="@firebase/analytics",jI="@firebase/app-check-compat",II="@firebase/app-check",DI="@firebase/auth",LI="@firebase/auth-compat",MI="@firebase/database",OI="@firebase/data-connect",kI="@firebase/database-compat",VI="@firebase/functions",UI="@firebase/functions-compat",BI="@firebase/installations",zI="@firebase/installations-compat",FI="@firebase/messaging",HI="@firebase/messaging-compat",qI="@firebase/performance",GI="@firebase/performance-compat",ZI="@firebase/remote-config",WI="@firebase/remote-config-compat",KI="@firebase/storage",$I="@firebase/storage-compat",YI="@firebase/firestore",XI="@firebase/ai",QI="@firebase/firestore-compat",JI="firebase",e4="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="[DEFAULT]",t4={[Cy]:"fire-core",[CI]:"fire-core-compat",[PI]:"fire-analytics",[RI]:"fire-analytics-compat",[II]:"fire-app-check",[jI]:"fire-app-check-compat",[DI]:"fire-auth",[LI]:"fire-auth-compat",[MI]:"fire-rtdb",[OI]:"fire-data-connect",[kI]:"fire-rtdb-compat",[VI]:"fire-fn",[UI]:"fire-fn-compat",[BI]:"fire-iid",[zI]:"fire-iid-compat",[FI]:"fire-fcm",[HI]:"fire-fcm-compat",[qI]:"fire-perf",[GI]:"fire-perf-compat",[ZI]:"fire-rc",[WI]:"fire-rc-compat",[KI]:"fire-gcs",[$I]:"fire-gcs-compat",[YI]:"fire-fst",[QI]:"fire-fst-compat",[XI]:"fire-vertex","fire-js":"fire-js",[JI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=new Map,n4=new Map,Py=new Map;function Aw(t,e){try{t.container.addComponent(e)}catch(n){fa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zc(t){const e=t.name;if(Py.has(e))return fa.debug(`There were multiple attempts to register component ${e}.`),!1;Py.set(e,t);for(const n of im.values())Aw(n,t);for(const n of n4.values())Aw(n,t);return!0}function k0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function bs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bo=new Qh("app","Firebase",i4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Cl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=e4;function eS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Ry,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw bo.create("bad-app-name",{appName:String(a)});if(n||(n=KE()),!n)throw bo.create("no-options");const c=im.get(a);if(c){if(Ao(n,c.options)&&Ao(i,c.config))return c;throw bo.create("duplicate-app",{appName:a})}const u=new uI(a);for(const y of Py.values())u.addComponent(y);const p=new s4(n,i,u);return im.set(a,p),p}function tS(t=Ry){const e=im.get(t);if(!e&&t===Ry&&KE())return eS();if(!e)throw bo.create("no-app",{appName:t});return e}function wo(t,e,n){let i=t4[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fa.warn(u.join(" "));return}zc(new Cl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4="firebase-heartbeat-database",a4=1,Lh="firebase-heartbeat-store";let Yg=null;function nS(){return Yg||(Yg=TI(r4,a4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Lh)}catch(n){console.warn(n)}}}}).catch(t=>{throw bo.create("idb-open",{originalErrorMessage:t.message})})),Yg}async function o4(t){try{const n=(await nS()).transaction(Lh),i=await n.objectStore(Lh).get(iS(t));return await n.done,i}catch(e){if(e instanceof _a)fa.warn(e.message);else{const n=bo.create("idb-get",{originalErrorMessage:e?.message});fa.warn(n.message)}}}async function Nw(t,e){try{const i=(await nS()).transaction(Lh,"readwrite");await i.objectStore(Lh).put(e,iS(t)),await i.done}catch(n){if(n instanceof _a)fa.warn(n.message);else{const i=bo.create("idb-set",{originalErrorMessage:n?.message});fa.warn(i.message)}}}function iS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=1024,c4=30;class u4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new d4(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Cw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>c4){const a=f4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){fa.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Cw(),{heartbeatsToSend:n,unsentEntries:i}=h4(this._heartbeatsCache.heartbeats),a=nm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return fa.warn(e),""}}}function Cw(){return new Date().toISOString().substring(0,10)}function h4(t,e=l4){const n=[];let i=t.slice();for(const a of t){const c=n.find(u=>u.agent===a.agent);if(c){if(c.dates.push(a.date),Rw(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Rw(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class d4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Qj()?Jj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await o4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Nw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Nw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Rw(t){return nm(JSON.stringify({version:2,heartbeats:t})).length}function f4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t){zc(new Cl("platform-logger",e=>new AI(e),"PRIVATE")),zc(new Cl("heartbeat",e=>new u4(e),"PRIVATE")),wo(Cy,Sw,t),wo(Cy,Sw,"esm2020"),wo("fire-js","")}m4("");function sS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const p4=sS,rS=new Qh("auth","Firebase",sS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm=new M0("@firebase/auth");function g4(t,...e){sm.logLevel<=lt.WARN&&sm.warn(`Auth (${iu}): ${t}`,...e)}function kf(t,...e){sm.logLevel<=lt.ERROR&&sm.error(`Auth (${iu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(t,...e){throw V0(t,...e)}function _r(t,...e){return V0(t,...e)}function aS(t,e,n){const i={...p4(),[e]:n};return new Qh("auth","Firebase",i).create(e,{appName:t.name})}function ua(t){return aS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function V0(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return rS.create(t,...e)}function qe(t,e,...n){if(!t)throw V0(e,...n)}function oa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kf(e),new Error(e)}function ma(t,e){t||oa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(){return typeof self<"u"&&self.location?.href||""}function y4(){return Pw()==="http:"||Pw()==="https:"}function Pw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(y4()||Kj()||"connection"in navigator)?navigator.onLine:!0}function _4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n){this.shortDelay=e,this.longDelay=n,ma(n>e,"Short delay should be less than long delay!"),this.isMobile=Gj()||$j()}get(){return v4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(t,e){ma(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],w4=new ed(3e4,6e4);function xa(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Rr(t,e,n,i,a={}){return lS(t,a,async()=>{let c={},u={};i&&(e==="GET"?u=i:c={body:JSON.stringify(i)});const p=Jh({key:t.config.apiKey,...u}).slice(1),y=await t._getAdditionalHeaders();y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode);const _={method:e,headers:y,...c};return Wj()||(_.referrerPolicy="no-referrer"),t.emulatorConfig&&nu(t.emulatorConfig.host)&&(_.credentials="include"),oS.fetch()(await cS(t,t.config.apiHost,n,p),_)})}async function lS(t,e,n){t._canInitEmulator=!1;const i={...x4,...e};try{const a=new E4(t),c=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw Tf(t,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const p=c.ok?u.errorMessage:u.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tf(t,"credential-already-in-use",u);if(y==="EMAIL_EXISTS")throw Tf(t,"email-already-in-use",u);if(y==="USER_DISABLED")throw Tf(t,"user-disabled",u);const x=i[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw aS(t,x,_);Ks(t,x)}}catch(a){if(a instanceof _a)throw a;Ks(t,"network-request-failed",{message:String(a)})}}async function td(t,e,n,i,a={}){const c=await Rr(t,e,n,i,a);return"mfaPendingCredential"in c&&Ks(t,"multi-factor-auth-required",{_serverResponse:c}),c}async function cS(t,e,n,i){const a=`${e}${n}?${i}`,c=t,u=c.config.emulator?U0(t.config,a):`${t.config.apiScheme}://${a}`;return b4.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}function T4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class E4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(_r(this.auth,"network-request-failed")),w4.get())})}}function Tf(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=_r(t,e,i);return a.customData._tokenResponse=n,a}function jw(t){return t!==void 0&&t.enterprise!==void 0}class S4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return T4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function A4(t,e){return Rr(t,"GET","/v2/recaptchaConfig",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(t,e){return Rr(t,"POST","/v1/accounts:delete",e)}async function rm(t,e){return Rr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function C4(t,e=!1){const n=vn(t),i=await n.getIdToken(e),a=B0(i);qe(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const c=typeof a.firebase=="object"?a.firebase:void 0,u=c?.sign_in_provider;return{claims:a,token:i,authTime:Th(Xg(a.auth_time)),issuedAtTime:Th(Xg(a.iat)),expirationTime:Th(Xg(a.exp)),signInProvider:u||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Xg(t){return Number(t)*1e3}function B0(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return kf("JWT malformed, contained fewer than 3 sections"),null;try{const a=ZE(n);return a?JSON.parse(a):(kf("Failed to decode base64 JWT payload"),null)}catch(a){return kf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Iw(t){const e=B0(t);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof _a&&R4(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function R4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Th(this.lastLoginAt),this.creationTime=Th(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function am(t){const e=t.auth,n=await t.getIdToken(),i=await Fc(t,rm(e,{idToken:n}));qe(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const c=a.providerUserInfo?.length?uS(a.providerUserInfo):[],u=I4(t.providerData,c),p=t.isAnonymous,y=!(t.email&&a.passwordHash)&&!u?.length,_=p?y:!1,x={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Iy(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(t,x)}async function j4(t){const e=vn(t);await am(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function I4(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function uS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D4(t,e){const n=await lS(t,{},async()=>{const i=Jh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:c}=t.config,u=await cS(t,a,"/v1/token",`key=${c}`),p=await t._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:i};return t.emulatorConfig&&nu(t.emulatorConfig.host)&&(y.credentials="include"),oS.fetch()(u,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function L4(t,e){return Rr(t,"POST","/v2/accounts:revokeToken",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Iw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const n=Iw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:c}=await D4(e,n);this.updateTokensAndExpiration(i,a,Number(c))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:c}=n,u=new Mc;return i&&(qe(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(qe(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),c&&(qe(typeof c=="number","internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mc,this.toJSON())}_performRefresh(){return oa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(t,e){qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Gs{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new P4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Iy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Fc(this,this.stsTokenManager.getToken(this.auth,e));return qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return C4(this,e)}reload(){return j4(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await am(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bs(this.auth.app))return Promise.reject(ua(this.auth));const e=await this.getIdToken();return await Fc(this,N4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,c=n.phoneNumber??void 0,u=n.photoURL??void 0,p=n.tenantId??void 0,y=n._redirectEventId??void 0,_=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:j,providerData:I,stsTokenManager:z}=n;qe(T&&z,e,"internal-error");const V=Mc.fromJSON(this.name,z);qe(typeof T=="string",e,"internal-error"),fo(i,e.name),fo(a,e.name),qe(typeof A=="boolean",e,"internal-error"),qe(typeof j=="boolean",e,"internal-error"),fo(c,e.name),fo(u,e.name),fo(p,e.name),fo(y,e.name),fo(_,e.name),fo(x,e.name);const $=new Gs({uid:T,auth:e,email:a,emailVerified:A,displayName:i,isAnonymous:j,photoURL:u,phoneNumber:c,tenantId:p,stsTokenManager:V,createdAt:_,lastLoginAt:x});return I&&Array.isArray(I)&&($.providerData=I.map(Y=>({...Y}))),y&&($._redirectEventId=y),$}static async _fromIdTokenResponse(e,n,i=!1){const a=new Mc;a.updateFromServerResponse(n);const c=new Gs({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await am(c),c}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];qe(a.localId!==void 0,"internal-error");const c=a.providerUserInfo!==void 0?uS(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!c?.length,p=new Mc;p.updateFromIdToken(i);const y=new Gs({uid:a.localId,auth:e,stsTokenManager:p,isAnonymous:u}),_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Iy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!c?.length};return Object.assign(y,_),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=new Map;function la(t){ma(t instanceof Function,"Expected a class definition");let e=Dw.get(t);return e?(ma(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Dw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hS.type="NONE";const Lw=hS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(t,e,n){return`firebase:${t}:${e}:${n}`}class Oc{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:c}=this.auth;this.fullUserKey=Vf(this.userKey,a.apiKey,c),this.fullPersistenceKey=Vf("persistence",a.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await rm(this.auth,{idToken:e}).catch(()=>{});return n?Gs._fromGetAccountInfoResponse(this.auth,n,e):null}return Gs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Oc(la(Lw),e,i);const a=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=a[0]||la(Lw);const u=Vf(i,e.config.apiKey,e.name);let p=null;for(const _ of n)try{const x=await _._get(u);if(x){let T;if(typeof x=="string"){const A=await rm(e,{idToken:x}).catch(()=>{});if(!A)break;T=await Gs._fromGetAccountInfoResponse(e,A,x)}else T=Gs._fromJSON(e,x);_!==c&&(p=T),c=_;break}}catch{}const y=a.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Oc(c,e,i):(c=y[0],p&&await c._set(u,p.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(u)}catch{}})),new Oc(c,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yS(e))return"Blackberry";if(vS(e))return"Webos";if(fS(e))return"Safari";if((e.includes("chrome/")||mS(e))&&!e.includes("edge/"))return"Chrome";if(gS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function dS(t=Xn()){return/firefox\//i.test(t)}function fS(t=Xn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mS(t=Xn()){return/crios\//i.test(t)}function pS(t=Xn()){return/iemobile/i.test(t)}function gS(t=Xn()){return/android/i.test(t)}function yS(t=Xn()){return/blackberry/i.test(t)}function vS(t=Xn()){return/webos/i.test(t)}function z0(t=Xn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function M4(t=Xn()){return z0(t)&&!!window.navigator?.standalone}function O4(){return Yj()&&document.documentMode===10}function _S(t=Xn()){return z0(t)||gS(t)||vS(t)||yS(t)||/windows phone/i.test(t)||pS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(t,e=[]){let n;switch(t){case"Browser":n=Mw(Xn());break;case"Worker":n=`${Mw(Xn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${iu}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=c=>new Promise((u,p)=>{try{const y=e(c);u(y)}catch(y){p(y)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V4(t,e={}){return Rr(t,"GET","/v2/passwordPolicy",xa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=6;class B4{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??U4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ow(this),this.idTokenSubscription=new Ow(this),this.beforeStateQueue=new k4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=la(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Oc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rm(this,{idToken:e}),i=await Gs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(bs(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,u=i?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===u)&&p?.user&&(i=p.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await am(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bs(this.app))return Promise.reject(ua(this));const n=e?vn(e):null;return n&&qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bs(this.app)?Promise.reject(ua(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bs(this.app)?Promise.reject(ua(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(la(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await V4(this),n=new B4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qh("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await L4(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&la(e)||this._popupRedirectResolver;qe(n,this,"argument-error"),this.redirectPersistenceManager=await Oc.create(this,[la(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let u=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(p,this,"internal-error"),p.then(()=>{u||c(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,i,a);return()=>{u=!0,y()}}else{const y=e.addObserver(n);return()=>{u=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(bs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&g4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Oo(t){return vn(t)}let Ow=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=sI(n=>this.observer=n)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function F4(t){Rm=t}function bS(t){return Rm.loadJS(t)}function H4(){return Rm.recaptchaEnterpriseScript}function q4(){return Rm.gapiScript}function G4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Z4{constructor(){this.enterprise=new W4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class W4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const K4="recaptcha-enterprise",wS="NO_RECAPTCHA";class $4{constructor(e){this.type=K4,this.auth=Oo(e)}async verify(e="verify",n=!1){async function i(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(u,p)=>{A4(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new S4(y);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,u(_.siteKey)}}).catch(y=>{p(y)})})}function a(c,u,p){const y=window.grecaptcha;jw(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:e}).then(_=>{u(_)}).catch(()=>{u(wS)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Z4().execute("siteKey",{action:"verify"}):new Promise((c,u)=>{i(this.auth).then(p=>{if(!n&&jw(window.grecaptcha))a(p,c,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let y=H4();y.length!==0&&(y+=p),bS(y).then(()=>{a(p,c,u)}).catch(_=>{u(_)})}}).catch(p=>{u(p)})})}}async function kw(t,e,n,i=!1,a=!1){const c=new $4(t);let u;if(a)u=wS;else try{u=await c.verify(n)}catch{u=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return i?Object.assign(p,{captchaResp:u}):Object.assign(p,{captchaResponse:u}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function om(t,e,n,i,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await kw(t,e,n,n==="getOobCode");return i(t,c)}else return i(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await kw(t,e,n,n==="getOobCode");return i(t,u)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(t,e){const n=k0(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),c=n.getOptions();if(Ao(c,e??{}))return a;Ks(a,"already-initialized")}return n.initialize({options:e})}function X4(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(la);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function Q4(t,e,n){const i=Oo(t);qe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,c=TS(e),{host:u,port:p}=J4(e),y=p===null?"":`:${p}`,_={url:`${c}//${u}${y}/`},x=Object.freeze({host:u,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){qe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),qe(Ao(_,i.config.emulator)&&Ao(x,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=_,i.emulatorConfig=x,i.settings.appVerificationDisabledForTesting=!0,nu(u)?(YE(`${c}//${u}${y}`),XE("Auth",!0)):eD()}function TS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function J4(t){const e=TS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const c=a[1];return{host:c,port:Vw(i.substr(c.length+1))}}else{const[c,u]=i.split(":");return{host:c,port:Vw(u)}}}function Vw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function eD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return oa("not implemented")}_getIdTokenResponse(e){return oa("not implemented")}_linkToIdToken(e,n){return oa("not implemented")}_getReauthenticationResolver(e){return oa("not implemented")}}async function tD(t,e){return Rr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(t,e){return td(t,"POST","/v1/accounts:signInWithPassword",xa(t,e))}async function iD(t,e){return Rr(t,"POST","/v1/accounts:sendOobCode",xa(t,e))}async function sD(t,e){return iD(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(t,e){return td(t,"POST","/v1/accounts:signInWithEmailLink",xa(t,e))}async function aD(t,e){return td(t,"POST","/v1/accounts:signInWithEmailLink",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends F0{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Mh(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Mh(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return om(e,n,"signInWithPassword",nD);case"emailLink":return rD(e,{email:this._email,oobCode:this._password});default:Ks(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return om(e,i,"signUpPassword",tD);case"emailLink":return aD(e,{idToken:n,email:this._email,oobCode:this._password});default:Ks(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(t,e){return td(t,"POST","/v1/accounts:signInWithIdp",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="http://localhost";class Rl extends F0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Rl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ks("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...c}=n;if(!i||!a)return null;const u=new Rl(i,a);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return kc(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,kc(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,kc(e,n)}buildRequest(){const e={requestUri:oD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cD(t){const e=mh(ph(t)).link,n=e?mh(ph(e)).deep_link_id:null,i=mh(ph(t)).deep_link_id;return(i?mh(ph(i)).link:null)||i||n||e||t}class H0{constructor(e){const n=mh(ph(e)),i=n.apiKey??null,a=n.oobCode??null,c=lD(n.mode??null);qe(i&&a&&c,"argument-error"),this.apiKey=i,this.operation=c,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=cD(e);try{return new H0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(){this.providerId=su.PROVIDER_ID}static credential(e,n){return Mh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=H0.parseLink(n);return qe(i,"argument-error"),Mh._fromEmailAndCode(e,i.code,i.tenantId)}}su.PROVIDER_ID="password";su.EMAIL_PASSWORD_SIGN_IN_METHOD="password";su.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends ES{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends nd{constructor(){super("facebook.com")}static credential(e){return Rl._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return po.credentialFromTaggedObject(e)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return po.credential(e.oauthAccessToken)}catch{return null}}}po.FACEBOOK_SIGN_IN_METHOD="facebook.com";po.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends nd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Rl._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return go.credential(n,i)}catch{return null}}}go.GOOGLE_SIGN_IN_METHOD="google.com";go.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends nd{constructor(){super("github.com")}static credential(e){return Rl._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yo.credential(e.oauthAccessToken)}catch{return null}}}yo.GITHUB_SIGN_IN_METHOD="github.com";yo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends nd{constructor(){super("twitter.com")}static credential(e,n){return Rl._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return vo.credential(n,i)}catch{return null}}}vo.TWITTER_SIGN_IN_METHOD="twitter.com";vo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(t,e){return td(t,"POST","/v1/accounts:signUp",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const c=await Gs._fromIdTokenResponse(e,i,a),u=Uw(i);return new Pl({user:c,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=Uw(i);return new Pl({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function Uw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm extends _a{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,lm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new lm(e,n,i,a)}}function SS(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?lm._fromErrorAndOperation(t,c,e,i):c})}async function hD(t,e,n=!1){const i=await Fc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Pl._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(t,e,n=!1){const{auth:i}=t;if(bs(i.app))return Promise.reject(ua(i));const a="reauthenticate";try{const c=await Fc(t,SS(i,a,e,t),n);qe(c.idToken,i,"internal-error");const u=B0(c.idToken);qe(u,i,"internal-error");const{sub:p}=u;return qe(t.uid===p,i,"user-mismatch"),Pl._forOperation(t,a,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ks(i,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AS(t,e,n=!1){if(bs(t.app))return Promise.reject(ua(t));const i="signIn",a=await SS(t,i,e),c=await Pl._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(c.user),c}async function fD(t,e){return AS(Oo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NS(t){const e=Oo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function mD(t,e,n){const i=Oo(t);await om(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",sD)}async function pD(t,e,n){if(bs(t.app))return Promise.reject(ua(t));const i=Oo(t),u=await om(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uD).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&NS(t),y}),p=await Pl._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(p.user),p}function gD(t,e,n){return bs(t.app)?Promise.reject(ua(t)):fD(vn(t),su.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&NS(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(t,e){return Rr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vD(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=vn(t),c={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await Fc(i,yD(i.auth,c));i.displayName=u.displayName||null,i.photoURL=u.photoUrl||null;const p=i.providerData.find(({providerId:y})=>y==="password");p&&(p.displayName=i.displayName,p.photoURL=i.photoURL),await i._updateTokensIfNecessary(u)}function _D(t,e,n,i){return vn(t).onIdTokenChanged(e,n,i)}function xD(t,e,n){return vn(t).beforeAuthStateChanged(e,n)}function CS(t,e,n,i){return vn(t).onAuthStateChanged(e,n,i)}function bD(t){return vn(t).signOut()}const cm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(cm,"1"),this.storage.removeItem(cm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=1e3,TD=10;class PS extends RS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_S(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,p,y)=>{this.notifyListeners(u,y)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},c=this.storage.getItem(i);O4()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,TD):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},wD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}PS.type="LOCAL";const ED=PS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS extends RS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}jS.type="SESSION";const IS=jS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Pm(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:c}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const p=Array.from(u).map(async _=>_(n.origin,c)),y=await SD(p);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let c,u;return new Promise((p,y)=>{const _=q0("",20);a.port1.start();const x=setTimeout(()=>{y(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(T){const A=T;if(A.data.eventId===_)switch(A.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(A.data.response);break;default:clearTimeout(x),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(){return window}function ND(t){xr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(){return typeof xr().WorkerGlobalScope<"u"&&typeof xr().importScripts=="function"}async function CD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RD(){return navigator?.serviceWorker?.controller||null}function PD(){return DS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="firebaseLocalStorageDb",jD=1,um="firebaseLocalStorage",MS="fbase_key";class id{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jm(t,e){return t.transaction([um],e?"readwrite":"readonly").objectStore(um)}function ID(){const t=indexedDB.deleteDatabase(LS);return new id(t).toPromise()}function Dy(){const t=indexedDB.open(LS,jD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(um,{keyPath:MS})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(um)?e(i):(i.close(),await ID(),e(await Dy()))})})}async function Bw(t,e,n){const i=jm(t,!0).put({[MS]:e,value:n});return new id(i).toPromise()}async function DD(t,e){const n=jm(t,!1).get(e),i=await new id(n).toPromise();return i===void 0?null:i.value}function zw(t,e){const n=jm(t,!0).delete(e);return new id(n).toPromise()}const LD=800,MD=3;class OS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>MD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pm._getInstance(PD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await CD(),!this.activeServiceWorker)return;this.sender=new AD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dy();return await Bw(e,cm,"1"),await zw(e,cm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Bw(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>DD(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>zw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const c=jm(a,!1).getAll();return new id(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:c}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(c)&&(this.notifyListeners(a,c),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OS.type="LOCAL";const OD=OS;new ed(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(t,e){return e?la(e):(qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0 extends F0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return kc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return kc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return kc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function VD(t){return AS(t.auth,new G0(t),t.bypassAuthState)}function UD(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),dD(n,new G0(t),t.bypassAuthState)}async function BD(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),hD(n,new G0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,n,i,a,c=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:c,error:u,type:p}=e;if(u){this.reject(u);return}const y={auth:this.auth,requestUri:n,sessionId:i,tenantId:c||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VD;case"linkViaPopup":case"linkViaRedirect":return BD;case"reauthViaPopup":case"reauthViaRedirect":return UD;default:Ks(this.auth,"internal-error")}}resolve(e){ma(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ma(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=new ed(2e3,1e4);class Rc extends kS{constructor(e,n,i,a,c){super(e,n,a,c),this.provider=i,this.authWindow=null,this.pollId=null,Rc.currentPopupAction&&Rc.currentPopupAction.cancel(),Rc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){ma(this.filter.length===1,"Popup operations only handle one event");const e=q0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(_r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zD.get())};e()}}Rc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD="pendingRedirect",Uf=new Map;class HD extends kS{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Uf.get(this.auth._key());if(!e){try{const i=await qD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Uf.set(this.auth._key(),e)}return this.bypassAuthState||Uf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qD(t,e){const n=WD(e),i=ZD(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function GD(t,e){Uf.set(t._key(),e)}function ZD(t){return la(t._redirectPersistence)}function WD(t){return Vf(FD,t.config.apiKey,t.name)}async function KD(t,e,n=!1){if(bs(t.app))return Promise.reject(ua(t));const i=Oo(t),a=kD(i,e),u=await new HD(i,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=600*1e3;class YD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!VS(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(_r(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$D&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fw(e))}saveEventToCache(e){this.cachedEventUids.add(Fw(e)),this.lastProcessedEventTime=Date.now()}}function Fw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function VS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function XD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QD(t,e={}){return Rr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eL=/^https?/;async function tL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await QD(t);for(const n of e)try{if(nL(n))return}catch{}Ks(t,"unauthorized-domain")}function nL(t){const e=jy(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!eL.test(n))return!1;if(JD.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=new ed(3e4,6e4);function Hw(){const t=xr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function sL(t){return new Promise((e,n)=>{function i(){Hw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Hw(),n(_r(t,"network-request-failed"))},timeout:iL.get()})}if(xr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(xr().gapi?.load)i();else{const a=G4("iframefcb");return xr()[a]=()=>{gapi.load?i():n(_r(t,"network-request-failed"))},bS(`${q4()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Bf=null,e})}let Bf=null;function rL(t){return Bf=Bf||sL(t),Bf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=new ed(5e3,15e3),oL="__/auth/iframe",lL="emulator/auth/iframe",cL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hL(t){const e=t.config;qe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?U0(e,lL):`https://${t.config.authDomain}/${oL}`,i={apiKey:e.apiKey,appName:t.name,v:iu},a=uL.get(t.config.apiHost);a&&(i.eid=a);const c=t._getFrameworks();return c.length&&(i.fw=c.join(",")),`${n}?${Jh(i).slice(1)}`}async function dL(t){const e=await rL(t),n=xr().gapi;return qe(n,t,"internal-error"),e.open({where:document.body,url:hL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cL,dontclear:!0},i=>new Promise(async(a,c)=>{await i.restyle({setHideOnLeave:!1});const u=_r(t,"network-request-failed"),p=xr().setTimeout(()=>{c(u)},aL.get());function y(){xr().clearTimeout(p),a(i)}i.ping(y).then(y,()=>{c(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mL=500,pL=600,gL="_blank",yL="http://localhost";class qw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vL(t,e,n,i=mL,a=pL){const c=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let p="";const y={...fL,width:i.toString(),height:a.toString(),top:c,left:u},_=Xn().toLowerCase();n&&(p=mS(_)?gL:n),dS(_)&&(e=e||yL,y.scrollbars="yes");const x=Object.entries(y).reduce((A,[j,I])=>`${A}${j}=${I},`,"");if(M4(_)&&p!=="_self")return _L(e||"",p),new qw(null);const T=window.open(e||"",p,x);qe(T,t,"popup-blocked");try{T.focus()}catch{}return new qw(T)}function _L(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL="__/auth/handler",bL="emulator/auth/handler",wL=encodeURIComponent("fac");async function Gw(t,e,n,i,a,c){qe(t.config.authDomain,t,"auth-domain-config-required"),qe(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:iu,eventId:a};if(e instanceof ES){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",iI(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,T]of Object.entries({}))u[x]=T}if(e instanceof nd){const x=e.getScopes().filter(T=>T!=="");x.length>0&&(u.scopes=x.join(","))}t.tenantId&&(u.tid=t.tenantId);const p=u;for(const x of Object.keys(p))p[x]===void 0&&delete p[x];const y=await t._getAppCheckToken(),_=y?`#${wL}=${encodeURIComponent(y)}`:"";return`${TL(t)}?${Jh(p).slice(1)}${_}`}function TL({config:t}){return t.emulator?U0(t,bL):`https://${t.authDomain}/${xL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg="webStorageSupport";class EL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IS,this._completeRedirectFn=KD,this._overrideRedirectResult=GD}async _openPopup(e,n,i,a){ma(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Gw(e,n,i,jy(),a);return vL(e,c,q0())}async _openRedirect(e,n,i,a){await this._originValidation(e);const c=await Gw(e,n,i,jy(),a);return ND(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:c}=this.eventManagers[n];return a?Promise.resolve(a):(ma(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await dL(e),i=new YD(e);return n.register("authEvent",a=>(qe(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Qg,{type:Qg},a=>{const c=a?.[0]?.[Qg];c!==void 0&&n(!!c),Ks(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=tL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _S()||fS()||z0()}}const SL=EL;var Zw="@firebase/auth",Ww="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CL(t){zc(new Cl("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:p}=i.options;qe(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const y={apiKey:u,authDomain:p,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xS(t)},_=new z4(i,a,c,y);return X4(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),zc(new Cl("auth-internal",e=>{const n=Oo(e.getProvider("auth").getImmediate());return(i=>new AL(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wo(Zw,Ww,NL(t)),wo(Zw,Ww,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=300,PL=$E("authIdTokenMaxAge")||RL;let Kw=null;const jL=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>PL)return;const a=n?.token;Kw!==a&&(Kw=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function US(t=tS()){const e=k0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Y4(t,{popupRedirectResolver:SL,persistence:[OD,ED,IS]}),i=$E("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const u=jL(c.toString());xD(n,u,()=>u(n.currentUser)),_D(n,p=>u(p))}}const a=WE("auth");return a&&Q4(n,`http://${a}`),n}function IL(){return document.getElementsByTagName("head")?.[0]??document}F4({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const c=_r("internal-error");c.customData=a,n(c)},i.type="text/javascript",i.charset="UTF-8",IL().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CL("Browser");var DL="firebase",LL="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wo(DL,LL,"app");var $w=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var To,BS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(B,O){function U(){}U.prototype=O.prototype,B.F=O.prototype,B.prototype=new U,B.prototype.constructor=B,B.D=function(W,M,G){for(var H=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)H[Ue-2]=arguments[Ue];return O.prototype[M].apply(W,H)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(B,O,U){U||(U=0);const W=Array(16);if(typeof O=="string")for(var M=0;M<16;++M)W[M]=O.charCodeAt(U++)|O.charCodeAt(U++)<<8|O.charCodeAt(U++)<<16|O.charCodeAt(U++)<<24;else for(M=0;M<16;++M)W[M]=O[U++]|O[U++]<<8|O[U++]<<16|O[U++]<<24;O=B.g[0],U=B.g[1],M=B.g[2];let G=B.g[3],H;H=O+(G^U&(M^G))+W[0]+3614090360&4294967295,O=U+(H<<7&4294967295|H>>>25),H=G+(M^O&(U^M))+W[1]+3905402710&4294967295,G=O+(H<<12&4294967295|H>>>20),H=M+(U^G&(O^U))+W[2]+606105819&4294967295,M=G+(H<<17&4294967295|H>>>15),H=U+(O^M&(G^O))+W[3]+3250441966&4294967295,U=M+(H<<22&4294967295|H>>>10),H=O+(G^U&(M^G))+W[4]+4118548399&4294967295,O=U+(H<<7&4294967295|H>>>25),H=G+(M^O&(U^M))+W[5]+1200080426&4294967295,G=O+(H<<12&4294967295|H>>>20),H=M+(U^G&(O^U))+W[6]+2821735955&4294967295,M=G+(H<<17&4294967295|H>>>15),H=U+(O^M&(G^O))+W[7]+4249261313&4294967295,U=M+(H<<22&4294967295|H>>>10),H=O+(G^U&(M^G))+W[8]+1770035416&4294967295,O=U+(H<<7&4294967295|H>>>25),H=G+(M^O&(U^M))+W[9]+2336552879&4294967295,G=O+(H<<12&4294967295|H>>>20),H=M+(U^G&(O^U))+W[10]+4294925233&4294967295,M=G+(H<<17&4294967295|H>>>15),H=U+(O^M&(G^O))+W[11]+2304563134&4294967295,U=M+(H<<22&4294967295|H>>>10),H=O+(G^U&(M^G))+W[12]+1804603682&4294967295,O=U+(H<<7&4294967295|H>>>25),H=G+(M^O&(U^M))+W[13]+4254626195&4294967295,G=O+(H<<12&4294967295|H>>>20),H=M+(U^G&(O^U))+W[14]+2792965006&4294967295,M=G+(H<<17&4294967295|H>>>15),H=U+(O^M&(G^O))+W[15]+1236535329&4294967295,U=M+(H<<22&4294967295|H>>>10),H=O+(M^G&(U^M))+W[1]+4129170786&4294967295,O=U+(H<<5&4294967295|H>>>27),H=G+(U^M&(O^U))+W[6]+3225465664&4294967295,G=O+(H<<9&4294967295|H>>>23),H=M+(O^U&(G^O))+W[11]+643717713&4294967295,M=G+(H<<14&4294967295|H>>>18),H=U+(G^O&(M^G))+W[0]+3921069994&4294967295,U=M+(H<<20&4294967295|H>>>12),H=O+(M^G&(U^M))+W[5]+3593408605&4294967295,O=U+(H<<5&4294967295|H>>>27),H=G+(U^M&(O^U))+W[10]+38016083&4294967295,G=O+(H<<9&4294967295|H>>>23),H=M+(O^U&(G^O))+W[15]+3634488961&4294967295,M=G+(H<<14&4294967295|H>>>18),H=U+(G^O&(M^G))+W[4]+3889429448&4294967295,U=M+(H<<20&4294967295|H>>>12),H=O+(M^G&(U^M))+W[9]+568446438&4294967295,O=U+(H<<5&4294967295|H>>>27),H=G+(U^M&(O^U))+W[14]+3275163606&4294967295,G=O+(H<<9&4294967295|H>>>23),H=M+(O^U&(G^O))+W[3]+4107603335&4294967295,M=G+(H<<14&4294967295|H>>>18),H=U+(G^O&(M^G))+W[8]+1163531501&4294967295,U=M+(H<<20&4294967295|H>>>12),H=O+(M^G&(U^M))+W[13]+2850285829&4294967295,O=U+(H<<5&4294967295|H>>>27),H=G+(U^M&(O^U))+W[2]+4243563512&4294967295,G=O+(H<<9&4294967295|H>>>23),H=M+(O^U&(G^O))+W[7]+1735328473&4294967295,M=G+(H<<14&4294967295|H>>>18),H=U+(G^O&(M^G))+W[12]+2368359562&4294967295,U=M+(H<<20&4294967295|H>>>12),H=O+(U^M^G)+W[5]+4294588738&4294967295,O=U+(H<<4&4294967295|H>>>28),H=G+(O^U^M)+W[8]+2272392833&4294967295,G=O+(H<<11&4294967295|H>>>21),H=M+(G^O^U)+W[11]+1839030562&4294967295,M=G+(H<<16&4294967295|H>>>16),H=U+(M^G^O)+W[14]+4259657740&4294967295,U=M+(H<<23&4294967295|H>>>9),H=O+(U^M^G)+W[1]+2763975236&4294967295,O=U+(H<<4&4294967295|H>>>28),H=G+(O^U^M)+W[4]+1272893353&4294967295,G=O+(H<<11&4294967295|H>>>21),H=M+(G^O^U)+W[7]+4139469664&4294967295,M=G+(H<<16&4294967295|H>>>16),H=U+(M^G^O)+W[10]+3200236656&4294967295,U=M+(H<<23&4294967295|H>>>9),H=O+(U^M^G)+W[13]+681279174&4294967295,O=U+(H<<4&4294967295|H>>>28),H=G+(O^U^M)+W[0]+3936430074&4294967295,G=O+(H<<11&4294967295|H>>>21),H=M+(G^O^U)+W[3]+3572445317&4294967295,M=G+(H<<16&4294967295|H>>>16),H=U+(M^G^O)+W[6]+76029189&4294967295,U=M+(H<<23&4294967295|H>>>9),H=O+(U^M^G)+W[9]+3654602809&4294967295,O=U+(H<<4&4294967295|H>>>28),H=G+(O^U^M)+W[12]+3873151461&4294967295,G=O+(H<<11&4294967295|H>>>21),H=M+(G^O^U)+W[15]+530742520&4294967295,M=G+(H<<16&4294967295|H>>>16),H=U+(M^G^O)+W[2]+3299628645&4294967295,U=M+(H<<23&4294967295|H>>>9),H=O+(M^(U|~G))+W[0]+4096336452&4294967295,O=U+(H<<6&4294967295|H>>>26),H=G+(U^(O|~M))+W[7]+1126891415&4294967295,G=O+(H<<10&4294967295|H>>>22),H=M+(O^(G|~U))+W[14]+2878612391&4294967295,M=G+(H<<15&4294967295|H>>>17),H=U+(G^(M|~O))+W[5]+4237533241&4294967295,U=M+(H<<21&4294967295|H>>>11),H=O+(M^(U|~G))+W[12]+1700485571&4294967295,O=U+(H<<6&4294967295|H>>>26),H=G+(U^(O|~M))+W[3]+2399980690&4294967295,G=O+(H<<10&4294967295|H>>>22),H=M+(O^(G|~U))+W[10]+4293915773&4294967295,M=G+(H<<15&4294967295|H>>>17),H=U+(G^(M|~O))+W[1]+2240044497&4294967295,U=M+(H<<21&4294967295|H>>>11),H=O+(M^(U|~G))+W[8]+1873313359&4294967295,O=U+(H<<6&4294967295|H>>>26),H=G+(U^(O|~M))+W[15]+4264355552&4294967295,G=O+(H<<10&4294967295|H>>>22),H=M+(O^(G|~U))+W[6]+2734768916&4294967295,M=G+(H<<15&4294967295|H>>>17),H=U+(G^(M|~O))+W[13]+1309151649&4294967295,U=M+(H<<21&4294967295|H>>>11),H=O+(M^(U|~G))+W[4]+4149444226&4294967295,O=U+(H<<6&4294967295|H>>>26),H=G+(U^(O|~M))+W[11]+3174756917&4294967295,G=O+(H<<10&4294967295|H>>>22),H=M+(O^(G|~U))+W[2]+718787259&4294967295,M=G+(H<<15&4294967295|H>>>17),H=U+(G^(M|~O))+W[9]+3951481745&4294967295,B.g[0]=B.g[0]+O&4294967295,B.g[1]=B.g[1]+(M+(H<<21&4294967295|H>>>11))&4294967295,B.g[2]=B.g[2]+M&4294967295,B.g[3]=B.g[3]+G&4294967295}i.prototype.v=function(B,O){O===void 0&&(O=B.length);const U=O-this.blockSize,W=this.C;let M=this.h,G=0;for(;G<O;){if(M==0)for(;G<=U;)a(this,B,G),G+=this.blockSize;if(typeof B=="string"){for(;G<O;)if(W[M++]=B.charCodeAt(G++),M==this.blockSize){a(this,W),M=0;break}}else for(;G<O;)if(W[M++]=B[G++],M==this.blockSize){a(this,W),M=0;break}}this.h=M,this.o+=O},i.prototype.A=function(){var B=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);B[0]=128;for(var O=1;O<B.length-8;++O)B[O]=0;O=this.o*8;for(var U=B.length-8;U<B.length;++U)B[U]=O&255,O/=256;for(this.v(B),B=Array(16),O=0,U=0;U<4;++U)for(let W=0;W<32;W+=8)B[O++]=this.g[U]>>>W&255;return B};function c(B,O){var U=p;return Object.prototype.hasOwnProperty.call(U,B)?U[B]:U[B]=O(B)}function u(B,O){this.h=O;const U=[];let W=!0;for(let M=B.length-1;M>=0;M--){const G=B[M]|0;W&&G==O||(U[M]=G,W=!1)}this.g=U}var p={};function y(B){return-128<=B&&B<128?c(B,function(O){return new u([O|0],O<0?-1:0)}):new u([B|0],B<0?-1:0)}function _(B){if(isNaN(B)||!isFinite(B))return T;if(B<0)return V(_(-B));const O=[];let U=1;for(let W=0;B>=U;W++)O[W]=B/U|0,U*=4294967296;return new u(O,0)}function x(B,O){if(B.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(B.charAt(0)=="-")return V(x(B.substring(1),O));if(B.indexOf("-")>=0)throw Error('number format error: interior "-" character');const U=_(Math.pow(O,8));let W=T;for(let G=0;G<B.length;G+=8){var M=Math.min(8,B.length-G);const H=parseInt(B.substring(G,G+M),O);M<8?(M=_(Math.pow(O,M)),W=W.j(M).add(_(H))):(W=W.j(U),W=W.add(_(H)))}return W}var T=y(0),A=y(1),j=y(16777216);t=u.prototype,t.m=function(){if(z(this))return-V(this).m();let B=0,O=1;for(let U=0;U<this.g.length;U++){const W=this.i(U);B+=(W>=0?W:4294967296+W)*O,O*=4294967296}return B},t.toString=function(B){if(B=B||10,B<2||36<B)throw Error("radix out of range: "+B);if(I(this))return"0";if(z(this))return"-"+V(this).toString(B);const O=_(Math.pow(B,6));var U=this;let W="";for(;;){const M=ve(U,O).g;U=$(U,M.j(O));let G=((U.g.length>0?U.g[0]:U.h)>>>0).toString(B);if(U=M,I(U))return G+W;for(;G.length<6;)G="0"+G;W=G+W}},t.i=function(B){return B<0?0:B<this.g.length?this.g[B]:this.h};function I(B){if(B.h!=0)return!1;for(let O=0;O<B.g.length;O++)if(B.g[O]!=0)return!1;return!0}function z(B){return B.h==-1}t.l=function(B){return B=$(this,B),z(B)?-1:I(B)?0:1};function V(B){const O=B.g.length,U=[];for(let W=0;W<O;W++)U[W]=~B.g[W];return new u(U,~B.h).add(A)}t.abs=function(){return z(this)?V(this):this},t.add=function(B){const O=Math.max(this.g.length,B.g.length),U=[];let W=0;for(let M=0;M<=O;M++){let G=W+(this.i(M)&65535)+(B.i(M)&65535),H=(G>>>16)+(this.i(M)>>>16)+(B.i(M)>>>16);W=H>>>16,G&=65535,H&=65535,U[M]=H<<16|G}return new u(U,U[U.length-1]&-2147483648?-1:0)};function $(B,O){return B.add(V(O))}t.j=function(B){if(I(this)||I(B))return T;if(z(this))return z(B)?V(this).j(V(B)):V(V(this).j(B));if(z(B))return V(this.j(V(B)));if(this.l(j)<0&&B.l(j)<0)return _(this.m()*B.m());const O=this.g.length+B.g.length,U=[];for(var W=0;W<2*O;W++)U[W]=0;for(W=0;W<this.g.length;W++)for(let M=0;M<B.g.length;M++){const G=this.i(W)>>>16,H=this.i(W)&65535,Ue=B.i(M)>>>16,je=B.i(M)&65535;U[2*W+2*M]+=H*je,Y(U,2*W+2*M),U[2*W+2*M+1]+=G*je,Y(U,2*W+2*M+1),U[2*W+2*M+1]+=H*Ue,Y(U,2*W+2*M+1),U[2*W+2*M+2]+=G*Ue,Y(U,2*W+2*M+2)}for(B=0;B<O;B++)U[B]=U[2*B+1]<<16|U[2*B];for(B=O;B<2*O;B++)U[B]=0;return new u(U,0)};function Y(B,O){for(;(B[O]&65535)!=B[O];)B[O+1]+=B[O]>>>16,B[O]&=65535,O++}function X(B,O){this.g=B,this.h=O}function ve(B,O){if(I(O))throw Error("division by zero");if(I(B))return new X(T,T);if(z(B))return O=ve(V(B),O),new X(V(O.g),V(O.h));if(z(O))return O=ve(B,V(O)),new X(V(O.g),O.h);if(B.g.length>30){if(z(B)||z(O))throw Error("slowDivide_ only works with positive integers.");for(var U=A,W=O;W.l(B)<=0;)U=he(U),W=he(W);var M=we(U,1),G=we(W,1);for(W=we(W,2),U=we(U,2);!I(W);){var H=G.add(W);H.l(B)<=0&&(M=M.add(U),G=H),W=we(W,1),U=we(U,1)}return O=$(B,M.j(O)),new X(M,O)}for(M=T;B.l(O)>=0;){for(U=Math.max(1,Math.floor(B.m()/O.m())),W=Math.ceil(Math.log(U)/Math.LN2),W=W<=48?1:Math.pow(2,W-48),G=_(U),H=G.j(O);z(H)||H.l(B)>0;)U-=W,G=_(U),H=G.j(O);I(G)&&(G=A),M=M.add(G),B=$(B,H)}return new X(M,B)}t.B=function(B){return ve(this,B).h},t.and=function(B){const O=Math.max(this.g.length,B.g.length),U=[];for(let W=0;W<O;W++)U[W]=this.i(W)&B.i(W);return new u(U,this.h&B.h)},t.or=function(B){const O=Math.max(this.g.length,B.g.length),U=[];for(let W=0;W<O;W++)U[W]=this.i(W)|B.i(W);return new u(U,this.h|B.h)},t.xor=function(B){const O=Math.max(this.g.length,B.g.length),U=[];for(let W=0;W<O;W++)U[W]=this.i(W)^B.i(W);return new u(U,this.h^B.h)};function he(B){const O=B.g.length+1,U=[];for(let W=0;W<O;W++)U[W]=B.i(W)<<1|B.i(W-1)>>>31;return new u(U,B.h)}function we(B,O){const U=O>>5;O%=32;const W=B.g.length-U,M=[];for(let G=0;G<W;G++)M[G]=O>0?B.i(G+U)>>>O|B.i(G+U+1)<<32-O:B.i(G+U);return new u(M,B.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,BS=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=_,u.fromString=x,To=u}).apply(typeof $w<"u"?$w:typeof self<"u"?self:typeof window<"u"?window:{});var Ef=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zS,gh,FS,zf,Ly,HS,qS,GS;(function(){var t,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ef=="object"&&Ef];for(var E=0;E<m.length;++E){var N=m[E];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var i=n(this);function a(m,E){if(E)e:{var N=i;m=m.split(".");for(var D=0;D<m.length-1;D++){var te=m[D];if(!(te in N))break e;N=N[te]}m=m[m.length-1],D=N[m],E=E(D),E!=D&&E!=null&&e(N,m,{configurable:!0,writable:!0,value:E})}}a("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(m){return m||function(E){var N=[],D;for(D in E)Object.prototype.hasOwnProperty.call(E,D)&&N.push([D,E[D]]);return N}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},u=this||self;function p(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function y(m,E,N){return m.call.apply(m.bind,arguments)}function _(m,E,N){return _=y,_.apply(null,arguments)}function x(m,E){var N=Array.prototype.slice.call(arguments,1);return function(){var D=N.slice();return D.push.apply(D,arguments),m.apply(this,D)}}function T(m,E){function N(){}N.prototype=E.prototype,m.Z=E.prototype,m.prototype=new N,m.prototype.constructor=m,m.Ob=function(D,te,re){for(var Te=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)Te[Fe-2]=arguments[Fe];return E.prototype[te].apply(D,Te)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function j(m){const E=m.length;if(E>0){const N=Array(E);for(let D=0;D<E;D++)N[D]=m[D];return N}return[]}function I(m,E){for(let D=1;D<arguments.length;D++){const te=arguments[D];var N=typeof te;if(N=N!="object"?N:te?Array.isArray(te)?"array":N:"null",N=="array"||N=="object"&&typeof te.length=="number"){N=m.length||0;const re=te.length||0;m.length=N+re;for(let Te=0;Te<re;Te++)m[N+Te]=te[Te]}else m.push(te)}}class z{constructor(E,N){this.i=E,this.j=N,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function V(m){u.setTimeout(()=>{throw m},0)}function $(){var m=B;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class Y{constructor(){this.h=this.g=null}add(E,N){const D=X.get();D.set(E,N),this.h?this.h.next=D:this.g=D,this.h=D}}var X=new z(()=>new ve,m=>m.reset());class ve{constructor(){this.next=this.g=this.h=null}set(E,N){this.h=E,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let he,we=!1,B=new Y,O=()=>{const m=Promise.resolve(void 0);he=()=>{m.then(U)}};function U(){for(var m;m=$();){try{m.h.call(m.g)}catch(N){V(N)}var E=X;E.j(m),E.h<100&&(E.h++,m.next=E.g,E.g=m)}we=!1}function W(){this.u=this.u,this.C=this.C}W.prototype.u=!1,W.prototype.dispose=function(){this.u||(this.u=!0,this.N())},W.prototype[Symbol.dispose]=function(){this.dispose()},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var G=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const N=()=>{};u.addEventListener("test",N,E),u.removeEventListener("test",N,E)}catch{}return m})();function H(m){return/^[\s\xa0]*$/.test(m)}function Ue(m,E){M.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,E)}T(Ue,M),Ue.prototype.init=function(m,E){const N=this.type=m.type,D=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget,E||(N=="mouseover"?E=m.fromElement:N=="mouseout"&&(E=m.toElement)),this.relatedTarget=E,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&Ue.Z.h.call(this)},Ue.prototype.h=function(){Ue.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var je="closure_listenable_"+(Math.random()*1e6|0),J=0;function de(m,E,N,D,te){this.listener=m,this.proxy=null,this.src=E,this.type=N,this.capture=!!D,this.ha=te,this.key=++J,this.da=this.fa=!1}function le(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Me(m,E,N){for(const D in m)E.call(N,m[D],D,m)}function F(m,E){for(const N in m)E.call(void 0,m[N],N,m)}function ce(m){const E={};for(const N in m)E[N]=m[N];return E}const xe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function be(m,E){let N,D;for(let te=1;te<arguments.length;te++){D=arguments[te];for(N in D)m[N]=D[N];for(let re=0;re<xe.length;re++)N=xe[re],Object.prototype.hasOwnProperty.call(D,N)&&(m[N]=D[N])}}function Se(m){this.src=m,this.g={},this.h=0}Se.prototype.add=function(m,E,N,D,te){const re=m.toString();m=this.g[re],m||(m=this.g[re]=[],this.h++);const Te=Ee(m,E,D,te);return Te>-1?(E=m[Te],N||(E.fa=!1)):(E=new de(E,this.src,re,!!D,te),E.fa=N,m.push(E)),E};function Re(m,E){const N=E.type;if(N in m.g){var D=m.g[N],te=Array.prototype.indexOf.call(D,E,void 0),re;(re=te>=0)&&Array.prototype.splice.call(D,te,1),re&&(le(E),m.g[N].length==0&&(delete m.g[N],m.h--))}}function Ee(m,E,N,D){for(let te=0;te<m.length;++te){const re=m[te];if(!re.da&&re.listener==E&&re.capture==!!N&&re.ha==D)return te}return-1}var At="closure_lm_"+(Math.random()*1e6|0),st={};function mi(m,E,N,D,te){if(Array.isArray(E)){for(let re=0;re<E.length;re++)mi(m,E[re],N,D,te);return null}return N=jr(N),m&&m[je]?m.J(E,N,p(D)?!!D.capture:!1,te):Pr(m,E,N,!1,D,te)}function Pr(m,E,N,D,te,re){if(!E)throw Error("Invalid event type");const Te=p(te)?!!te.capture:!!te;let Fe=wa(m);if(Fe||(m[At]=Fe=new Se(m)),N=Fe.add(E,N,D,Te,re),N.proxy)return N;if(D=Js(),N.proxy=D,D.src=m,D.listener=N,m.addEventListener)G||(te=Te),te===void 0&&(te=!1),m.addEventListener(E.toString(),D,te);else if(m.attachEvent)m.attachEvent(ba(E.toString()),D);else if(m.addListener&&m.removeListener)m.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return N}function Js(){function m(N){return E.call(m.src,m.listener,N)}const E=kl;return m}function es(m,E,N,D,te){if(Array.isArray(E))for(var re=0;re<E.length;re++)es(m,E[re],N,D,te);else D=p(D)?!!D.capture:!!D,N=jr(N),m&&m[je]?(m=m.i,re=String(E).toString(),re in m.g&&(E=m.g[re],N=Ee(E,N,D,te),N>-1&&(le(E[N]),Array.prototype.splice.call(E,N,1),E.length==0&&(delete m.g[re],m.h--)))):m&&(m=wa(m))&&(E=m.g[E.toString()],m=-1,E&&(m=Ee(E,N,D,te)),(N=m>-1?E[m]:null)&&As(N))}function As(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[je])Re(E.i,m);else{var N=m.type,D=m.proxy;E.removeEventListener?E.removeEventListener(N,D,m.capture):E.detachEvent?E.detachEvent(ba(N),D):E.addListener&&E.removeListener&&E.removeListener(D),(N=wa(E))?(Re(N,m),N.h==0&&(N.src=null,E[At]=null)):le(m)}}}function ba(m){return m in st?st[m]:st[m]="on"+m}function kl(m,E){if(m.da)m=!0;else{E=new Ue(E,this);const N=m.listener,D=m.ha||m.src;m.fa&&As(m),m=N.call(D,E)}return m}function wa(m){return m=m[At],m instanceof Se?m:null}var _n="__closure_events_fn_"+(Math.random()*1e9>>>0);function jr(m){return typeof m=="function"?m:(m[_n]||(m[_n]=function(E){return m.handleEvent(E)}),m[_n])}function Xt(){W.call(this),this.i=new Se(this),this.M=this,this.G=null}T(Xt,W),Xt.prototype[je]=!0,Xt.prototype.removeEventListener=function(m,E,N,D){es(this,m,E,N,D)};function Qt(m,E){var N,D=m.G;if(D)for(N=[];D;D=D.G)N.push(D);if(m=m.M,D=E.type||E,typeof E=="string")E=new M(E,m);else if(E instanceof M)E.target=E.target||m;else{var te=E;E=new M(D,m),be(E,te)}te=!0;let re,Te;if(N)for(Te=N.length-1;Te>=0;Te--)re=E.g=N[Te],te=Di(re,D,!0,E)&&te;if(re=E.g=m,te=Di(re,D,!0,E)&&te,te=Di(re,D,!1,E)&&te,N)for(Te=0;Te<N.length;Te++)re=E.g=N[Te],te=Di(re,D,!1,E)&&te}Xt.prototype.N=function(){if(Xt.Z.N.call(this),this.i){var m=this.i;for(const E in m.g){const N=m.g[E];for(let D=0;D<N.length;D++)le(N[D]);delete m.g[E],m.h--}}this.G=null},Xt.prototype.J=function(m,E,N,D){return this.i.add(String(m),E,!1,N,D)},Xt.prototype.K=function(m,E,N,D){return this.i.add(String(m),E,!0,N,D)};function Di(m,E,N,D){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();let te=!0;for(let re=0;re<E.length;++re){const Te=E[re];if(Te&&!Te.da&&Te.capture==N){const Fe=Te.listener,nt=Te.ha||Te.src;Te.fa&&Re(m.i,Te),te=Fe.call(nt,D)!==!1&&te}}return te&&!D.defaultPrevented}function Vl(m,E){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=_(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:u.setTimeout(m,E||0)}function Ta(m){m.g=Vl(()=>{m.g=null,m.i&&(m.i=!1,Ta(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class xu extends W{constructor(E,N){super(),this.m=E,this.l=N,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Ta(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ir(m){W.call(this),this.h=m,this.g={}}T(Ir,W);var ts=[];function hn(m){Me(m.g,function(E,N){this.g.hasOwnProperty(N)&&As(E)},m),m.g={}}Ir.prototype.N=function(){Ir.Z.N.call(this),hn(this)},Ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qn=u.JSON.stringify,In=u.JSON.parse,Ul=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function Bo(){}function Bl(){}var Li={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ns(){M.call(this,"d")}T(ns,M);function pi(){M.call(this,"c")}T(pi,M);var gi={},yi=null;function Ea(){return yi=yi||new Xt}gi.Ia="serverreachability";function zo(m){M.call(this,gi.Ia,m)}T(zo,M);function Ns(m){const E=Ea();Qt(E,new zo(E))}gi.STAT_EVENT="statevent";function Dr(m,E){M.call(this,gi.STAT_EVENT,m),this.stat=E}T(Dr,M);function Lt(m){const E=Ea();Qt(E,new Dr(E,m))}gi.Ja="timingevent";function zl(m,E){M.call(this,gi.Ja,m),this.size=E}T(zl,M);function er(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},E)}function tr(){this.g=!0}tr.prototype.ua=function(){this.g=!1};function Fo(m,E,N,D,te,re){m.info(function(){if(m.g)if(re){var Te="",Fe=re.split("&");for(let gt=0;gt<Fe.length;gt++){var nt=Fe[gt].split("=");if(nt.length>1){const Mt=nt[0];nt=nt[1];const ri=Mt.split("_");Te=ri.length>=2&&ri[1]=="type"?Te+(Mt+"="+nt+"&"):Te+(Mt+"=redacted&")}}}else Te=null;else Te=re;return"XMLHTTP REQ ("+D+") [attempt "+te+"]: "+E+`
`+N+`
`+Te})}function Ho(m,E,N,D,te,re,Te){m.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+te+"]: "+E+`
`+N+`
`+re+" "+Te})}function Cs(m,E,N,D){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+is(m,N)+(D?" "+D:"")})}function qo(m,E){m.info(function(){return"TIMEOUT: "+E})}tr.prototype.info=function(){};function is(m,E){if(!m.g)return E;if(!E)return null;try{const re=JSON.parse(E);if(re){for(m=0;m<re.length;m++)if(Array.isArray(re[m])){var N=re[m];if(!(N.length<2)){var D=N[1];if(Array.isArray(D)&&!(D.length<1)){var te=D[0];if(te!="noop"&&te!="stop"&&te!="close")for(let Te=1;Te<D.length;Te++)D[Te]=""}}}}return Qn(re)}catch{return E}}var Bt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},dn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Rs;function xn(){}T(xn,Bo),xn.prototype.g=function(){return new XMLHttpRequest},Rs=new xn;function De(m){return encodeURIComponent(String(m))}function Fl(m){var E=1;m=m.split(":");const N=[];for(;E>0&&m.length;)N.push(m.shift()),E--;return m.length&&N.push(m.join(":")),N}function vi(m,E,N,D){this.j=m,this.i=E,this.l=N,this.S=D||1,this.V=new Ir(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ps}function Ps(){this.i=null,this.g="",this.h=!1}var Lr={},_i={};function Mi(m,E,N){m.M=1,m.A=vt(wt(E)),m.u=N,m.R=!0,Jn(m,null)}function Jn(m,E){m.F=Date.now(),Mr(m),m.B=wt(m.A);var N=m.B,D=m.S;Array.isArray(D)||(D=[String(D)]),Aa(N.i,"t",D),m.C=0,N=m.j.L,m.h=new Ps,m.g=Gr(m.j,N?E:null,!m.u),m.P>0&&(m.O=new xu(_(m.Y,m,m.g),m.P)),E=m.V,N=m.g,D=m.ba;var te="readystatechange";Array.isArray(te)||(te&&(ts[0]=te.toString()),te=ts);for(let re=0;re<te.length;re++){const Te=mi(N,te[re],D||E.handleEvent,!1,E.h||E);if(!Te)break;E.g[Te.key]=Te}E=m.J?ce(m.J):{},m.u?(m.v||(m.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,E)):(m.v="GET",m.g.ea(m.B,m.v,null,E)),Ns(),Fo(m.i,m.v,m.B,m.l,m.S,m.u)}vi.prototype.ba=function(m){m=m.target;const E=this.O;E&&Sn(m)==3?E.j():this.Y(m)},vi.prototype.Y=function(m){try{if(m==this.g)e:{const Fe=Sn(this.g),nt=this.g.ya(),gt=this.g.ca();if(!(Fe<3)&&(Fe!=3||this.g&&(this.h.h||this.g.la()||or(this.g)))){this.K||Fe!=4||nt==7||(nt==8||gt<=0?Ns(3):Ns(2)),Oi(this);var E=this.g.ca();this.X=E;var N=js(this);if(this.o=E==200,Ho(this.i,this.v,this.B,this.l,this.S,Fe,E),this.o){if(this.U&&!this.L){t:{if(this.g){var D,te=this.g;if((D=te.g?te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(D)){var re=D;break t}}re=null}if(m=re)Cs(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Sa(this,m);else{this.o=!1,this.m=3,Lt(12),ei(this),Or(this);break e}}if(this.R){m=!0;let Mt;for(;!this.K&&this.C<N.length;)if(Mt=Hl(this,N),Mt==_i){Fe==4&&(this.m=4,Lt(14),m=!1),Cs(this.i,this.l,null,"[Incomplete Response]");break}else if(Mt==Lr){this.m=4,Lt(15),Cs(this.i,this.l,N,"[Invalid Chunk]"),m=!1;break}else Cs(this.i,this.l,Mt,null),Sa(this,Mt);if(zt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||N.length!=0||this.h.h||(this.m=1,Lt(16),m=!1),this.o=this.o&&m,!m)Cs(this.i,this.l,N,"[Invalid Chunked Response]"),ei(this),Or(this);else if(N.length>0&&!this.W){this.W=!0;var Te=this.j;Te.g==this&&Te.aa&&!Te.P&&(Te.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),Ko(Te),Te.P=!0,Lt(11))}}else Cs(this.i,this.l,N,null),Sa(this,N);Fe==4&&ei(this),this.o&&!this.K&&(Fe==4?Fn(this.j,this):(this.o=!1,Mr(this)))}else Os(this.g),E==400&&N.indexOf("Unknown SID")>0?(this.m=3,Lt(12)):(this.m=0,Lt(13)),ei(this),Or(this)}}}catch{}finally{}};function js(m){if(!zt(m))return m.g.la();const E=or(m.g);if(E==="")return"";let N="";const D=E.length,te=Sn(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return ei(m),Or(m),"";m.h.i=new u.TextDecoder}for(let re=0;re<D;re++)m.h.h=!0,N+=m.h.i.decode(E[re],{stream:!(te&&re==D-1)});return E.length=0,m.h.g+=N,m.C=0,m.h.g}function zt(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function Hl(m,E){var N=m.C,D=E.indexOf(`
`,N);return D==-1?_i:(N=Number(E.substring(N,D)),isNaN(N)?Lr:(D+=1,D+N>E.length?_i:(E=E.slice(D,D+N),m.C=D+N,E)))}vi.prototype.cancel=function(){this.K=!0,ei(this)};function Mr(m){m.T=Date.now()+m.H,ss(m,m.H)}function ss(m,E){if(m.D!=null)throw Error("WatchDog timer not null");m.D=er(_(m.aa,m),E)}function Oi(m){m.D&&(u.clearTimeout(m.D),m.D=null)}vi.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(qo(this.i,this.B),this.M!=2&&(Ns(),Lt(17)),ei(this),this.m=2,Or(this)):ss(this,this.T-m)};function Or(m){m.j.I==0||m.K||Fn(m.j,m)}function ei(m){Oi(m);var E=m.O;E&&typeof E.dispose=="function"&&E.dispose(),m.O=null,hn(m.V),m.g&&(E=m.g,m.g=null,E.abort(),E.dispose())}function Sa(m,E){try{var N=m.j;if(N.I!=0&&(N.g==m||Is(N.h,m))){if(!m.L&&Is(N.h,m)&&N.I==3){try{var D=N.Ba.g.parse(E)}catch{D=null}if(Array.isArray(D)&&D.length==3){var te=D;if(te[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<m.F)Pa(N),hs(N);else break e;Wo(N),Lt(18)}}else N.xa=te[1],0<N.xa-N.K&&te[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=er(_(N.Va,N),6e3));xi(N.h)<=1&&N.ta&&(N.ta=void 0)}else ds(N,11)}else if((m.L||N.g==m)&&Pa(N),!H(E))for(te=N.Ba.g.parse(E),E=0;E<te.length;E++){let gt=te[E];const Mt=gt[0];if(!(Mt<=N.K))if(N.K=Mt,gt=gt[1],N.I==2)if(gt[0]=="c"){N.M=gt[1],N.ba=gt[2];const ri=gt[3];ri!=null&&(N.ka=ri,N.j.info("VER="+N.ka));const wi=gt[4];wi!=null&&(N.za=wi,N.j.info("SVER="+N.za));const ai=gt[5];ai!=null&&typeof ai=="number"&&ai>0&&(D=1.5*ai,N.O=D,N.j.info("backChannelRequestTimeoutMs_="+D)),D=N;const Bi=m.g;if(Bi){const zi=Bi.g?Bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zi){var re=D.h;re.g||zi.indexOf("spdy")==-1&&zi.indexOf("quic")==-1&&zi.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(rs(re,re.h),re.h=null))}if(D.G){const La=Bi.g?Bi.g.getResponseHeader("X-HTTP-Session-Id"):null;La&&(D.wa=La,Ce(D.J,D.G,La))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-m.F,N.j.info("Handshake RTT: "+N.T+"ms")),D=N;var Te=m;if(D.na=$o(D,D.L?D.ba:null,D.W),Te.L){as(D.h,Te);var Fe=Te,nt=D.O;nt&&(Fe.H=nt),Fe.D&&(Oi(Fe),Mr(Fe)),D.g=Te}else Zo(D);N.i.length>0&&Vi(N)}else gt[0]!="stop"&&gt[0]!="close"||ds(N,7);else N.I==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?ds(N,7):Xe(N):gt[0]!="noop"&&N.l&&N.l.qa(gt),N.A=0)}}Ns(4)}catch{}}var bu=class{constructor(m,E){this.g=m,this.map=E}};function kr(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vr(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function xi(m){return m.h?1:m.g?m.g.size:0}function Is(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function rs(m,E){m.g?m.g.add(E):m.h=E}function as(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}kr.prototype.cancel=function(){if(this.i=Ur(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Ur(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const N of m.g.values())E=E.concat(N.G);return E}return j(m.i)}var os=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(m,E){if(m){m=m.split("&");for(let N=0;N<m.length;N++){const D=m[N].indexOf("=");let te,re=null;D>=0?(te=m[N].substring(0,D),re=m[N].substring(D+1)):te=m[N],E(te,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function ht(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;m instanceof ht?(this.l=m.l,ti(this,m.j),this.o=m.o,this.g=m.g,bi(this,m.u),this.h=m.h,ls(this,zr(m.i)),this.m=m.m):m&&(E=String(m).match(os))?(this.l=!1,ti(this,E[1]||"",!0),this.o=Ds(E[2]||""),this.g=Ds(E[3]||"",!0),bi(this,E[4]),this.h=Ds(E[5]||"",!0),ls(this,E[6]||"",!0),this.m=Ds(E[7]||"")):(this.l=!1,this.i=new wn(null,this.l))}ht.prototype.toString=function(){const m=[];var E=this.j;E&&m.push(Ft(E,Go,!0),":");var N=this.g;return(N||E=="file")&&(m.push("//"),(E=this.o)&&m.push(Ft(E,Go,!0),"@"),m.push(De(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&m.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&m.push("/"),m.push(Ft(N,N.charAt(0)=="/"?Bn:nr,!0))),(N=this.i.toString())&&m.push("?",N),(N=this.m)&&m.push("#",Ft(N,cs)),m.join("")},ht.prototype.resolve=function(m){const E=wt(this);let N=!!m.j;N?ti(E,m.j):N=!!m.o,N?E.o=m.o:N=!!m.g,N?E.g=m.g:N=m.u!=null;var D=m.h;if(N)bi(E,m.u);else if(N=!!m.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var te=E.h.lastIndexOf("/");te!=-1&&(D=E.h.slice(0,te+1)+D)}if(te=D,te==".."||te==".")D="";else if(te.indexOf("./")!=-1||te.indexOf("/.")!=-1){D=te.lastIndexOf("/",0)==0,te=te.split("/");const re=[];for(let Te=0;Te<te.length;){const Fe=te[Te++];Fe=="."?D&&Te==te.length&&re.push(""):Fe==".."?((re.length>1||re.length==1&&re[0]!="")&&re.pop(),D&&Te==te.length&&re.push("")):(re.push(Fe),D=!0)}D=re.join("/")}else D=te}return N?E.h=D:N=m.i.toString()!=="",N?ls(E,zr(m.i)):N=!!m.m,N&&(E.m=m.m),E};function wt(m){return new ht(m)}function ti(m,E,N){m.j=N?Ds(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function bi(m,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);m.u=E}else m.u=null}function ls(m,E,N){E instanceof wn?(m.i=E,Fr(m.i,m.l)):(N||(E=Ft(E,It)),m.i=new wn(E,m.l))}function Ce(m,E,N){m.i.set(E,N)}function vt(m){return Ce(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Ds(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ft(m,E,N){return typeof m=="string"?(m=encodeURI(m).replace(E,bn),N&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function bn(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Go=/[#\/\?@]/g,nr=/[#\?:]/g,Bn=/[#\?]/g,It=/[#\?@]/g,cs=/#/g;function wn(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function ni(m){m.g||(m.g=new Map,m.h=0,m.i&&ot(m.i,function(E,N){m.add(decodeURIComponent(E.replace(/\+/g," ")),N)}))}t=wn.prototype,t.add=function(m,E){ni(this),this.i=null,m=ii(this,m);let N=this.g.get(m);return N||this.g.set(m,N=[]),N.push(E),this.h+=1,this};function Br(m,E){ni(m),E=ii(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function Ls(m,E){return ni(m),E=ii(m,E),m.g.has(E)}t.forEach=function(m,E){ni(this),this.g.forEach(function(N,D){N.forEach(function(te){m.call(E,te,D,this)},this)},this)};function ir(m,E){ni(m);let N=[];if(typeof E=="string")Ls(m,E)&&(N=N.concat(m.g.get(ii(m,E))));else for(m=Array.from(m.g.values()),E=0;E<m.length;E++)N=N.concat(m[E]);return N}t.set=function(m,E){return ni(this),this.i=null,m=ii(this,m),Ls(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},t.get=function(m,E){return m?(m=ir(this,m),m.length>0?String(m[0]):E):E};function Aa(m,E,N){Br(m,E),N.length>0&&(m.i=null,m.g.set(ii(m,E),j(N)),m.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(let D=0;D<E.length;D++){var N=E[D];const te=De(N);N=ir(this,N);for(let re=0;re<N.length;re++){let Te=te;N[re]!==""&&(Te+="="+De(N[re])),m.push(Te)}}return this.i=m.join("&")};function zr(m){const E=new wn;return E.i=m.i,m.g&&(E.g=new Map(m.g),E.h=m.h),E}function ii(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function Fr(m,E){E&&!m.j&&(ni(m),m.i=null,m.g.forEach(function(N,D){const te=D.toLowerCase();D!=te&&(Br(this,D),Aa(this,te,N))},m)),m.j=E}function sr(m,E){const N=new tr;if(u.Image){const D=new Image;D.onload=x(fn,N,"TestLoadImage: loaded",!0,E,D),D.onerror=x(fn,N,"TestLoadImage: error",!1,E,D),D.onabort=x(fn,N,"TestLoadImage: abort",!1,E,D),D.ontimeout=x(fn,N,"TestLoadImage: timeout",!1,E,D),u.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=m}else E(!1)}function Ms(m,E){const N=new tr,D=new AbortController,te=setTimeout(()=>{D.abort(),fn(N,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:D.signal}).then(re=>{clearTimeout(te),re.ok?fn(N,"TestPingServer: ok",!0,E):fn(N,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(te),fn(N,"TestPingServer: error",!1,E)})}function fn(m,E,N,D,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),D(N)}catch{}}function ql(){this.g=new Ul}function ze(m){this.i=m.Sb||null,this.h=m.ab||!1}T(ze,Bo),ze.prototype.g=function(){return new Tn(this.i,this.h)};function Tn(m,E){Xt.call(this),this.H=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Tn,Xt),t=Tn.prototype,t.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=E,this.readyState=1,ki(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(E.body=m),(this.H||u).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,En(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,ki(this)),this.g&&(this.readyState=3,ki(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;dt(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function dt(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?En(this):ki(this),this.readyState==3&&dt(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,En(this))},t.Na=function(m){this.g&&(this.response=m,En(this))},t.ga=function(){this.g&&En(this)};function En(m){m.readyState=4,m.l=null,m.j=null,m.B=null,ki(m)}t.setRequestHeader=function(m,E){this.A.append(m,E)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var N=E.next();!N.done;)N=N.value,m.push(N[0]+": "+N[1]),N=E.next();return m.join(`\r
`)};function ki(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Tn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function us(m){let E="";return Me(m,function(N,D){E+=D,E+=":",E+=N,E+=`\r
`}),E}function zn(m,E,N){e:{for(D in N){var D=!1;break e}D=!0}D||(N=us(N),typeof m=="string"?N!=null&&De(N):Ce(m,E,N))}function ft(m){Xt.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(ft,Xt);var rr=/^https?$/i,ar=["POST","PUT"];t=ft.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,E,N,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Rs.g(),this.g.onreadystatechange=A(_(this.Ca,this));try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(re){Dt(this,re);return}if(m=N||"",N=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var te in D)N.set(te,D[te]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const re of D.keys())N.set(re,D.get(re));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(N.keys()).find(re=>re.toLowerCase()=="content-type"),te=u.FormData&&m instanceof u.FormData,!(Array.prototype.indexOf.call(ar,E,void 0)>=0)||D||te||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,Te]of N)this.g.setRequestHeader(re,Te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(re){Dt(this,re)}};function Dt(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.o=5,si(m),Wt(m)}function si(m){m.A||(m.A=!0,Qt(m,"complete"),Qt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,Qt(this,"complete"),Qt(this,"abort"),Wt(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wt(this,!0)),ft.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Na(this):this.Xa())},t.Xa=function(){Na(this)};function Na(m){if(m.h&&typeof c<"u"){if(m.v&&Sn(m)==4)setTimeout(m.Ca.bind(m),0);else if(Qt(m,"readystatechange"),Sn(m)==4){m.h=!1;try{const re=m.ca();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var N;if(!(N=E)){var D;if(D=re===0){let Te=String(m.D).match(os)[1]||null;!Te&&u.self&&u.self.location&&(Te=u.self.location.protocol.slice(0,-1)),D=!rr.test(Te?Te.toLowerCase():"")}N=D}if(N)Qt(m,"complete"),Qt(m,"success");else{m.o=6;try{var te=Sn(m)>2?m.g.statusText:""}catch{te=""}m.l=te+" ["+m.ca()+"]",si(m)}}finally{Wt(m)}}}}function Wt(m,E){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const N=m.g;m.g=null,E||Qt(m,"ready");try{N.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Sn(m){return m.g?m.g.readyState:0}t.ca=function(){try{return Sn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),In(E)}};function or(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Os(m){const E={};m=(m.g&&Sn(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<m.length;D++){if(H(m[D]))continue;var N=Fl(m[D]);const te=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const re=E[te]||[];E[te]=re,re.push(N)}F(E,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hr(m,E,N){return N&&N.internalChannelParams&&N.internalChannelParams[m]||E}function qr(m){this.za=0,this.i=[],this.j=new tr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hr("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hr("baseRetryDelayMs",5e3,m),this.Za=Hr("retryDelaySeedMs",1e4,m),this.Ta=Hr("forwardChannelMaxRetries",2,m),this.va=Hr("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new kr(m&&m.concurrentRequestLimit),this.Ba=new ql,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=qr.prototype,t.ka=8,t.I=1,t.connect=function(m,E,N,D){Lt(0),this.W=m,this.H=E||{},N&&D!==void 0&&(this.H.OSID=N,this.H.OAID=D),this.F=this.X,this.J=$o(this,null,this.W),Vi(this)};function Xe(m){if(mn(m),m.I==3){var E=m.V++,N=wt(m.J);if(Ce(N,"SID",m.M),Ce(N,"RID",E),Ce(N,"TYPE","terminate"),ks(m,N),E=new vi(m,m.j,E),E.M=2,E.A=vt(wt(N)),N=!1,u.navigator&&u.navigator.sendBeacon)try{N=u.navigator.sendBeacon(E.A.toString(),"")}catch{}!N&&u.Image&&(new Image().src=E.A,N=!0),N||(E.g=Gr(E.j,null),E.g.ea(E.A)),E.F=Date.now(),Mr(E)}Ui(m)}function hs(m){m.g&&(Ko(m),m.g.cancel(),m.g=null)}function mn(m){hs(m),m.v&&(u.clearTimeout(m.v),m.v=null),Pa(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&u.clearTimeout(m.m),m.m=null)}function Vi(m){if(!Vr(m.h)&&!m.m){m.m=!0;var E=m.Ea;he||O(),we||(he(),we=!0),B.add(E,m),m.D=0}}function Gl(m,E){return xi(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=E.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=er(_(m.Ea,m,E),Wl(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const te=new vi(this,this.j,m);let re=this.o;if(this.U&&(re?(re=ce(re),be(re,this.U)):re=this.U),this.u!==null||this.R||(te.J=re,re=null),this.S)e:{for(var E=0,N=0;N<this.i.length;N++){t:{var D=this.i[N];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(E+=D,E>4096){E=N;break e}if(E===4096||N===this.i.length-1){E=N+1;break e}}E=1e3}else E=1e3;E=Ca(this,te,E),N=wt(this.J),Ce(N,"RID",m),Ce(N,"CVER",22),this.G&&Ce(N,"X-HTTP-Session-Id",this.G),ks(this,N),re&&(this.R?E="headers="+De(us(re))+"&"+E:this.u&&zn(N,this.u,re)),rs(this.h,te),this.Ra&&Ce(N,"TYPE","init"),this.S?(Ce(N,"$req",E),Ce(N,"SID","null"),te.U=!0,Mi(te,N,null)):Mi(te,N,E),this.I=2}}else this.I==3&&(m?Zl(this,m):this.i.length==0||Vr(this.h)||Zl(this))};function Zl(m,E){var N;E?N=E.l:N=m.V++;const D=wt(m.J);Ce(D,"SID",m.M),Ce(D,"RID",N),Ce(D,"AID",m.K),ks(m,D),m.u&&m.o&&zn(D,m.u,m.o),N=new vi(m,m.j,N,m.D+1),m.u===null&&(N.J=m.o),E&&(m.i=E.G.concat(m.i)),E=Ca(m,N,1e3),N.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),rs(m.h,N),Mi(N,D,E)}function ks(m,E){m.H&&Me(m.H,function(N,D){Ce(E,D,N)}),m.l&&Me({},function(N,D){Ce(E,D,N)})}function Ca(m,E,N){N=Math.min(m.i.length,N);const D=m.l?_(m.l.Ka,m.l,m):null;e:{var te=m.i;let Fe=-1;for(;;){const nt=["count="+N];Fe==-1?N>0?(Fe=te[0].g,nt.push("ofs="+Fe)):Fe=0:nt.push("ofs="+Fe);let gt=!0;for(let Mt=0;Mt<N;Mt++){var re=te[Mt].g;const ri=te[Mt].map;if(re-=Fe,re<0)Fe=Math.max(0,te[Mt].g-100),gt=!1;else try{re="req"+re+"_"||"";try{var Te=ri instanceof Map?ri:Object.entries(ri);for(const[wi,ai]of Te){let Bi=ai;p(ai)&&(Bi=Qn(ai)),nt.push(re+wi+"="+encodeURIComponent(Bi))}}catch(wi){throw nt.push(re+"type="+encodeURIComponent("_badmap")),wi}}catch{D&&D(ri)}}if(gt){Te=nt.join("&");break e}}Te=void 0}return m=m.i.splice(0,N),E.G=m,Te}function Zo(m){if(!m.g&&!m.v){m.Y=1;var E=m.Da;he||O(),we||(he(),we=!0),B.add(E,m),m.A=0}}function Wo(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=er(_(m.Da,m),Wl(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,Ra(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=er(_(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Lt(10),hs(this),Ra(this))};function Ko(m){m.B!=null&&(u.clearTimeout(m.B),m.B=null)}function Ra(m){m.g=new vi(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var E=wt(m.na);Ce(E,"RID","rpc"),Ce(E,"SID",m.M),Ce(E,"AID",m.K),Ce(E,"CI",m.F?"0":"1"),!m.F&&m.ia&&Ce(E,"TO",m.ia),Ce(E,"TYPE","xmlhttp"),ks(m,E),m.u&&m.o&&zn(E,m.u,m.o),m.O&&(m.g.H=m.O);var N=m.g;m=m.ba,N.M=1,N.A=vt(wt(E)),N.u=null,N.R=!0,Jn(N,m)}t.Va=function(){this.C!=null&&(this.C=null,hs(this),Wo(this),Lt(19))};function Pa(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function Fn(m,E){var N=null;if(m.g==E){Pa(m),Ko(m),m.g=null;var D=2}else if(Is(m.h,E))N=E.G,as(m.h,E),D=1;else return;if(m.I!=0){if(E.o)if(D==1){N=E.u?E.u.length:0,E=Date.now()-E.F;var te=m.D;D=Ea(),Qt(D,new zl(D,N)),Vi(m)}else Zo(m);else if(te=E.m,te==3||te==0&&E.X>0||!(D==1&&Gl(m,E)||D==2&&Wo(m)))switch(N&&N.length>0&&(E=m.h,E.i=E.i.concat(N)),te){case 1:ds(m,5);break;case 4:ds(m,10);break;case 3:ds(m,6);break;default:ds(m,2)}}}function Wl(m,E){let N=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(N*=2),N*E}function ds(m,E){if(m.j.info("Error code "+E),E==2){var N=_(m.bb,m),D=m.Ua;const te=!D;D=new ht(D||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ti(D,"https"),vt(D),te?sr(D.toString(),N):Ms(D.toString(),N)}else Lt(2);m.I=0,m.l&&m.l.pa(E),Ui(m),mn(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function Ui(m){if(m.I=0,m.ja=[],m.l){const E=Ur(m.h);(E.length!=0||m.i.length!=0)&&(I(m.ja,E),I(m.ja,m.i),m.h.i.length=0,j(m.i),m.i.length=0),m.l.oa()}}function $o(m,E,N){var D=N instanceof ht?wt(N):new ht(N);if(D.g!="")E&&(D.g=E+"."+D.g),bi(D,D.u);else{var te=u.location;D=te.protocol,E=E?E+"."+te.hostname:te.hostname,te=+te.port;const re=new ht(null);D&&ti(re,D),E&&(re.g=E),te&&bi(re,te),N&&(re.h=N),D=re}return N=m.G,E=m.wa,N&&E&&Ce(D,N,E),Ce(D,"VER",m.ka),ks(m,D),D}function Gr(m,E,N){if(E&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Aa&&!m.ma?new ft(new ze({ab:N})):new ft(m.ma),E.Fa(m.L),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ja(){}t=ja.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ia(){}Ia.prototype.g=function(m,E){return new An(m,E)};function An(m,E){Xt.call(this),this.g=new qr(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(m?m["X-WebChannel-Client-Profile"]=E.sa:m={"X-WebChannel-Client-Profile":E.sa}),this.g.U=m,(m=E&&E.Qb)&&!H(m)&&(this.g.u=m),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!H(E)&&(this.g.G=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new lr(this)}T(An,Xt),An.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){Xe(this.g)},An.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var N={};N.__data__=m,m=N}else this.v&&(N={},N.__data__=Qn(m),m=N);E.i.push(new bu(E.Ya++,m)),E.I==3&&Vi(E)},An.prototype.N=function(){this.g.l=null,delete this.j,Xe(this.g),delete this.g,An.Z.N.call(this)};function Da(m){ns.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){e:{for(const N in E){m=N;break e}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}T(Da,ns);function Kl(){pi.call(this),this.status=1}T(Kl,pi);function lr(m){this.g=m}T(lr,ja),lr.prototype.ra=function(){Qt(this.g,"a")},lr.prototype.qa=function(m){Qt(this.g,new Da(m))},lr.prototype.pa=function(m){Qt(this.g,new Kl)},lr.prototype.oa=function(){Qt(this.g,"b")},Ia.prototype.createWebChannel=Ia.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,GS=function(){return new Ia},qS=function(){return Ea()},HS=gi,Ly={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Bt.NO_ERROR=0,Bt.TIMEOUT=8,Bt.HTTP_ERROR=6,zf=Bt,dn.COMPLETE="complete",FS=dn,Bl.EventType=Li,Li.OPEN="a",Li.CLOSE="b",Li.ERROR="c",Li.MESSAGE="d",Xt.prototype.listen=Xt.prototype.J,gh=Bl,ft.prototype.listenOnce=ft.prototype.K,ft.prototype.getLastError=ft.prototype.Ha,ft.prototype.getLastErrorCode=ft.prototype.ya,ft.prototype.getStatus=ft.prototype.ca,ft.prototype.getResponseJson=ft.prototype.La,ft.prototype.getResponseText=ft.prototype.la,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Fa,zS=ft}).apply(typeof Ef<"u"?Ef:typeof self<"u"?self:typeof window<"u"?window:{});const Yw="@firebase/firestore",Xw="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wn.UNAUTHENTICATED=new Wn(null),Wn.GOOGLE_CREDENTIALS=new Wn("google-credentials-uid"),Wn.FIRST_PARTY=new Wn("first-party-uid"),Wn.MOCK_USER=new Wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ru="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=new M0("@firebase/firestore");function Sc(){return jl.logLevel}function Pe(t,...e){if(jl.logLevel<=lt.DEBUG){const n=e.map(Z0);jl.debug(`Firestore (${ru}): ${t}`,...n)}}function pa(t,...e){if(jl.logLevel<=lt.ERROR){const n=e.map(Z0);jl.error(`Firestore (${ru}): ${t}`,...n)}}function Hc(t,...e){if(jl.logLevel<=lt.WARN){const n=e.map(Z0);jl.warn(`Firestore (${ru}): ${t}`,...n)}}function Z0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,ZS(t,i,n)}function ZS(t,e,n){let i=`FIRESTORE (${ru}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw pa(i),new Error(i)}function _t(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||ZS(e,a,i)}function Ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends _a{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ML{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wn.UNAUTHENTICATED)))}shutdown(){}}class OL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class kL{constructor(e){this.t=e,this.currentUser=Wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_t(this.o===void 0,42304);let i=this.i;const a=y=>this.i!==i?(i=this.i,n(y)):Promise.resolve();let c=new ha;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ha,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await a(this.currentUser)}))},p=y=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ha)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(_t(typeof i.accessToken=="string",31837,{l:i}),new WS(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _t(e===null||typeof e=="string",2055,{h:e}),new Wn(e)}}class VL{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Wn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class UL{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new VL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Qw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_t(this.o===void 0,3512);const i=c=>{c.error!=null&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,Pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>i(c)))};const a=c=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>a(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?a(c):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Qw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(_t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Qw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=zL(40);for(let c=0;c<a.length;++c)i.length<20&&a[c]<n&&(i+=e.charAt(a[c]%62))}return i}}function ct(t,e){return t<e?-1:t>e?1:0}function My(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),c=e.charAt(i);if(a!==c)return Jg(a)===Jg(c)?ct(a,c):Jg(a)?1:-1}return ct(t.length,e.length)}const FL=55296,HL=57343;function Jg(t){const e=t.charCodeAt(0);return e>=FL&&e<=HL}function qc(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="__name__";class vr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ge(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ge(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return vr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vr?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const c=vr.compareSegments(e.get(a),n.get(a));if(c!==0)return c}return ct(e.length,n.length)}static compareSegments(e,n){const i=vr.isNumericId(e),a=vr.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?vr.extractNumericId(e).compare(vr.extractNumericId(n)):My(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return To.fromString(e.substring(4,e.length-2))}}class jt extends vr{construct(e,n,i){return new jt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ne(pe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new jt(n)}static emptyPath(){return new jt([])}}const qL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vn extends vr{construct(e,n,i){return new Vn(e,n,i)}static isValidIdentifier(e){return qL.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jw}static keyField(){return new Vn([Jw])}static fromServerFormat(e){const n=[];let i="",a=0;const c=()=>{if(i.length===0)throw new Ne(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;a<e.length;){const p=e[a];if(p==="\\"){if(a+1===e.length)throw new Ne(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[a+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new Ne(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=y,a+=2}else p==="`"?(u=!u,a++):p!=="."||u?(i+=p,a++):(c(),a++)}if(c(),u)throw new Ne(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vn(n)}static emptyPath(){return new Vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(jt.fromString(e))}static fromName(e){return new Ve(jt.fromString(e).popFirst(5))}static empty(){return new Ve(jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return jt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new jt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(t,e,n){if(!n)throw new Ne(pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function GL(t,e,n,i){if(e===!0&&i===!0)throw new Ne(pe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function eT(t){if(!Ve.isDocumentKey(t))throw new Ne(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tT(t){if(Ve.isDocumentKey(t))throw new Ne(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $S(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Im(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ge(12329,{type:typeof t})}function Nr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ne(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Im(t);throw new Ne(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t,e){const n={typeString:t};return e&&(n.value=e),n}function sd(t,e){if(!$S(t))throw new Ne(pe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,c="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(a&&typeof u!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(c!==void 0&&u!==c.value){n=`Expected '${i}' field to equal '${c.value}'`;break}}if(n)throw new Ne(pe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT=-62135596800,iT=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*iT);return new Ct(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<nT)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iT}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(sd(e,Ct._jsonSchema))return new Ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-nT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ct._jsonSchemaVersion="firestore/timestamp/1.0",Ct._jsonSchema={type:un("string",Ct._jsonSchemaVersion),seconds:un("number"),nanoseconds:un("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new Ct(0,0))}static max(){return new $e(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=-1;function ZL(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=$e.fromTimestamp(i===1e9?new Ct(n+1,0):new Ct(n,i));return new No(a,Ve.empty(),e)}function WL(t){return new No(t.readTime,t.key,Oh)}class No{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new No($e.min(),Ve.empty(),Oh)}static max(){return new No($e.max(),Ve.empty(),Oh)}}function KL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ve.comparator(t.documentKey,e.documentKey),n!==0?n:ct(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(t){if(t.code!==pe.FAILED_PRECONDITION||t.message!==$L)throw t;Pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ye(((i,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ye?n:ye.resolve(n)}catch(n){return ye.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ye.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ye.reject(n)}static resolve(e){return new ye(((n,i)=>{n(e)}))}static reject(e){return new ye(((n,i)=>{i(e)}))}static waitFor(e){return new ye(((n,i)=>{let a=0,c=0,u=!1;e.forEach((p=>{++a,p.next((()=>{++c,u&&c===a&&n()}),(y=>i(y)))})),u=!0,c===a&&n()}))}static or(e){let n=ye.resolve(!1);for(const i of e)n=n.next((a=>a?ye.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,c)=>{i.push(n.call(this,a,c))})),this.waitFor(i)}static mapArray(e,n){return new ye(((i,a)=>{const c=e.length,u=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;n(e[_]).next((x=>{u[_]=x,++p,p===c&&i(u)}),(x=>a(x)))}}))}static doWhile(e,n){return new ye(((i,a)=>{const c=()=>{e()===!0?n().next((()=>{c()}),a):i()};c()}))}}function XL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ou(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Dm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=-1;function Lm(t){return t==null}function hm(t){return t===0&&1/t==-1/0}function QL(t){return typeof t=="number"&&Number.isInteger(t)&&!hm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="";function JL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=sT(e)),e=eM(t.get(n),e);return sT(e)}function eM(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const c=t.charAt(a);switch(c){case"\0":n+="";break;case YS:n+="";break;default:n+=c}}return n}function sT(t){return t+YS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ko(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function XS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n){this.comparator=e,this.root=n||kn.EMPTY}insert(e,n){return new Zt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new Zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sf(this.root,e,this.comparator,!0)}}class Sf{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?i(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kn{constructor(e,n,i,a,c){this.key=e,this.value=n,this.color=i??kn.RED,this.left=a??kn.EMPTY,this.right=c??kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,c){return new kn(e??this.key,n??this.value,i??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const c=i(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,i),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return kn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1;kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,n,i,a,c){return this}insert(e,n,i){return new kn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.comparator=e,this.data=new Zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new aT(this.data.getIterator())}getIteratorFrom(e){return new aT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof yn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=i.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new yn(this.comparator);return n.data=e,n}}class aT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this.fields=e,e.sort(Vn.comparator)}static empty(){return new Ji([])}unionWith(e){let n=new yn(Vn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Ji(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qc(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new QS("Invalid base64 string: "+c):c}})(e);return new Un(n)}static fromUint8Array(e){const n=(function(a){let c="";for(let u=0;u<a.length;++u)c+=String.fromCharCode(a[u]);return c})(e);return new Un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Un.EMPTY_BYTE_STRING=new Un("");const tM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Co(t){if(_t(!!t,39018),typeof t=="string"){let e=0;const n=tM.exec(t);if(_t(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:nn(t.seconds),nanos:nn(t.nanos)}}function nn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ro(t){return typeof t=="string"?Un.fromBase64String(t):Un.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="server_timestamp",e2="__type__",t2="__previous_value__",n2="__local_write_time__";function $0(t){return(t?.mapValue?.fields||{})[e2]?.stringValue===JS}function Mm(t){const e=t.mapValue.fields[t2];return $0(e)?Mm(e):e}function kh(t){const e=Co(t.mapValue.fields[n2].timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e,n,i,a,c,u,p,y,_,x){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=x}}const dm="(default)";class Vh{constructor(e,n){this.projectId=e,this.database=n||dm}static empty(){return new Vh("","")}get isDefaultDatabase(){return this.database===dm}isEqual(e){return e instanceof Vh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="__type__",iM="__max__",Af={mapValue:{}},s2="__vector__",fm="value";function Po(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$0(t)?4:rM(t)?9007199254740991:sM(t)?10:11:Ge(28295,{value:t})}function Cr(t,e){if(t===e)return!0;const n=Po(t);if(n!==Po(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kh(t).isEqual(kh(e));case 3:return(function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const u=Co(a.timestampValue),p=Co(c.timestampValue);return u.seconds===p.seconds&&u.nanos===p.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,c){return Ro(a.bytesValue).isEqual(Ro(c.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,c){return nn(a.geoPointValue.latitude)===nn(c.geoPointValue.latitude)&&nn(a.geoPointValue.longitude)===nn(c.geoPointValue.longitude)})(t,e);case 2:return(function(a,c){if("integerValue"in a&&"integerValue"in c)return nn(a.integerValue)===nn(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const u=nn(a.doubleValue),p=nn(c.doubleValue);return u===p?hm(u)===hm(p):isNaN(u)&&isNaN(p)}return!1})(t,e);case 9:return qc(t.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:case 11:return(function(a,c){const u=a.mapValue.fields||{},p=c.mapValue.fields||{};if(rT(u)!==rT(p))return!1;for(const y in u)if(u.hasOwnProperty(y)&&(p[y]===void 0||!Cr(u[y],p[y])))return!1;return!0})(t,e);default:return Ge(52216,{left:t})}}function Uh(t,e){return(t.values||[]).find((n=>Cr(n,e)))!==void 0}function Gc(t,e){if(t===e)return 0;const n=Po(t),i=Po(e);if(n!==i)return ct(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return(function(c,u){const p=nn(c.integerValue||c.doubleValue),y=nn(u.integerValue||u.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(t,e);case 3:return oT(t.timestampValue,e.timestampValue);case 4:return oT(kh(t),kh(e));case 5:return My(t.stringValue,e.stringValue);case 6:return(function(c,u){const p=Ro(c),y=Ro(u);return p.compareTo(y)})(t.bytesValue,e.bytesValue);case 7:return(function(c,u){const p=c.split("/"),y=u.split("/");for(let _=0;_<p.length&&_<y.length;_++){const x=ct(p[_],y[_]);if(x!==0)return x}return ct(p.length,y.length)})(t.referenceValue,e.referenceValue);case 8:return(function(c,u){const p=ct(nn(c.latitude),nn(u.latitude));return p!==0?p:ct(nn(c.longitude),nn(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return lT(t.arrayValue,e.arrayValue);case 10:return(function(c,u){const p=c.fields||{},y=u.fields||{},_=p[fm]?.arrayValue,x=y[fm]?.arrayValue,T=ct(_?.values?.length||0,x?.values?.length||0);return T!==0?T:lT(_,x)})(t.mapValue,e.mapValue);case 11:return(function(c,u){if(c===Af.mapValue&&u===Af.mapValue)return 0;if(c===Af.mapValue)return 1;if(u===Af.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=u.fields||{},x=Object.keys(_);y.sort(),x.sort();for(let T=0;T<y.length&&T<x.length;++T){const A=My(y[T],x[T]);if(A!==0)return A;const j=Gc(p[y[T]],_[x[T]]);if(j!==0)return j}return ct(y.length,x.length)})(t.mapValue,e.mapValue);default:throw Ge(23264,{he:n})}}function oT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);const n=Co(t),i=Co(e),a=ct(n.seconds,i.seconds);return a!==0?a:ct(n.nanos,i.nanos)}function lT(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const c=Gc(n[a],i[a]);if(c)return c}return ct(n.length,i.length)}function Zc(t){return Oy(t)}function Oy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Co(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ro(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ve.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const c of n.values||[])a?a=!1:i+=",",i+=Oy(c);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const u of i)c?c=!1:a+=",",a+=`${u}:${Oy(n.fields[u])}`;return a+"}"})(t.mapValue):Ge(61005,{value:t})}function Ff(t){switch(Po(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Mm(t);return e?16+Ff(e):16;case 5:return 2*t.stringValue.length;case 6:return Ro(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,c)=>a+Ff(c)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return ko(i.fields,((c,u)=>{a+=c.length+Ff(u)})),a})(t.mapValue);default:throw Ge(13486,{value:t})}}function cT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ky(t){return!!t&&"integerValue"in t}function Y0(t){return!!t&&"arrayValue"in t}function uT(t){return!!t&&"nullValue"in t}function hT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hf(t){return!!t&&"mapValue"in t}function sM(t){return(t?.mapValue?.fields||{})[i2]?.stringValue===s2}function Eh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ko(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Eh(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Eh(t.arrayValue.values[n]);return e}return{...t}}function rM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===iM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.value=e}static empty(){return new Ri({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Hf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eh(n)}setAll(e){let n=Vn.emptyPath(),i={},a=[];e.forEach(((u,p)=>{if(!n.isImmediateParentOf(p)){const y=this.getFieldsMap(n);this.applyChanges(y,i,a),i={},a=[],n=p.popLast()}u?i[p.lastSegment()]=Eh(u):a.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,i,a)}delete(e){const n=this.field(e.popLast());Hf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Hf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){ko(n,((a,c)=>e[a]=c));for(const a of i)delete e[a]}clone(){return new Ri(Eh(this.value))}}function r2(t){const e=[];return ko(t.fields,((n,i)=>{const a=new Vn([n]);if(Hf(i)){const c=r2(i.mapValue).fields;if(c.length===0)e.push(a);else for(const u of c)e.push(a.child(u))}else e.push(a)})),new Ji(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,n,i,a,c,u,p){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=c,this.data=u,this.documentState=p}static newInvalidDocument(e){return new Kn(e,0,$e.min(),$e.min(),$e.min(),Ri.empty(),0)}static newFoundDocument(e,n,i,a){return new Kn(e,1,n,$e.min(),i,a,0)}static newNoDocument(e,n){return new Kn(e,2,n,$e.min(),$e.min(),Ri.empty(),0)}static newUnknownDocument(e,n){return new Kn(e,3,n,$e.min(),$e.min(),Ri.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ri.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ri.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,n){this.position=e,this.inclusive=n}}function dT(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const c=e[a],u=t.position[a];if(c.field.isKeyField()?i=Ve.comparator(Ve.fromName(u.referenceValue),n.key):i=Gc(u,n.data.field(c.field)),c.dir==="desc"&&(i*=-1),i!==0)break}return i}function fT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n="asc"){this.field=e,this.dir=n}}function aM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{}class cn extends a2{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new lM(e,n,i):n==="array-contains"?new hM(e,i):n==="in"?new dM(e,i):n==="not-in"?new fM(e,i):n==="array-contains-any"?new mM(e,i):new cn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new cM(e,i):new uM(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Gc(n,this.value)):n!==null&&Po(this.value)===Po(n)&&this.matchesComparison(Gc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $s extends a2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new $s(e,n)}matches(e){return o2(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function o2(t){return t.op==="and"}function l2(t){return oM(t)&&o2(t)}function oM(t){for(const e of t.filters)if(e instanceof $s)return!1;return!0}function Vy(t){if(t instanceof cn)return t.field.canonicalString()+t.op.toString()+Zc(t.value);if(l2(t))return t.filters.map((e=>Vy(e))).join(",");{const e=t.filters.map((n=>Vy(n))).join(",");return`${t.op}(${e})`}}function c2(t,e){return t instanceof cn?(function(i,a){return a instanceof cn&&i.op===a.op&&i.field.isEqual(a.field)&&Cr(i.value,a.value)})(t,e):t instanceof $s?(function(i,a){return a instanceof $s&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((c,u,p)=>c&&c2(u,a.filters[p])),!0):!1})(t,e):void Ge(19439)}function u2(t){return t instanceof cn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Zc(n.value)}`})(t):t instanceof $s?(function(n){return n.op.toString()+" {"+n.getFilters().map(u2).join(" ,")+"}"})(t):"Filter"}class lM extends cn{constructor(e,n,i){super(e,n,i),this.key=Ve.fromName(i.referenceValue)}matches(e){const n=Ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class cM extends cn{constructor(e,n){super(e,"in",n),this.keys=h2("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class uM extends cn{constructor(e,n){super(e,"not-in",n),this.keys=h2("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function h2(t,e){return(e.arrayValue?.values||[]).map((n=>Ve.fromName(n.referenceValue)))}class hM extends cn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Y0(n)&&Uh(n.arrayValue,this.value)}}class dM extends cn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Uh(this.value.arrayValue,n)}}class fM extends cn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Uh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Uh(this.value.arrayValue,n)}}class mM extends cn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Y0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Uh(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e,n=null,i=[],a=[],c=null,u=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=c,this.startAt=u,this.endAt=p,this.Te=null}}function mT(t,e=null,n=[],i=[],a=null,c=null,u=null){return new pM(t,e,n,i,a,c,u)}function X0(t){const e=Ye(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>Vy(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(c){return c.field.canonicalString()+c.dir})(i))).join(","),Lm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Zc(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Zc(i))).join(",")),e.Te=n}return e.Te}function Q0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!aM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!c2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fT(t.startAt,e.startAt)&&fT(t.endAt,e.endAt)}function Uy(t){return Ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n=null,i=[],a=[],c=null,u="F",p=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=c,this.limitType=u,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gM(t,e,n,i,a,c,u,p){return new lu(t,e,n,i,a,c,u,p)}function J0(t){return new lu(t)}function pT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function d2(t){return t.collectionGroup!==null}function Sh(t){const e=Ye(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let p=new yn(Vn.comparator);return u.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Bh(c,i))})),n.has(Vn.keyField().canonicalString())||e.Ie.push(new Bh(Vn.keyField(),i))}return e.Ie}function br(t){const e=Ye(t);return e.Ee||(e.Ee=yM(e,Sh(t))),e.Ee}function yM(t,e){if(t.limitType==="F")return mT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const c=a.dir==="desc"?"asc":"desc";return new Bh(a.field,c)}));const n=t.endAt?new mm(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new mm(t.startAt.position,t.startAt.inclusive):null;return mT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function By(t,e){const n=t.filters.concat([e]);return new lu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function zy(t,e,n){return new lu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Om(t,e){return Q0(br(t),br(e))&&t.limitType===e.limitType}function f2(t){return`${X0(br(t))}|lt:${t.limitType}`}function Ac(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>u2(a))).join(", ")}]`),Lm(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>Zc(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>Zc(a))).join(",")),`Target(${i})`})(br(t))}; limitType=${t.limitType})`}function km(t,e){return e.isFoundDocument()&&(function(i,a){const c=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):Ve.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)})(t,e)&&(function(i,a){for(const c of Sh(i))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const c of i.filters)if(!c.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(u,p,y){const _=dT(u,p,y);return u.inclusive?_<=0:_<0})(i.startAt,Sh(i),a)||i.endAt&&!(function(u,p,y){const _=dT(u,p,y);return u.inclusive?_>=0:_>0})(i.endAt,Sh(i),a))})(t,e)}function vM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function m2(t){return(e,n)=>{let i=!1;for(const a of Sh(t)){const c=_M(a,e,n);if(c!==0)return c;i=i||a.field.isKeyField()}return 0}}function _M(t,e,n){const i=t.field.isKeyField()?Ve.comparator(e.key,n.key):(function(c,u,p){const y=u.data.field(c),_=p.data.field(c);return y!==null&&_!==null?Gc(y,_):Ge(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ge(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,c]of i)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ko(this.inner,((n,i)=>{for(const[a,c]of i)e(a,c)}))}isEmpty(){return XS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=new Zt(Ve.comparator);function ga(){return xM}const p2=new Zt(Ve.comparator);function yh(...t){let e=p2;for(const n of t)e=e.insert(n.key,n);return e}function g2(t){let e=p2;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function _l(){return Ah()}function y2(){return Ah()}function Ah(){return new Ll((t=>t.toString()),((t,e)=>t.isEqual(e)))}const bM=new Zt(Ve.comparator),wM=new yn(Ve.comparator);function ut(...t){let e=wM;for(const n of t)e=e.add(n);return e}const TM=new yn(ct);function EM(){return TM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hm(e)?"-0":e}}function v2(t){return{integerValue:""+t}}function _2(t,e){return QL(e)?v2(e):ev(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(){this._=void 0}}function SM(t,e,n){return t instanceof zh?(function(a,c){const u={fields:{[e2]:{stringValue:JS},[n2]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&$0(c)&&(c=Mm(c)),c&&(u.fields[t2]=c),{mapValue:u}})(n,e):t instanceof Wc?b2(t,e):t instanceof Fh?w2(t,e):(function(a,c){const u=x2(a,c),p=gT(u)+gT(a.Ae);return ky(u)&&ky(a.Ae)?v2(p):ev(a.serializer,p)})(t,e)}function AM(t,e,n){return t instanceof Wc?b2(t,e):t instanceof Fh?w2(t,e):n}function x2(t,e){return t instanceof Hh?(function(i){return ky(i)||(function(c){return!!c&&"doubleValue"in c})(i)})(e)?e:{integerValue:0}:null}class zh extends Vm{}class Wc extends Vm{constructor(e){super(),this.elements=e}}function b2(t,e){const n=T2(e);for(const i of t.elements)n.some((a=>Cr(a,i)))||n.push(i);return{arrayValue:{values:n}}}class Fh extends Vm{constructor(e){super(),this.elements=e}}function w2(t,e){let n=T2(e);for(const i of t.elements)n=n.filter((a=>!Cr(a,i)));return{arrayValue:{values:n}}}class Hh extends Vm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function gT(t){return nn(t.integerValue||t.doubleValue)}function T2(t){return Y0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n){this.field=e,this.transform=n}}function NM(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof Wc&&a instanceof Wc||i instanceof Fh&&a instanceof Fh?qc(i.elements,a.elements,Cr):i instanceof Hh&&a instanceof Hh?Cr(i.Ae,a.Ae):i instanceof zh&&a instanceof zh})(t.transform,e.transform)}class CM{constructor(e,n){this.version=e,this.transformResults=n}}class Zs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zs}static exists(e){return new Zs(void 0,e)}static updateTime(e){return new Zs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Um{}function E2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new A2(t.key,Zs.none()):new rd(t.key,t.data,Zs.none());{const n=t.data,i=Ri.empty();let a=new yn(Vn.comparator);for(let c of e.fields)if(!a.has(c)){let u=n.field(c);u===null&&c.length>1&&(c=c.popLast(),u=n.field(c)),u===null?i.delete(c):i.set(c,u),a=a.add(c)}return new Vo(t.key,i,new Ji(a.toArray()),Zs.none())}}function RM(t,e,n){t instanceof rd?(function(a,c,u){const p=a.value.clone(),y=vT(a.fieldTransforms,c,u.transformResults);p.setAll(y),c.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(t,e,n):t instanceof Vo?(function(a,c,u){if(!qf(a.precondition,c))return void c.convertToUnknownDocument(u.version);const p=vT(a.fieldTransforms,c,u.transformResults),y=c.data;y.setAll(S2(a)),y.setAll(p),c.convertToFoundDocument(u.version,y).setHasCommittedMutations()})(t,e,n):(function(a,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Nh(t,e,n,i){return t instanceof rd?(function(c,u,p,y){if(!qf(c.precondition,u))return p;const _=c.value.clone(),x=_T(c.fieldTransforms,y,u);return _.setAll(x),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),null})(t,e,n,i):t instanceof Vo?(function(c,u,p,y){if(!qf(c.precondition,u))return p;const _=_T(c.fieldTransforms,y,u),x=u.data;return x.setAll(S2(c)),x.setAll(_),u.convertToFoundDocument(u.version,x).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((T=>T.field)))})(t,e,n,i):(function(c,u,p){return qf(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):p})(t,e,n)}function PM(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),c=x2(i.transform,a||null);c!=null&&(n===null&&(n=Ri.empty()),n.set(i.field,c))}return n||null}function yT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&qc(i,a,((c,u)=>NM(c,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class rd extends Um{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Vo extends Um{constructor(e,n,i,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function S2(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function vT(t,e,n){const i=new Map;_t(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const c=t[a],u=c.transform,p=e.data.field(c.field);i.set(c.field,AM(u,p,n[a]))}return i}function _T(t,e,n){const i=new Map;for(const a of t){const c=a.transform,u=n.data.field(a.field);i.set(a.field,SM(c,u,e))}return i}class A2 extends Um{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jM extends Um{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&RM(c,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Nh(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Nh(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=y2();return this.mutations.forEach((a=>{const c=e.get(a.key),u=c.overlayedDocument;let p=this.applyToLocalView(u,c.mutatedFields);p=n.has(a.key)?null:p;const y=E2(u,p);y!==null&&i.set(a.key,y),u.isValidDocument()||u.convertToNoDocument($e.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ut())}isEqual(e){return this.batchId===e.batchId&&qc(this.mutations,e.mutations,((n,i)=>yT(n,i)))&&qc(this.baseMutations,e.baseMutations,((n,i)=>yT(n,i)))}}class nv{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){_t(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return bM})();const c=e.mutations;for(let u=0;u<c.length;u++)a=a.insert(c[u].key,i[u].version);return new nv(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,pt;function MM(t){switch(t){case pe.OK:return Ge(64938);case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0;default:return Ge(15467,{code:t})}}function N2(t){if(t===void 0)return pa("GRPC error has no .code"),pe.UNKNOWN;switch(t){case on.OK:return pe.OK;case on.CANCELLED:return pe.CANCELLED;case on.UNKNOWN:return pe.UNKNOWN;case on.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case on.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case on.INTERNAL:return pe.INTERNAL;case on.UNAVAILABLE:return pe.UNAVAILABLE;case on.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case on.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case on.NOT_FOUND:return pe.NOT_FOUND;case on.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case on.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case on.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case on.ABORTED:return pe.ABORTED;case on.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case on.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case on.DATA_LOSS:return pe.DATA_LOSS;default:return Ge(39323,{code:t})}}(pt=on||(on={}))[pt.OK=0]="OK",pt[pt.CANCELLED=1]="CANCELLED",pt[pt.UNKNOWN=2]="UNKNOWN",pt[pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pt[pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pt[pt.NOT_FOUND=5]="NOT_FOUND",pt[pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",pt[pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",pt[pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",pt[pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pt[pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pt[pt.ABORTED=10]="ABORTED",pt[pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",pt[pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",pt[pt.INTERNAL=13]="INTERNAL",pt[pt.UNAVAILABLE=14]="UNAVAILABLE",pt[pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=new To([4294967295,4294967295],0);function xT(t){const e=OM().encode(t),n=new BS;return n.update(e),new Uint8Array(n.digest())}function bT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new To([n,i],0),new To([a,c],0)]}class iv{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new vh(`Invalid padding: ${n}`);if(i<0)throw new vh(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new vh(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new vh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=To.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(To.fromNumber(i)));return a.compare(kM)===1&&(a=new To([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=xT(e),[i,a]=bT(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(i,a,c);if(!this.we(u))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new iv(c,a,n);return i.forEach((p=>u.insert(p))),u}insert(e){if(this.ge===0)return;const n=xT(e),[i,a]=bT(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(i,a,c);this.Se(u)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class vh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,n,i,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,ad.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Bm($e.min(),a,new Zt(ct),ga(),ut())}}class ad{constructor(e,n,i,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new ad(i,n,ut(),ut(),ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n,i,a){this.be=e,this.removedTargetIds=n,this.key=i,this.De=a}}class C2{constructor(e,n){this.targetId=e,this.Ce=n}}class R2{constructor(e,n,i=Un.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class wT{constructor(){this.ve=0,this.Fe=TT(),this.Me=Un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ut(),n=ut(),i=ut();return this.Fe.forEach(((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Ge(38017,{changeType:c})}})),new ad(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=TT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,_t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class VM{constructor(e){this.Ge=e,this.ze=new Map,this.je=ga(),this.Je=Nf(),this.He=Nf(),this.Ye=new Zt(ct)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ge(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const c=a.target;if(Uy(c))if(i===0){const u=new Ve(c.path);this.et(n,u,Kn.newNoDocument(u,$e.min()))}else _t(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const p=this.ut(e),y=p?this.ct(p,e,u):1;if(y!==0){this.it(n);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,_)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:c=0}=n;let u,p;try{u=Ro(i).toUint8Array()}catch(y){if(y instanceof QS)return Hc("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new iv(u,a,c)}catch(y){return Hc(y instanceof vh?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((c=>{const u=this.Ge.ht(),p=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((c,u)=>{const p=this.ot(u);if(p){if(c.current&&Uy(p.target)){const y=new Ve(p.target.path);this.It(y).has(u)||this.Et(u,y)||this.et(u,y,Kn.newNoDocument(y,e))}c.Be&&(n.set(u,c.ke()),c.qe())}}));let i=ut();this.He.forEach(((c,u)=>{let p=!0;u.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(i=i.add(c))})),this.je.forEach(((c,u)=>u.setReadTime(e)));const a=new Bm(e,n,this.Ye,this.je,i);return this.je=ga(),this.Je=Nf(),this.He=Nf(),this.Ye=new Zt(ct),a}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new wT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new yn(ct),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new yn(ct),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new wT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Nf(){return new Zt(Ve.comparator)}function TT(){return new Zt(Ve.comparator)}const UM={asc:"ASCENDING",desc:"DESCENDING"},BM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zM={and:"AND",or:"OR"};class FM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Fy(t,e){return t.useProto3Json||Lm(e)?e:{value:e}}function pm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function P2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function HM(t,e){return pm(t,e.toTimestamp())}function wr(t){return _t(!!t,49232),$e.fromTimestamp((function(n){const i=Co(n);return new Ct(i.seconds,i.nanos)})(t))}function sv(t,e){return Hy(t,e).canonicalString()}function Hy(t,e){const n=(function(a){return new jt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function j2(t){const e=jt.fromString(t);return _t(O2(e),10190,{key:e.toString()}),e}function qy(t,e){return sv(t.databaseId,e.path)}function ey(t,e){const n=j2(e);if(n.get(1)!==t.databaseId.projectId)throw new Ne(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ne(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ve(D2(n))}function I2(t,e){return sv(t.databaseId,e)}function qM(t){const e=j2(t);return e.length===4?jt.emptyPath():D2(e)}function Gy(t){return new jt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function D2(t){return _t(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ET(t,e,n){return{name:qy(t,e),fields:n.value.mapValue.fields}}function GM(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ge(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=(function(_,x){return _.useProto3Json?(_t(x===void 0||typeof x=="string",58123),Un.fromBase64String(x||"")):(_t(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Un.fromUint8Array(x||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,p=u&&(function(_){const x=_.code===void 0?pe.UNKNOWN:N2(_.code);return new Ne(x,_.message||"")})(u);n=new R2(i,a,c,p||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=ey(t,i.document.name),c=wr(i.document.updateTime),u=i.document.createTime?wr(i.document.createTime):$e.min(),p=new Ri({mapValue:{fields:i.document.fields}}),y=Kn.newFoundDocument(a,c,u,p),_=i.targetIds||[],x=i.removedTargetIds||[];n=new Gf(_,x,y.key,y)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=ey(t,i.document),c=i.readTime?wr(i.readTime):$e.min(),u=Kn.newNoDocument(a,c),p=i.removedTargetIds||[];n=new Gf([],p,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=ey(t,i.document),c=i.removedTargetIds||[];n=new Gf([],c,a,null)}else{if(!("filter"in e))return Ge(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:c}=i,u=new LM(a,c),p=i.targetId;n=new C2(p,u)}}return n}function ZM(t,e){let n;if(e instanceof rd)n={update:ET(t,e.key,e.value)};else if(e instanceof A2)n={delete:qy(t,e.key)};else if(e instanceof Vo)n={update:ET(t,e.key,e.data),updateMask:tO(e.fieldMask)};else{if(!(e instanceof jM))return Ge(16599,{Vt:e.type});n={verify:qy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(c,u){const p=u.transform;if(p instanceof zh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Wc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Fh)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Hh)return{fieldPath:u.field.canonicalString(),increment:p.Ae};throw Ge(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,c){return c.updateTime!==void 0?{updateTime:HM(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ge(27497)})(t,e.precondition)),n}function WM(t,e){return t&&t.length>0?(_t(e!==void 0,14353),t.map((n=>(function(a,c){let u=a.updateTime?wr(a.updateTime):wr(c);return u.isEqual($e.min())&&(u=wr(c)),new CM(u,a.transformResults||[])})(n,e)))):[]}function KM(t,e){return{documents:[I2(t,e.path)]}}function $M(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=I2(t,a);const c=(function(_){if(_.length!==0)return M2($s.create(_,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const u=(function(_){if(_.length!==0)return _.map((x=>(function(A){return{field:Nc(A.field),direction:QM(A.dir)}})(x)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const p=Fy(t,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:n,parent:a}}function YM(t){let e=qM(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){_t(i===1,65062);const x=n.from[0];x.allDescendants?a=x.collectionId:e=e.child(x.collectionId)}let c=[];n.where&&(c=(function(T){const A=L2(T);return A instanceof $s&&l2(A)?A.getFilters():[A]})(n.where));let u=[];n.orderBy&&(u=(function(T){return T.map((A=>(function(I){return new Bh(Cc(I.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(A)))})(n.orderBy));let p=null;n.limit&&(p=(function(T){let A;return A=typeof T=="object"?T.value:T,Lm(A)?null:A})(n.limit));let y=null;n.startAt&&(y=(function(T){const A=!!T.before,j=T.values||[];return new mm(j,A)})(n.startAt));let _=null;return n.endAt&&(_=(function(T){const A=!T.before,j=T.values||[];return new mm(j,A)})(n.endAt)),gM(e,a,u,c,p,"F",y,_)}function XM(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function L2(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Cc(n.unaryFilter.field);return cn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Cc(n.unaryFilter.field);return cn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Cc(n.unaryFilter.field);return cn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Cc(n.unaryFilter.field);return cn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}})(t):t.fieldFilter!==void 0?(function(n){return cn.create(Cc(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return $s.create(n.compositeFilter.filters.map((i=>L2(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}})(n.compositeFilter.op))})(t):Ge(30097,{filter:t})}function QM(t){return UM[t]}function JM(t){return BM[t]}function eO(t){return zM[t]}function Nc(t){return{fieldPath:t.canonicalString()}}function Cc(t){return Vn.fromServerFormat(t.fieldPath)}function M2(t){return t instanceof cn?(function(n){if(n.op==="=="){if(hT(n.value))return{unaryFilter:{field:Nc(n.field),op:"IS_NAN"}};if(uT(n.value))return{unaryFilter:{field:Nc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hT(n.value))return{unaryFilter:{field:Nc(n.field),op:"IS_NOT_NAN"}};if(uT(n.value))return{unaryFilter:{field:Nc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nc(n.field),op:JM(n.op),value:n.value}}})(t):t instanceof $s?(function(n){const i=n.getFilters().map((a=>M2(a)));return i.length===1?i[0]:{compositeFilter:{op:eO(n.op),filters:i}}})(t):Ge(54877,{filter:t})}function tO(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function O2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n,i,a,c=$e.min(),u=$e.min(),p=Un.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new _o(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.yt=e}}function iO(t){const e=YM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?zy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(){this.Cn=new rO}addToCollectionParentIndex(e,n){return this.Cn.add(n),ye.resolve()}getCollectionParents(e,n){return ye.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ye.resolve()}deleteFieldIndex(e,n){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,n){return ye.resolve()}getDocumentsMatchingTarget(e,n){return ye.resolve(null)}getIndexType(e,n){return ye.resolve(0)}getFieldIndexes(e,n){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,n){return ye.resolve(No.min())}getMinOffsetFromCollectionGroup(e,n){return ye.resolve(No.min())}updateCollectionGroup(e,n,i){return ye.resolve()}updateIndexEntries(e,n){return ye.resolve()}}class rO{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new yn(jt.comparator),c=!a.has(i);return this.index[n]=a.add(i),c}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new yn(jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},k2=41943040;class Ci{static withCacheSize(e){return new Ci(e,Ci.DEFAULT_COLLECTION_PERCENTILE,Ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ci.DEFAULT_COLLECTION_PERCENTILE=10,Ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ci.DEFAULT=new Ci(k2,Ci.DEFAULT_COLLECTION_PERCENTILE,Ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ci.DISABLED=new Ci(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Kc(0)}static cr(){return new Kc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="LruGarbageCollector",aO=1048576;function NT([t,e],[n,i]){const a=ct(t,n);return a===0?ct(e,i):a}class oO{constructor(e){this.Ir=e,this.buffer=new yn(NT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();NT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lO{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Pe(AT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ou(n)?Pe(AT,"Ignoring IndexedDB error during garbage collection: ",n):await au(n)}await this.Vr(3e5)}))}}class cO{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return ye.resolve(Dm.ce);const i=new oO(n);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(ST)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ST):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,a,c,u,p,y,_;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,u=Date.now(),this.nthSequenceNumber(e,a)))).next((T=>(i=T,p=Date.now(),this.removeTargets(e,i,n)))).next((T=>(c=T,y=Date.now(),this.removeOrphanedDocuments(e,i)))).next((T=>(_=Date.now(),Sc()<=lt.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-x}ms
	Determined least recently used ${a} in `+(p-u)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${T} documents in `+(_-y)+`ms
Total Duration: ${_-x}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:T}))))}}function uO(t,e){return new cO(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.changes=new Ll((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ye.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&Nh(i.mutation,a,Ji.empty(),Ct.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,ut()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=ut()){const a=_l();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((c=>{let u=yh();return c.forEach(((p,y)=>{u=u.insert(p,y.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=_l();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,ut())))}populateOverlays(e,n,i){const a=[];return i.forEach((c=>{n.has(c)||a.push(c)})),this.documentOverlayCache.getOverlays(e,a).next((c=>{c.forEach(((u,p)=>{n.set(u,p)}))}))}computeViews(e,n,i,a){let c=ga();const u=Ah(),p=(function(){return Ah()})();return n.forEach(((y,_)=>{const x=i.get(_.key);a.has(_.key)&&(x===void 0||x.mutation instanceof Vo)?c=c.insert(_.key,_):x!==void 0?(u.set(_.key,x.mutation.getFieldMask()),Nh(x.mutation,_,x.mutation.getFieldMask(),Ct.now())):u.set(_.key,Ji.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,x)=>u.set(_,x))),n.forEach(((_,x)=>p.set(_,new dO(x,u.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,n){const i=Ah();let a=new Zt(((u,p)=>u-p)),c=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const p of u)p.keys().forEach((y=>{const _=n.get(y);if(_===null)return;let x=i.get(y)||Ji.empty();x=p.applyToLocalView(_,x),i.set(y,x);const T=(a.get(p.batchId)||ut()).add(y);a=a.insert(p.batchId,T)}))})).next((()=>{const u=[],p=a.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,x=y.value,T=y2();x.forEach((A=>{if(!c.has(A)){const j=E2(n.get(A),i.get(A));j!==null&&T.set(A,j),c=c.add(A)}})),u.push(this.documentOverlayCache.saveOverlays(e,_,T))}return ye.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return(function(u){return Ve.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):d2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((c=>{const u=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-c.size):ye.resolve(_l());let p=Oh,y=c;return u.next((_=>ye.forEach(_,((x,T)=>(p<T.largestBatchId&&(p=T.largestBatchId),c.get(x)?ye.resolve():this.remoteDocumentCache.getEntry(e,x).next((A=>{y=y.insert(x,A)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,ut()))).next((x=>({batchId:p,changes:g2(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ve(n)).next((i=>{let a=yh();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const c=n.collectionGroup;let u=yh();return this.indexManager.getCollectionParents(e,c).next((p=>ye.forEach(p,(y=>{const _=(function(T,A){return new lu(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,i,a).next((x=>{x.forEach(((T,A)=>{u=u.insert(T,A)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,c,a)))).next((u=>{c.forEach(((y,_)=>{const x=_.getKey();u.get(x)===null&&(u=u.insert(x,Kn.newInvalidDocument(x)))}));let p=yh();return u.forEach(((y,_)=>{const x=c.get(y);x!==void 0&&Nh(x.mutation,_,Ji.empty(),Ct.now()),km(n,_)&&(p=p.insert(y,_))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ye.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:wr(a.createTime)}})(n)),ye.resolve()}getNamedQuery(e,n){return ye.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:iO(a.bundledQuery),readTime:wr(a.readTime)}})(n)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(){this.overlays=new Zt(Ve.comparator),this.qr=new Map}getOverlay(e,n){return ye.resolve(this.overlays.get(n))}getOverlays(e,n){const i=_l();return ye.forEach(n,(a=>this.getOverlay(e,a).next((c=>{c!==null&&i.set(a,c)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,c)=>{this.St(e,n,c)})),ye.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(i)),ye.resolve()}getOverlaysForCollection(e,n,i){const a=_l(),c=n.length+1,u=new Ve(n.child("")),p=this.overlays.getIteratorFrom(u);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>i&&a.set(y.getKey(),y)}return ye.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let c=new Zt(((_,x)=>_-x));const u=this.overlays.getIterator();for(;u.hasNext();){const _=u.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>i){let x=c.get(_.largestBatchId);x===null&&(x=_l(),c=c.insert(_.largestBatchId,x)),x.set(_.getKey(),_)}}const p=_l(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,x)=>p.set(_,x))),!(p.size()>=a)););return ye.resolve(p)}St(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new DM(n,i));let c=this.qr.get(n);c===void 0&&(c=ut(),this.qr.set(n,c)),this.qr.set(n,c.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(){this.sessionToken=Un.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(){this.Qr=new yn(jn.$r),this.Ur=new yn(jn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new jn(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new jn(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new Ve(new jt([])),i=new jn(n,e),a=new jn(n,e+1),c=[];return this.Ur.forEachInRange([i,a],(u=>{this.Gr(u),c.push(u.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ve(new jt([])),i=new jn(n,e),a=new jn(n,e+1);let c=ut();return this.Ur.forEachInRange([i,a],(u=>{c=c.add(u.key)})),c}containsKey(e){const n=new jn(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class jn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ve.comparator(e.key,n.key)||ct(e.Yr,n.Yr)}static Kr(e,n){return ct(e.Yr,n.Yr)||Ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new yn(jn.$r)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new IM(c,n,i,a);this.mutationQueue.push(u);for(const p of a)this.Zr=this.Zr.add(new jn(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ye.resolve(u)}lookupMutationBatch(e,n){return ye.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.ei(i),c=a<0?0:a;return ye.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?K0:this.tr-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new jn(n,0),a=new jn(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([i,a],(u=>{const p=this.Xr(u.Yr);c.push(p)})),ye.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new yn(ct);return n.forEach((a=>{const c=new jn(a,0),u=new jn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,u],(p=>{i=i.add(p.Yr)}))})),ye.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let c=i;Ve.isDocumentKey(c)||(c=c.child(""));const u=new jn(new Ve(c),0);let p=new yn(ct);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!i.isPrefixOf(_)&&(_.length===a&&(p=p.add(y.Yr)),!0)}),u),ye.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){_t(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ye.forEach(n.mutations,(a=>{const c=new jn(a.key,n.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new jn(n,0),a=this.Zr.firstAfterOrEqual(i);return ye.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e){this.ri=e,this.docs=(function(){return new Zt(Ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),c=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ye.resolve(i?i.document.mutableCopy():Kn.newInvalidDocument(n))}getEntries(e,n){let i=ga();return n.forEach((a=>{const c=this.docs.get(a);i=i.insert(a,c?c.document.mutableCopy():Kn.newInvalidDocument(a))})),ye.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let c=ga();const u=n.path,p=new Ve(u.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:x}}=y.getNext();if(!u.isPrefixOf(_.path))break;_.path.length>u.length+1||KL(WL(x),i)<=0||(a.has(x.key)||km(n,x))&&(c=c.insert(x.key,x.mutableCopy()))}return ye.resolve(c)}getAllFromCollectionGroup(e,n,i,a){Ge(9500)}ii(e,n){return ye.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new _O(this)}getSize(e){return ye.resolve(this.size)}}class _O extends hO{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),ye.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.persistence=e,this.si=new Ll((n=>X0(n)),Q0),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.oi=0,this._i=new rv,this.targetCount=0,this.ai=Kc.ur()}forEachTarget(e,n){return this.si.forEach(((i,a)=>n(a))),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),ye.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Kc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ye.resolve()}updateTargetData(e,n){return this.Pr(n),ye.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,n,i){let a=0;const c=[];return this.si.forEach(((u,p)=>{p.sequenceNumber<=n&&i.get(p.targetId)===null&&(this.si.delete(u),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),a++)})),ye.waitFor(c).next((()=>a))}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return ye.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),ye.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach((u=>{c.push(a.markPotentiallyOrphaned(e,u))})),ye.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ye.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return ye.resolve(i)}containsKey(e,n){return ye.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,n){this.ui={},this.overlays={},this.ci=new Dm(0),this.li=!1,this.li=!0,this.hi=new gO,this.referenceDelegate=e(this),this.Pi=new xO(this),this.indexManager=new sO,this.remoteDocumentCache=(function(a){return new vO(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new nO(n),this.Ii=new mO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new yO(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){Pe("MemoryPersistence","Starting transaction:",e);const a=new bO(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((c=>this.referenceDelegate.di(a).next((()=>c)))).toPromise().then((c=>(a.raiseOnCommittedEvent(),c)))}Ai(e,n){return ye.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class bO extends YL{constructor(e){super(),this.currentSequenceNumber=e}}class av{constructor(e){this.persistence=e,this.Ri=new rv,this.Vi=null}static mi(e){return new av(e)}get fi(){if(this.Vi)return this.Vi;throw Ge(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),ye.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),ye.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ye.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((c=>this.fi.add(c.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.fi,(i=>{const a=Ve.fromPath(i);return this.gi(e,a).next((c=>{c||n.removeEntry(a,$e.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ye.or([()=>ye.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class gm{constructor(e,n){this.persistence=e,this.pi=new Ll((i=>JL(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=uO(this,n)}static mi(e,n){return new gm(e,n)}Ei(){}di(e){return ye.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return ye.forEach(this.pi,((i,a)=>this.br(e,i,a).next((c=>c?ye.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((p=>{p||(i++,c.removeEntry(u,$e.min()))})))).next((()=>c.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ye.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ye.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ye.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ye.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ff(e.data.value)),n}br(e,n,i){return ye.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ye.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=a}static As(e,n){let i=ut(),a=ut();for(const c of n.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new ov(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Xj()?8:XL(Xn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const c={result:null};return this.ys(e,n).next((u=>{c.result=u})).next((()=>{if(!c.result)return this.ws(e,n,a,i).next((u=>{c.result=u}))})).next((()=>{if(c.result)return;const u=new wO;return this.Ss(e,n,u).next((p=>{if(c.result=p,this.Vs)return this.bs(e,n,u,p.size)}))})).next((()=>c.result))}bs(e,n,i,a){return i.documentReadCount<this.fs?(Sc()<=lt.DEBUG&&Pe("QueryEngine","SDK will not create cache indexes for query:",Ac(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ye.resolve()):(Sc()<=lt.DEBUG&&Pe("QueryEngine","Query:",Ac(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(Sc()<=lt.DEBUG&&Pe("QueryEngine","The SDK decides to create cache indexes for query:",Ac(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(n))):ye.resolve())}ys(e,n){if(pT(n))return ye.resolve(null);let i=br(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=zy(n,null,"F"),i=br(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((c=>{const u=ut(...c);return this.ps.getDocuments(e,u).next((p=>this.indexManager.getMinOffset(e,i).next((y=>{const _=this.Ds(n,p);return this.Cs(n,_,u,y.readTime)?this.ys(e,zy(n,null,"F")):this.vs(e,_,n,y)}))))})))))}ws(e,n,i,a){return pT(n)||a.isEqual($e.min())?ye.resolve(null):this.ps.getDocuments(e,i).next((c=>{const u=this.Ds(n,c);return this.Cs(n,u,i,a)?ye.resolve(null):(Sc()<=lt.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ac(n)),this.vs(e,u,n,ZL(a,Oh)).next((p=>p)))}))}Ds(e,n){let i=new yn(m2(e));return n.forEach(((a,c)=>{km(e,c)&&(i=i.add(c))})),i}Cs(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Ss(e,n,i){return Sc()<=lt.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",Ac(n)),this.ps.getDocumentsMatchingQuery(e,n,No.min(),i)}vs(e,n,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((c=>(n.forEach((u=>{c=c.insert(u.key,u)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="LocalStore",EO=3e8;class SO{constructor(e,n,i,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Zt(ct),this.xs=new Ll((c=>X0(c)),Q0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function AO(t,e,n,i){return new SO(t,e,n,i)}async function U2(t,e){const n=Ye(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((c=>(a=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((c=>{const u=[],p=[];let y=ut();for(const _ of a){u.push(_.batchId);for(const x of _.mutations)y=y.add(x.key)}for(const _ of c){p.push(_.batchId);for(const x of _.mutations)y=y.add(x.key)}return n.localDocuments.getDocuments(i,y).next((_=>({Ls:_,removedBatchIds:u,addedBatchIds:p})))}))}))}function NO(t,e){const n=Ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,x){const T=_.batch,A=T.keys();let j=ye.resolve();return A.forEach((I=>{j=j.next((()=>x.getEntry(y,I))).next((z=>{const V=_.docVersions.get(I);_t(V!==null,48541),z.version.compareTo(V)<0&&(T.applyToRemoteDocument(z,_),z.isValidDocument()&&(z.setReadTime(_.commitVersion),x.addEntry(z)))}))})),j.next((()=>p.mutationQueue.removeMutationBatch(y,T)))})(n,i,e,c).next((()=>c.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(p){let y=ut();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function B2(t){const e=Ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function CO(t,e){const n=Ye(t),i=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const p=[];e.targetChanges.forEach(((x,T)=>{const A=a.get(T);if(!A)return;p.push(n.Pi.removeMatchingKeys(c,x.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(c,x.addedDocuments,T))));let j=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(T)!==null?j=j.withResumeToken(Un.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):x.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(x.resumeToken,i)),a=a.insert(T,j),(function(z,V,$){return z.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=EO?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(A,j,x)&&p.push(n.Pi.updateTargetData(c,j))}));let y=ga(),_=ut();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,x))})),p.push(RO(c,u,e.documentUpdates).next((x=>{y=x.ks,_=x.qs}))),!i.isEqual($e.min())){const x=n.Pi.getLastRemoteSnapshotVersion(c).next((T=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,i)));p.push(x)}return ye.waitFor(p).next((()=>u.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(n.Ms=a,c)))}function RO(t,e,n){let i=ut(),a=ut();return n.forEach((c=>i=i.add(c))),e.getEntries(t,i).next((c=>{let u=ga();return n.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(a=a.add(p)),y.isNoDocument()&&y.version.isEqual($e.min())?(e.removeEntry(p,y.readTime),u=u.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),u=u.insert(p,y)):Pe(lv,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:u,qs:a}}))}function PO(t,e){const n=Ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=K0),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function jO(t,e){const n=Ye(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.Pi.getTargetData(i,e).next((c=>c?(a=c,ye.resolve(a)):n.Pi.allocateTargetId(i).next((u=>(a=new _o(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function Zy(t,e,n){const i=Ye(t),a=i.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",c,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!ou(u))throw u;Pe(lv,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function CT(t,e,n){const i=Ye(t);let a=$e.min(),c=ut();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(y,_,x){const T=Ye(y),A=T.xs.get(x);return A!==void 0?ye.resolve(T.Ms.get(A)):T.Pi.getTargetData(_,x)})(i,u,br(e)).next((p=>{if(p)return a=p.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,p.targetId).next((y=>{c=y}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,n?a:$e.min(),n?c:ut()))).next((p=>(IO(i,vM(e),p),{documents:p,Qs:c})))))}function IO(t,e,n){let i=t.Os.get(e)||$e.min();n.forEach(((a,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)})),t.Os.set(e,i)}class RT{constructor(){this.activeTargetIds=EM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DO{constructor(){this.Mo=new RT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new RT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="ConnectivityMonitor";class jT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Pe(PT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Pe(PT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cf=null;function Wy(){return Cf===null?Cf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cf++,"0x"+Cf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty="RestConnection",MO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===dm?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,n,i,a,c){const u=Wy(),p=this.zo(e,n.toUriEncodedString());Pe(ty,`Sending RPC '${e}' ${u}:`,p,i);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,a,c);const{host:_}=new URL(p),x=nu(_);return this.Jo(e,p,y,i,x).then((T=>(Pe(ty,`Received RPC '${e}' ${u}: `,T),T)),(T=>{throw Hc(ty,`RPC '${e}' ${u} failed with error: `,T,"url: ",p,"request:",i),T}))}Ho(e,n,i,a,c,u){return this.Go(e,n,i,a,c)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ru})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,c)=>e[c]=a)),i&&i.headers.forEach(((a,c)=>e[c]=a))}zo(e,n){const i=MO[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn="WebChannelConnection";class VO extends OO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,a,c){const u=Wy();return new Promise(((p,y)=>{const _=new zS;_.setWithCredentials(!0),_.listenOnce(FS.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case zf.NO_ERROR:const T=_.getResponseJson();Pe(Gn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),p(T);break;case zf.TIMEOUT:Pe(Gn,`RPC '${e}' ${u} timed out`),y(new Ne(pe.DEADLINE_EXCEEDED,"Request time out"));break;case zf.HTTP_ERROR:const A=_.getStatus();if(Pe(Gn,`RPC '${e}' ${u} failed with status:`,A,"response text:",_.getResponseText()),A>0){let j=_.getResponseJson();Array.isArray(j)&&(j=j[0]);const I=j?.error;if(I&&I.status&&I.message){const z=(function($){const Y=$.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(Y)>=0?Y:pe.UNKNOWN})(I.status);y(new Ne(z,I.message))}else y(new Ne(pe.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new Ne(pe.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{l_:e,streamId:u,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{Pe(Gn,`RPC '${e}' ${u} completed.`)}}));const x=JSON.stringify(a);Pe(Gn,`RPC '${e}' ${u} sending request:`,a),_.send(n,"POST",x,i,15)}))}T_(e,n,i){const a=Wy(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=GS(),p=qS(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,i),y.encodeInitMessageHeaders=!0;const x=c.join("");Pe(Gn,`Creating RPC '${e}' stream ${a}: ${x}`,y);const T=u.createWebChannel(x,y);this.I_(T);let A=!1,j=!1;const I=new kO({Yo:V=>{j?Pe(Gn,`Not sending because RPC '${e}' stream ${a} is closed:`,V):(A||(Pe(Gn,`Opening RPC '${e}' stream ${a} transport.`),T.open(),A=!0),Pe(Gn,`RPC '${e}' stream ${a} sending:`,V),T.send(V))},Zo:()=>T.close()}),z=(V,$,Y)=>{V.listen($,(X=>{try{Y(X)}catch(ve){setTimeout((()=>{throw ve}),0)}}))};return z(T,gh.EventType.OPEN,(()=>{j||(Pe(Gn,`RPC '${e}' stream ${a} transport opened.`),I.o_())})),z(T,gh.EventType.CLOSE,(()=>{j||(j=!0,Pe(Gn,`RPC '${e}' stream ${a} transport closed`),I.a_(),this.E_(T))})),z(T,gh.EventType.ERROR,(V=>{j||(j=!0,Hc(Gn,`RPC '${e}' stream ${a} transport errored. Name:`,V.name,"Message:",V.message),I.a_(new Ne(pe.UNAVAILABLE,"The operation could not be completed")))})),z(T,gh.EventType.MESSAGE,(V=>{if(!j){const $=V.data[0];_t(!!$,16349);const Y=$,X=Y?.error||Y[0]?.error;if(X){Pe(Gn,`RPC '${e}' stream ${a} received error:`,X);const ve=X.status;let he=(function(O){const U=on[O];if(U!==void 0)return N2(U)})(ve),we=X.message;he===void 0&&(he=pe.INTERNAL,we="Unknown error status: "+ve+" with message "+X.message),j=!0,I.a_(new Ne(he,we)),T.close()}else Pe(Gn,`RPC '${e}' stream ${a} received:`,$),I.u_($)}})),z(p,HS.STAT_EVENT,(V=>{V.stat===Ly.PROXY?Pe(Gn,`RPC '${e}' stream ${a} detected buffering proxy`):V.stat===Ly.NOPROXY&&Pe(Gn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ny(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(t){return new FM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,n,i=1e3,a=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=a,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&Pe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="PersistentStream";class F2{constructor(e,n,i,a,c,u,p,y){this.Mi=e,this.S_=i,this.b_=a,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new z2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===pe.RESOURCE_EXHAUSTED?(pa(n.toString()),pa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new Ne(pe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Pe(IT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Pe(IT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class UO extends F2{constructor(e,n,i,a,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,u),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=GM(this.serializer,e),i=(function(c){if(!("targetChange"in c))return $e.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?$e.min():u.readTime?wr(u.readTime):$e.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=Gy(this.serializer),n.addTarget=(function(c,u){let p;const y=u.target;if(p=Uy(y)?{documents:KM(c,y)}:{query:$M(c,y).ft},p.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){p.resumeToken=P2(c,u.resumeToken);const _=Fy(c,u.expectedCount);_!==null&&(p.expectedCount=_)}else if(u.snapshotVersion.compareTo($e.min())>0){p.readTime=pm(c,u.snapshotVersion.toTimestamp());const _=Fy(c,u.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const i=XM(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=Gy(this.serializer),n.removeTarget=e,this.q_(n)}}class BO extends F2{constructor(e,n,i,a,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,u),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return _t(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_t(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_t(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=WM(e.writeResults,e.commitTime),i=wr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Gy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>ZM(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{}class FO extends zO{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Ne(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Go(e,Hy(n,i),a,c,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ne(pe.UNKNOWN,c.toString())}))}Ho(e,n,i,a,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,p])=>this.connection.Ho(e,Hy(n,i),a,u,p,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ne(pe.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class HO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pa(n),this.aa=!1):Pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il="RemoteStore";class qO{constructor(e,n,i,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{Ml(this)&&(Pe(Il,"Restarting streams for network reachability change."),await(async function(y){const _=Ye(y);_.Ea.add(4),await od(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Fm(_)})(this))}))})),this.Ra=new HO(i,a)}}async function Fm(t){if(Ml(t))for(const e of t.da)await e(!0)}async function od(t){for(const e of t.da)await e(!1)}function H2(t,e){const n=Ye(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),dv(n)?hv(n):cu(n).O_()&&uv(n,e))}function cv(t,e){const n=Ye(t),i=cu(n);n.Ia.delete(e),i.O_()&&q2(n,e),n.Ia.size===0&&(i.O_()?i.L_():Ml(n)&&n.Ra.set("Unknown"))}function uv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}cu(t).Y_(e)}function q2(t,e){t.Va.Ue(e),cu(t).Z_(e)}function hv(t){t.Va=new VM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),cu(t).start(),t.Ra.ua()}function dv(t){return Ml(t)&&!cu(t).x_()&&t.Ia.size>0}function Ml(t){return Ye(t).Ea.size===0}function G2(t){t.Va=void 0}async function GO(t){t.Ra.set("Online")}async function ZO(t){t.Ia.forEach(((e,n)=>{uv(t,e)}))}async function WO(t,e){G2(t),dv(t)?(t.Ra.ha(e),hv(t)):t.Ra.set("Unknown")}async function KO(t,e,n){if(t.Ra.set("Online"),e instanceof R2&&e.state===2&&e.cause)try{await(async function(a,c){const u=c.cause;for(const p of c.targetIds)a.Ia.has(p)&&(await a.remoteSyncer.rejectListen(p,u),a.Ia.delete(p),a.Va.removeTarget(p))})(t,e)}catch(i){Pe(Il,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ym(t,i)}else if(e instanceof Gf?t.Va.Ze(e):e instanceof C2?t.Va.st(e):t.Va.tt(e),!n.isEqual($e.min()))try{const i=await B2(t.localStore);n.compareTo(i)>=0&&await(function(c,u){const p=c.Va.Tt(u);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const x=c.Ia.get(_);x&&c.Ia.set(_,x.withResumeToken(y.resumeToken,u))}})),p.targetMismatches.forEach(((y,_)=>{const x=c.Ia.get(y);if(!x)return;c.Ia.set(y,x.withResumeToken(Un.EMPTY_BYTE_STRING,x.snapshotVersion)),q2(c,y);const T=new _o(x.target,y,_,x.sequenceNumber);uv(c,T)})),c.remoteSyncer.applyRemoteEvent(p)})(t,n)}catch(i){Pe(Il,"Failed to raise snapshot:",i),await ym(t,i)}}async function ym(t,e,n){if(!ou(e))throw e;t.Ea.add(1),await od(t),t.Ra.set("Offline"),n||(n=()=>B2(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Pe(Il,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Fm(t)}))}function Z2(t,e){return e().catch((n=>ym(t,n,e)))}async function Hm(t){const e=Ye(t),n=jo(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:K0;for(;$O(e);)try{const a=await PO(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,YO(e,a)}catch(a){await ym(e,a)}W2(e)&&K2(e)}function $O(t){return Ml(t)&&t.Ta.length<10}function YO(t,e){t.Ta.push(e);const n=jo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function W2(t){return Ml(t)&&!jo(t).x_()&&t.Ta.length>0}function K2(t){jo(t).start()}async function XO(t){jo(t).ra()}async function QO(t){const e=jo(t);for(const n of t.Ta)e.ea(n.mutations)}async function JO(t,e,n){const i=t.Ta.shift(),a=nv.from(i,e,n);await Z2(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Hm(t)}async function ek(t,e){e&&jo(t).X_&&await(async function(i,a){if((function(u){return MM(u)&&u!==pe.ABORTED})(a.code)){const c=i.Ta.shift();jo(i).B_(),await Z2(i,(()=>i.remoteSyncer.rejectFailedWrite(c.batchId,a))),await Hm(i)}})(t,e),W2(t)&&K2(t)}async function DT(t,e){const n=Ye(t);n.asyncQueue.verifyOperationInProgress(),Pe(Il,"RemoteStore received new credentials");const i=Ml(n);n.Ea.add(3),await od(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Fm(n)}async function tk(t,e){const n=Ye(t);e?(n.Ea.delete(2),await Fm(n)):e||(n.Ea.add(2),await od(n),n.Ra.set("Unknown"))}function cu(t){return t.ma||(t.ma=(function(n,i,a){const c=Ye(n);return c.sa(),new UO(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)})(t.datastore,t.asyncQueue,{Xo:GO.bind(null,t),t_:ZO.bind(null,t),r_:WO.bind(null,t),H_:KO.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),dv(t)?hv(t):t.Ra.set("Unknown")):(await t.ma.stop(),G2(t))}))),t.ma}function jo(t){return t.fa||(t.fa=(function(n,i,a){const c=Ye(n);return c.sa(),new BO(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:XO.bind(null,t),r_:ek.bind(null,t),ta:QO.bind(null,t),na:JO.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Hm(t)):(await t.fa.stop(),t.Ta.length>0&&(Pe(Il,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n,i,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=c,this.deferred=new ha,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,c){const u=Date.now()+i,p=new fv(e,n,u,a,c);return p.start(i),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mv(t,e){if(pa("AsyncQueue",`${e}: ${t}`),ou(t))return new Ne(pe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{static emptySet(e){return new Vc(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ve.comparator(n.key,i.key):(n,i)=>Ve.comparator(n.key,i.key),this.keyedMap=yh(),this.sortedSet=new Zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=i.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Vc;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(){this.ga=new Zt(Ve.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ge(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class $c{constructor(e,n,i,a,c,u,p,y,_){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,n,i,a,c){const u=[];return n.forEach((p=>{u.push({type:0,doc:p})})),new $c(e,n,Vc.emptySet(n),u,i,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Om(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ik{constructor(){this.queries=MT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Ye(n),c=a.queries;a.queries=MT(),c.forEach(((u,p)=>{for(const y of p.Sa)y.onError(i)}))})(this,new Ne(pe.ABORTED,"Firestore shutting down"))}}function MT(){return new Ll((t=>f2(t)),Om)}async function $2(t,e){const n=Ye(t);let i=3;const a=e.query;let c=n.queries.get(a);c?!c.ba()&&e.Da()&&(i=2):(c=new nk,i=e.Da()?0:1);try{switch(i){case 0:c.wa=await n.onListen(a,!0);break;case 1:c.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const p=mv(u,`Initialization of query '${Ac(e.query)}' failed`);return void e.onError(p)}n.queries.set(a,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&pv(n)}async function Y2(t,e){const n=Ye(t),i=e.query;let a=3;const c=n.queries.get(i);if(c){const u=c.Sa.indexOf(e);u>=0&&(c.Sa.splice(u,1),c.Sa.length===0?a=e.Da()?0:1:!c.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function sk(t,e){const n=Ye(t);let i=!1;for(const a of e){const c=a.query,u=n.queries.get(c);if(u){for(const p of u.Sa)p.Fa(a)&&(i=!0);u.wa=a}}i&&pv(n)}function rk(t,e,n){const i=Ye(t),a=i.queries.get(e);if(a)for(const c of a.Sa)c.onError(n);i.queries.delete(e)}function pv(t){t.Ca.forEach((e=>{e.next()}))}var Ky,OT;(OT=Ky||(Ky={})).Ma="default",OT.Cache="cache";class X2{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new $c(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=$c.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ky.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.key=e}}class J2{constructor(e){this.key=e}}class ak{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ut(),this.mutatedKeys=ut(),this.eu=m2(e),this.tu=new Vc(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new LT,a=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,u=a,p=!1;const y=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,_=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((x,T)=>{const A=a.get(x),j=km(this.query,T)?T:null,I=!!A&&this.mutatedKeys.has(A.key),z=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let V=!1;A&&j?A.data.isEqual(j.data)?I!==z&&(i.track({type:3,doc:j}),V=!0):this.su(A,j)||(i.track({type:2,doc:j}),V=!0,(y&&this.eu(j,y)>0||_&&this.eu(j,_)<0)&&(p=!0)):!A&&j?(i.track({type:0,doc:j}),V=!0):A&&!j&&(i.track({type:1,doc:A}),V=!0,(y||_)&&(p=!0)),V&&(j?(u=u.add(j),c=z?c.add(x):c.delete(x)):(u=u.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const x=this.query.limitType==="F"?u.last():u.first();u=u.delete(x.key),c=c.delete(x.key),i.track({type:1,doc:x})}return{tu:u,iu:i,Cs:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((x,T)=>(function(j,I){const z=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{Rt:V})}};return z(j)-z(I)})(x.type,T.type)||this.eu(x.doc,T.doc))),this.ou(i),a=a??!1;const p=n&&!a?this._u():[],y=this.Xa.size===0&&this.current&&!a?1:0,_=y!==this.Za;return this.Za=y,u.length!==0||_?{snapshot:new $c(this.query,e.tu,c,u,e.mutatedKeys,y===0,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new LT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ut(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new J2(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new Q2(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=ut();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return $c.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const gv="SyncEngine";class ok{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class lk{constructor(e){this.key=e,this.hu=!1}}class ck{constructor(e,n,i,a,c,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ll((p=>f2(p)),Om),this.Iu=new Map,this.Eu=new Set,this.du=new Zt(Ve.comparator),this.Au=new Map,this.Ru=new rv,this.Vu={},this.mu=new Map,this.fu=Kc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uk(t,e,n=!0){const i=rA(t);let a;const c=i.Tu.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.lu()):a=await eA(i,e,n,!0),a}async function hk(t,e){const n=rA(t);await eA(n,e,!0,!1)}async function eA(t,e,n,i){const a=await jO(t.localStore,br(e)),c=a.targetId,u=t.sharedClientState.addLocalQueryTarget(c,n);let p;return i&&(p=await dk(t,e,c,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&H2(t.remoteStore,a),p}async function dk(t,e,n,i,a){t.pu=(T,A,j)=>(async function(z,V,$,Y){let X=V.view.ru($);X.Cs&&(X=await CT(z.localStore,V.query,!1).then((({documents:B})=>V.view.ru(B,X))));const ve=Y&&Y.targetChanges.get(V.targetId),he=Y&&Y.targetMismatches.get(V.targetId)!=null,we=V.view.applyChanges(X,z.isPrimaryClient,ve,he);return VT(z,V.targetId,we.au),we.snapshot})(t,T,A,j);const c=await CT(t.localStore,e,!0),u=new ak(e,c.Qs),p=u.ru(c.documents),y=ad.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),_=u.applyChanges(p,t.isPrimaryClient,y);VT(t,n,_.au);const x=new ok(e,n,u);return t.Tu.set(e,x),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),_.snapshot}async function fk(t,e,n){const i=Ye(t),a=i.Tu.get(e),c=i.Iu.get(a.targetId);if(c.length>1)return i.Iu.set(a.targetId,c.filter((u=>!Om(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Zy(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&cv(i.remoteStore,a.targetId),$y(i,a.targetId)})).catch(au)):($y(i,a.targetId),await Zy(i.localStore,a.targetId,!0))}async function mk(t,e){const n=Ye(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),cv(n.remoteStore,i.targetId))}async function pk(t,e,n){const i=wk(t);try{const a=await(function(u,p){const y=Ye(u),_=Ct.now(),x=p.reduce(((j,I)=>j.add(I.key)),ut());let T,A;return y.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let I=ga(),z=ut();return y.Ns.getEntries(j,x).next((V=>{I=V,I.forEach((($,Y)=>{Y.isValidDocument()||(z=z.add($))}))})).next((()=>y.localDocuments.getOverlayedDocuments(j,I))).next((V=>{T=V;const $=[];for(const Y of p){const X=PM(Y,T.get(Y.key).overlayedDocument);X!=null&&$.push(new Vo(Y.key,X,r2(X.value.mapValue),Zs.exists(!0)))}return y.mutationQueue.addMutationBatch(j,_,$,p)})).next((V=>{A=V;const $=V.applyToLocalDocumentSet(T,z);return y.documentOverlayCache.saveOverlays(j,V.batchId,$)}))})).then((()=>({batchId:A.batchId,changes:g2(T)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(u,p,y){let _=u.Vu[u.currentUser.toKey()];_||(_=new Zt(ct)),_=_.insert(p,y),u.Vu[u.currentUser.toKey()]=_})(i,a.batchId,n),await ld(i,a.changes),await Hm(i.remoteStore)}catch(a){const c=mv(a,"Failed to persist write");n.reject(c)}}async function tA(t,e){const n=Ye(t);try{const i=await CO(n.localStore,e);e.targetChanges.forEach(((a,c)=>{const u=n.Au.get(c);u&&(_t(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?_t(u.hu,14607):a.removedDocuments.size>0&&(_t(u.hu,42227),u.hu=!1))})),await ld(n,i,e)}catch(i){await au(i)}}function kT(t,e,n){const i=Ye(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((c,u)=>{const p=u.view.va(e);p.snapshot&&a.push(p.snapshot)})),(function(u,p){const y=Ye(u);y.onlineState=p;let _=!1;y.queries.forEach(((x,T)=>{for(const A of T.Sa)A.va(p)&&(_=!0)})),_&&pv(y)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function gk(t,e,n){const i=Ye(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),c=a&&a.key;if(c){let u=new Zt(Ve.comparator);u=u.insert(c,Kn.newNoDocument(c,$e.min()));const p=ut().add(c),y=new Bm($e.min(),new Map,new Zt(ct),u,p);await tA(i,y),i.du=i.du.remove(c),i.Au.delete(e),yv(i)}else await Zy(i.localStore,e,!1).then((()=>$y(i,e,n))).catch(au)}async function yk(t,e){const n=Ye(t),i=e.batch.batchId;try{const a=await NO(n.localStore,e);iA(n,i,null),nA(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await ld(n,a)}catch(a){await au(a)}}async function vk(t,e,n){const i=Ye(t);try{const a=await(function(u,p){const y=Ye(u);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let x;return y.mutationQueue.lookupMutationBatch(_,p).next((T=>(_t(T!==null,37113),x=T.keys(),y.mutationQueue.removeMutationBatch(_,T)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,x,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,x))).next((()=>y.localDocuments.getDocuments(_,x)))}))})(i.localStore,e);iA(i,e,n),nA(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await ld(i,a)}catch(a){await au(a)}}function nA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function iA(t,e,n){const i=Ye(t);let a=i.Vu[i.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function $y(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||sA(t,i)}))}function sA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(cv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),yv(t))}function VT(t,e,n){for(const i of n)i instanceof Q2?(t.Ru.addReference(i.key,e),_k(t,i)):i instanceof J2?(Pe(gv,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||sA(t,i.key)):Ge(19791,{wu:i})}function _k(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(Pe(gv,"New document in limbo: "+n),t.Eu.add(i),yv(t))}function yv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ve(jt.fromString(e)),i=t.fu.next();t.Au.set(i,new lk(n)),t.du=t.du.insert(n,i),H2(t.remoteStore,new _o(br(J0(n.path)),i,"TargetPurposeLimboResolution",Dm.ce))}}async function ld(t,e,n){const i=Ye(t),a=[],c=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((p,y)=>{u.push(i.pu(y,e,n).then((_=>{if((_||n)&&i.isPrimaryClient){const x=_?!_.fromCache:n?.targetChanges.get(y.targetId)?.current;i.sharedClientState.updateQueryState(y.targetId,x?"current":"not-current")}if(_){a.push(_);const x=ov.As(y.targetId,_);c.push(x)}})))})),await Promise.all(u),i.Pu.H_(a),await(async function(y,_){const x=Ye(y);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ye.forEach(_,(A=>ye.forEach(A.Es,(j=>x.persistence.referenceDelegate.addReference(T,A.targetId,j))).next((()=>ye.forEach(A.ds,(j=>x.persistence.referenceDelegate.removeReference(T,A.targetId,j)))))))))}catch(T){if(!ou(T))throw T;Pe(lv,"Failed to update sequence numbers: "+T)}for(const T of _){const A=T.targetId;if(!T.fromCache){const j=x.Ms.get(A),I=j.snapshotVersion,z=j.withLastLimboFreeSnapshotVersion(I);x.Ms=x.Ms.insert(A,z)}}})(i.localStore,c))}async function xk(t,e){const n=Ye(t);if(!n.currentUser.isEqual(e)){Pe(gv,"User change. New user:",e.toKey());const i=await U2(n.localStore,e);n.currentUser=e,(function(c,u){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new Ne(pe.CANCELLED,u))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await ld(n,i.Ls)}}function bk(t,e){const n=Ye(t),i=n.Au.get(e);if(i&&i.hu)return ut().add(i.key);{let a=ut();const c=n.Iu.get(e);if(!c)return a;for(const u of c){const p=n.Tu.get(u);a=a.unionWith(p.view.nu)}return a}}function rA(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gk.bind(null,e),e.Pu.H_=sk.bind(null,e.eventManager),e.Pu.yu=rk.bind(null,e.eventManager),e}function wk(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vk.bind(null,e),e}class vm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return AO(this.persistence,new TO,e.initialUser,this.serializer)}Cu(e){return new V2(av.mi,this.serializer)}Du(e){return new DO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vm.provider={build:()=>new vm};class Tk extends vm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){_t(this.persistence.referenceDelegate instanceof gm,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new lO(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ci.withCacheSize(this.cacheSizeBytes):Ci.DEFAULT;return new V2((i=>gm.mi(i,n)),this.serializer)}}class Yy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>kT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=xk.bind(null,this.syncEngine),await tk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ik})()}createDatastore(e){const n=zm(e.databaseInfo.databaseId),i=(function(c){return new VO(c)})(e.databaseInfo);return(function(c,u,p,y){return new FO(c,u,p,y)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,c,u,p){return new qO(i,a,c,u,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>kT(this.syncEngine,n,0)),(function(){return jT.v()?new jT:new LO})())}createSyncEngine(e,n){return(function(a,c,u,p,y,_,x){const T=new ck(a,c,u,p,y,_);return x&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Ye(n);Pe(Il,"RemoteStore shutting down."),i.Ea.add(5),await od(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Yy.provider={build:()=>new Yy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):pa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io="FirestoreClient";class Ek{constructor(e,n,i,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=Wn.UNAUTHENTICATED,this.clientId=W0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,(async u=>{Pe(Io,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(Pe(Io,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ha;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=mv(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function iy(t,e){t.asyncQueue.verifyOperationInProgress(),Pe(Io,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await U2(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function UT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Sk(t);Pe(Io,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>DT(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>DT(e.remoteStore,a))),t._onlineComponents=e}async function Sk(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Pe(Io,"Using user provided OfflineComponentProvider");try{await iy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===pe.FAILED_PRECONDITION||a.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Hc("Error using user provided cache. Falling back to memory cache: "+n),await iy(t,new vm)}}else Pe(Io,"Using default OfflineComponentProvider"),await iy(t,new Tk(void 0));return t._offlineComponents}async function oA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Pe(Io,"Using user provided OnlineComponentProvider"),await UT(t,t._uninitializedComponentsProvider._online)):(Pe(Io,"Using default OnlineComponentProvider"),await UT(t,new Yy))),t._onlineComponents}function Ak(t){return oA(t).then((e=>e.syncEngine))}async function lA(t){const e=await oA(t),n=e.eventManager;return n.onListen=uk.bind(null,e.syncEngine),n.onUnlisten=fk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=mk.bind(null,e.syncEngine),n}function Nk(t,e,n={}){const i=new ha;return t.asyncQueue.enqueueAndForget((async()=>(function(c,u,p,y,_){const x=new aA({next:A=>{x.Nu(),u.enqueueAndForget((()=>Y2(c,T)));const j=A.docs.has(p);!j&&A.fromCache?_.reject(new Ne(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&A.fromCache&&y&&y.source==="server"?_.reject(new Ne(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(A)},error:A=>_.reject(A)}),T=new X2(J0(p.path),x,{includeMetadataChanges:!0,qa:!0});return $2(c,T)})(await lA(t),t.asyncQueue,e,n,i))),i.promise}function Ck(t,e,n={}){const i=new ha;return t.asyncQueue.enqueueAndForget((async()=>(function(c,u,p,y,_){const x=new aA({next:A=>{x.Nu(),u.enqueueAndForget((()=>Y2(c,T))),A.fromCache&&y.source==="server"?_.reject(new Ne(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(A)},error:A=>_.reject(A)}),T=new X2(p,x,{includeMetadataChanges:!0,qa:!0});return $2(c,T)})(await lA(t),t.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="firestore.googleapis.com",zT=!0;class FT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uA,this.ssl=zT}else this.host=e.host,this.ssl=e.ssl??zT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=k2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aO)throw new Ne(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cA(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ne(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ne(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ne(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qm{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new ML;switch(i.type){case"firstParty":return new UL(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ne(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=BT.get(n);i&&(Pe("ComponentProvider","Removing Datastore"),BT.delete(n),i.terminate())})(this),Promise.resolve()}}function Rk(t,e,n,i={}){t=Nr(t,qm);const a=nu(e),c=t._getSettings(),u={...c,emulatorOptions:t._getEmulatorOptions()},p=`${e}:${n}`;a&&(YE(`https://${p}`),XE("Firestore",!0)),c.host!==uA&&c.host!==p&&Hc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:a,emulatorOptions:i};if(!Ao(y,u)&&(t._setSettings(y),i.mockUserToken)){let _,x;if(typeof i.mockUserToken=="string")_=i.mockUserToken,x=Wn.MOCK_USER;else{_=Fj(i.mockUserToken,t._app?.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new Ne(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Wn(T)}t._authCredentials=new OL(new WS(_,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ol(this.firestore,e,this._query)}}class sn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Eo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}toJSON(){return{type:sn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(sd(n,sn._jsonSchema))return new sn(e,i||null,new Ve(jt.fromString(n.referencePath)))}}sn._jsonSchemaVersion="firestore/documentReference/1.0",sn._jsonSchema={type:un("string",sn._jsonSchemaVersion),referencePath:un("string")};class Eo extends Ol{constructor(e,n,i){super(e,n,J0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new Ve(e))}withConverter(e){return new Eo(this.firestore,e,this._path)}}function Tl(t,e,...n){if(t=vn(t),KS("collection","path",e),t instanceof qm){const i=jt.fromString(e,...n);return tT(i),new Eo(t,null,i)}{if(!(t instanceof sn||t instanceof Eo))throw new Ne(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(jt.fromString(e,...n));return tT(i),new Eo(t.firestore,null,i)}}function So(t,e,...n){if(t=vn(t),arguments.length===1&&(e=W0.newId()),KS("doc","path",e),t instanceof qm){const i=jt.fromString(e,...n);return eT(i),new sn(t,null,new Ve(i))}{if(!(t instanceof sn||t instanceof Eo))throw new Ne(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(jt.fromString(e,...n));return eT(i),new sn(t.firestore,t instanceof Eo?t.converter:null,new Ve(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="AsyncQueue";class qT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new z2(this,"async_queue_retry"),this._c=()=>{const i=ny();i&&Pe(HT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=ny();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ny();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ha;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ou(e))throw e;Pe(HT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,pa("INTERNAL UNHANDLED ERROR: ",GT(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=fv.createAndSchedule(this,e,n,i,(c=>this.hc(c)));return this.tc.push(a),a}uc(){this.nc&&Ge(47125,{Pc:GT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function GT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class uu extends qm{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new qT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qT(e),this._firestoreClient=void 0,await e}}}function hA(t,e){const n=typeof t=="object"?t:tS(),i=typeof t=="string"?t:dm,a=k0(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const c=Bj("firestore");c&&Rk(a,...c)}return a}function vv(t){if(t._terminated)throw new Ne(pe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Pk(t),t._firestoreClient}function Pk(t){const e=t._freezeSettings(),n=(function(a,c,u,p){return new nM(a,c,u,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,cA(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Ek(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ws(Un.fromBase64String(e))}catch(n){throw new Ne(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ws(Un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ws._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(sd(e,ws._jsonSchema))return ws.fromBase64String(e.bytes)}}ws._jsonSchemaVersion="firestore/bytes/1.0",ws._jsonSchema={type:un("string",ws._jsonSchemaVersion),bytes:un("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ne(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ne(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ne(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Tr._jsonSchemaVersion}}static fromJSON(e){if(sd(e,Tr._jsonSchema))return new Tr(e.latitude,e.longitude)}}Tr._jsonSchemaVersion="firestore/geoPoint/1.0",Tr._jsonSchema={type:un("string",Tr._jsonSchemaVersion),latitude:un("number"),longitude:un("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==a[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Er._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(sd(e,Er._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Er(e.vectorValues);throw new Ne(pe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Er._jsonSchemaVersion="firestore/vectorValue/1.0",Er._jsonSchema={type:un("string",Er._jsonSchemaVersion),vectorValues:un("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=/^__.*__$/;class Ik{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Vo(e,this.data,this.fieldMask,n,this.fieldTransforms):new rd(e,this.data,n,this.fieldTransforms)}}class dA{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Vo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge(40011,{Ac:t})}}class Zm{constructor(e,n,i,a,c,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Zm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return _m(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(fA(this.Ac)&&jk.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Dk{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||zm(e)}Cc(e,n,i,a=!1){return new Zm({Ac:e,methodName:n,Dc:i,path:Vn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wm(t){const e=t._freezeSettings(),n=zm(t._databaseId);return new Dk(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mA(t,e,n,i,a,c={}){const u=t.Cc(c.merge||c.mergeFields?2:0,e,n,a);wv("Data must be an object, but it was:",u,i);const p=pA(i,u);let y,_;if(c.merge)y=new Ji(u.fieldMask),_=u.fieldTransforms;else if(c.mergeFields){const x=[];for(const T of c.mergeFields){const A=Xy(e,T,n);if(!u.contains(A))throw new Ne(pe.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);yA(x,A)||x.push(A)}y=new Ji(x),_=u.fieldTransforms.filter((T=>y.covers(T.field)))}else y=null,_=u.fieldTransforms;return new Ik(new Ri(p),y,_)}class Km extends hu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Km}}function Lk(t,e,n){return new Zm({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class _v extends hu{_toFieldTransform(e){return new tv(e.path,new zh)}isEqual(e){return e instanceof _v}}class xv extends hu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=Lk(this,e,!0),i=this.vc.map((c=>du(c,n))),a=new Wc(i);return new tv(e.path,a)}isEqual(e){return e instanceof xv&&Ao(this.vc,e.vc)}}class bv extends hu{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Hh(e.serializer,_2(e.serializer,this.Fc));return new tv(e.path,n)}isEqual(e){return e instanceof bv&&this.Fc===e.Fc}}function Mk(t,e,n,i){const a=t.Cc(1,e,n);wv("Data must be an object, but it was:",a,i);const c=[],u=Ri.empty();ko(i,((y,_)=>{const x=Tv(e,y,n);_=vn(_);const T=a.yc(x);if(_ instanceof Km)c.push(x);else{const A=du(_,T);A!=null&&(c.push(x),u.set(x,A))}}));const p=new Ji(c);return new dA(u,p,a.fieldTransforms)}function Ok(t,e,n,i,a,c){const u=t.Cc(1,e,n),p=[Xy(e,i,n)],y=[a];if(c.length%2!=0)throw new Ne(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<c.length;A+=2)p.push(Xy(e,c[A])),y.push(c[A+1]);const _=[],x=Ri.empty();for(let A=p.length-1;A>=0;--A)if(!yA(_,p[A])){const j=p[A];let I=y[A];I=vn(I);const z=u.yc(j);if(I instanceof Km)_.push(j);else{const V=du(I,z);V!=null&&(_.push(j),x.set(j,V))}}const T=new Ji(_);return new dA(x,T,u.fieldTransforms)}function kk(t,e,n,i=!1){return du(n,t.Cc(i?4:3,e))}function du(t,e){if(gA(t=vn(t)))return wv("Unsupported field value:",e,t),pA(t,e);if(t instanceof hu)return(function(i,a){if(!fA(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(a);c&&a.fieldTransforms.push(c)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const c=[];let u=0;for(const p of i){let y=du(p,a.wc(u));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),u++}return{arrayValue:{values:c}}})(t,e)}return(function(i,a){if((i=vn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return _2(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=Ct.fromDate(i);return{timestampValue:pm(a.serializer,c)}}if(i instanceof Ct){const c=new Ct(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:pm(a.serializer,c)}}if(i instanceof Tr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ws)return{bytesValue:P2(a.serializer,i._byteString)};if(i instanceof sn){const c=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(c))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:sv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Er)return(function(u,p){return{mapValue:{fields:{[i2]:{stringValue:s2},[fm]:{arrayValue:{values:u.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return ev(p.serializer,_)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${Im(i)}`)})(t,e)}function pA(t,e){const n={};return XS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ko(t,((i,a)=>{const c=du(a,e.mc(i));c!=null&&(n[i]=c)})),{mapValue:{fields:n}}}function gA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ct||t instanceof Tr||t instanceof ws||t instanceof sn||t instanceof hu||t instanceof Er)}function wv(t,e,n){if(!gA(n)||!$S(n)){const i=Im(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function Xy(t,e,n){if((e=vn(e))instanceof Gm)return e._internalPath;if(typeof e=="string")return Tv(t,e);throw _m("Field path arguments must be of type string or ",t,!1,void 0,n)}const Vk=new RegExp("[~\\*/\\[\\]]");function Tv(t,e,n){if(e.search(Vk)>=0)throw _m(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gm(...e.split("."))._internalPath}catch{throw _m(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _m(t,e,n,i,a){const c=i&&!i.isEmpty(),u=a!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||u)&&(y+=" (found",c&&(y+=` in field ${i}`),u&&(y+=` in document ${a}`),y+=")"),new Ne(pe.INVALID_ARGUMENT,p+t+y)}function yA(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,n,i,a,c){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Uk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($m("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Uk extends vA{data(){return super.data()}}function $m(t,e){return typeof e=="string"?Tv(t,e):e instanceof Gm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ne(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ev{}class _A extends Ev{}function xA(t,e,...n){let i=[];e instanceof Ev&&i.push(e),i=i.concat(n),(function(c){const u=c.filter((y=>y instanceof Sv)).length,p=c.filter((y=>y instanceof Ym)).length;if(u>1||u>0&&p>0)throw new Ne(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class Ym extends _A{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Ym(e,n,i)}_apply(e){const n=this._parse(e);return bA(e._query,n),new Ol(e.firestore,e.converter,By(e._query,n))}_parse(e){const n=Wm(e.firestore);return(function(c,u,p,y,_,x,T){let A;if(_.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new Ne(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){WT(T,x);const I=[];for(const z of T)I.push(ZT(y,c,z));A={arrayValue:{values:I}}}else A=ZT(y,c,T)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||WT(T,x),A=kk(p,u,T,x==="in"||x==="not-in");return cn.create(_,x,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function zk(t,e,n){const i=e,a=$m("where",t);return Ym._create(a,i,n)}class Sv extends Ev{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Sv(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:$s.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,c){let u=a;const p=c.getFlattenedFilters();for(const y of p)bA(u,y),u=By(u,y)})(e._query,n),new Ol(e.firestore,e.converter,By(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Av extends _A{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Av(e,n)}_apply(e){const n=(function(a,c,u){if(a.startAt!==null)throw new Ne(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ne(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bh(c,u)})(e._query,this._field,this._direction);return new Ol(e.firestore,e.converter,(function(a,c){const u=a.explicitOrderBy.concat([c]);return new lu(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function Fk(t,e="asc"){const n=e,i=$m("orderBy",t);return Av._create(i,n)}function ZT(t,e,n){if(typeof(n=vn(n))=="string"){if(n==="")throw new Ne(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!d2(e)&&n.indexOf("/")!==-1)throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(jt.fromString(n));if(!Ve.isDocumentKey(i))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return cT(t,new Ve(i))}if(n instanceof sn)return cT(t,n._key);throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Im(n)}.`)}function WT(t,e){if(!Array.isArray(t)||t.length===0)throw new Ne(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bA(t,e){const n=(function(a,c){for(const u of a)for(const p of u.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ne(pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ne(pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Hk{convertValue(e,n="none"){switch(Po(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ro(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return ko(e,((a,c)=>{i[a]=this.convertValue(c,n)})),i}convertVectorValue(e){const n=e.fields?.[fm].arrayValue?.values?.map((i=>nn(i.doubleValue)));return new Er(n)}convertGeoPoint(e){return new Tr(nn(e.latitude),nn(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Mm(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(kh(e));default:return null}}convertTimestamp(e){const n=Co(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=jt.fromString(e);_t(O2(i),9688,{name:e});const a=new Vh(i.get(1),i.get(3)),c=new Ve(i.popFirst(5));return a.isEqual(n)||pa(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class _h{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class El extends vA{constructor(e,n,i,a,c,u){super(e,n,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field($m("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(pe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=El._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}El._jsonSchemaVersion="firestore/documentSnapshot/1.0",El._jsonSchema={type:un("string",El._jsonSchemaVersion),bundleSource:un("string","DocumentSnapshot"),bundleName:un("string"),bundle:un("string")};class Zf extends El{data(e={}){return super.data(e)}}class Uc{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new _h(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Zf(this._firestore,this._userDataWriter,i.key,i,new _h(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ne(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,c){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((p=>{const y=new Zf(a._firestore,a._userDataWriter,p.doc.key,p.doc,new _h(a._snapshot.mutatedKeys.has(p.doc.key),a._snapshot.fromCache),a.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Zf(a._firestore,a._userDataWriter,p.doc.key,p.doc,new _h(a._snapshot.mutatedKeys.has(p.doc.key),a._snapshot.fromCache),a.query.converter);let _=-1,x=-1;return p.type!==0&&(_=u.indexOf(p.doc.key),u=u.delete(p.doc.key)),p.type!==1&&(u=u.add(p.doc),x=u.indexOf(p.doc.key)),{type:qk(p.type),doc:y,oldIndex:_,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(pe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Uc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=W0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),i.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),a.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(t){t=Nr(t,sn);const e=Nr(t.firestore,uu);return Nk(vv(e),t._key).then((n=>Zk(e,t,n)))}Uc._jsonSchemaVersion="firestore/querySnapshot/1.0",Uc._jsonSchema={type:un("string",Uc._jsonSchemaVersion),bundleSource:un("string","QuerySnapshot"),bundleName:un("string"),bundle:un("string")};class TA extends Hk{constructor(e){super(),this.firestore=e}convertBytes(e){return new ws(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function Wf(t){t=Nr(t,Ol);const e=Nr(t.firestore,uu),n=vv(e),i=new TA(e);return Bk(t._query),Ck(n,t._query).then((a=>new Uc(e,i,t,a)))}function Gk(t,e,n){t=Nr(t,sn);const i=Nr(t.firestore,uu),a=wA(t.converter,e);return Cv(i,[mA(Wm(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Zs.none())])}function sy(t,e,n,...i){t=Nr(t,sn);const a=Nr(t.firestore,uu),c=Wm(a);let u;return u=typeof(e=vn(e))=="string"||e instanceof Gm?Ok(c,"updateDoc",t._key,e,n,i):Mk(c,"updateDoc",t._key,e),Cv(a,[u.toMutation(t._key,Zs.exists(!0))])}function Qy(t,e){const n=Nr(t.firestore,uu),i=So(t),a=wA(t.converter,e);return Cv(n,[mA(Wm(t.firestore),"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,Zs.exists(!1))]).then((()=>i))}function Cv(t,e){return(function(i,a){const c=new ha;return i.asyncQueue.enqueueAndForget((async()=>pk(await Ak(i),a,c))),c.promise})(vv(t),e)}function Zk(t,e,n){const i=n.docs.get(e._key),a=new TA(t);return new El(t,a,e._key,i,new _h(n.hasPendingWrites,n.fromCache),e.converter)}function Jy(){return new _v("serverTimestamp")}function KT(...t){return new xv("arrayUnion",t)}function $T(t){return new bv("increment",t)}(function(e,n=!0){(function(a){ru=a})(iu),zc(new Cl("firestore",((i,{instanceIdentifier:a,options:c})=>{const u=i.getProvider("app").getImmediate(),p=new uu(new kL(i.getProvider("auth-internal")),new BL(u,i.getProvider("app-check-internal")),(function(_,x){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new Ne(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vh(_.options.projectId,x)})(u,a),u);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),wo(Yw,Xw,e),wo(Yw,Xw,"esm2020")})();const Wk={apiKey:"AIzaSyD106Y2G0g9sVQBjjmXXRicLaQpSGIGA_Q",authDomain:"fruitbunch-f1f23.firebaseapp.com",projectId:"fruitbunch-f1f23",storageBucket:"fruitbunch-f1f23.firebasestorage.app",messagingSenderId:"794545150234",appId:"1:794545150234:web:69f9820a661e0750ce34a3",measurementId:"G-JNY3T9LHLW"},EA=eS(Wk),fu=US(EA),Qi=hA(EA),Kk=({children:t})=>{const e=Ss(),[n,i]=k.useState(null),[a,c]=k.useState(!0);return k.useEffect(()=>{const u=CS(fu,p=>{i(p),c(!1)});return()=>u()},[]),a?f.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):n?t:f.jsx(VE,{to:"/login",state:{from:e},replace:!0})},$k=({children:t})=>{const[e,n]=k.useState(null),[i,a]=k.useState(!0);return k.useEffect(()=>{const c=CS(fu,async u=>{if(!u){n(!1),a(!1);return}const p=So(Qi,"admins",u.uid),y=await Nv(p);n(y.exists()),a(!1)});return()=>c()},[]),i?f.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):e?t:f.jsx(VE,{to:"/",replace:!0})},SA=k.createContext(),Yk=()=>{const t=localStorage.getItem("cart");return t?JSON.parse(t):{items:[],total:0}},Xk=(t,e)=>{switch(e.type){case"ADD_TO_CART":const n=t.items.findIndex(u=>u.id===e.payload.id);if(n>=0){const u=[...t.items];return u[n].quantity+=1,{...t,items:u,total:t.total+e.payload.price}}return{...t,items:[...t.items,{...e.payload,quantity:1}],total:t.total+e.payload.price};case"REMOVE_FROM_CART":const i=t.items.find(u=>u.id===e.payload);return{...t,items:t.items.filter(u=>u.id!==e.payload),total:t.total-i.price*i.quantity};case"UPDATE_QUANTITY":const a=t.items.map(u=>u.id===e.payload.id?(e.payload.quantity-u.quantity,{...u,quantity:e.payload.quantity}):u),c=a.reduce((u,p)=>u+p.price*p.quantity,0);return{...t,items:a,total:c};case"CLEAR_CART":return{items:[],total:0};default:return t}},Qk=({children:t})=>{const[e,n]=k.useReducer(Xk,void 0,Yk);k.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);const i=p=>{n({type:"ADD_TO_CART",payload:p})},a=p=>{n({type:"REMOVE_FROM_CART",payload:p})},c=(p,y)=>{if(y<=0){a(p);return}n({type:"UPDATE_QUANTITY",payload:{id:p,quantity:y}})},u=()=>{n({type:"CLEAR_CART"})};return f.jsx(SA.Provider,{value:{cartItems:e.items,cartTotal:e.total,addToCart:i,removeFromCart:a,updateQuantity:c,clearCart:u},children:t})},Xm=()=>{const t=k.useContext(SA);if(!t)throw new Error("useCart must be used within a CartProvider");return t},Jk="/fruitbunch/assets/mainlogo-DCHUEAV1.png",e3=()=>{const[t,e]=k.useState(!1),{cartItems:n}=Xm(),[i,a]=k.useState(null);k.useEffect(()=>{const u=localStorage.getItem("user");u&&a(JSON.parse(u))},[]);const c=u=>`https://ui-avatars.com/api/?background=43A047&size=130&color=FFF&font-size=0.60&name=${u.charAt(0).toUpperCase()}`;return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"bg-green-800 text-white text-xs lg:text-md py-2",children:f.jsxs("div",{className:"container mx-auto px-4 flex flex-col md:flex-row justify-between items-center",children:[f.jsxs("div",{className:"flex flex-wrap justify-center gap-4 md:gap-6 mb-2 md:mb-0",children:[f.jsxs("span",{className:"flex items-center",children:[f.jsx("i",{className:"fa-solid fa-envelope mr-2"})," fruitbunch.tvm@gmail.com"]}),f.jsxs("span",{className:"flex items-center hidden md:block",children:[f.jsx("i",{className:"fa-solid fa-clock mr-2"})," MON-SAT: 7.30am - 6.00pm"]}),f.jsxs("span",{className:"flex items-center",children:[f.jsx("i",{className:"fa-solid fa-phone mr-2"})," +91 8807239379"]})]}),f.jsxs("div",{className:"flex space-x-4 hidden md:block",children:[f.jsx("a",{href:"#",className:"hover:text-green-200 transition",children:f.jsx("i",{className:"fa-brands fa-instagram"})}),f.jsx("a",{href:"#",className:"hover:text-green-200 transition",children:f.jsx("i",{className:"fa-brands fa-whatsapp"})})]})]})}),f.jsxs("nav",{className:"bg-white shadow-md sticky top-0 z-[9999]",children:[f.jsxs("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[f.jsx(et,{to:"/",className:"flex items-center",children:f.jsx("img",{src:Jk,alt:"Fruit Bunch",className:"h-14"})}),f.jsxs("div",{className:"hidden md:flex items-center space-x-5 lg:space-x-8 text-sm lg:text-md",children:[f.jsx(fh,{to:"/",className:({isActive:u})=>`font-medium transition ${u?"text-green-600":"text-gray-700 hover:text-green-600"}`,children:"Home"}),f.jsx(fh,{to:"/subscription",className:({isActive:u})=>`font-medium transition ${u?"text-green-600":"text-gray-700 hover:text-green-600"}`,children:"Fruit Bowl Subscription"}),f.jsx(fh,{to:"/corporate",className:({isActive:u})=>`font-medium transition ${u?"text-green-600":"text-gray-700 hover:text-green-600"}`,children:"Corporate Orders"}),f.jsx(fh,{to:"/about",className:({isActive:u})=>`font-medium transition ${u?"text-green-600":"text-gray-700 hover:text-green-600"}`,children:"About Us"}),f.jsx("div",{className:"flex items-center space-x-4",children:i?f.jsxs(f.Fragment,{children:[f.jsxs(et,{to:"/cart",className:"relative bg-green-100 hover:bg-green-200 text-green-700 px-4 py-2 rounded-md transition flex items-center",children:[f.jsx("i",{className:"fa-solid fa-cart-shopping mr-2"})," Cart",n.length>0&&f.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs",children:n.length})]}),f.jsx(et,{to:"/profile",className:"flex items-center",children:f.jsx("img",{src:c(i.name||"U"),alt:"User Avatar",className:"w-10 h-10 rounded-full"})})]}):f.jsx(et,{to:"/login",className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md transition",children:"Login"})})]}),f.jsx("button",{className:"md:hidden text-gray-700 focus:outline-none",onClick:()=>e(!t),children:f.jsx("i",{className:`fa-solid ${t?"fa-xmark":"fa-bars"} text-xl`})})]}),t&&f.jsx("div",{className:"md:hidden bg-white px-4 pb-4",children:f.jsxs("div",{className:"flex flex-col space-y-3",children:[f.jsx(et,{to:"/",onClick:()=>e(!1),className:"text-gray-700 hover:text-green-600 py-2 transition",children:"Home"}),f.jsx(et,{to:"/subscription",onClick:()=>e(!1),className:"text-gray-700 hover:text-green-600 py-2 transition",children:"Fruit Bowl Subscription"}),f.jsx(et,{to:"/corporate",onClick:()=>e(!1),className:"text-gray-700 hover:text-green-600 py-2 transition",children:"Corporate Orders"}),f.jsx(et,{to:"/about",onClick:()=>e(!1),className:"text-gray-700 hover:text-green-600 py-2 transition",children:"About Us"}),f.jsx("div",{className:"flex flex-col space-y-2 pt-2 border-t border-gray-200",children:i?f.jsxs(et,{to:"/cart",onClick:()=>e(!1),className:"relative bg-green-100 hover:bg-green-200 text-green-700 px-4 py-2 rounded-md text-center transition flex items-center justify-center",children:[f.jsx("i",{className:"fa-solid fa-cart-shopping mr-2"})," Cart",n.length>0&&f.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs",children:n.length})]}):f.jsx(et,{to:"/login",onClick:()=>e(!1),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md text-center transition",children:"Login"})})]})})]})]})},t3=()=>f.jsx("footer",{className:"bg-green-900 text-white py-12 px-5 md:px-10 text-xs sm:px-10 lg:text-sm",children:f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"quicklink",children:[f.jsx("h2",{className:"text-sm font-bold mb-4 lg:text-xl",children:"Quick Links"}),f.jsxs("div",{className:"flex flex-col space-y-2",children:[f.jsx(et,{to:"/",className:"hover:text-green-300 transition",children:"Home"}),f.jsx(et,{to:"/subscription",className:"hover:text-green-300 transition",children:"Fruit Bowl Subscription"}),f.jsx(et,{to:"/corporate",className:"hover:text-green-300 transition",children:"Corporate Orders"}),f.jsx(et,{to:"/about",className:"hover:text-green-300 transition",children:"About Us"}),f.jsx(et,{to:"/termsandconditions",className:"hover:text-green-300 transition",children:"Terms and Conditions"}),f.jsx(et,{to:"/privacypolicy",className:"hover:text-green-300 transition",children:"Privacy Policy"})]})]}),f.jsxs("div",{className:"footabout",children:[f.jsx("h2",{className:"text-sm font-bold mb-4 lg:text-xl",children:"Subscription Services"}),f.jsxs("div",{className:"flex flex-col space-y-2",children:[f.jsx("p",{children:"Fruit Bowl"}),f.jsx("p",{children:"Diet Platter"}),f.jsx("p",{children:"Salad Bowls"}),f.jsx("p",{children:"Fresh Juice"})]}),f.jsx("div",{className:"mt-4",children:f.jsx("b",{className:"text-green-300",children:"EAT FRESH. STAY HEALTHY. LIVE BETTER!"})})]}),f.jsxs("div",{className:"contact",children:[f.jsx("h2",{className:"text-sm font-bold mb-4 lg:text-xl",children:"Contact Us"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("i",{className:"fa-solid fa-phone w-5 mr-2"}),f.jsx("a",{href:"tel:+918807239379",className:"hover:underline",children:"+91 8807239379"})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("i",{className:"fa-solid fa-envelope w-5 mr-2"}),f.jsx("a",{href:"mailto:fruitbunch.tvm@gmail.com",className:"hover:underline",children:"fruitbunch.tvm@gmail.com"})]}),f.jsxs("div",{className:"flex items-start",children:[f.jsx("i",{className:"fa-solid fa-location-dot w-5 mr-2 mt-1"}),f.jsxs("span",{children:["No:59, Sarathambal nagar,",f.jsx("br",{})," Tiruvannamalai,",f.jsx("br",{})," Tamil Nadu 606601"]})]})]})]})]}),f.jsx("div",{className:"border-t border-green-800 mt-8 pt-8 text-center",children:f.jsxs("p",{children:["© ",new Date().getFullYear()," Fruit Bunch. All rights reserved."]})})]})}),n3="/fruitbunch/assets/home-1-DzAgSFnE.png",i3="/fruitbunch/assets/home-2-D3iDtu3z.png",s3="/fruitbunch/assets/backbowl1-CMZS9lr5.png",r3="/fruitbunch/assets/sixfruit-n1UQudVg.jpg",AA="/fruitbunch/assets/homeplan-hNcT9G7U.jpg",a3=()=>{const[t,e]=k.useState(0),n=[i3,n3,s3];return k.useEffect(()=>{const i=setInterval(()=>{e(a=>(a+1)%n.length)},4e3);return()=>clearInterval(i)},[]),k.useEffect(()=>{window.AOS&&window.AOS.init({duration:800,easing:"ease-in-out",once:!0})},[]),f.jsxs("div",{className:"overflow-hidden",children:[f.jsx("section",{className:"bg-gradient-to-r from-green-50 to-green-100 py-12 px-5 md:py-20 md:px-10 relative overflow-hidden",children:f.jsxs("div",{className:"container mx-auto px-4 flex flex-col md:flex-row items-center relative z-10",children:[f.jsxs("div",{className:"md:w-1/2 mb-8 md:mb-0 mr-4",children:[f.jsx("h1",{className:"text-3xl lg:text-5xl font-bold text-gray-800 mb-6","data-aos":"fade-up",children:"Fresh Fruit. No Fuss. Just Bunches of Goodness."}),f.jsx("p",{className:"text-base lg:text-lg text-gray-600 mb-8","data-aos":"fade-up","data-aos-delay":"200",children:"Fruit Bunch delivers clean, ready-to-eat fruit bowls straight to your doorstep. It's the simple, tasty, and healthy choice—every single day. Subscribe now and stay fresh, always."}),f.jsx(et,{to:"/subscription",className:"inline-block bg-green-600 hover:bg-green-700 text-white font-semibold px-6 py-3 rounded-lg transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-1","data-aos":"zoom-in","data-aos-delay":"400",children:"Enjoy fresh cut fruit daily"})]}),f.jsx("div",{className:"w-full md:w-1/2 flex justify-center",children:f.jsxs("div",{className:"relative w-full max-w-md h-[200px] md:h-[280px] lg:h-[400px] overflow-hidden rounded-lg shadow-xl","data-aos":"fade-left","data-aos-delay":"300",children:[n.map((i,a)=>f.jsx("img",{src:i,alt:"Fresh fruits",className:`absolute top-0 left-0 w-full h-full object-cover transition-opacity duration-1000 ease-in-out ${t===a?"opacity-100":"opacity-0"}`},a)),f.jsx("div",{className:"absolute top-4 right-4 bg-white px-3 py-1 rounded-full shadow-md text-sm sm:text-base animate-bounce",children:f.jsx("span",{className:"text-green-600 font-bold",children:"🍎 Fresh!"})})]})})]})}),f.jsx("section",{className:"py-16 px-5 bg-white",children:f.jsx("div",{className:"container mx-auto px-4",children:f.jsxs("div",{className:"flex flex-col md:flex-row items-center md:px-10",children:[f.jsx("div",{className:"md:w-1/2 mb-8 md:mb-0","data-aos":"fade-right","data-aos-delay":"200",children:f.jsxs("div",{className:"relative",children:[f.jsx("img",{src:r3,alt:"Variety of fruits",className:"w-full max-w-md rounded-lg shadow-md mx-auto transform transition-transform duration-700 hover:scale-105"}),f.jsx("div",{className:"absolute -bottom-4 -left-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-md text-sm sm:text-base",children:f.jsx("span",{className:"font-bold",children:"6 Fruits Daily!"})})]})}),f.jsx("div",{className:"md:w-1/2 md:pl-12",children:f.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[{title:"Tropical Refresh: Summer Care Fruit Pack",desc:"Cool down with this hydrating mix of nature's most refreshing fruits, perfect for beating the summer heat.",icon:"🥥"},{title:"Shield Boost: Immuno Care Fruit Pack",desc:"Strengthen your body's natural defenses with this immunity-boosting blend, rich in vitamin C and antioxidants.",icon:"🛡️"},{title:"Nurture Nest: Mother Care Fresh Fruit Pack",desc:"Carefully selected to support maternal health, rich in iron, folate, and essential nutrients.",icon:"👩"},{title:"Glow Mix: Skin & Hair Care Pack",desc:"Let your beauty shine from within with this antioxidant-rich blend for clear skin and healthy hair.",icon:"✨"}].map((i,a)=>f.jsxs("div",{className:"bg-green-50 p-6 rounded-lg transition-all duration-300 hover:shadow-lg hover:bg-green-100 transform hover:-translate-y-1","data-aos":"fade-up","data-aos-delay":a*200,children:[f.jsx("div",{className:"flex items-center mb-3",children:f.jsx("h3",{className:"font-bold text-sm lg:text-xl text-green-800",children:i.title})}),f.jsx("p",{className:"text-xs lg:text-lg text-gray-600",children:i.desc})]},a))})})]})})}),f.jsx("section",{className:"py-16 px-5 md:px-10 bg-green-50 relative overflow-hidden",children:f.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[f.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center text-gray-800 mb-12","data-aos":"fade-up",children:"Best Seller"}),f.jsxs("div",{className:"flex flex-col md:flex-row items-center bg-white rounded-xl shadow-lg overflow-hidden transform transition-all duration-500 hover:shadow-xl","data-aos":"zoom-in",children:[f.jsxs("div",{className:"md:w-1/2 p-6 sm:p-8",children:[f.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-green-700 mb-4","data-aos":"fade-right",children:"6 Days Six Different Variety of Diet Platter"}),f.jsx("ul",{className:"space-y-3 mb-6",children:["Amla 5pcs. Steamed broccoli 150gm Corn+Carrot & Cucumber, Sprouts, Dates + Nuts.","Papaya, Pineapple, Steamed Zucchini 150g + Green Peas (Bell Pepper Onion +Tomato + Sweet corn), Salad Sprouts, Nuts + Seeds.","Dragon fruit Apple, Steamed cabbage & beans 150g + Black eyed bean + Beetroot + Carrot, Sprouts Dates Seeds."].map((i,a)=>f.jsxs("li",{className:"flex items-start transition-transform duration-300 hover:translate-x-2","data-aos":"fade-up","data-aos-delay":a*150,children:[f.jsx("span",{className:"text-green-500 mr-2",children:"•"}),f.jsx("span",{className:"text-sm lg:text-lg",children:i})]},a))}),f.jsx(et,{to:"/subscription",className:"inline-block bg-green-600 hover:bg-green-700 text-white font-semibold px-6 py-3 md:px-4 md:py-2 rounded-lg transition-all duration-300 transform hover:-translate-y-1 hover:shadow-md","data-aos":"zoom-in",children:"View All Plans"})]}),f.jsx("div",{className:"md:w-1/2","data-aos":"fade-left","data-aos-delay":"200",children:f.jsxs("div",{className:"bg-green-100 p-8 text-center h-full flex flex-col justify-center",children:[f.jsxs("div",{className:"relative inline-block",children:[f.jsx("img",{src:AA,alt:"Balanced Diet Platter",className:"w-full max-w-xs mx-auto rounded-lg mb-4 transform transition-transform duration-700 hover:scale-105"}),f.jsx("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"Popular!"})]}),f.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"BALANCED DIET PLATTER"}),f.jsx("p",{className:"text-xl sm:text-2xl font-bold text-green-700 mb-2",children:"₹3,499/- per month"}),f.jsx("p",{className:"text-gray-600 mb-4",children:"Free delivery"}),f.jsx("div",{className:"flex justify-center items-center text-yellow-400 mb-4",children:[...Array(5)].map((i,a)=>f.jsx("svg",{className:"w-5 h-5 fill-current",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})},a))}),f.jsx(et,{to:"/subscription",className:"inline-block bg-green-600 hover:bg-green-700 text-white font-semibold px-6 py-2 rounded transition-all duration-300 transform hover:-translate-y-1 hover:shadow-md","data-aos":"zoom-in","data-aos-delay":"200",children:"Subscribe Now"})]})})]})]})})]})},NA="/fruitbunch/assets/basicplan-Bm8xxGeT.jpg",e0="/fruitbunch/assets/primeplan-scfj7ntK.jpg",CA="/fruitbunch/assets/fruit-7-B0YHmhe4.jpg",o3="/fruitbunch/assets/dietplan-DvRyX6Rm.jpg",l3="/fruitbunch/assets/juice2-CHOH3c0W.jpg",c3="/fruitbunch/assets/kidsplan-BmS3QCpZ.jpg",u3="/fruitbunch/assets/freshjuice-DH0t0v_N.jpg",h3="/fruitbunch/assets/butter-DYvvPtp9.jpg",d3="/fruitbunch/assets/yogurt-B2y-BBUE.jpg",f3=()=>{const{addToCart:t,cartItems:e}=Xm(),[n,i]=k.useState({}),a=Mo(),c=T=>{i(A=>({...A,[T]:!A[T]}))};k.useEffect(()=>{window.AOS&&window.AOS.init({duration:800,easing:"ease-in-out",once:!0})},[]);const u=[{id:1,name:"Basic plan",price:2499,image:NA,description:"Apple, Orange, Papaya, Pineapple",moreInfo:"Grapes, Guava, Water melon, Fig, Pears, chikku",type:"plan"},{id:2,name:"Premium plan",price:2999,image:e0,description:"Apple, Orange, Dragon fruits, Pineapple",moreInfo:"Grapes, Strawberry, Blueberry/cherry, Kiwi, Pears",type:"plan"},{id:3,name:"Diabetic plan",price:2499,image:CA,description:"Amla, Guava, Kiwi, Fig",moreInfo:"Grapes, Pineapple, Kiwi, Orange",type:"plan"},{id:4,name:"Balanced Diet",price:3499,image:o3,description:"2 Fruit, 2 Vegetables, Dry Fruit",moreInfo:"Nuts, Sprouts, Steamed Vegetables",type:"plan"},{id:5,name:"Salad plan",price:2499,image:l3,description:"Nutrients, Quality Proteins, Good fat",moreInfo:"Healthy, Probiotic, Whole carb, antioxidants",type:"plan"},{id:6,name:"Kids fruit bowl",price:1199,image:c3,description:"Corn, Cucumber, Nuts",moreInfo:"Grapes, Strawberry, Blueberry/cherry, Kiwi, Pears",type:"plan"}],p=[{id:7,name:"Fresh Juice",price:699,image:u3,type:"drink"},{id:8,name:"Butter milk",price:599,image:h3,type:"drink"},{id:9,name:"Greek Yogurt",price:40,image:d3,type:"drink",isDaily:!0}],y=e.some(T=>T.type==="plan"),_=T=>{if(T.type==="drink"&&!y){alert("Please subscribe to a plan before adding drinks!");return}t(T),a("/cart")},x=T=>{if(T.type==="drink"&&!y){alert("Please subscribe to a plan before adding drinks!");return}t(T),a("/checkout")};return f.jsxs("div",{className:"container mx-auto px-10 py-12 overflow-hidden relative",children:[f.jsx("div",{className:"absolute -top-20 -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),f.jsx("div",{className:"absolute top-40 -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),f.jsx("div",{className:"absolute -bottom-20 left-40 w-72 h-72 bg-teal-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-4000"}),f.jsx("h1",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-center text-gray-800 mb-12","data-aos":"fade-up",children:"Choose Your Subscription"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:u.map(T=>f.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition","data-aos":"fade-up",children:[f.jsx("img",{src:T.image,alt:T.name,className:"w-full h-48 object-cover"}),f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-xl font-bold text-green-800 mb-2",children:T.name}),f.jsxs("p",{className:"text-2xl font-bold text-green-600 mb-4",children:["₹",T.price,"/- per month"]}),f.jsxs("p",{className:"text-gray-600 mb-3 text-sm",children:[T.description.length>20?T.description.slice(0,20)+"...":T.description,f.jsx("button",{onClick:()=>c(T.id),className:"ml-2 text-green-600 hover:text-green-800 font-semibold",children:n[T.id]?"Less":"More"})]}),n[T.id]&&f.jsx("p",{className:"text-gray-600 mb-4",children:T.moreInfo}),f.jsxs("div",{className:"flex space-x-3",children:[f.jsx("button",{onClick:()=>_(T),className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded transition",children:"Add to Cart"}),f.jsx("button",{onClick:()=>x(T),className:"flex-1 bg-green-100 hover:bg-green-200 text-green-700 py-2 px-4 rounded transition",children:"Subscribe"})]})]})]},T.id))}),f.jsxs("div",{className:"mb-16",children:[f.jsx("div",{className:"absolute -top-200 -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),f.jsx("div",{className:"absolute top-640 -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),f.jsx("h2",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-center text-gray-800 mb-8","data-aos":"fade-up",children:"Add On Drinks"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:p.map(T=>f.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition","data-aos":"fade-up",children:[f.jsx("img",{src:T.image,alt:T.name,className:"w-full h-48 object-cover"}),f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-xl font-bold text-green-800 mb-2",children:T.name}),f.jsxs("p",{className:"text-lg lg:text-2xl font-bold text-green-600 mb-4",children:["₹",T.price,"/- ",T.isDaily?"per day":"per month"]}),f.jsxs("div",{className:"flex lg:space-x-3 md:flex-col lg:flex-row gap-3",children:[f.jsx("button",{onClick:()=>_(T),className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded transition",children:"Add to Cart"}),f.jsx("button",{onClick:()=>x(T),className:"flex-1 bg-green-100 hover:bg-green-200 text-green-700 py-2 px-4 rounded transition",children:"Subscribe"})]})]})]},T.id))})]})]})},m3=()=>{const t=Mo(),[e,n]=k.useState({name:"",email:"",phone:"",message:""}),[i,a]=k.useState({name:"",email:"",phone:"",message:""}),[c,u]=k.useState(0),p=[e0,AA];k.useEffect(()=>{const A=setInterval(()=>{u(j=>(j+1)%p.length)},4e3);return()=>clearInterval(A)},[]);const y=A=>{const{name:j,value:I}=A.target;n({...e,[j]:I}),i[j]&&a({...i,[j]:""})},_=()=>{let A=!0;const j={...i};return e.name.trim()||(j.name="Name is required",A=!1),e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(j.email="Email is invalid",A=!1):(j.email="Email is required",A=!1),e.phone.trim()||(j.phone="Phone number is required",A=!1),e.message.trim()||(j.message="Message is required",A=!1),a(j),A},x=async A=>{if(A.preventDefault(),_())try{await Qy(Tl(Qi,"corporateQuotes"),{...e,createdAt:Ct.now()}),alert("Thank you! Your request has been submitted."),n({name:"",email:"",phone:"",message:""})}catch(j){console.error(j),alert("Something went wrong. Please try again.")}},T=()=>{const A="918807239379",I=encodeURIComponent("I'm interested in corporate orders for Fruit Bunch"),z=`https://wa.me/${A}?text=${I}`;window.open(z,"_blank")};return f.jsxs("div",{className:"container mx-auto px-10 py-12 overflow-hidden relative",children:[f.jsx("div",{className:"absolute -top-20 -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),f.jsx("div",{className:"absolute top-40 -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),f.jsx("div",{className:"absolute top-[750px] -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),f.jsx("div",{className:"absolute top-[1400px] -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),f.jsx("div",{className:"absolute top-[2100px] -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),f.jsx("div",{className:"absolute top-[2100px] -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),f.jsxs("section",{className:"flex flex-col lg:flex-row items-center mb-20 gap-10",children:[f.jsx("div",{className:"lg:w-1/2",children:f.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow transform transition-all duration-500 hover:shadow-xl w-full max-w-xl aspect-[4/4]",children:[p.map((A,j)=>f.jsx("img",{src:A,alt:"Corporate Orders",className:`absolute inset-0 w-full h-full object-cover rounded-2xl transition-opacity duration-1000 ease-in-out ${c===j?"opacity-100":"opacity-0"}`},j)),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent rounded-2xl"})]})}),f.jsxs("div",{className:"lg:w-1/2",children:[f.jsxs("h1",{className:"text-2xl md:text-4xl font-bold text-gray-800 mb-6 leading-tight",children:["Elevate Workplace Wellness with"," ",f.jsx("span",{className:"text-green-600",children:"Fresh Fruit Delivery"})]}),f.jsxs("div",{className:"space-y-4 mb-8",children:[f.jsxs("div",{className:"flex items-center justify-start",children:[f.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3 mt-1",children:f.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),f.jsx("p",{className:"text-sm lg:text-lg text-gray-600",children:"Combat afternoon slumps with natural energy boosts"})]}),f.jsxs("div",{className:"flex items-center justify-start",children:[f.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3 mt-1",children:f.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),f.jsx("p",{className:"text-sm lg:text-lg text-gray-600",children:"Reduce sick days with immune-boosting nutrition"})]}),f.jsxs("div",{className:"flex items-center justify-start",children:[f.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3 mt-1",children:f.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),f.jsx("p",{className:"text-sm lg:text-lg text-gray-600",children:"Increase productivity with healthier, happier teams"})]})]}),f.jsxs("div",{className:"mb-8 p-6 bg-green-50 rounded-2xl border-l-4 border-green-500",children:[f.jsx("h2",{className:"text-lg lg:text-xl font-semibold text-green-800 mb-2",children:"Ready to transform your workplace?"}),f.jsx("p",{className:"text-lg lg:text-xl font-medium text-gray-700",children:"Call us: +918807239379"})]}),f.jsxs("button",{onClick:T,className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-4 px-8 rounded-xl transition-all duration-300 shadow-lg hover:shadow-md transform hover:-translate-y-1 flex items-center justify-center",children:[f.jsx("svg",{className:"w-6 h-6 mr-3",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.864 3.49"})}),"Message us on WhatsApp"]})]})]}),f.jsxs("section",{className:"mb-20",children:[f.jsxs("div",{className:"text-center mb-14",children:[f.jsx("h2",{className:"text-2xl md:text-4xl font-bold text-gray-800 mb-4",children:"Corporate Wellness Plans"}),f.jsx("p",{className:"text-lg lg:text-xl text-gray-600 max-w-3xl mx-auto",children:"Tailored fruit delivery programs designed to boost employee health and productivity"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-lg transition-all duration-300 hover:shadow-xl hover:-translate-y-2",children:[f.jsxs("div",{className:"relative overflow-hidden h-64",children:[f.jsx("img",{src:NA,alt:"Basic Plan",className:"w-full h-full object-cover transition-transform duration-700 hover:scale-110"}),f.jsx("div",{className:"absolute top-4 right-4 bg-green-500 text-white py-1 px-3 rounded-full text-sm font-semibold",children:"Most Popular"})]}),f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Essential Wellness"}),f.jsx("p",{className:"text-gray-600 mb-4 text-sm lg:text-lg",children:"Perfect for small teams looking to incorporate healthy habits"}),f.jsxs("ul",{className:"space-y-2 mb-6",children:[f.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[f.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),f.jsx("span",{children:"3 fruit varieties daily"})]}),f.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[f.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),f.jsx("span",{children:"Weekly delivery"})]}),f.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[f.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),f.jsx("span",{children:"Seasonal selections"})]})]}),f.jsx("button",{onClick:()=>t("/subscription"),className:"w-full bg-green-100 hover:bg-green-200 text-green-700 font-semibold py-3 rounded-lg transition-colors duration-300",children:"View Plan"})]})]}),f.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-lg transition-all duration-300 hover:shadow-xl hover:-translate-y-2",children:[f.jsx("div",{className:"relative overflow-hidden h-64",children:f.jsx("img",{src:e0,alt:"Premium Plan",className:"w-full h-full object-cover transition-transform duration-700 hover:scale-110"})}),f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Premium Refresh"}),f.jsx("p",{className:"text-gray-600 mb-4 text-sm lg:text-lg",children:"Comprehensive nutrition for medium to large organizations"}),f.jsxs("ul",{className:"space-y-2 mb-6",children:[f.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[f.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),f.jsx("span",{children:"5+ premium fruit varieties"})]}),f.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[f.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),f.jsx("span",{children:"Twice weekly delivery"})]}),f.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[f.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),f.jsx("span",{children:"Organic options available"})]})]}),f.jsx("button",{onClick:()=>t("/subscription"),className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 rounded-lg transition-colors duration-300",children:"View Plan"})]})]}),f.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-lg transition-all duration-300 hover:shadow-xl hover:-translate-y-2",children:[f.jsx("div",{className:"relative overflow-hidden h-64",children:f.jsx("img",{src:CA,alt:"Diet Plan",className:"w-full h-full object-cover transition-transform duration-700 hover:scale-110"})}),f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Executive Wellness"}),f.jsx("p",{className:"text-gray-600 mb-4 text-sm lg:text-lg",children:"Premium customized programs for health-conscious organizations"}),f.jsxs("ul",{className:"space-y-2 mb-6",children:[f.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[f.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),f.jsx("span",{children:"Customized fruit selection"})]}),f.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[f.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),f.jsx("span",{children:"Daily delivery options"})]}),f.jsxs("li",{className:"flex items-center text-xs lg:text-sm",children:[f.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),f.jsx("span",{children:"Nutritionist consultation included"})]})]}),f.jsx("button",{onClick:()=>t("/subscription"),className:"w-full bg-green-100 hover:bg-green-200 text-green-700 font-semibold py-3 rounded-lg transition-colors duration-300",children:"View Plan"})]})]})]})]}),f.jsx("section",{className:"mb-20 bg-gradient-to-r from-green-50 to-emerald-50 py-14 px-4 rounded-3xl",children:f.jsxs("div",{className:"max-w-5xl mx-auto",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center text-gray-800 mb-12",children:"Why Companies Choose Us"}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"92%"}),f.jsx("p",{className:"text-gray-600 text-xs lg:text-sm",children:"Employee satisfaction"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"350+"}),f.jsx("p",{className:"text-gray-600 text-xs lg:text-sm",children:"Corporate clients"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"10h"}),f.jsx("p",{className:"text-gray-600 text-xs lg:text-sm",children:"Delivery time"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"100%"}),f.jsx("p",{className:"text-gray-600 text-xs lg:text-sm",children:"Organic guarantee"})]})]})]})}),f.jsx("section",{className:"bg-white rounded-3xl p-8 shadow-lg",children:f.jsxs("div",{className:"max-w-3xl mx-auto",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:"Get Your Custom Quote"}),f.jsx("p",{className:"text-xl text-gray-600",children:"Tell us about your company's needs and we'll prepare a tailored proposal"})]}),f.jsxs("form",{onSubmit:x,className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("input",{type:"text",name:"name",placeholder:"Your Name",value:e.name,onChange:y,className:`w-full px-5 py-4 border ${i.name?"border-red-500":"border-gray-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 transition`,required:!0}),i.name&&f.jsx("p",{className:"mt-2 text-red-500 text-sm",children:i.name})]}),f.jsxs("div",{children:[f.jsx("input",{type:"email",name:"email",placeholder:"Work Email",value:e.email,onChange:y,className:`w-full px-5 py-4 border ${i.email?"border-red-500":"border-gray-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 transition`,required:!0}),i.email&&f.jsx("p",{className:"mt-2 text-red-500 text-sm",children:i.email})]})]}),f.jsxs("div",{children:[f.jsx("input",{type:"tel",name:"phone",placeholder:"Phone Number",value:e.phone,onChange:y,className:`w-full px-5 py-4 border ${i.phone?"border-red-500":"border-gray-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 transition`,required:!0}),i.phone&&f.jsx("p",{className:"mt-2 text-red-500 text-sm",children:i.phone})]}),f.jsxs("div",{children:[f.jsx("textarea",{name:"message",placeholder:"Tell us about your company size and fruit preferences...",rows:"5",value:e.message,onChange:y,className:`w-full px-5 py-4 border ${i.message?"border-red-500":"border-gray-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 transition`,required:!0}),i.message&&f.jsx("p",{className:"mt-2 text-red-500 text-sm",children:i.message})]}),f.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-semibold py-4 px-6 rounded-xl transition-all duration-300 shadow-lg hover:shadow-md",children:"Request Custom Proposal"})]})]})})]})},p3="/fruitbunch/assets/about-3-DaCk93dU.jpg",g3="/fruitbunch/assets/aboutbackimgg-BkiEa4ds.jpg",y3=()=>f.jsxs("div",{className:"container mx-auto px-10 py-12",children:[f.jsxs("section",{className:"flex flex-col lg:flex-row items-center justify-between gap-10 mb-20",children:[f.jsxs("div",{className:"lg:w-1/2 order-2 lg:order-1",children:[f.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-gray-800 mb-6 leading-tight",children:["Nourishing Lives Through ",f.jsx("span",{className:"text-green-600",children:"Wholesome Eating"})]}),f.jsxs("div",{className:"space-y-4 mb-8",children:[f.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:"At Fruit Bunch, we specialize in crafting healthy, ready-to-eat meals packed with essential nutrients to fuel your body and mind."}),f.jsx("p",{className:"text-lg font-semibold text-gray-700",children:"Our offerings include:"}),f.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[f.jsxs("div",{className:"flex items-center bg-green-50 rounded-lg p-3",children:[f.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:f.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),f.jsx("span",{className:"text-gray-700",children:"Fruit Bowls"})]}),f.jsxs("div",{className:"flex items-center bg-green-50 rounded-lg p-3",children:[f.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:f.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),f.jsx("span",{className:"text-gray-700",children:"Diet Platters"})]}),f.jsxs("div",{className:"flex items-center bg-green-50 rounded-lg p-3",children:[f.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:f.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),f.jsx("span",{className:"text-gray-700",children:"Salad Bowls"})]}),f.jsxs("div",{className:"flex items-center bg-green-50 rounded-lg p-3",children:[f.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:f.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),f.jsx("span",{className:"text-gray-700",children:"Fresh Juices"})]})]})]}),f.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-2xl border-l-4 border-green-500",children:[f.jsx("h2",{className:"text-2xl font-bold text-green-800 mb-2",children:"Our Goal is Simple"}),f.jsx("p",{className:"text-lg text-gray-700",children:"To make healthy eating"}),f.jsx("p",{className:"text-2xl font-bold text-green-700 mt-1",children:"Easy, Affordable and Delicious!"})]})]}),f.jsx("div",{className:"lg:w-1/2 order-1 lg:order-2",children:f.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl w-full max-w-xl aspect-[4/4]",children:[f.jsx("img",{src:p3,alt:"About Fruit Bunch",className:"w-full h-full object-cover rounded-2xl transition-transform duration-700 hover:scale-105"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent rounded-2xl"})]})})]}),f.jsx("section",{className:"bg-gradient-to-r from-green-100 to-emerald-100 rounded-3xl p-10 shadow-lg mb-20",children:f.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-6",children:"Our Philosophy"}),f.jsx("div",{className:"text-2xl text-green-700 font-semibold mb-8",children:"EAT FRESH. STAY HEALTHY. LIVE BETTER!"}),f.jsxs("div",{className:"space-y-6 text-lg text-gray-700 leading-relaxed",children:[f.jsx("p",{children:"At Fruit Bunch, we believe in the transformative power of healthy eating. Our mission is to provide nutrient-rich, well-balanced meals that fuel your body and mind for optimal performance."}),f.jsx("p",{children:"We meticulously source the freshest ingredients and craft them into wholesome platters, salads, and drinks that cater to a healthy and active lifestyle. Each item on our menu is designed to deliver maximum nutritional value without compromising on taste."}),f.jsx("p",{children:"Whether you're looking for a balanced diet, nutritious salad bowl, or refreshing add-ons, our carefully curated menu ensures you get the perfect combination of taste, health, and convenience."})]})]})}),f.jsxs("section",{className:"mb-20",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center text-gray-800 mb-14",children:"What Drives Us"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 text-center",children:[f.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-5",children:f.jsxs("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 15.546c-.523 0-1.046.151-1.5.454a2.704 2.704 0 01-3 0 2.704 2.704 0 00-3 0 2.704 2.704 0 01-3 0 2.704 2.704 0 00-3 0 2.704 2.704 0 01-3 0A1.5 1.5 0 013 15.546V5a2 2 0 012-2h14a2 2 0 012 2v10.546z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v4l2 2"})]})}),f.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Quality & Freshness"}),f.jsx("p",{className:"text-gray-600",children:"We source only the freshest, highest-quality ingredients for all our products, ensuring maximum nutritional value and taste."})]}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 text-center",children:[f.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-5",children:f.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),f.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Community Health"}),f.jsx("p",{className:"text-gray-600",children:"We're committed to improving community health by making nutritious eating accessible, affordable, and enjoyable for everyone."})]}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 text-center",children:[f.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-5",children:f.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),f.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Sustainability"}),f.jsx("p",{className:"text-gray-600",children:"We prioritize environmentally responsible practices, from sourcing to packaging, to minimize our ecological footprint."})]})]})]}),f.jsxs("section",{className:"mb-20",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:"Visit Us"}),f.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Come experience the freshness at our location. We'd love to welcome you!"})]}),f.jsx("div",{className:"rounded-2xl overflow-hidden shadow-xl",children:f.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3899.0586626904005!2d79.0956933!3d12.244307300000001!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bacc17e8a517c7f%3A0xc7eb43ae80e2cef2!2sFRUIT%20BUNCH!5e0!3m2!1sen!2sin!4v1758553288639!5m2!1sen!2sin",width:"100%",height:"450",style:{border:0},allowFullScreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade",title:"Fruit Bunch Location",className:"rounded-2xl"})}),f.jsxs("div",{className:"mt-8 bg-white p-6 rounded-2xl shadow-lg max-w-2xl mx-auto",children:[f.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Store Information"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"flex items-start",children:[f.jsxs("svg",{className:"w-5 h-5 text-green-600 mt-1 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-gray-700",children:"Address"}),f.jsx("p",{className:"text-gray-600",children:"No:59, sarathambal nagar, Tiruvannamalai, Tamil Nadu 606601"})]})]}),f.jsxs("div",{className:"flex items-start",children:[f.jsx("svg",{className:"w-5 h-5 text-green-600 mt-1 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-gray-700",children:"Opening Hours"}),f.jsx("p",{className:"text-gray-600",children:"Mon-Sat: 7:30 AM - 6:00 PM"})]})]})]})]})]}),f.jsxs("section",{className:"relative rounded-2xl overflow-hidden shadow-xl mb-16",children:[f.jsx("img",{src:g3,alt:"Fresh fruits background",className:"w-full h-96 object-cover"}),f.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center",children:f.jsxs("div",{className:"text-center p-6 max-w-3xl",children:[f.jsx("h3",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Fresh. Healthy. Delivered."}),f.jsx("p",{className:"text-xl text-white mb-8 opacity-90",children:"Experience the difference that fresh, nutrient-packed meals can make in your life."}),f.jsx(et,{to:"/subscription",className:"bg-white text-green-700 font-semibold py-3 px-8 rounded-xl hover:bg-green-50 transition-colors duration-300 shadow-lg",children:"Explore Our Menu"})]})})]}),f.jsx("section",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-3xl p-8 shadow-lg",children:f.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[f.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-4",children:"Freshness Delivered To Your Door"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"Enjoy seasonal fruits, health tips, and exclusive offers — straight from our farm to your family."}),f.jsx(et,{to:"/subscription",className:"bg-green-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors duration-300 inline-block",children:"Start Your Subscription"})]})})]}),v3=()=>{const t=Mo(),n=Ss().state?.from?.pathname||"/",[i,a]=k.useState({email:"",password:""}),[c,u]=k.useState(!1),[p,y]=k.useState(!1),[_,x]=k.useState(""),T=I=>{a({...i,[I.target.name]:I.target.value})},A=async I=>{I.preventDefault();try{u(!0),x("");const V=(await gD(fu,i.email,i.password)).user,$=So(Qi,"users",V.uid),Y=await Nv($);if(Y.exists()){const X=Y.data();localStorage.setItem("user",JSON.stringify({uid:V.uid,email:X.email,name:X.name,phone:X.phone})),console.log("User profile:",X)}else console.log("No user profile found in Firestore!");u(!1),t(n,{replace:!0})}catch(z){console.error("Login error:",z.message),x("Invalid email or password"),u(!1)}},j=()=>{y(!0),setTimeout(()=>{y(!1)},3e3)};return f.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-100 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[f.jsx("div",{className:"absolute -top-20 -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),f.jsx("div",{className:"absolute top-40 -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),f.jsx("div",{className:"absolute -bottom-20 left-40 w-72 h-72 bg-teal-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-4000"}),f.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-2xl shadow-lg z-10 transform transition-all duration-500 hover:shadow-xl",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"mx-auto h-16 w-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),f.jsx("h2",{className:"mt-2 text-3xl font-bold text-gray-900",children:"Welcome back"}),f.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",f.jsx(et,{to:"/signup",className:"font-medium text-green-600 hover:text-green-500 transition-colors duration-300",children:"create a new account"})]})]}),_&&f.jsx("p",{className:"text-red-500 text-sm text-center",children:_}),f.jsxs("form",{className:"mt-8 space-y-6",onSubmit:A,children:[f.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),f.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Email address",value:i.email,onChange:T})]}),f.jsxs("div",{className:"relative",children:[f.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),f.jsx("input",{id:"password",name:"password",type:p?"text":"password",autoComplete:"current-password",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Password",value:i.password,onChange:T}),f.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:j,children:p?f.jsx("i",{className:"fa-solid fa-eye-slash text-green-500 text-lg"}):f.jsx("i",{className:"fa-solid fa-eye text-green-500 text-lg"})})]})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded transition duration-150"}),f.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),f.jsx("div",{className:"text-sm",children:f.jsx(et,{to:"/forgot-password",className:"font-medium text-green-600 hover:text-green-500 transition-colors duration-300",children:"Forgot your password?"})})]}),f.jsx("div",{children:f.jsxs("button",{type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",disabled:c,children:[c?f.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,c?"Signing in...":"Sign in"]})})]})]})]})},_3=()=>{const t=Mo(),[e,n]=k.useState({name:"",email:"",password:"",confirmPassword:"",phone:""}),[i,a]=k.useState(!1),[c,u]=k.useState(""),[p,y]=k.useState(!1),[_,x]=k.useState(!1),T=z=>{n({...e,[z.target.name]:z.target.value})},A=async z=>{if(z.preventDefault(),e.password!==e.confirmPassword){u("Passwords do not match!");return}try{a(!0),u("");const $=(await pD(fu,e.email,e.password)).user;await vD($,{displayName:e.name}),await Gk(So(Qi,"users",$.uid),{uid:$.uid,name:e.name,email:e.email,phone:e.phone,createdAt:Jy()}),console.log("User created & saved:",$.uid),a(!1),t("/login")}catch(V){console.error("Signup error:",V.message),u(V.message),a(!1)}},j=()=>{y(!0),setTimeout(()=>{y(!1)},3e3)},I=()=>{x(!0),setTimeout(()=>{x(!1)},3e3)};return f.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-100 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[f.jsx("div",{className:"absolute -top-20 -right-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),f.jsx("div",{className:"absolute top-40 -left-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),f.jsx("div",{className:"absolute -bottom-20 right-40 w-72 h-72 bg-teal-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-4000"}),f.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-2xl shadow-lg z-10 transform transition-all duration-500 hover:shadow-xl",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"mx-auto h-16 w-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})}),f.jsx("h2",{className:"mt-2 text-3xl font-bold text-gray-900",children:"Create your account"}),f.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",f.jsx(et,{to:"/login",className:"font-medium text-green-600 hover:text-green-500 transition-colors duration-300",children:"sign in to your existing account"})]})]}),c&&f.jsx("p",{className:"text-red-500 text-sm mb-2",children:c}),f.jsxs("form",{className:"mt-8 space-y-6",onSubmit:A,children:[f.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx("label",{htmlFor:"name",className:"sr-only",children:"Full Name"}),f.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Full Name",value:e.name,onChange:T}),f.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none opacity-0 peer-focus:opacity-100 transition-opacity duration-300",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]}),f.jsxs("div",{className:"relative",children:[f.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),f.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Email address",value:e.email,onChange:T}),f.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none opacity-0 peer-focus:opacity-100 transition-opacity duration-300",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]}),f.jsxs("div",{className:"relative",children:[f.jsx("label",{htmlFor:"phone",className:"sr-only",children:"Phone Number"}),f.jsx("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Phone Number",value:e.phone,onChange:T}),f.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none opacity-0 peer-focus:opacity-100 transition-opacity duration-300",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})})]}),f.jsxs("div",{className:"relative",children:[f.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),f.jsx("input",{id:"password",name:"password",type:p?"text":"password",autoComplete:"new-password",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Password",value:e.password,onChange:T}),f.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:j,children:p?f.jsx("i",{className:"fa-solid fa-eye text-green-500 text-lg"}):f.jsx("i",{className:"fa-solid fa-eye-slash text-green-500 text-lg"})})]}),f.jsxs("div",{className:"relative",children:[f.jsx("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Confirm Password"}),f.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:_?"text":"password",autoComplete:"new-password",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Confirm Password",value:e.confirmPassword,onChange:T}),f.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:I,children:_?f.jsx("i",{className:"fa-solid fa-eye text-green-500 text-lg"}):f.jsx("i",{className:"fa-solid fa-eye-slash text-green-500 text-lg"})})]})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{id:"terms",name:"terms",type:"checkbox",className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded transition duration-150",required:!0}),f.jsxs("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-900",children:["I agree to the ",f.jsx("a",{href:"/fruitbunch/termsandconditions",className:"text-green-600 hover:text-green-500 transition-colors duration-300",children:"Terms and Conditions"})]})]}),f.jsx("div",{children:f.jsxs("button",{type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",disabled:i,children:[i?f.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,i?"Creating account...":"Create Account"]})})]})]})]})},x3=()=>{const{cartItems:t,updateQuantity:e,removeFromCart:n,cartTotal:i,clearCart:a}=Xm(),[c,u]=k.useState(!1),p=(x,T)=>{T<1||e(x,T)},y=x=>{n(x)},_=()=>{u(!0),setTimeout(()=>{u(!1)},1e3)};return t.length===0?f.jsx("div",{className:"container mx-auto px-4 py-12",children:f.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[f.jsx("div",{className:"text-6xl mb-6",children:"🛒"}),f.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Your cart is empty"}),f.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Looks like you haven't added any items to your cart yet."}),f.jsx(et,{to:"/subscription",className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-8 rounded-lg transition",children:"Continue Shopping"})]})}):f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-center text-gray-800 mb-8",children:"Your Cart"}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[f.jsx("div",{className:"lg:col-span-2",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[f.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:["Cart Items (",t.length,")"]}),f.jsx("div",{className:"space-y-6",children:t.map(x=>f.jsxs("div",{className:"flex items-center border-b border-gray-100 pb-6",children:[f.jsx("img",{src:x.image,alt:x.name,className:"w-20 h-20 object-cover rounded-lg"}),f.jsxs("div",{className:"ml-4 flex-grow",children:[f.jsx("h3",{className:"font-medium text-gray-800 text-lg",children:x.name}),f.jsxs("p",{className:"text-green-600 font-bold",children:["₹",x.price]})]}),f.jsxs("div",{className:"flex items-center ml-4",children:[f.jsx("button",{onClick:()=>p(x.id,x.quantity-1),className:"w-8 h-8 flex items-center justify-center bg-gray-100 rounded-l-md",children:"-"}),f.jsx("span",{className:"w-10 h-8 flex items-center justify-center bg-gray-50",children:x.quantity}),f.jsx("button",{onClick:()=>p(x.id,x.quantity+1),className:"w-8 h-8 flex items-center justify-center bg-gray-100 rounded-r-md",children:"+"})]}),f.jsx("div",{className:"ml-6",children:f.jsxs("p",{className:"font-bold text-green-600",children:["₹",x.price*x.quantity]})}),f.jsx("button",{onClick:()=>y(x.id),className:"ml-6 text-red-500 hover:text-red-700",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},x.id))}),f.jsxs("div",{className:"flex justify-between mt-8",children:[f.jsxs(et,{to:"/subscription",className:"flex items-center text-green-600 hover:text-green-800 font-medium",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Continue Shopping"]}),f.jsx("button",{onClick:a,className:"text-red-500 hover:text-red-700 font-medium",children:"Clear Cart"})]})]})}),f.jsx("div",{children:f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-8",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Order Summary"}),f.jsx("div",{className:"space-y-4",children:t.map(x=>f.jsxs("div",{className:"flex justify-between",children:[f.jsxs("span",{className:"text-gray-600",children:[x.name," × ",x.quantity]}),f.jsxs("span",{className:"font-medium",children:["₹",x.price*x.quantity]})]},x.id))}),f.jsxs("div",{className:"border-t border-gray-200 mt-4 pt-4",children:[f.jsxs("div",{className:"flex justify-between mb-2",children:[f.jsx("span",{children:"Subtotal"}),f.jsxs("span",{children:["₹",i]})]}),f.jsxs("div",{className:"flex justify-between mb-2",children:[f.jsx("span",{children:"Delivery Fee"}),f.jsx("span",{className:"text-green-600",children:"Free"})]}),f.jsxs("div",{className:"flex justify-between font-bold text-lg mt-2 pt-2 border-t border-gray-200",children:[f.jsx("span",{children:"Total"}),f.jsxs("span",{children:["₹",i]})]})]}),f.jsx("div",{className:"mt-6",children:f.jsx(et,{to:"/checkout",onClick:_,disabled:c,className:`w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg transition flex items-center justify-center ${c?"opacity-75 cursor-not-allowed":""}`,children:c?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Proceed to Checkout"})})]})})]})]})};function RA(t,e){const n=k.useRef(e);k.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const b3=1;function w3(t){return Object.freeze({__version:b3,map:t})}function T3(t,e){return Object.freeze({...t,...e})}const Rv=k.createContext(null);function Pv(){const t=k.use(Rv);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function E3(t){function e(n,i){const{instance:a,context:c}=t(n).current;k.useImperativeHandle(i,()=>a);const{children:u}=n;return u==null?null:Ty.createElement(Rv,{value:c},u)}return k.forwardRef(e)}function S3(t){function e(n,i){const[a,c]=k.useState(!1),{instance:u}=t(n,c).current;k.useImperativeHandle(i,()=>u),k.useEffect(function(){a&&u.update()},[u,a,n.children]);const p=u._contentNode;return p?jj.createPortal(n.children,p):null}return k.forwardRef(e)}function A3(t){function e(n,i){const{instance:a}=t(n).current;return k.useImperativeHandle(i,()=>a),null}return k.forwardRef(e)}function PA(t,e){const n=k.useRef(void 0);k.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function jv(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function N3(t,e){return function(i,a){const c=Pv(),u=t(jv(i,c),c);return RA(c.map,i.attribution),PA(u.current,i.eventHandlers),e(u.current,c,i,a),u}}var xh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var C3=xh.exports,YT;function R3(){return YT||(YT=1,(function(t,e){(function(n,i){i(e)})(C3,(function(n){var i="1.9.4";function a(o){var h,g,w,S;for(g=1,w=arguments.length;g<w;g++){S=arguments[g];for(h in S)o[h]=S[h]}return o}var c=Object.create||(function(){function o(){}return function(h){return o.prototype=h,new o}})();function u(o,h){var g=Array.prototype.slice;if(o.bind)return o.bind.apply(o,g.call(arguments,1));var w=g.call(arguments,2);return function(){return o.apply(h,w.length?w.concat(g.call(arguments)):arguments)}}var p=0;function y(o){return"_leaflet_id"in o||(o._leaflet_id=++p),o._leaflet_id}function _(o,h,g){var w,S,R,q;return q=function(){w=!1,S&&(R.apply(g,S),S=!1)},R=function(){w?S=arguments:(o.apply(g,arguments),setTimeout(q,h),w=!0)},R}function x(o,h,g){var w=h[1],S=h[0],R=w-S;return o===w&&g?o:((o-S)%R+R)%R+S}function T(){return!1}function A(o,h){if(h===!1)return o;var g=Math.pow(10,h===void 0?6:h);return Math.round(o*g)/g}function j(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function I(o){return j(o).split(/\s+/)}function z(o,h){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?c(o.options):{});for(var g in h)o.options[g]=h[g];return o.options}function V(o,h,g){var w=[];for(var S in o)w.push(encodeURIComponent(g?S.toUpperCase():S)+"="+encodeURIComponent(o[S]));return(!h||h.indexOf("?")===-1?"?":"&")+w.join("&")}var $=/\{ *([\w_ -]+) *\}/g;function Y(o,h){return o.replace($,function(g,w){var S=h[w];if(S===void 0)throw new Error("No value provided for variable "+g);return typeof S=="function"&&(S=S(h)),S})}var X=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function ve(o,h){for(var g=0;g<o.length;g++)if(o[g]===h)return g;return-1}var he="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function we(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var B=0;function O(o){var h=+new Date,g=Math.max(0,16-(h-B));return B=h+g,window.setTimeout(o,g)}var U=window.requestAnimationFrame||we("RequestAnimationFrame")||O,W=window.cancelAnimationFrame||we("CancelAnimationFrame")||we("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function M(o,h,g){if(g&&U===O)o.call(h);else return U.call(window,u(o,h))}function G(o){o&&W.call(window,o)}var H={__proto__:null,extend:a,create:c,bind:u,get lastId(){return p},stamp:y,throttle:_,wrapNum:x,falseFn:T,formatNum:A,trim:j,splitWords:I,setOptions:z,getParamString:V,template:Y,isArray:X,indexOf:ve,emptyImageUrl:he,requestFn:U,cancelFn:W,requestAnimFrame:M,cancelAnimFrame:G};function Ue(){}Ue.extend=function(o){var h=function(){z(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},g=h.__super__=this.prototype,w=c(g);w.constructor=h,h.prototype=w;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(h[S]=this[S]);return o.statics&&a(h,o.statics),o.includes&&(je(o.includes),a.apply(null,[w].concat(o.includes))),a(w,o),delete w.statics,delete w.includes,w.options&&(w.options=g.options?c(g.options):{},a(w.options,o.options)),w._initHooks=[],w.callInitHooks=function(){if(!this._initHooksCalled){g.callInitHooks&&g.callInitHooks.call(this),this._initHooksCalled=!0;for(var R=0,q=w._initHooks.length;R<q;R++)w._initHooks[R].call(this)}},h},Ue.include=function(o){var h=this.prototype.options;return a(this.prototype,o),o.options&&(this.prototype.options=h,this.mergeOptions(o.options)),this},Ue.mergeOptions=function(o){return a(this.prototype.options,o),this},Ue.addInitHook=function(o){var h=Array.prototype.slice.call(arguments,1),g=typeof o=="function"?o:function(){this[o].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(g),this};function je(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=X(o)?o:[o];for(var h=0;h<o.length;h++)o[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var J={on:function(o,h,g){if(typeof o=="object")for(var w in o)this._on(w,o[w],h);else{o=I(o);for(var S=0,R=o.length;S<R;S++)this._on(o[S],h,g)}return this},off:function(o,h,g){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var w in o)this._off(w,o[w],h);else{o=I(o);for(var S=arguments.length===1,R=0,q=o.length;R<q;R++)S?this._off(o[R]):this._off(o[R],h,g)}return this},_on:function(o,h,g,w){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(o,h,g)===!1){g===this&&(g=void 0);var S={fn:h,ctx:g};w&&(S.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(S)}},_off:function(o,h,g){var w,S,R;if(this._events&&(w=this._events[o],!!w)){if(arguments.length===1){if(this._firingCount)for(S=0,R=w.length;S<R;S++)w[S].fn=T;delete this._events[o];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var q=this._listens(o,h,g);if(q!==!1){var ee=w[q];this._firingCount&&(ee.fn=T,this._events[o]=w=w.slice()),w.splice(q,1)}}},fire:function(o,h,g){if(!this.listens(o,g))return this;var w=a({},h,{type:o,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var S=this._events[o];if(S){this._firingCount=this._firingCount+1||1;for(var R=0,q=S.length;R<q;R++){var ee=S[R],oe=ee.fn;ee.once&&this.off(o,oe,ee.ctx),oe.call(ee.ctx||this,w)}this._firingCount--}}return g&&this._propagateEvent(w),this},listens:function(o,h,g,w){typeof o!="string"&&console.warn('"string" type argument expected');var S=h;typeof h!="function"&&(w=!!h,S=void 0,g=void 0);var R=this._events&&this._events[o];if(R&&R.length&&this._listens(o,S,g)!==!1)return!0;if(w){for(var q in this._eventParents)if(this._eventParents[q].listens(o,h,g,w))return!0}return!1},_listens:function(o,h,g){if(!this._events)return!1;var w=this._events[o]||[];if(!h)return!!w.length;g===this&&(g=void 0);for(var S=0,R=w.length;S<R;S++)if(w[S].fn===h&&w[S].ctx===g)return S;return!1},once:function(o,h,g){if(typeof o=="object")for(var w in o)this._on(w,o[w],h,!0);else{o=I(o);for(var S=0,R=o.length;S<R;S++)this._on(o[S],h,g,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[y(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[y(o)],this},_propagateEvent:function(o){for(var h in this._eventParents)this._eventParents[h].fire(o.type,a({layer:o.target,propagatedFrom:o.target},o),!0)}};J.addEventListener=J.on,J.removeEventListener=J.clearAllEventListeners=J.off,J.addOneTimeEventListener=J.once,J.fireEvent=J.fire,J.hasEventListeners=J.listens;var de=Ue.extend(J);function le(o,h,g){this.x=g?Math.round(o):o,this.y=g?Math.round(h):h}var Me=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};le.prototype={clone:function(){return new le(this.x,this.y)},add:function(o){return this.clone()._add(F(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(F(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new le(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new le(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Me(this.x),this.y=Me(this.y),this},distanceTo:function(o){o=F(o);var h=o.x-this.x,g=o.y-this.y;return Math.sqrt(h*h+g*g)},equals:function(o){return o=F(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=F(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+A(this.x)+", "+A(this.y)+")"}};function F(o,h,g){return o instanceof le?o:X(o)?new le(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new le(o.x,o.y):new le(o,h,g)}function ce(o,h){if(o)for(var g=h?[o,h]:o,w=0,S=g.length;w<S;w++)this.extend(g[w])}ce.prototype={extend:function(o){var h,g;if(!o)return this;if(o instanceof le||typeof o[0]=="number"||"x"in o)h=g=F(o);else if(o=xe(o),h=o.min,g=o.max,!h||!g)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=g.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(g.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(g.y,this.max.y)),this},getCenter:function(o){return F((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return F(this.min.x,this.max.y)},getTopRight:function(){return F(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var h,g;return typeof o[0]=="number"||o instanceof le?o=F(o):o=xe(o),o instanceof ce?(h=o.min,g=o.max):h=g=o,h.x>=this.min.x&&g.x<=this.max.x&&h.y>=this.min.y&&g.y<=this.max.y},intersects:function(o){o=xe(o);var h=this.min,g=this.max,w=o.min,S=o.max,R=S.x>=h.x&&w.x<=g.x,q=S.y>=h.y&&w.y<=g.y;return R&&q},overlaps:function(o){o=xe(o);var h=this.min,g=this.max,w=o.min,S=o.max,R=S.x>h.x&&w.x<g.x,q=S.y>h.y&&w.y<g.y;return R&&q},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var h=this.min,g=this.max,w=Math.abs(h.x-g.x)*o,S=Math.abs(h.y-g.y)*o;return xe(F(h.x-w,h.y-S),F(g.x+w,g.y+S))},equals:function(o){return o?(o=xe(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function xe(o,h){return!o||o instanceof ce?o:new ce(o,h)}function be(o,h){if(o)for(var g=h?[o,h]:o,w=0,S=g.length;w<S;w++)this.extend(g[w])}be.prototype={extend:function(o){var h=this._southWest,g=this._northEast,w,S;if(o instanceof Re)w=o,S=o;else if(o instanceof be){if(w=o._southWest,S=o._northEast,!w||!S)return this}else return o?this.extend(Ee(o)||Se(o)):this;return!h&&!g?(this._southWest=new Re(w.lat,w.lng),this._northEast=new Re(S.lat,S.lng)):(h.lat=Math.min(w.lat,h.lat),h.lng=Math.min(w.lng,h.lng),g.lat=Math.max(S.lat,g.lat),g.lng=Math.max(S.lng,g.lng)),this},pad:function(o){var h=this._southWest,g=this._northEast,w=Math.abs(h.lat-g.lat)*o,S=Math.abs(h.lng-g.lng)*o;return new be(new Re(h.lat-w,h.lng-S),new Re(g.lat+w,g.lng+S))},getCenter:function(){return new Re((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Re(this.getNorth(),this.getWest())},getSouthEast:function(){return new Re(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof Re||"lat"in o?o=Ee(o):o=Se(o);var h=this._southWest,g=this._northEast,w,S;return o instanceof be?(w=o.getSouthWest(),S=o.getNorthEast()):w=S=o,w.lat>=h.lat&&S.lat<=g.lat&&w.lng>=h.lng&&S.lng<=g.lng},intersects:function(o){o=Se(o);var h=this._southWest,g=this._northEast,w=o.getSouthWest(),S=o.getNorthEast(),R=S.lat>=h.lat&&w.lat<=g.lat,q=S.lng>=h.lng&&w.lng<=g.lng;return R&&q},overlaps:function(o){o=Se(o);var h=this._southWest,g=this._northEast,w=o.getSouthWest(),S=o.getNorthEast(),R=S.lat>h.lat&&w.lat<g.lat,q=S.lng>h.lng&&w.lng<g.lng;return R&&q},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,h){return o?(o=Se(o),this._southWest.equals(o.getSouthWest(),h)&&this._northEast.equals(o.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Se(o,h){return o instanceof be?o:new be(o,h)}function Re(o,h,g){if(isNaN(o)||isNaN(h))throw new Error("Invalid LatLng object: ("+o+", "+h+")");this.lat=+o,this.lng=+h,g!==void 0&&(this.alt=+g)}Re.prototype={equals:function(o,h){if(!o)return!1;o=Ee(o);var g=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return g<=(h===void 0?1e-9:h)},toString:function(o){return"LatLng("+A(this.lat,o)+", "+A(this.lng,o)+")"},distanceTo:function(o){return st.distance(this,Ee(o))},wrap:function(){return st.wrapLatLng(this)},toBounds:function(o){var h=180*o/40075017,g=h/Math.cos(Math.PI/180*this.lat);return Se([this.lat-h,this.lng-g],[this.lat+h,this.lng+g])},clone:function(){return new Re(this.lat,this.lng,this.alt)}};function Ee(o,h,g){return o instanceof Re?o:X(o)&&typeof o[0]!="object"?o.length===3?new Re(o[0],o[1],o[2]):o.length===2?new Re(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new Re(o.lat,"lng"in o?o.lng:o.lon,o.alt):h===void 0?null:new Re(o,h,g)}var At={latLngToPoint:function(o,h){var g=this.projection.project(o),w=this.scale(h);return this.transformation._transform(g,w)},pointToLatLng:function(o,h){var g=this.scale(h),w=this.transformation.untransform(o,g);return this.projection.unproject(w)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var h=this.projection.bounds,g=this.scale(o),w=this.transformation.transform(h.min,g),S=this.transformation.transform(h.max,g);return new ce(w,S)},infinite:!1,wrapLatLng:function(o){var h=this.wrapLng?x(o.lng,this.wrapLng,!0):o.lng,g=this.wrapLat?x(o.lat,this.wrapLat,!0):o.lat,w=o.alt;return new Re(g,h,w)},wrapLatLngBounds:function(o){var h=o.getCenter(),g=this.wrapLatLng(h),w=h.lat-g.lat,S=h.lng-g.lng;if(w===0&&S===0)return o;var R=o.getSouthWest(),q=o.getNorthEast(),ee=new Re(R.lat-w,R.lng-S),oe=new Re(q.lat-w,q.lng-S);return new be(ee,oe)}},st=a({},At,{wrapLng:[-180,180],R:6371e3,distance:function(o,h){var g=Math.PI/180,w=o.lat*g,S=h.lat*g,R=Math.sin((h.lat-o.lat)*g/2),q=Math.sin((h.lng-o.lng)*g/2),ee=R*R+Math.cos(w)*Math.cos(S)*q*q,oe=2*Math.atan2(Math.sqrt(ee),Math.sqrt(1-ee));return this.R*oe}}),mi=6378137,Pr={R:mi,MAX_LATITUDE:85.0511287798,project:function(o){var h=Math.PI/180,g=this.MAX_LATITUDE,w=Math.max(Math.min(g,o.lat),-g),S=Math.sin(w*h);return new le(this.R*o.lng*h,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(o){var h=180/Math.PI;return new Re((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*h,o.x*h/this.R)},bounds:(function(){var o=mi*Math.PI;return new ce([-o,-o],[o,o])})()};function Js(o,h,g,w){if(X(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=h,this._c=g,this._d=w}Js.prototype={transform:function(o,h){return this._transform(o.clone(),h)},_transform:function(o,h){return h=h||1,o.x=h*(this._a*o.x+this._b),o.y=h*(this._c*o.y+this._d),o},untransform:function(o,h){return h=h||1,new le((o.x/h-this._b)/this._a,(o.y/h-this._d)/this._c)}};function es(o,h,g,w){return new Js(o,h,g,w)}var As=a({},st,{code:"EPSG:3857",projection:Pr,transformation:(function(){var o=.5/(Math.PI*Pr.R);return es(o,.5,-o,.5)})()}),ba=a({},As,{code:"EPSG:900913"});function kl(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function wa(o,h){var g="",w,S,R,q,ee,oe;for(w=0,R=o.length;w<R;w++){for(ee=o[w],S=0,q=ee.length;S<q;S++)oe=ee[S],g+=(S?"L":"M")+oe.x+" "+oe.y;g+=h?De.svg?"z":"x":""}return g||"M0 0"}var _n=document.documentElement.style,jr="ActiveXObject"in window,Xt=jr&&!document.addEventListener,Qt="msLaunchUri"in navigator&&!("documentMode"in document),Di=xn("webkit"),Vl=xn("android"),Ta=xn("android 2")||xn("android 3"),xu=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ir=Vl&&xn("Google")&&xu<537&&!("AudioNode"in window),ts=!!window.opera,hn=!Qt&&xn("chrome"),Qn=xn("gecko")&&!Di&&!ts&&!jr,In=!hn&&xn("safari"),Ul=xn("phantom"),Bo="OTransition"in _n,Bl=navigator.platform.indexOf("Win")===0,Li=jr&&"transition"in _n,ns="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ta,pi="MozPerspective"in _n,gi=!window.L_DISABLE_3D&&(Li||ns||pi)&&!Bo&&!Ul,yi=typeof orientation<"u"||xn("mobile"),Ea=yi&&Di,zo=yi&&ns,Ns=!window.PointerEvent&&window.MSPointerEvent,Dr=!!(window.PointerEvent||Ns),Lt="ontouchstart"in window||!!window.TouchEvent,zl=!window.L_NO_TOUCH&&(Lt||Dr),er=yi&&ts,tr=yi&&Qn,Fo=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ho=(function(){var o=!1;try{var h=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",T,h),window.removeEventListener("testPassiveEventSupport",T,h)}catch{}return o})(),Cs=(function(){return!!document.createElement("canvas").getContext})(),qo=!!(document.createElementNS&&kl("svg").createSVGRect),is=!!qo&&(function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Bt=!qo&&(function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var h=o.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}})(),dn=navigator.platform.indexOf("Mac")===0,Rs=navigator.platform.indexOf("Linux")===0;function xn(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var De={ie:jr,ielt9:Xt,edge:Qt,webkit:Di,android:Vl,android23:Ta,androidStock:Ir,opera:ts,chrome:hn,gecko:Qn,safari:In,phantom:Ul,opera12:Bo,win:Bl,ie3d:Li,webkit3d:ns,gecko3d:pi,any3d:gi,mobile:yi,mobileWebkit:Ea,mobileWebkit3d:zo,msPointer:Ns,pointer:Dr,touch:zl,touchNative:Lt,mobileOpera:er,mobileGecko:tr,retina:Fo,passiveEvents:Ho,canvas:Cs,svg:qo,vml:Bt,inlineSvg:is,mac:dn,linux:Rs},Fl=De.msPointer?"MSPointerDown":"pointerdown",vi=De.msPointer?"MSPointerMove":"pointermove",Ps=De.msPointer?"MSPointerUp":"pointerup",Lr=De.msPointer?"MSPointerCancel":"pointercancel",_i={touchstart:Fl,touchmove:vi,touchend:Ps,touchcancel:Lr},Mi={touchstart:Sa,touchmove:ei,touchend:ei,touchcancel:ei},Jn={},js=!1;function zt(o,h,g){return h==="touchstart"&&Or(),Mi[h]?(g=Mi[h].bind(this,g),o.addEventListener(_i[h],g,!1),g):(console.warn("wrong event specified:",h),T)}function Hl(o,h,g){if(!_i[h]){console.warn("wrong event specified:",h);return}o.removeEventListener(_i[h],g,!1)}function Mr(o){Jn[o.pointerId]=o}function ss(o){Jn[o.pointerId]&&(Jn[o.pointerId]=o)}function Oi(o){delete Jn[o.pointerId]}function Or(){js||(document.addEventListener(Fl,Mr,!0),document.addEventListener(vi,ss,!0),document.addEventListener(Ps,Oi,!0),document.addEventListener(Lr,Oi,!0),js=!0)}function ei(o,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var g in Jn)h.touches.push(Jn[g]);h.changedTouches=[h],o(h)}}function Sa(o,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&Dt(h),ei(o,h)}function bu(o){var h={},g,w;for(w in o)g=o[w],h[w]=g&&g.bind?g.bind(o):g;return o=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var kr=200;function Vr(o,h){o.addEventListener("dblclick",h);var g=0,w;function S(R){if(R.detail!==1){w=R.detail;return}if(!(R.pointerType==="mouse"||R.sourceCapabilities&&!R.sourceCapabilities.firesTouchEvents)){var q=Na(R);if(!(q.some(function(oe){return oe instanceof HTMLLabelElement&&oe.attributes.for})&&!q.some(function(oe){return oe instanceof HTMLInputElement||oe instanceof HTMLSelectElement}))){var ee=Date.now();ee-g<=kr?(w++,w===2&&h(bu(R))):w=1,g=ee}}}return o.addEventListener("click",S),{dblclick:h,simDblclick:S}}function xi(o,h){o.removeEventListener("dblclick",h.dblclick),o.removeEventListener("click",h.simDblclick)}var Is=nr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),rs=nr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),as=rs==="webkitTransition"||rs==="OTransition"?rs+"End":"transitionend";function Ur(o){return typeof o=="string"?document.getElementById(o):o}function os(o,h){var g=o.style[h]||o.currentStyle&&o.currentStyle[h];if((!g||g==="auto")&&document.defaultView){var w=document.defaultView.getComputedStyle(o,null);g=w?w[h]:null}return g==="auto"?null:g}function ot(o,h,g){var w=document.createElement(o);return w.className=h||"",g&&g.appendChild(w),w}function ht(o){var h=o.parentNode;h&&h.removeChild(o)}function wt(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function ti(o){var h=o.parentNode;h&&h.lastChild!==o&&h.appendChild(o)}function bi(o){var h=o.parentNode;h&&h.firstChild!==o&&h.insertBefore(o,h.firstChild)}function ls(o,h){if(o.classList!==void 0)return o.classList.contains(h);var g=Ft(o);return g.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(g)}function Ce(o,h){if(o.classList!==void 0)for(var g=I(h),w=0,S=g.length;w<S;w++)o.classList.add(g[w]);else if(!ls(o,h)){var R=Ft(o);Ds(o,(R?R+" ":"")+h)}}function vt(o,h){o.classList!==void 0?o.classList.remove(h):Ds(o,j((" "+Ft(o)+" ").replace(" "+h+" "," ")))}function Ds(o,h){o.className.baseVal===void 0?o.className=h:o.className.baseVal=h}function Ft(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function bn(o,h){"opacity"in o.style?o.style.opacity=h:"filter"in o.style&&Go(o,h)}function Go(o,h){var g=!1,w="DXImageTransform.Microsoft.Alpha";try{g=o.filters.item(w)}catch{if(h===1)return}h=Math.round(h*100),g?(g.Enabled=h!==100,g.Opacity=h):o.style.filter+=" progid:"+w+"(opacity="+h+")"}function nr(o){for(var h=document.documentElement.style,g=0;g<o.length;g++)if(o[g]in h)return o[g];return!1}function Bn(o,h,g){var w=h||new le(0,0);o.style[Is]=(De.ie3d?"translate("+w.x+"px,"+w.y+"px)":"translate3d("+w.x+"px,"+w.y+"px,0)")+(g?" scale("+g+")":"")}function It(o,h){o._leaflet_pos=h,De.any3d?Bn(o,h):(o.style.left=h.x+"px",o.style.top=h.y+"px")}function cs(o){return o._leaflet_pos||new le(0,0)}var wn,ni,Br;if("onselectstart"in document)wn=function(){ze(window,"selectstart",Dt)},ni=function(){dt(window,"selectstart",Dt)};else{var Ls=nr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);wn=function(){if(Ls){var o=document.documentElement.style;Br=o[Ls],o[Ls]="none"}},ni=function(){Ls&&(document.documentElement.style[Ls]=Br,Br=void 0)}}function ir(){ze(window,"dragstart",Dt)}function Aa(){dt(window,"dragstart",Dt)}var zr,ii;function Fr(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(sr(),zr=o,ii=o.style.outlineStyle,o.style.outlineStyle="none",ze(window,"keydown",sr))}function sr(){zr&&(zr.style.outlineStyle=ii,zr=void 0,ii=void 0,dt(window,"keydown",sr))}function Ms(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function fn(o){var h=o.getBoundingClientRect();return{x:h.width/o.offsetWidth||1,y:h.height/o.offsetHeight||1,boundingClientRect:h}}var ql={__proto__:null,TRANSFORM:Is,TRANSITION:rs,TRANSITION_END:as,get:Ur,getStyle:os,create:ot,remove:ht,empty:wt,toFront:ti,toBack:bi,hasClass:ls,addClass:Ce,removeClass:vt,setClass:Ds,getClass:Ft,setOpacity:bn,testProp:nr,setTransform:Bn,setPosition:It,getPosition:cs,get disableTextSelection(){return wn},get enableTextSelection(){return ni},disableImageDrag:ir,enableImageDrag:Aa,preventOutline:Fr,restoreOutline:sr,getSizedParentNode:Ms,getScale:fn};function ze(o,h,g,w){if(h&&typeof h=="object")for(var S in h)us(o,S,h[S],g);else{h=I(h);for(var R=0,q=h.length;R<q;R++)us(o,h[R],g,w)}return this}var Tn="_leaflet_events";function dt(o,h,g,w){if(arguments.length===1)En(o),delete o[Tn];else if(h&&typeof h=="object")for(var S in h)zn(o,S,h[S],g);else if(h=I(h),arguments.length===2)En(o,function(ee){return ve(h,ee)!==-1});else for(var R=0,q=h.length;R<q;R++)zn(o,h[R],g,w);return this}function En(o,h){for(var g in o[Tn]){var w=g.split(/\d/)[0];(!h||h(w))&&zn(o,w,null,null,g)}}var ki={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function us(o,h,g,w){var S=h+y(g)+(w?"_"+y(w):"");if(o[Tn]&&o[Tn][S])return this;var R=function(ee){return g.call(w||o,ee||window.event)},q=R;!De.touchNative&&De.pointer&&h.indexOf("touch")===0?R=zt(o,h,R):De.touch&&h==="dblclick"?R=Vr(o,R):"addEventListener"in o?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?o.addEventListener(ki[h]||h,R,De.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(R=function(ee){ee=ee||window.event,Os(o,ee)&&q(ee)},o.addEventListener(ki[h],R,!1)):o.addEventListener(h,q,!1):o.attachEvent("on"+h,R),o[Tn]=o[Tn]||{},o[Tn][S]=R}function zn(o,h,g,w,S){S=S||h+y(g)+(w?"_"+y(w):"");var R=o[Tn]&&o[Tn][S];if(!R)return this;!De.touchNative&&De.pointer&&h.indexOf("touch")===0?Hl(o,h,R):De.touch&&h==="dblclick"?xi(o,R):"removeEventListener"in o?o.removeEventListener(ki[h]||h,R,!1):o.detachEvent("on"+h,R),o[Tn][S]=null}function ft(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function rr(o){return us(o,"wheel",ft),this}function ar(o){return ze(o,"mousedown touchstart dblclick contextmenu",ft),o._leaflet_disable_click=!0,this}function Dt(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function si(o){return Dt(o),ft(o),this}function Na(o){if(o.composedPath)return o.composedPath();for(var h=[],g=o.target;g;)h.push(g),g=g.parentNode;return h}function Wt(o,h){if(!h)return new le(o.clientX,o.clientY);var g=fn(h),w=g.boundingClientRect;return new le((o.clientX-w.left)/g.x-h.clientLeft,(o.clientY-w.top)/g.y-h.clientTop)}var Sn=De.linux&&De.chrome?window.devicePixelRatio:De.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function or(o){return De.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/Sn:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Os(o,h){var g=h.relatedTarget;if(!g)return!0;try{for(;g&&g!==o;)g=g.parentNode}catch{return!1}return g!==o}var Hr={__proto__:null,on:ze,off:dt,stopPropagation:ft,disableScrollPropagation:rr,disableClickPropagation:ar,preventDefault:Dt,stop:si,getPropagationPath:Na,getMousePosition:Wt,getWheelDelta:or,isExternalTarget:Os,addListener:ze,removeListener:dt},qr=de.extend({run:function(o,h,g,w){this.stop(),this._el=o,this._inProgress=!0,this._duration=g||.25,this._easeOutPower=1/Math.max(w||.5,.2),this._startPos=cs(o),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=M(this._animate,this),this._step()},_step:function(o){var h=+new Date-this._startTime,g=this._duration*1e3;h<g?this._runFrame(this._easeOut(h/g),o):(this._runFrame(1),this._complete())},_runFrame:function(o,h){var g=this._startPos.add(this._offset.multiplyBy(o));h&&g._round(),It(this._el,g),this.fire("step")},_complete:function(){G(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Xe=de.extend({options:{crs:As,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,h){h=z(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(Ee(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=rs&&De.any3d&&!De.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ze(this._proxy,as,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,h,g){if(h=h===void 0?this._zoom:this._limitZoom(h),o=this._limitCenter(Ee(o),h,this.options.maxBounds),g=g||{},this._stop(),this._loaded&&!g.reset&&g!==!0){g.animate!==void 0&&(g.zoom=a({animate:g.animate},g.zoom),g.pan=a({animate:g.animate,duration:g.duration},g.pan));var w=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,h,g.zoom):this._tryAnimatedPan(o,g.pan);if(w)return clearTimeout(this._sizeTimer),this}return this._resetView(o,h,g.pan&&g.pan.noMoveStart),this},setZoom:function(o,h){return this._loaded?this.setView(this.getCenter(),o,{zoom:h}):(this._zoom=o,this)},zoomIn:function(o,h){return o=o||(De.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,h)},zoomOut:function(o,h){return o=o||(De.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,h)},setZoomAround:function(o,h,g){var w=this.getZoomScale(h),S=this.getSize().divideBy(2),R=o instanceof le?o:this.latLngToContainerPoint(o),q=R.subtract(S).multiplyBy(1-1/w),ee=this.containerPointToLatLng(S.add(q));return this.setView(ee,h,{zoom:g})},_getBoundsCenterZoom:function(o,h){h=h||{},o=o.getBounds?o.getBounds():Se(o);var g=F(h.paddingTopLeft||h.padding||[0,0]),w=F(h.paddingBottomRight||h.padding||[0,0]),S=this.getBoundsZoom(o,!1,g.add(w));if(S=typeof h.maxZoom=="number"?Math.min(h.maxZoom,S):S,S===1/0)return{center:o.getCenter(),zoom:S};var R=w.subtract(g).divideBy(2),q=this.project(o.getSouthWest(),S),ee=this.project(o.getNorthEast(),S),oe=this.unproject(q.add(ee).divideBy(2).add(R),S);return{center:oe,zoom:S}},fitBounds:function(o,h){if(o=Se(o),!o.isValid())throw new Error("Bounds are not valid.");var g=this._getBoundsCenterZoom(o,h);return this.setView(g.center,g.zoom,h)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,h){return this.setView(o,this._zoom,{pan:h})},panBy:function(o,h){if(o=F(o).round(),h=h||{},!o.x&&!o.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new qr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){Ce(this._mapPane,"leaflet-pan-anim");var g=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,g,h.duration||.25,h.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,h,g){if(g=g||{},g.animate===!1||!De.any3d)return this.setView(o,h,g);this._stop();var w=this.project(this.getCenter()),S=this.project(o),R=this.getSize(),q=this._zoom;o=Ee(o),h=h===void 0?q:h;var ee=Math.max(R.x,R.y),oe=ee*this.getZoomScale(q,h),_e=S.distanceTo(w)||1,Ae=1.42,Ie=Ae*Ae;function Oe(Ot){var ps=Ot?-1:1,Bs=Ot?oe:ee,dr=oe*oe-ee*ee+ps*Ie*Ie*_e*_e,zs=2*Bs*Ie*_e,ol=dr/zs,ic=Math.sqrt(ol*ol+1)-ol,ll=ic<1e-9?-18:Math.log(ic);return ll}function Ke(Ot){return(Math.exp(Ot)-Math.exp(-Ot))/2}function Rt(Ot){return(Math.exp(Ot)+Math.exp(-Ot))/2}function Ht(Ot){return Ke(Ot)/Rt(Ot)}var Nn=Oe(0);function Ti(Ot){return ee*(Rt(Nn)/Rt(Nn+Ae*Ot))}function Sd(Ot){return ee*(Rt(Nn)*Ht(Nn+Ae*Ot)-Ke(Nn))/Ie}function Ad(Ot){return 1-Math.pow(1-Ot,1.5)}var al=Date.now(),qa=(Oe(1)-Nn)/Ae,Nd=g.duration?1e3*g.duration:1e3*qa*.8;function Ga(){var Ot=(Date.now()-al)/Nd,ps=Ad(Ot)*qa;Ot<=1?(this._flyToFrame=M(Ga,this),this._move(this.unproject(w.add(S.subtract(w).multiplyBy(Sd(ps)/_e)),q),this.getScaleZoom(ee/Ti(ps),q),{flyTo:!0})):this._move(o,h)._moveEnd(!0)}return this._moveStart(!0,g.noMoveStart),Ga.call(this),this},flyToBounds:function(o,h){var g=this._getBoundsCenterZoom(o,h);return this.flyTo(g.center,g.zoom,h)},setMaxBounds:function(o){return o=Se(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var h=this.options.minZoom;return this.options.minZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var h=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,h){this._enforcingBounds=!0;var g=this.getCenter(),w=this._limitCenter(g,this._zoom,Se(o));return g.equals(w)||this.panTo(w,h),this._enforcingBounds=!1,this},panInside:function(o,h){h=h||{};var g=F(h.paddingTopLeft||h.padding||[0,0]),w=F(h.paddingBottomRight||h.padding||[0,0]),S=this.project(this.getCenter()),R=this.project(o),q=this.getPixelBounds(),ee=xe([q.min.add(g),q.max.subtract(w)]),oe=ee.getSize();if(!ee.contains(R)){this._enforcingBounds=!0;var _e=R.subtract(ee.getCenter()),Ae=ee.extend(R).getSize().subtract(oe);S.x+=_e.x<0?-Ae.x:Ae.x,S.y+=_e.y<0?-Ae.y:Ae.y,this.panTo(this.unproject(S),h),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=a({animate:!1,pan:!0},o===!0?{animate:!0}:o);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var g=this.getSize(),w=h.divideBy(2).round(),S=g.divideBy(2).round(),R=w.subtract(S);return!R.x&&!R.y?this:(o.animate&&o.pan?this.panBy(R):(o.pan&&this._rawPanBy(R),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:g}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=a({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=u(this._handleGeolocationResponse,this),g=u(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,g,o):navigator.geolocation.getCurrentPosition(h,g,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var h=o.code,g=o.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+g+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var h=o.coords.latitude,g=o.coords.longitude,w=new Re(h,g),S=w.toBounds(o.coords.accuracy*2),R=this._locateOptions;if(R.setView){var q=this.getBoundsZoom(S);this.setView(w,R.maxZoom?Math.min(q,R.maxZoom):q)}var ee={latlng:w,bounds:S,timestamp:o.timestamp};for(var oe in o.coords)typeof o.coords[oe]=="number"&&(ee[oe]=o.coords[oe]);this.fire("locationfound",ee)}},addHandler:function(o,h){if(!h)return this;var g=this[o]=new h(this);return this._handlers.push(g),this.options[o]&&g.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ht(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(G(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)ht(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,h){var g="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),w=ot("div",g,h||this._mapPane);return o&&(this._panes[o]=w),w},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),h=this.unproject(o.getBottomLeft()),g=this.unproject(o.getTopRight());return new be(h,g)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,h,g){o=Se(o),g=F(g||[0,0]);var w=this.getZoom()||0,S=this.getMinZoom(),R=this.getMaxZoom(),q=o.getNorthWest(),ee=o.getSouthEast(),oe=this.getSize().subtract(g),_e=xe(this.project(ee,w),this.project(q,w)).getSize(),Ae=De.any3d?this.options.zoomSnap:1,Ie=oe.x/_e.x,Oe=oe.y/_e.y,Ke=h?Math.max(Ie,Oe):Math.min(Ie,Oe);return w=this.getScaleZoom(Ke,w),Ae&&(w=Math.round(w/(Ae/100))*(Ae/100),w=h?Math.ceil(w/Ae)*Ae:Math.floor(w/Ae)*Ae),Math.max(S,Math.min(R,w))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new le(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,h){var g=this._getTopLeftPoint(o,h);return new ce(g,g.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,h){var g=this.options.crs;return h=h===void 0?this._zoom:h,g.scale(o)/g.scale(h)},getScaleZoom:function(o,h){var g=this.options.crs;h=h===void 0?this._zoom:h;var w=g.zoom(o*g.scale(h));return isNaN(w)?1/0:w},project:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(Ee(o),h)},unproject:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(F(o),h)},layerPointToLatLng:function(o){var h=F(o).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(o){var h=this.project(Ee(o))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(Ee(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(Se(o))},distance:function(o,h){return this.options.crs.distance(Ee(o),Ee(h))},containerPointToLayerPoint:function(o){return F(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return F(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var h=this.containerPointToLayerPoint(F(o));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ee(o)))},mouseEventToContainerPoint:function(o){return Wt(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var h=this._container=Ur(o);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ze(h,"scroll",this._onScroll,this),this._containerId=y(h)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&De.any3d,Ce(o,"leaflet-container"+(De.touch?" leaflet-touch":"")+(De.retina?" leaflet-retina":"")+(De.ielt9?" leaflet-oldie":"")+(De.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=os(o,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),It(this._mapPane,new le(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ce(o.markerPane,"leaflet-zoom-hide"),Ce(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,h,g){It(this._mapPane,new le(0,0));var w=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var S=this._zoom!==h;this._moveStart(S,g)._move(o,h)._moveEnd(S),this.fire("viewreset"),w&&this.fire("load")},_moveStart:function(o,h){return o&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(o,h,g,w){h===void 0&&(h=this._zoom);var S=this._zoom!==h;return this._zoom=h,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),w?g&&g.pinch&&this.fire("zoom",g):((S||g&&g.pinch)&&this.fire("zoom",g),this.fire("move",g)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return G(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){It(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[y(this._container)]=this;var h=o?dt:ze;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),De.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){G(this._resizeRequest),this._resizeRequest=M(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,h){for(var g=[],w,S=h==="mouseout"||h==="mouseover",R=o.target||o.srcElement,q=!1;R;){if(w=this._targets[y(R)],w&&(h==="click"||h==="preclick")&&this._draggableMoved(w)){q=!0;break}if(w&&w.listens(h,!0)&&(S&&!Os(R,o)||(g.push(w),S))||R===this._container)break;R=R.parentNode}return!g.length&&!q&&!S&&this.listens(h,!0)&&(g=[this]),g},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var h=o.target||o.srcElement;if(!(!this._loaded||h._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(h))){var g=o.type;g==="mousedown"&&Fr(h),this._fireDOMEvent(o,g)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,h,g){if(o.type==="click"){var w=a({},o);w.type="preclick",this._fireDOMEvent(w,w.type,g)}var S=this._findEventTargets(o,h);if(g){for(var R=[],q=0;q<g.length;q++)g[q].listens(h,!0)&&R.push(g[q]);S=R.concat(S)}if(S.length){h==="contextmenu"&&Dt(o);var ee=S[0],oe={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var _e=ee.getLatLng&&(!ee._radius||ee._radius<=10);oe.containerPoint=_e?this.latLngToContainerPoint(ee.getLatLng()):this.mouseEventToContainerPoint(o),oe.layerPoint=this.containerPointToLayerPoint(oe.containerPoint),oe.latlng=_e?ee.getLatLng():this.layerPointToLatLng(oe.layerPoint)}for(q=0;q<S.length;q++)if(S[q].fire(h,oe,!0),oe.originalEvent._stopped||S[q].options.bubblingMouseEvents===!1&&ve(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,h=this._handlers.length;o<h;o++)this._handlers[o].disable()},whenReady:function(o,h){return this._loaded?o.call(h||this,{target:this}):this.on("load",o,h),this},_getMapPanePos:function(){return cs(this._mapPane)||new le(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,h){var g=o&&h!==void 0?this._getNewPixelOrigin(o,h):this.getPixelOrigin();return g.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,h){var g=this.getSize()._divideBy(2);return this.project(o,h)._subtract(g)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,h,g){var w=this._getNewPixelOrigin(g,h);return this.project(o,h)._subtract(w)},_latLngBoundsToNewLayerBounds:function(o,h,g){var w=this._getNewPixelOrigin(g,h);return xe([this.project(o.getSouthWest(),h)._subtract(w),this.project(o.getNorthWest(),h)._subtract(w),this.project(o.getSouthEast(),h)._subtract(w),this.project(o.getNorthEast(),h)._subtract(w)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,h,g){if(!g)return o;var w=this.project(o,h),S=this.getSize().divideBy(2),R=new ce(w.subtract(S),w.add(S)),q=this._getBoundsOffset(R,g,h);return Math.abs(q.x)<=1&&Math.abs(q.y)<=1?o:this.unproject(w.add(q),h)},_limitOffset:function(o,h){if(!h)return o;var g=this.getPixelBounds(),w=new ce(g.min.add(o),g.max.add(o));return o.add(this._getBoundsOffset(w,h))},_getBoundsOffset:function(o,h,g){var w=xe(this.project(h.getNorthEast(),g),this.project(h.getSouthWest(),g)),S=w.min.subtract(o.min),R=w.max.subtract(o.max),q=this._rebound(S.x,-R.x),ee=this._rebound(S.y,-R.y);return new le(q,ee)},_rebound:function(o,h){return o+h>0?Math.round(o-h)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(h))},_limitZoom:function(o){var h=this.getMinZoom(),g=this.getMaxZoom(),w=De.any3d?this.options.zoomSnap:1;return w&&(o=Math.round(o/w)*w),Math.max(h,Math.min(g,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){vt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,h){var g=this._getCenterOffset(o)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(g)?!1:(this.panBy(g,h),!0)},_createAnimProxy:function(){var o=this._proxy=ot("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(h){var g=Is,w=this._proxy.style[g];Bn(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),w===this._proxy.style[g]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ht(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),h=this.getZoom();Bn(this._proxy,this.project(o,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,h,g){if(this._animatingZoom)return!0;if(g=g||{},!this._zoomAnimated||g.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var w=this.getZoomScale(h),S=this._getCenterOffset(o)._divideBy(1-1/w);return g.animate!==!0&&!this.getSize().contains(S)?!1:(M(function(){this._moveStart(!0,g.noMoveStart||!1)._animateZoom(o,h,!0)},this),!0)},_animateZoom:function(o,h,g,w){this._mapPane&&(g&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=h,Ce(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:h,noUpdate:w}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&vt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function hs(o,h){return new Xe(o,h)}var mn=Ue.extend({options:{position:"topright"},initialize:function(o){z(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var h=this._map;return h&&h.removeControl(this),this.options.position=o,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var h=this._container=this.onAdd(o),g=this.getPosition(),w=o._controlCorners[g];return Ce(h,"leaflet-control"),g.indexOf("bottom")!==-1?w.insertBefore(h,w.firstChild):w.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ht(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Vi=function(o){return new mn(o)};Xe.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},h="leaflet-",g=this._controlContainer=ot("div",h+"control-container",this._container);function w(S,R){var q=h+S+" "+h+R;o[S+R]=ot("div",q,g)}w("top","left"),w("top","right"),w("bottom","left"),w("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)ht(this._controlCorners[o]);ht(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Gl=mn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,h,g,w){return g<w?-1:w<g?1:0}},initialize:function(o,h,g){z(this,g),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var w in o)this._addLayer(o[w],w);for(w in h)this._addLayer(h[w],w,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return mn.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,h){return this._addLayer(o,h),this._map?this._update():this},addOverlay:function(o,h){return this._addLayer(o,h,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var h=this._getLayer(y(o));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){Ce(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Ce(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):vt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return vt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",h=this._container=ot("div",o),g=this.options.collapsed;h.setAttribute("aria-haspopup",!0),ar(h),rr(h);var w=this._section=ot("section",o+"-list");g&&(this._map.on("click",this.collapse,this),ze(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=ot("a",o+"-toggle",h);S.href="#",S.title="Layers",S.setAttribute("role","button"),ze(S,{keydown:function(R){R.keyCode===13&&this._expandSafely()},click:function(R){Dt(R),this._expandSafely()}},this),g||this.expand(),this._baseLayersList=ot("div",o+"-base",w),this._separator=ot("div",o+"-separator",w),this._overlaysList=ot("div",o+"-overlays",w),h.appendChild(w)},_getLayer:function(o){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&y(this._layers[h].layer)===o)return this._layers[h]},_addLayer:function(o,h,g){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:h,overlay:g}),this.options.sortLayers&&this._layers.sort(u(function(w,S){return this.options.sortFunction(w.layer,S.layer,w.name,S.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;wt(this._baseLayersList),wt(this._overlaysList),this._layerControlInputs=[];var o,h,g,w,S=0;for(g=0;g<this._layers.length;g++)w=this._layers[g],this._addItem(w),h=h||w.overlay,o=o||!w.overlay,S+=w.overlay?0:1;return this.options.hideSingleBase&&(o=o&&S>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=h&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var h=this._getLayer(y(o.target)),g=h.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;g&&this._map.fire(g,h)},_createRadioElement:function(o,h){var g='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(h?' checked="checked"':"")+"/>",w=document.createElement("div");return w.innerHTML=g,w.firstChild},_addItem:function(o){var h=document.createElement("label"),g=this._map.hasLayer(o.layer),w;o.overlay?(w=document.createElement("input"),w.type="checkbox",w.className="leaflet-control-layers-selector",w.defaultChecked=g):w=this._createRadioElement("leaflet-base-layers_"+y(this),g),this._layerControlInputs.push(w),w.layerId=y(o.layer),ze(w,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+o.name;var R=document.createElement("span");h.appendChild(R),R.appendChild(w),R.appendChild(S);var q=o.overlay?this._overlaysList:this._baseLayersList;return q.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,h,g,w=[],S=[];this._handlingClick=!0;for(var R=o.length-1;R>=0;R--)h=o[R],g=this._getLayer(h.layerId).layer,h.checked?w.push(g):h.checked||S.push(g);for(R=0;R<S.length;R++)this._map.hasLayer(S[R])&&this._map.removeLayer(S[R]);for(R=0;R<w.length;R++)this._map.hasLayer(w[R])||this._map.addLayer(w[R]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,h,g,w=this._map.getZoom(),S=o.length-1;S>=0;S--)h=o[S],g=this._getLayer(h.layerId).layer,h.disabled=g.options.minZoom!==void 0&&w<g.options.minZoom||g.options.maxZoom!==void 0&&w>g.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,ze(o,"click",Dt),this.expand();var h=this;setTimeout(function(){dt(o,"click",Dt),h._preventClick=!1})}}),Zl=function(o,h,g){return new Gl(o,h,g)},ks=mn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var h="leaflet-control-zoom",g=ot("div",h+" leaflet-bar"),w=this.options;return this._zoomInButton=this._createButton(w.zoomInText,w.zoomInTitle,h+"-in",g,this._zoomIn),this._zoomOutButton=this._createButton(w.zoomOutText,w.zoomOutTitle,h+"-out",g,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),g},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,h,g,w,S){var R=ot("a",g,w);return R.innerHTML=o,R.href="#",R.title=h,R.setAttribute("role","button"),R.setAttribute("aria-label",h),ar(R),ze(R,"click",si),ze(R,"click",S,this),ze(R,"click",this._refocusOnMap,this),R},_updateDisabled:function(){var o=this._map,h="leaflet-disabled";vt(this._zoomInButton,h),vt(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Ce(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Ce(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});Xe.mergeOptions({zoomControl:!0}),Xe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ks,this.addControl(this.zoomControl))});var Ca=function(o){return new ks(o)},Zo=mn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var h="leaflet-control-scale",g=ot("div",h),w=this.options;return this._addScales(w,h+"-line",g),o.on(w.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),g},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,h,g){o.metric&&(this._mScale=ot("div",h,g)),o.imperial&&(this._iScale=ot("div",h,g))},_update:function(){var o=this._map,h=o.getSize().y/2,g=o.distance(o.containerPointToLatLng([0,h]),o.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(g)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var h=this._getRoundNum(o),g=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,g,h/o)},_updateImperial:function(o){var h=o*3.2808399,g,w,S;h>5280?(g=h/5280,w=this._getRoundNum(g),this._updateScale(this._iScale,w+" mi",w/g)):(S=this._getRoundNum(h),this._updateScale(this._iScale,S+" ft",S/h))},_updateScale:function(o,h,g){o.style.width=Math.round(this.options.maxWidth*g)+"px",o.innerHTML=h},_getRoundNum:function(o){var h=Math.pow(10,(Math.floor(o)+"").length-1),g=o/h;return g=g>=10?10:g>=5?5:g>=3?3:g>=2?2:1,h*g}}),Wo=function(o){return new Zo(o)},Ko='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ra=mn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(De.inlineSvg?Ko+" ":"")+"Leaflet</a>"},initialize:function(o){z(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=ot("div","leaflet-control-attribution"),ar(this._container);for(var h in o._layers)o._layers[h].getAttribution&&this.addAttribution(o._layers[h].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var h in this._attributions)this._attributions[h]&&o.push(h);var g=[];this.options.prefix&&g.push(this.options.prefix),o.length&&g.push(o.join(", ")),this._container.innerHTML=g.join(' <span aria-hidden="true">|</span> ')}}});Xe.mergeOptions({attributionControl:!0}),Xe.addInitHook(function(){this.options.attributionControl&&new Ra().addTo(this)});var Pa=function(o){return new Ra(o)};mn.Layers=Gl,mn.Zoom=ks,mn.Scale=Zo,mn.Attribution=Ra,Vi.layers=Zl,Vi.zoom=Ca,Vi.scale=Wo,Vi.attribution=Pa;var Fn=Ue.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Fn.addTo=function(o,h){return o.addHandler(h,this),this};var Wl={Events:J},ds=De.touch?"touchstart mousedown":"mousedown",Ui=de.extend({options:{clickTolerance:3},initialize:function(o,h,g,w){z(this,w),this._element=o,this._dragStartTarget=h||o,this._preventOutline=g},enable:function(){this._enabled||(ze(this._dragStartTarget,ds,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ui._dragging===this&&this.finishDrag(!0),dt(this._dragStartTarget,ds,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!ls(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Ui._dragging===this&&this.finishDrag();return}if(!(Ui._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Ui._dragging=this,this._preventOutline&&Fr(this._element),ir(),wn(),!this._moving)){this.fire("down");var h=o.touches?o.touches[0]:o,g=Ms(this._element);this._startPoint=new le(h.clientX,h.clientY),this._startPos=cs(this._element),this._parentScale=fn(g);var w=o.type==="mousedown";ze(document,w?"mousemove":"touchmove",this._onMove,this),ze(document,w?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var h=o.touches&&o.touches.length===1?o.touches[0]:o,g=new le(h.clientX,h.clientY)._subtract(this._startPoint);!g.x&&!g.y||Math.abs(g.x)+Math.abs(g.y)<this.options.clickTolerance||(g.x/=this._parentScale.x,g.y/=this._parentScale.y,Dt(o),this._moved||(this.fire("dragstart"),this._moved=!0,Ce(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ce(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(g),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),It(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){vt(document.body,"leaflet-dragging"),this._lastTarget&&(vt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),dt(document,"mousemove touchmove",this._onMove,this),dt(document,"mouseup touchend touchcancel",this._onUp,this),Aa(),ni();var h=this._moved&&this._moving;this._moving=!1,Ui._dragging=!1,h&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function $o(o,h,g){var w,S=[1,4,2,8],R,q,ee,oe,_e,Ae,Ie,Oe;for(R=0,Ae=o.length;R<Ae;R++)o[R]._code=re(o[R],h);for(ee=0;ee<4;ee++){for(Ie=S[ee],w=[],R=0,Ae=o.length,q=Ae-1;R<Ae;q=R++)oe=o[R],_e=o[q],oe._code&Ie?_e._code&Ie||(Oe=te(_e,oe,Ie,h,g),Oe._code=re(Oe,h),w.push(Oe)):(_e._code&Ie&&(Oe=te(_e,oe,Ie,h,g),Oe._code=re(Oe,h),w.push(Oe)),w.push(oe));o=w}return o}function Gr(o,h){var g,w,S,R,q,ee,oe,_e,Ae;if(!o||o.length===0)throw new Error("latlngs not passed");nt(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Ie=Ee([0,0]),Oe=Se(o),Ke=Oe.getNorthWest().distanceTo(Oe.getSouthWest())*Oe.getNorthEast().distanceTo(Oe.getNorthWest());Ke<1700&&(Ie=ja(o));var Rt=o.length,Ht=[];for(g=0;g<Rt;g++){var Nn=Ee(o[g]);Ht.push(h.project(Ee([Nn.lat-Ie.lat,Nn.lng-Ie.lng])))}for(ee=oe=_e=0,g=0,w=Rt-1;g<Rt;w=g++)S=Ht[g],R=Ht[w],q=S.y*R.x-R.y*S.x,oe+=(S.x+R.x)*q,_e+=(S.y+R.y)*q,ee+=q*3;ee===0?Ae=Ht[0]:Ae=[oe/ee,_e/ee];var Ti=h.unproject(F(Ae));return Ee([Ti.lat+Ie.lat,Ti.lng+Ie.lng])}function ja(o){for(var h=0,g=0,w=0,S=0;S<o.length;S++){var R=Ee(o[S]);h+=R.lat,g+=R.lng,w++}return Ee([h/w,g/w])}var Ia={__proto__:null,clipPolygon:$o,polygonCenter:Gr,centroid:ja};function An(o,h){if(!h||!o.length)return o.slice();var g=h*h;return o=E(o,g),o=lr(o,g),o}function Da(o,h,g){return Math.sqrt(Fe(o,h,g,!0))}function Kl(o,h,g){return Fe(o,h,g)}function lr(o,h){var g=o.length,w=typeof Uint8Array<"u"?Uint8Array:Array,S=new w(g);S[0]=S[g-1]=1,m(o,S,h,0,g-1);var R,q=[];for(R=0;R<g;R++)S[R]&&q.push(o[R]);return q}function m(o,h,g,w,S){var R=0,q,ee,oe;for(ee=w+1;ee<=S-1;ee++)oe=Fe(o[ee],o[w],o[S],!0),oe>R&&(q=ee,R=oe);R>g&&(h[q]=1,m(o,h,g,w,q),m(o,h,g,q,S))}function E(o,h){for(var g=[o[0]],w=1,S=0,R=o.length;w<R;w++)Te(o[w],o[S])>h&&(g.push(o[w]),S=w);return S<R-1&&g.push(o[R-1]),g}var N;function D(o,h,g,w,S){var R=w?N:re(o,g),q=re(h,g),ee,oe,_e;for(N=q;;){if(!(R|q))return[o,h];if(R&q)return!1;ee=R||q,oe=te(o,h,ee,g,S),_e=re(oe,g),ee===R?(o=oe,R=_e):(h=oe,q=_e)}}function te(o,h,g,w,S){var R=h.x-o.x,q=h.y-o.y,ee=w.min,oe=w.max,_e,Ae;return g&8?(_e=o.x+R*(oe.y-o.y)/q,Ae=oe.y):g&4?(_e=o.x+R*(ee.y-o.y)/q,Ae=ee.y):g&2?(_e=oe.x,Ae=o.y+q*(oe.x-o.x)/R):g&1&&(_e=ee.x,Ae=o.y+q*(ee.x-o.x)/R),new le(_e,Ae,S)}function re(o,h){var g=0;return o.x<h.min.x?g|=1:o.x>h.max.x&&(g|=2),o.y<h.min.y?g|=4:o.y>h.max.y&&(g|=8),g}function Te(o,h){var g=h.x-o.x,w=h.y-o.y;return g*g+w*w}function Fe(o,h,g,w){var S=h.x,R=h.y,q=g.x-S,ee=g.y-R,oe=q*q+ee*ee,_e;return oe>0&&(_e=((o.x-S)*q+(o.y-R)*ee)/oe,_e>1?(S=g.x,R=g.y):_e>0&&(S+=q*_e,R+=ee*_e)),q=o.x-S,ee=o.y-R,w?q*q+ee*ee:new le(S,R)}function nt(o){return!X(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function gt(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),nt(o)}function Mt(o,h){var g,w,S,R,q,ee,oe,_e;if(!o||o.length===0)throw new Error("latlngs not passed");nt(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Ae=Ee([0,0]),Ie=Se(o),Oe=Ie.getNorthWest().distanceTo(Ie.getSouthWest())*Ie.getNorthEast().distanceTo(Ie.getNorthWest());Oe<1700&&(Ae=ja(o));var Ke=o.length,Rt=[];for(g=0;g<Ke;g++){var Ht=Ee(o[g]);Rt.push(h.project(Ee([Ht.lat-Ae.lat,Ht.lng-Ae.lng])))}for(g=0,w=0;g<Ke-1;g++)w+=Rt[g].distanceTo(Rt[g+1])/2;if(w===0)_e=Rt[0];else for(g=0,R=0;g<Ke-1;g++)if(q=Rt[g],ee=Rt[g+1],S=q.distanceTo(ee),R+=S,R>w){oe=(R-w)/S,_e=[ee.x-oe*(ee.x-q.x),ee.y-oe*(ee.y-q.y)];break}var Nn=h.unproject(F(_e));return Ee([Nn.lat+Ae.lat,Nn.lng+Ae.lng])}var ri={__proto__:null,simplify:An,pointToSegmentDistance:Da,closestPointOnSegment:Kl,clipSegment:D,_getEdgeIntersection:te,_getBitCode:re,_sqClosestPointOnSegment:Fe,isFlat:nt,_flat:gt,polylineCenter:Mt},wi={project:function(o){return new le(o.lng,o.lat)},unproject:function(o){return new Re(o.y,o.x)},bounds:new ce([-180,-90],[180,90])},ai={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ce([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var h=Math.PI/180,g=this.R,w=o.lat*h,S=this.R_MINOR/g,R=Math.sqrt(1-S*S),q=R*Math.sin(w),ee=Math.tan(Math.PI/4-w/2)/Math.pow((1-q)/(1+q),R/2);return w=-g*Math.log(Math.max(ee,1e-10)),new le(o.lng*h*g,w)},unproject:function(o){for(var h=180/Math.PI,g=this.R,w=this.R_MINOR/g,S=Math.sqrt(1-w*w),R=Math.exp(-o.y/g),q=Math.PI/2-2*Math.atan(R),ee=0,oe=.1,_e;ee<15&&Math.abs(oe)>1e-7;ee++)_e=S*Math.sin(q),_e=Math.pow((1-_e)/(1+_e),S/2),oe=Math.PI/2-2*Math.atan(R*_e)-q,q+=oe;return new Re(q*h,o.x*h/g)}},Bi={__proto__:null,LonLat:wi,Mercator:ai,SphericalMercator:Pr},zi=a({},st,{code:"EPSG:3395",projection:ai,transformation:(function(){var o=.5/(Math.PI*ai.R);return es(o,.5,-o,.5)})()}),La=a({},st,{code:"EPSG:4326",projection:wi,transformation:es(1/180,1,-1/180,.5)}),op=a({},At,{projection:wi,transformation:es(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,h){var g=h.lng-o.lng,w=h.lat-o.lat;return Math.sqrt(g*g+w*w)},infinite:!0});At.Earth=st,At.EPSG3395=zi,At.EPSG3857=As,At.EPSG900913=ba,At.EPSG4326=La,At.Simple=op;var Fi=de.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[y(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[y(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var h=o.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var g=this.getEvents();h.on(g,this),this.once("remove",function(){h.off(g,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});Xe.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var h=y(o);return this._layers[h]?this:(this._layers[h]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var h=y(o);return this._layers[h]?(this._loaded&&o.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return y(o)in this._layers},eachLayer:function(o,h){for(var g in this._layers)o.call(h,this._layers[g]);return this},_addLayers:function(o){o=o?X(o)?o:[o]:[];for(var h=0,g=o.length;h<g;h++)this.addLayer(o[h])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[y(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var h=y(o);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,h=-1/0,g=this._getZoomSpan();for(var w in this._zoomBoundLayers){var S=this._zoomBoundLayers[w].options;o=S.minZoom===void 0?o:Math.min(o,S.minZoom),h=S.maxZoom===void 0?h:Math.max(h,S.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=o===1/0?void 0:o,g!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Zr=Fi.extend({initialize:function(o,h){z(this,h),this._layers={};var g,w;if(o)for(g=0,w=o.length;g<w;g++)this.addLayer(o[g])},addLayer:function(o){var h=this.getLayerId(o);return this._layers[h]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var h=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(o){var h=typeof o=="number"?o:this.getLayerId(o);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var h=Array.prototype.slice.call(arguments,1),g,w;for(g in this._layers)w=this._layers[g],w[o]&&w[o].apply(w,h);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,h){for(var g in this._layers)o.call(h,this._layers[g]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return y(o)}}),vd=function(o,h){return new Zr(o,h)},oi=Zr.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Zr.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Zr.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new be;for(var h in this._layers){var g=this._layers[h];o.extend(g.getBounds?g.getBounds():g.getLatLng())}return o}}),Yo=function(o,h){return new oi(o,h)},Ma=Ue.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){z(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,h){var g=this._getIconUrl(o);if(!g){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var w=this._createImg(g,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(w,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),w},_setIconStyles:function(o,h){var g=this.options,w=g[h+"Size"];typeof w=="number"&&(w=[w,w]);var S=F(w),R=F(h==="shadow"&&g.shadowAnchor||g.iconAnchor||S&&S.divideBy(2,!0));o.className="leaflet-marker-"+h+" "+(g.className||""),R&&(o.style.marginLeft=-R.x+"px",o.style.marginTop=-R.y+"px"),S&&(o.style.width=S.x+"px",o.style.height=S.y+"px")},_createImg:function(o,h){return h=h||document.createElement("img"),h.src=o,h},_getIconUrl:function(o){return De.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function $l(o){return new Ma(o)}var Oa=Ma.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Oa.imagePath!="string"&&(Oa.imagePath=this._detectIconPath()),(this.options.imagePath||Oa.imagePath)+Ma.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var h=function(g,w,S){var R=w.exec(g);return R&&R[S]};return o=h(o,/^url\((['"])?(.+)\1\)$/,2),o&&h(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=ot("div","leaflet-default-icon-path",document.body),h=os(o,"background-image")||os(o,"backgroundImage");if(document.body.removeChild(o),h=this._stripUrl(h),h)return h;var g=document.querySelector('link[href$="leaflet.css"]');return g?g.href.substring(0,g.href.length-11-1):""}}),wu=Fn.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Ui(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ce(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&vt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var h=this._marker,g=h._map,w=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,R=cs(h._icon),q=g.getPixelBounds(),ee=g.getPixelOrigin(),oe=xe(q.min._subtract(ee).add(S),q.max._subtract(ee).subtract(S));if(!oe.contains(R)){var _e=F((Math.max(oe.max.x,R.x)-oe.max.x)/(q.max.x-oe.max.x)-(Math.min(oe.min.x,R.x)-oe.min.x)/(q.min.x-oe.min.x),(Math.max(oe.max.y,R.y)-oe.max.y)/(q.max.y-oe.max.y)-(Math.min(oe.min.y,R.y)-oe.min.y)/(q.min.y-oe.min.y)).multiplyBy(w);g.panBy(_e,{animate:!1}),this._draggable._newPos._add(_e),this._draggable._startPos._add(_e),It(h._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=M(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(G(this._panRequest),this._panRequest=M(this._adjustPan.bind(this,o)))},_onDrag:function(o){var h=this._marker,g=h._shadow,w=cs(h._icon),S=h._map.layerPointToLatLng(w);g&&It(g,w),h._latlng=S,o.latlng=S,o.oldLatLng=this._oldLatLng,h.fire("move",o).fire("drag",o)},_onDragEnd:function(o){G(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),ka=Fi.extend({options:{icon:new Oa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,h){z(this,h),this._latlng=Ee(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var h=this._latlng;return this._latlng=Ee(o),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),g=o.icon.createIcon(this._icon),w=!1;g!==this._icon&&(this._icon&&this._removeIcon(),w=!0,o.title&&(g.title=o.title),g.tagName==="IMG"&&(g.alt=o.alt||"")),Ce(g,h),o.keyboard&&(g.tabIndex="0",g.setAttribute("role","button")),this._icon=g,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ze(g,"focus",this._panOnFocus,this);var S=o.icon.createShadow(this._shadow),R=!1;S!==this._shadow&&(this._removeShadow(),R=!0),S&&(Ce(S,h),S.alt=""),this._shadow=S,o.opacity<1&&this._updateOpacity(),w&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&R&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&dt(this._icon,"focus",this._panOnFocus,this),ht(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ht(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&It(this._icon,o),this._shadow&&It(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(Ce(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),wu)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new wu(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&bn(this._icon,o),this._shadow&&bn(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var h=this.options.icon.options,g=h.iconSize?F(h.iconSize):F(0,0),w=h.iconAnchor?F(h.iconAnchor):F(0,0);o.panInside(this._latlng,{paddingTopLeft:w,paddingBottomRight:g.subtract(w)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Tu(o,h){return new ka(o,h)}var Vs=Fi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return z(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Xo=Vs.extend({options:{fill:!0,radius:10},initialize:function(o,h){z(this,h),this._latlng=Ee(o),this._radius=this.options.radius},setLatLng:function(o){var h=this._latlng;return this._latlng=Ee(o),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var h=o&&o.radius||this._radius;return Vs.prototype.setStyle.call(this,o),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,h=this._radiusY||o,g=this._clickTolerance(),w=[o+g,h+g];this._pxBounds=new ce(this._point.subtract(w),this._point.add(w))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function _d(o,h){return new Xo(o,h)}var Eu=Xo.extend({initialize:function(o,h,g){if(typeof h=="number"&&(h=a({},g,{radius:h})),z(this,h),this._latlng=Ee(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new be(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Vs.prototype.setStyle,_project:function(){var o=this._latlng.lng,h=this._latlng.lat,g=this._map,w=g.options.crs;if(w.distance===st.distance){var S=Math.PI/180,R=this._mRadius/st.R/S,q=g.project([h+R,o]),ee=g.project([h-R,o]),oe=q.add(ee).divideBy(2),_e=g.unproject(oe).lat,Ae=Math.acos((Math.cos(R*S)-Math.sin(h*S)*Math.sin(_e*S))/(Math.cos(h*S)*Math.cos(_e*S)))/S;(isNaN(Ae)||Ae===0)&&(Ae=R/Math.cos(Math.PI/180*h)),this._point=oe.subtract(g.getPixelOrigin()),this._radius=isNaN(Ae)?0:oe.x-g.project([_e,o-Ae]).x,this._radiusY=oe.y-q.y}else{var Ie=w.unproject(w.project(this._latlng).subtract([this._mRadius,0]));this._point=g.latLngToLayerPoint(this._latlng),this._radius=this._point.x-g.latLngToLayerPoint(Ie).x}this._updateBounds()}});function lp(o,h,g){return new Eu(o,h,g)}var Us=Vs.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,h){z(this,h),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var h=1/0,g=null,w=Fe,S,R,q=0,ee=this._parts.length;q<ee;q++)for(var oe=this._parts[q],_e=1,Ae=oe.length;_e<Ae;_e++){S=oe[_e-1],R=oe[_e];var Ie=w(o,S,R,!0);Ie<h&&(h=Ie,g=w(o,S,R))}return g&&(g.distance=Math.sqrt(h)),g},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Mt(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,h){return h=h||this._defaultShape(),o=Ee(o),h.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new be,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return nt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var h=[],g=nt(o),w=0,S=o.length;w<S;w++)g?(h[w]=Ee(o[w]),this._bounds.extend(h[w])):h[w]=this._convertLatLngs(o[w]);return h},_project:function(){var o=new ce;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),h=new le(o,o);this._rawPxBounds&&(this._pxBounds=new ce([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(o,h,g){var w=o[0]instanceof Re,S=o.length,R,q;if(w){for(q=[],R=0;R<S;R++)q[R]=this._map.latLngToLayerPoint(o[R]),g.extend(q[R]);h.push(q)}else for(R=0;R<S;R++)this._projectLatlngs(o[R],h,g)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,g,w,S,R,q,ee,oe;for(g=0,S=0,R=this._rings.length;g<R;g++)for(oe=this._rings[g],w=0,q=oe.length;w<q-1;w++)ee=D(oe[w],oe[w+1],o,w,!0),ee&&(h[S]=h[S]||[],h[S].push(ee[0]),(ee[1]!==oe[w+1]||w===q-2)&&(h[S].push(ee[1]),S++))}},_simplifyPoints:function(){for(var o=this._parts,h=this.options.smoothFactor,g=0,w=o.length;g<w;g++)o[g]=An(o[g],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,h){var g,w,S,R,q,ee,oe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(g=0,R=this._parts.length;g<R;g++)for(ee=this._parts[g],w=0,q=ee.length,S=q-1;w<q;S=w++)if(!(!h&&w===0)&&Da(o,ee[S],ee[w])<=oe)return!0;return!1}});function cp(o,h){return new Us(o,h)}Us._flat=gt;var Va=Us.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Gr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var h=Us.prototype._convertLatLngs.call(this,o),g=h.length;return g>=2&&h[0]instanceof Re&&h[0].equals(h[g-1])&&h.pop(),h},_setLatLngs:function(o){Us.prototype._setLatLngs.call(this,o),nt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return nt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,h=this.options.weight,g=new le(h,h);if(o=new ce(o.min.subtract(g),o.max.add(g)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var w=0,S=this._rings.length,R;w<S;w++)R=$o(this._rings[w],o,!0),R.length&&this._parts.push(R)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var h=!1,g,w,S,R,q,ee,oe,_e;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(R=0,oe=this._parts.length;R<oe;R++)for(g=this._parts[R],q=0,_e=g.length,ee=_e-1;q<_e;ee=q++)w=g[q],S=g[ee],w.y>o.y!=S.y>o.y&&o.x<(S.x-w.x)*(o.y-w.y)/(S.y-w.y)+w.x&&(h=!h);return h||Us.prototype._containsPoint.call(this,o,!0)}});function li(o,h){return new Va(o,h)}var ci=oi.extend({initialize:function(o,h){z(this,h),this._layers={},o&&this.addData(o)},addData:function(o){var h=X(o)?o:o.features,g,w,S;if(h){for(g=0,w=h.length;g<w;g++)S=h[g],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var R=this.options;if(R.filter&&!R.filter(o))return this;var q=Qo(o,R);return q?(q.feature=Ua(o),q.defaultOptions=q.options,this.resetStyle(q),R.onEachFeature&&R.onEachFeature(o,q),this.addLayer(q)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=a({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(h){this._setLayerStyle(h,o)},this)},_setLayerStyle:function(o,h){o.setStyle&&(typeof h=="function"&&(h=h(o.feature)),o.setStyle(h))}});function Qo(o,h){var g=o.type==="Feature"?o.geometry:o,w=g?g.coordinates:null,S=[],R=h&&h.pointToLayer,q=h&&h.coordsToLatLng||Yl,ee,oe,_e,Ae;if(!w&&!g)return null;switch(g.type){case"Point":return ee=q(w),Su(R,o,ee,h);case"MultiPoint":for(_e=0,Ae=w.length;_e<Ae;_e++)ee=q(w[_e]),S.push(Su(R,o,ee,h));return new oi(S);case"LineString":case"MultiLineString":return oe=Jo(w,g.type==="LineString"?0:1,q),new Us(oe,h);case"Polygon":case"MultiPolygon":return oe=Jo(w,g.type==="Polygon"?1:2,q),new Va(oe,h);case"GeometryCollection":for(_e=0,Ae=g.geometries.length;_e<Ae;_e++){var Ie=Qo({geometry:g.geometries[_e],type:"Feature",properties:o.properties},h);Ie&&S.push(Ie)}return new oi(S);case"FeatureCollection":for(_e=0,Ae=g.features.length;_e<Ae;_e++){var Oe=Qo(g.features[_e],h);Oe&&S.push(Oe)}return new oi(S);default:throw new Error("Invalid GeoJSON object.")}}function Su(o,h,g,w){return o?o(h,g):new ka(g,w&&w.markersInheritOptions&&w)}function Yl(o){return new Re(o[1],o[0],o[2])}function Jo(o,h,g){for(var w=[],S=0,R=o.length,q;S<R;S++)q=h?Jo(o[S],h-1,g):(g||Yl)(o[S]),w.push(q);return w}function el(o,h){return o=Ee(o),o.alt!==void 0?[A(o.lng,h),A(o.lat,h),A(o.alt,h)]:[A(o.lng,h),A(o.lat,h)]}function Xl(o,h,g,w){for(var S=[],R=0,q=o.length;R<q;R++)S.push(h?Xl(o[R],nt(o[R])?0:h-1,g,w):el(o[R],w));return!h&&g&&S.length>0&&S.push(S[0].slice()),S}function Hi(o,h){return o.feature?a({},o.feature,{geometry:h}):Ua(h)}function Ua(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var Wr={toGeoJSON:function(o){return Hi(this,{type:"Point",coordinates:el(this.getLatLng(),o)})}};ka.include(Wr),Eu.include(Wr),Xo.include(Wr),Us.include({toGeoJSON:function(o){var h=!nt(this._latlngs),g=Xl(this._latlngs,h?1:0,!1,o);return Hi(this,{type:(h?"Multi":"")+"LineString",coordinates:g})}}),Va.include({toGeoJSON:function(o){var h=!nt(this._latlngs),g=h&&!nt(this._latlngs[0]),w=Xl(this._latlngs,g?2:h?1:0,!0,o);return h||(w=[w]),Hi(this,{type:(g?"Multi":"")+"Polygon",coordinates:w})}}),Zr.include({toMultiPoint:function(o){var h=[];return this.eachLayer(function(g){h.push(g.toGeoJSON(o).geometry.coordinates)}),Hi(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(o){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(o);var g=h==="GeometryCollection",w=[];return this.eachLayer(function(S){if(S.toGeoJSON){var R=S.toGeoJSON(o);if(g)w.push(R.geometry);else{var q=Ua(R);q.type==="FeatureCollection"?w.push.apply(w,q.features):w.push(q)}}}),g?Hi(this,{geometries:w,type:"GeometryCollection"}):{type:"FeatureCollection",features:w}}});function Ql(o,h){return new ci(o,h)}var xd=Ql,fs=Fi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,h,g){this._url=o,this._bounds=Se(h),z(this,g)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ce(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ht(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&ti(this._image),this},bringToBack:function(){return this._map&&bi(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=Se(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",h=this._image=o?this._url:ot("img");if(Ce(h,"leaflet-image-layer"),this._zoomAnimated&&Ce(h,"leaflet-zoom-animated"),this.options.className&&Ce(h,this.options.className),h.onselectstart=T,h.onmousemove=T,h.onload=u(this.fire,this,"load"),h.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(o){var h=this._map.getZoomScale(o.zoom),g=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Bn(this._image,g,h)},_reset:function(){var o=this._image,h=new ce(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),g=h.getSize();It(o,h.min),o.style.width=g.x+"px",o.style.height=g.y+"px"},_updateOpacity:function(){bn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),Ba=function(o,h,g){return new fs(o,h,g)},Jl=fs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",h=this._image=o?this._url:ot("video");if(Ce(h,"leaflet-image-layer"),this._zoomAnimated&&Ce(h,"leaflet-zoom-animated"),this.options.className&&Ce(h,this.options.className),h.onselectstart=T,h.onmousemove=T,h.onloadeddata=u(this.fire,this,"load"),o){for(var g=h.getElementsByTagName("source"),w=[],S=0;S<g.length;S++)w.push(g[S].src);this._url=g.length>0?w:[h.src];return}X(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var R=0;R<this._url.length;R++){var q=ot("source");q.src=this._url[R],h.appendChild(q)}}});function bd(o,h,g){return new Jl(o,h,g)}var cr=fs.extend({_initImage:function(){var o=this._image=this._url;Ce(o,"leaflet-image-layer"),this._zoomAnimated&&Ce(o,"leaflet-zoom-animated"),this.options.className&&Ce(o,this.options.className),o.onselectstart=T,o.onmousemove=T}});function wd(o,h,g){return new cr(o,h,g)}var qi=Fi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,h){o&&(o instanceof Re||X(o))?(this._latlng=Ee(o),z(this,h)):(z(this,o),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&bn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&bn(this._container,1),this.bringToFront(),this.options.interactive&&(Ce(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(bn(this._container,0),this._removeTimeout=setTimeout(u(ht,void 0,this._container),200)):ht(this._container),this.options.interactive&&(vt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=Ee(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ti(this._container),this},bringToBack:function(){return this._map&&bi(this._container),this},_prepareOpen:function(o){var h=this._source;if(!h._map)return!1;if(h instanceof oi){h=null;var g=this._source._layers;for(var w in g)if(g[w]._map){h=g[w];break}if(!h)return!1;this._source=h}if(!o)if(h.getCenter)o=h.getCenter();else if(h.getLatLng)o=h.getLatLng();else if(h.getBounds)o=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")o.innerHTML=h;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),h=F(this.options.offset),g=this._getAnchor();this._zoomAnimated?It(this._container,o.add(g)):h=h.add(o).add(g);var w=this._containerBottom=-h.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=w+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});Xe.include({_initOverlay:function(o,h,g,w){var S=h;return S instanceof o||(S=new o(w).setContent(h)),g&&S.setLatLng(g),S}}),Fi.include({_initOverlay:function(o,h,g,w){var S=g;return S instanceof o?(z(S,w),S._source=this):(S=h&&!w?h:new o(w,this),S.setContent(g)),S}});var tl=qi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,qi.prototype.openOn.call(this,o)},onAdd:function(o){qi.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Vs||this._source.on("preclick",ft))},onRemove:function(o){qi.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Vs||this._source.off("preclick",ft))},getEvents:function(){var o=qi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",h=this._container=ot("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),g=this._wrapper=ot("div",o+"-content-wrapper",h);if(this._contentNode=ot("div",o+"-content",g),ar(h),rr(this._contentNode),ze(h,"contextmenu",ft),this._tipContainer=ot("div",o+"-tip-container",h),this._tip=ot("div",o+"-tip",this._tipContainer),this.options.closeButton){var w=this._closeButton=ot("a",o+"-close-button",h);w.setAttribute("role","button"),w.setAttribute("aria-label","Close popup"),w.href="#close",w.innerHTML='<span aria-hidden="true">&#215;</span>',ze(w,"click",function(S){Dt(S),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,h=o.style;h.width="",h.whiteSpace="nowrap";var g=o.offsetWidth;g=Math.min(g,this.options.maxWidth),g=Math.max(g,this.options.minWidth),h.width=g+1+"px",h.whiteSpace="",h.height="";var w=o.offsetHeight,S=this.options.maxHeight,R="leaflet-popup-scrolled";S&&w>S?(h.height=S+"px",Ce(o,R)):vt(o,R),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),g=this._getAnchor();It(this._container,h.add(g))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,h=parseInt(os(this._container,"marginBottom"),10)||0,g=this._container.offsetHeight+h,w=this._containerWidth,S=new le(this._containerLeft,-g-this._containerBottom);S._add(cs(this._container));var R=o.layerPointToContainerPoint(S),q=F(this.options.autoPanPadding),ee=F(this.options.autoPanPaddingTopLeft||q),oe=F(this.options.autoPanPaddingBottomRight||q),_e=o.getSize(),Ae=0,Ie=0;R.x+w+oe.x>_e.x&&(Ae=R.x+w-_e.x+oe.x),R.x-Ae-ee.x<0&&(Ae=R.x-ee.x),R.y+g+oe.y>_e.y&&(Ie=R.y+g-_e.y+oe.y),R.y-Ie-ee.y<0&&(Ie=R.y-ee.y),(Ae||Ie)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([Ae,Ie]))}},_getAnchor:function(){return F(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),up=function(o,h){return new tl(o,h)};Xe.mergeOptions({closePopupOnClick:!0}),Xe.include({openPopup:function(o,h,g){return this._initOverlay(tl,o,h,g).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),Fi.include({bindPopup:function(o,h){return this._popup=this._initOverlay(tl,this._popup,o,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof oi||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){si(o);var h=o.layer||o.target;if(this._popup._source===h&&!(h instanceof Vs)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=h,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var ec=qi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){qi.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){qi.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=qi.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",h=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ot("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var h,g,w=this._map,S=this._container,R=w.latLngToContainerPoint(w.getCenter()),q=w.layerPointToContainerPoint(o),ee=this.options.direction,oe=S.offsetWidth,_e=S.offsetHeight,Ae=F(this.options.offset),Ie=this._getAnchor();ee==="top"?(h=oe/2,g=_e):ee==="bottom"?(h=oe/2,g=0):ee==="center"?(h=oe/2,g=_e/2):ee==="right"?(h=0,g=_e/2):ee==="left"?(h=oe,g=_e/2):q.x<R.x?(ee="right",h=0,g=_e/2):(ee="left",h=oe+(Ae.x+Ie.x)*2,g=_e/2),o=o.subtract(F(h,g,!0)).add(Ae).add(Ie),vt(S,"leaflet-tooltip-right"),vt(S,"leaflet-tooltip-left"),vt(S,"leaflet-tooltip-top"),vt(S,"leaflet-tooltip-bottom"),Ce(S,"leaflet-tooltip-"+ee),It(S,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&bn(this._container,o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(h)},_getAnchor:function(){return F(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),hp=function(o,h){return new ec(o,h)};Xe.include({openTooltip:function(o,h,g){return this._initOverlay(ec,o,h,g).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),Fi.include({bindTooltip:function(o,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ec,this._tooltip,o,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var h=o?"off":"on",g={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?g.add=this._openTooltip:(g.mouseover=this._openTooltip,g.mouseout=this.closeTooltip,g.click=this._openTooltip,this._map?this._addFocusListeners():g.add=this._addFocusListeners),this._tooltip.options.sticky&&(g.mousemove=this._moveTooltip),this[h](g),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof oi||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&(ze(h,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),ze(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var h=o.latlng,g,w;this._tooltip.options.sticky&&o.originalEvent&&(g=this._map.mouseEventToContainerPoint(o.originalEvent),w=this._map.containerPointToLayerPoint(g),h=this._map.layerPointToLatLng(w)),this._tooltip.setLatLng(h)}});var Au=Ma.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var h=o&&o.tagName==="DIV"?o:document.createElement("div"),g=this.options;if(g.html instanceof Element?(wt(h),h.appendChild(g.html)):h.innerHTML=g.html!==!1?g.html:"",g.bgPos){var w=F(g.bgPos);h.style.backgroundPosition=-w.x+"px "+-w.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function Td(o){return new Au(o)}Ma.Default=Oa;var Kr=Fi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:De.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){z(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),ht(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ti(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(bi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof le?o:new le(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var h=this.getPane().children,g=-o(-1/0,1/0),w=0,S=h.length,R;w<S;w++)R=h[w].style.zIndex,h[w]!==this._container&&R&&(g=o(g,+R));isFinite(g)&&(this.options.zIndex=g+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!De.ielt9){bn(this._container,this.options.opacity);var o=+new Date,h=!1,g=!1;for(var w in this._tiles){var S=this._tiles[w];if(!(!S.current||!S.loaded)){var R=Math.min(1,(o-S.loaded)/200);bn(S.el,R),R<1?h=!0:(S.active?g=!0:this._onOpaqueTile(S),S.active=!0)}}g&&!this._noPrune&&this._pruneTiles(),h&&(G(this._fadeFrame),this._fadeFrame=M(this._updateOpacity,this))}},_onOpaqueTile:T,_initContainer:function(){this._container||(this._container=ot("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,h=this.options.maxZoom;if(o!==void 0){for(var g in this._levels)g=Number(g),this._levels[g].el.children.length||g===o?(this._levels[g].el.style.zIndex=h-Math.abs(o-g),this._onUpdateLevel(g)):(ht(this._levels[g].el),this._removeTilesAtZoom(g),this._onRemoveLevel(g),delete this._levels[g]);var w=this._levels[o],S=this._map;return w||(w=this._levels[o]={},w.el=ot("div","leaflet-tile-container leaflet-zoom-animated",this._container),w.el.style.zIndex=h,w.origin=S.project(S.unproject(S.getPixelOrigin()),o).round(),w.zoom=o,this._setZoomTransform(w,S.getCenter(),S.getZoom()),T(w.el.offsetWidth),this._onCreateLevel(w)),this._level=w,w}},_onUpdateLevel:T,_onRemoveLevel:T,_onCreateLevel:T,_pruneTiles:function(){if(this._map){var o,h,g=this._map.getZoom();if(g>this.options.maxZoom||g<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)h=this._tiles[o],h.retain=h.current;for(o in this._tiles)if(h=this._tiles[o],h.current&&!h.active){var w=h.coords;this._retainParent(w.x,w.y,w.z,w.z-5)||this._retainChildren(w.x,w.y,w.z,w.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var h in this._tiles)this._tiles[h].coords.z===o&&this._removeTile(h)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)ht(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,h,g,w){var S=Math.floor(o/2),R=Math.floor(h/2),q=g-1,ee=new le(+S,+R);ee.z=+q;var oe=this._tileCoordsToKey(ee),_e=this._tiles[oe];return _e&&_e.active?(_e.retain=!0,!0):(_e&&_e.loaded&&(_e.retain=!0),q>w?this._retainParent(S,R,q,w):!1)},_retainChildren:function(o,h,g,w){for(var S=2*o;S<2*o+2;S++)for(var R=2*h;R<2*h+2;R++){var q=new le(S,R);q.z=g+1;var ee=this._tileCoordsToKey(q),oe=this._tiles[ee];if(oe&&oe.active){oe.retain=!0;continue}else oe&&oe.loaded&&(oe.retain=!0);g+1<w&&this._retainChildren(S,R,g+1,w)}},_resetView:function(o){var h=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var h=this.options;return h.minNativeZoom!==void 0&&o<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<o?h.maxNativeZoom:o},_setView:function(o,h,g,w){var S=Math.round(h);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var R=this.options.updateWhenZooming&&S!==this._tileZoom;(!w||R)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(o),g||this._pruneTiles(),this._noPrune=!!g),this._setZoomTransforms(o,h)},_setZoomTransforms:function(o,h){for(var g in this._levels)this._setZoomTransform(this._levels[g],o,h)},_setZoomTransform:function(o,h,g){var w=this._map.getZoomScale(g,o.zoom),S=o.origin.multiplyBy(w).subtract(this._map._getNewPixelOrigin(h,g)).round();De.any3d?Bn(o.el,S,w):It(o.el,S)},_resetGrid:function(){var o=this._map,h=o.options.crs,g=this._tileSize=this.getTileSize(),w=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,h.wrapLng[0]],w).x/g.x),Math.ceil(o.project([0,h.wrapLng[1]],w).x/g.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([h.wrapLat[0],0],w).y/g.x),Math.ceil(o.project([h.wrapLat[1],0],w).y/g.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var h=this._map,g=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),w=h.getZoomScale(g,this._tileZoom),S=h.project(o,this._tileZoom).floor(),R=h.getSize().divideBy(w*2);return new ce(S.subtract(R),S.add(R))},_update:function(o){var h=this._map;if(h){var g=this._clampZoom(h.getZoom());if(o===void 0&&(o=h.getCenter()),this._tileZoom!==void 0){var w=this._getTiledPixelBounds(o),S=this._pxBoundsToTileRange(w),R=S.getCenter(),q=[],ee=this.options.keepBuffer,oe=new ce(S.getBottomLeft().subtract([ee,-ee]),S.getTopRight().add([ee,-ee]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var _e in this._tiles){var Ae=this._tiles[_e].coords;(Ae.z!==this._tileZoom||!oe.contains(new le(Ae.x,Ae.y)))&&(this._tiles[_e].current=!1)}if(Math.abs(g-this._tileZoom)>1){this._setView(o,g);return}for(var Ie=S.min.y;Ie<=S.max.y;Ie++)for(var Oe=S.min.x;Oe<=S.max.x;Oe++){var Ke=new le(Oe,Ie);if(Ke.z=this._tileZoom,!!this._isValidTile(Ke)){var Rt=this._tiles[this._tileCoordsToKey(Ke)];Rt?Rt.current=!0:q.push(Ke)}}if(q.sort(function(Nn,Ti){return Nn.distanceTo(R)-Ti.distanceTo(R)}),q.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ht=document.createDocumentFragment();for(Oe=0;Oe<q.length;Oe++)this._addTile(q[Oe],Ht);this._level.el.appendChild(Ht)}}}},_isValidTile:function(o){var h=this._map.options.crs;if(!h.infinite){var g=this._globalTileRange;if(!h.wrapLng&&(o.x<g.min.x||o.x>g.max.x)||!h.wrapLat&&(o.y<g.min.y||o.y>g.max.y))return!1}if(!this.options.bounds)return!0;var w=this._tileCoordsToBounds(o);return Se(this.options.bounds).overlaps(w)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var h=this._map,g=this.getTileSize(),w=o.scaleBy(g),S=w.add(g),R=h.unproject(w,o.z),q=h.unproject(S,o.z);return[R,q]},_tileCoordsToBounds:function(o){var h=this._tileCoordsToNwSe(o),g=new be(h[0],h[1]);return this.options.noWrap||(g=this._map.wrapLatLngBounds(g)),g},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var h=o.split(":"),g=new le(+h[0],+h[1]);return g.z=+h[2],g},_removeTile:function(o){var h=this._tiles[o];h&&(ht(h.el),delete this._tiles[o],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Ce(o,"leaflet-tile");var h=this.getTileSize();o.style.width=h.x+"px",o.style.height=h.y+"px",o.onselectstart=T,o.onmousemove=T,De.ielt9&&this.options.opacity<1&&bn(o,this.options.opacity)},_addTile:function(o,h){var g=this._getTilePos(o),w=this._tileCoordsToKey(o),S=this.createTile(this._wrapCoords(o),u(this._tileReady,this,o));this._initTile(S),this.createTile.length<2&&M(u(this._tileReady,this,o,null,S)),It(S,g),this._tiles[w]={el:S,coords:o,current:!0},h.appendChild(S),this.fire("tileloadstart",{tile:S,coords:o})},_tileReady:function(o,h,g){h&&this.fire("tileerror",{error:h,tile:g,coords:o});var w=this._tileCoordsToKey(o);g=this._tiles[w],g&&(g.loaded=+new Date,this._map._fadeAnimated?(bn(g.el,0),G(this._fadeFrame),this._fadeFrame=M(this._updateOpacity,this)):(g.active=!0,this._pruneTiles()),h||(Ce(g.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:g.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),De.ielt9||!this._map._fadeAnimated?M(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var h=new le(this._wrapX?x(o.x,this._wrapX):o.x,this._wrapY?x(o.y,this._wrapY):o.y);return h.z=o.z,h},_pxBoundsToTileRange:function(o){var h=this.getTileSize();return new ce(o.min.unscaleBy(h).floor(),o.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function Gi(o){return new Kr(o)}var $r=Kr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,h){this._url=o,h=z(this,h),h.detectRetina&&De.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,h){return this._url===o&&h===void 0&&(h=!0),this._url=o,h||this.redraw(),this},createTile:function(o,h){var g=document.createElement("img");return ze(g,"load",u(this._tileOnLoad,this,h,g)),ze(g,"error",u(this._tileOnError,this,h,g)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(g.referrerPolicy=this.options.referrerPolicy),g.alt="",g.src=this.getTileUrl(o),g},getTileUrl:function(o){var h={r:De.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var g=this._globalTileRange.max.y-o.y;this.options.tms&&(h.y=g),h["-y"]=g}return Y(this._url,a(h,this.options))},_tileOnLoad:function(o,h){De.ielt9?setTimeout(u(o,this,null,h),0):o(null,h)},_tileOnError:function(o,h,g){var w=this.options.errorTileUrl;w&&h.getAttribute("src")!==w&&(h.src=w),o(g,h)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,h=this.options.maxZoom,g=this.options.zoomReverse,w=this.options.zoomOffset;return g&&(o=h-o),o+w},_getSubdomain:function(o){var h=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var o,h;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(h=this._tiles[o].el,h.onload=T,h.onerror=T,!h.complete)){h.src=he;var g=this._tiles[o].coords;ht(h),delete this._tiles[o],this.fire("tileabort",{tile:h,coords:g})}},_removeTile:function(o){var h=this._tiles[o];if(h)return h.el.setAttribute("src",he),Kr.prototype._removeTile.call(this,o)},_tileReady:function(o,h,g){if(!(!this._map||g&&g.getAttribute("src")===he))return Kr.prototype._tileReady.call(this,o,h,g)}});function ui(o,h){return new $r(o,h)}var hi=$r.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,h){this._url=o;var g=a({},this.defaultWmsParams);for(var w in h)w in this.options||(g[w]=h[w]);h=z(this,h);var S=h.detectRetina&&De.retina?2:1,R=this.getTileSize();g.width=R.x*S,g.height=R.y*S,this.wmsParams=g},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,$r.prototype.onAdd.call(this,o)},getTileUrl:function(o){var h=this._tileCoordsToNwSe(o),g=this._crs,w=xe(g.project(h[0]),g.project(h[1])),S=w.min,R=w.max,q=(this._wmsVersion>=1.3&&this._crs===La?[S.y,S.x,R.y,R.x]:[S.x,S.y,R.x,R.y]).join(","),ee=$r.prototype.getTileUrl.call(this,o);return ee+V(this.wmsParams,ee,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+q},setParams:function(o,h){return a(this.wmsParams,o),h||this.redraw(),this}});function za(o,h){return new hi(o,h)}$r.WMS=hi,ui.wms=za;var Zi=Fi.extend({options:{padding:.1},initialize:function(o){z(this,o),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ce(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,h){var g=this._map.getZoomScale(h,this._zoom),w=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,h),R=w.multiplyBy(-g).add(S).subtract(this._map._getNewPixelOrigin(o,h));De.any3d?Bn(this._container,R,g):It(this._container,R)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,h=this._map.getSize(),g=this._map.containerPointToLayerPoint(h.multiplyBy(-o)).round();this._bounds=new ce(g,g.add(h.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),nl=Zi.extend({options:{tolerance:0},getEvents:function(){var o=Zi.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Zi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");ze(o,"mousemove",this._onMouseMove,this),ze(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ze(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){G(this._redrawRequest),delete this._ctx,ht(this._container),dt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var h in this._layers)o=this._layers[h],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Zi.prototype._update.call(this);var o=this._bounds,h=this._container,g=o.getSize(),w=De.retina?2:1;It(h,o.min),h.width=w*g.x,h.height=w*g.y,h.style.width=g.x+"px",h.style.height=g.y+"px",De.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Zi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[y(o)]=o;var h=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var h=o._order,g=h.next,w=h.prev;g?g.prev=w:this._drawLast=w,w?w.next=g:this._drawFirst=g,delete o._order,delete this._layers[y(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var h=o.options.dashArray.split(/[, ]+/),g=[],w,S;for(S=0;S<h.length;S++){if(w=Number(h[S]),isNaN(w))return;g.push(w)}o.options._dashArray=g}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||M(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var h=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ce,this._redrawBounds.extend(o._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(o._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var h=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,h=this._redrawBounds;if(this._ctx.save(),h){var g=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,g.x,g.y),this._ctx.clip()}this._drawing=!0;for(var w=this._drawFirst;w;w=w.next)o=w.layer,(!h||o._pxBounds&&o._pxBounds.intersects(h))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,h){if(this._drawing){var g,w,S,R,q=o._parts,ee=q.length,oe=this._ctx;if(ee){for(oe.beginPath(),g=0;g<ee;g++){for(w=0,S=q[g].length;w<S;w++)R=q[g][w],oe[w?"lineTo":"moveTo"](R.x,R.y);h&&oe.closePath()}this._fillStroke(oe,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var h=o._point,g=this._ctx,w=Math.max(Math.round(o._radius),1),S=(Math.max(Math.round(o._radiusY),1)||w)/w;S!==1&&(g.save(),g.scale(1,S)),g.beginPath(),g.arc(h.x,h.y/S,w,0,Math.PI*2,!1),S!==1&&g.restore(),this._fillStroke(g,o)}},_fillStroke:function(o,h){var g=h.options;g.fill&&(o.globalAlpha=g.fillOpacity,o.fillStyle=g.fillColor||g.color,o.fill(g.fillRule||"evenodd")),g.stroke&&g.weight!==0&&(o.setLineDash&&o.setLineDash(h.options&&h.options._dashArray||[]),o.globalAlpha=g.opacity,o.lineWidth=g.weight,o.strokeStyle=g.color,o.lineCap=g.lineCap,o.lineJoin=g.lineJoin,o.stroke())},_onClick:function(o){for(var h=this._map.mouseEventToLayerPoint(o),g,w,S=this._drawFirst;S;S=S.next)g=S.layer,g.options.interactive&&g._containsPoint(h)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(g))&&(w=g);this._fireEvent(w?[w]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,h)}},_handleMouseOut:function(o){var h=this._hoveredLayer;h&&(vt(this._container,"leaflet-interactive"),this._fireEvent([h],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,h){if(!this._mouseHoverThrottled){for(var g,w,S=this._drawFirst;S;S=S.next)g=S.layer,g.options.interactive&&g._containsPoint(h)&&(w=g);w!==this._hoveredLayer&&(this._handleMouseOut(o),w&&(Ce(this._container,"leaflet-interactive"),this._fireEvent([w],o,"mouseover"),this._hoveredLayer=w)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,h,g){this._map._fireDOMEvent(h,g||h.type,o)},_bringToFront:function(o){var h=o._order;if(h){var g=h.next,w=h.prev;if(g)g.prev=w;else return;w?w.next=g:g&&(this._drawFirst=g),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(o)}},_bringToBack:function(o){var h=o._order;if(h){var g=h.next,w=h.prev;if(w)w.next=g;else return;g?g.prev=w:w&&(this._drawLast=w),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(o)}}});function il(o){return De.canvas?new nl(o):null}var Yr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Fa={_initContainer:function(){this._container=ot("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Zi.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var h=o._container=Yr("shape");Ce(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",o._path=Yr("path"),h.appendChild(o._path),this._updateStyle(o),this._layers[y(o)]=o},_addPath:function(o){var h=o._container;this._container.appendChild(h),o.options.interactive&&o.addInteractiveTarget(h)},_removePath:function(o){var h=o._container;ht(h),o.removeInteractiveTarget(h),delete this._layers[y(o)]},_updateStyle:function(o){var h=o._stroke,g=o._fill,w=o.options,S=o._container;S.stroked=!!w.stroke,S.filled=!!w.fill,w.stroke?(h||(h=o._stroke=Yr("stroke")),S.appendChild(h),h.weight=w.weight+"px",h.color=w.color,h.opacity=w.opacity,w.dashArray?h.dashStyle=X(w.dashArray)?w.dashArray.join(" "):w.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=w.lineCap.replace("butt","flat"),h.joinstyle=w.lineJoin):h&&(S.removeChild(h),o._stroke=null),w.fill?(g||(g=o._fill=Yr("fill")),S.appendChild(g),g.color=w.fillColor||w.color,g.opacity=w.fillOpacity):g&&(S.removeChild(g),o._fill=null)},_updateCircle:function(o){var h=o._point.round(),g=Math.round(o._radius),w=Math.round(o._radiusY||g);this._setPath(o,o._empty()?"M0 0":"AL "+h.x+","+h.y+" "+g+","+w+" 0,"+65535*360)},_setPath:function(o,h){o._path.v=h},_bringToFront:function(o){ti(o._container)},_bringToBack:function(o){bi(o._container)}},sl=De.vml?Yr:kl,ur=Zi.extend({_initContainer:function(){this._container=sl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=sl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ht(this._container),dt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Zi.prototype._update.call(this);var o=this._bounds,h=o.getSize(),g=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,g.setAttribute("width",h.x),g.setAttribute("height",h.y)),It(g,o.min),g.setAttribute("viewBox",[o.min.x,o.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(o){var h=o._path=sl("path");o.options.className&&Ce(h,o.options.className),o.options.interactive&&Ce(h,"leaflet-interactive"),this._updateStyle(o),this._layers[y(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){ht(o._path),o.removeInteractiveTarget(o._path),delete this._layers[y(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var h=o._path,g=o.options;h&&(g.stroke?(h.setAttribute("stroke",g.color),h.setAttribute("stroke-opacity",g.opacity),h.setAttribute("stroke-width",g.weight),h.setAttribute("stroke-linecap",g.lineCap),h.setAttribute("stroke-linejoin",g.lineJoin),g.dashArray?h.setAttribute("stroke-dasharray",g.dashArray):h.removeAttribute("stroke-dasharray"),g.dashOffset?h.setAttribute("stroke-dashoffset",g.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),g.fill?(h.setAttribute("fill",g.fillColor||g.color),h.setAttribute("fill-opacity",g.fillOpacity),h.setAttribute("fill-rule",g.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(o,h){this._setPath(o,wa(o._parts,h))},_updateCircle:function(o){var h=o._point,g=Math.max(Math.round(o._radius),1),w=Math.max(Math.round(o._radiusY),1)||g,S="a"+g+","+w+" 0 1,0 ",R=o._empty()?"M0 0":"M"+(h.x-g)+","+h.y+S+g*2+",0 "+S+-g*2+",0 ";this._setPath(o,R)},_setPath:function(o,h){o._path.setAttribute("d",h)},_bringToFront:function(o){ti(o._path)},_bringToBack:function(o){bi(o._path)}});De.vml&&ur.include(Fa);function Xr(o){return De.svg||De.vml?new ur(o):null}Xe.include({getRenderer:function(o){var h=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var h=this._paneRenderers[o];return h===void 0&&(h=this._createRenderer({pane:o}),this._paneRenderers[o]=h),h},_createRenderer:function(o){return this.options.preferCanvas&&il(o)||Xr(o)}});var Ed=Va.extend({initialize:function(o,h){Va.prototype.initialize.call(this,this._boundsToLatLngs(o),h)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=Se(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function di(o,h){return new Ed(o,h)}ur.create=sl,ur.pointsToPath=wa,ci.geometryToLayer=Qo,ci.coordsToLatLng=Yl,ci.coordsToLatLngs=Jo,ci.latLngToCoords=el,ci.latLngsToCoords=Xl,ci.getFeature=Hi,ci.asFeature=Ua,Xe.mergeOptions({boxZoom:!0});var tc=Fn.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){ze(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){dt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ht(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),wn(),ir(),this._startPoint=this._map.mouseEventToContainerPoint(o),ze(document,{contextmenu:si,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=ot("div","leaflet-zoom-box",this._container),Ce(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var h=new ce(this._point,this._startPoint),g=h.getSize();It(this._box,h.min),this._box.style.width=g.x+"px",this._box.style.height=g.y+"px"},_finish:function(){this._moved&&(ht(this._box),vt(this._container,"leaflet-crosshair")),ni(),Aa(),dt(document,{contextmenu:si,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var h=new be(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Xe.addInitHook("addHandler","boxZoom",tc),Xe.mergeOptions({doubleClickZoom:!0});var ms=Fn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var h=this._map,g=h.getZoom(),w=h.options.zoomDelta,S=o.originalEvent.shiftKey?g-w:g+w;h.options.doubleClickZoom==="center"?h.setZoom(S):h.setZoomAround(o.containerPoint,S)}});Xe.addInitHook("addHandler","doubleClickZoom",ms),Xe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Nu=Fn.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Ui(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Ce(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){vt(this._map._container,"leaflet-grab"),vt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=Se(this._map.options.maxBounds);this._offsetLimit=xe(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var h=this._lastTime=+new Date,g=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(g),this._times.push(h),this._prunePositions(h)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,h){return o-(o-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;o.x<h.min.x&&(o.x=this._viscousLimit(o.x,h.min.x)),o.y<h.min.y&&(o.y=this._viscousLimit(o.y,h.min.y)),o.x>h.max.x&&(o.x=this._viscousLimit(o.x,h.max.x)),o.y>h.max.y&&(o.y=this._viscousLimit(o.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,h=Math.round(o/2),g=this._initialWorldOffset,w=this._draggable._newPos.x,S=(w-h+g)%o+h-g,R=(w+h+g)%o-h-g,q=Math.abs(S+g)<Math.abs(R+g)?S:R;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=q},_onDragEnd:function(o){var h=this._map,g=h.options,w=!g.inertia||o.noInertia||this._times.length<2;if(h.fire("dragend",o),w)h.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),R=(this._lastTime-this._times[0])/1e3,q=g.easeLinearity,ee=S.multiplyBy(q/R),oe=ee.distanceTo([0,0]),_e=Math.min(g.inertiaMaxSpeed,oe),Ae=ee.multiplyBy(_e/oe),Ie=_e/(g.inertiaDeceleration*q),Oe=Ae.multiplyBy(-Ie/2).round();!Oe.x&&!Oe.y?h.fire("moveend"):(Oe=h._limitOffset(Oe,h.options.maxBounds),M(function(){h.panBy(Oe,{duration:Ie,easeLinearity:q,noMoveStart:!0,animate:!0})}))}}});Xe.addInitHook("addHandler","dragging",Nu),Xe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var rl=Fn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),ze(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),dt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,h=document.documentElement,g=o.scrollTop||h.scrollTop,w=o.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(w,g)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var h=this._panKeys={},g=this.keyCodes,w,S;for(w=0,S=g.left.length;w<S;w++)h[g.left[w]]=[-1*o,0];for(w=0,S=g.right.length;w<S;w++)h[g.right[w]]=[o,0];for(w=0,S=g.down.length;w<S;w++)h[g.down[w]]=[0,o];for(w=0,S=g.up.length;w<S;w++)h[g.up[w]]=[0,-1*o]},_setZoomDelta:function(o){var h=this._zoomKeys={},g=this.keyCodes,w,S;for(w=0,S=g.zoomIn.length;w<S;w++)h[g.zoomIn[w]]=o;for(w=0,S=g.zoomOut.length;w<S;w++)h[g.zoomOut[w]]=-o},_addHooks:function(){ze(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){dt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var h=o.keyCode,g=this._map,w;if(h in this._panKeys){if(!g._panAnim||!g._panAnim._inProgress)if(w=this._panKeys[h],o.shiftKey&&(w=F(w).multiplyBy(3)),g.options.maxBounds&&(w=g._limitOffset(F(w),g.options.maxBounds)),g.options.worldCopyJump){var S=g.wrapLatLng(g.unproject(g.project(g.getCenter()).add(w)));g.panTo(S)}else g.panBy(w)}else if(h in this._zoomKeys)g.setZoom(g.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&g._popup&&g._popup.options.closeOnEscapeKey)g.closePopup();else return;si(o)}}});Xe.addInitHook("addHandler","keyboard",rl),Xe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var hr=Fn.extend({addHooks:function(){ze(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){dt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var h=or(o),g=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var w=Math.max(g-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),w),si(o)},_performZoom:function(){var o=this._map,h=o.getZoom(),g=this._map.options.zoomSnap||0;o._stop();var w=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(w))))/Math.LN2,R=g?Math.ceil(S/g)*g:S,q=o._limitZoom(h+(this._delta>0?R:-R))-h;this._delta=0,this._startTime=null,q&&(o.options.scrollWheelZoom==="center"?o.setZoom(h+q):o.setZoomAround(this._lastMousePos,h+q))}});Xe.addInitHook("addHandler","scrollWheelZoom",hr);var Cu=600;Xe.mergeOptions({tapHold:De.touchNative&&De.safari&&De.mobile,tapTolerance:15});var nc=Fn.extend({addHooks:function(){ze(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){dt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var h=o.touches[0];this._startPos=this._newPos=new le(h.clientX,h.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(ze(document,"touchend",Dt),ze(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),Cu),ze(document,"touchend touchcancel contextmenu",this._cancel,this),ze(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){dt(document,"touchend",Dt),dt(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),dt(document,"touchend touchcancel contextmenu",this._cancel,this),dt(document,"touchmove",this._onMove,this)},_onMove:function(o){var h=o.touches[0];this._newPos=new le(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,h){var g=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});g._simulated=!0,h.target.dispatchEvent(g)}});Xe.addInitHook("addHandler","tapHold",nc),Xe.mergeOptions({touchZoom:De.touch,bounceAtZoomLimits:!0});var Qr=Fn.extend({addHooks:function(){Ce(this._map._container,"leaflet-touch-zoom"),ze(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){vt(this._map._container,"leaflet-touch-zoom"),dt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var h=this._map;if(!(!o.touches||o.touches.length!==2||h._animatingZoom||this._zooming)){var g=h.mouseEventToContainerPoint(o.touches[0]),w=h.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(g.add(w)._divideBy(2))),this._startDist=g.distanceTo(w),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),ze(document,"touchmove",this._onTouchMove,this),ze(document,"touchend touchcancel",this._onTouchEnd,this),Dt(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var h=this._map,g=h.mouseEventToContainerPoint(o.touches[0]),w=h.mouseEventToContainerPoint(o.touches[1]),S=g.distanceTo(w)/this._startDist;if(this._zoom=h.getScaleZoom(S,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&S<1||this._zoom>h.getMaxZoom()&&S>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var R=g._add(w)._divideBy(2)._subtract(this._centerPoint);if(S===1&&R.x===0&&R.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(R),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),G(this._animRequest);var q=u(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=M(q,this,!0),Dt(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,G(this._animRequest),dt(document,"touchmove",this._onTouchMove,this),dt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Xe.addInitHook("addHandler","touchZoom",Qr),Xe.BoxZoom=tc,Xe.DoubleClickZoom=ms,Xe.Drag=Nu,Xe.Keyboard=rl,Xe.ScrollWheelZoom=hr,Xe.TapHold=nc,Xe.TouchZoom=Qr,n.Bounds=ce,n.Browser=De,n.CRS=At,n.Canvas=nl,n.Circle=Eu,n.CircleMarker=Xo,n.Class=Ue,n.Control=mn,n.DivIcon=Au,n.DivOverlay=qi,n.DomEvent=Hr,n.DomUtil=ql,n.Draggable=Ui,n.Evented=de,n.FeatureGroup=oi,n.GeoJSON=ci,n.GridLayer=Kr,n.Handler=Fn,n.Icon=Ma,n.ImageOverlay=fs,n.LatLng=Re,n.LatLngBounds=be,n.Layer=Fi,n.LayerGroup=Zr,n.LineUtil=ri,n.Map=Xe,n.Marker=ka,n.Mixin=Wl,n.Path=Vs,n.Point=le,n.PolyUtil=Ia,n.Polygon=Va,n.Polyline=Us,n.Popup=tl,n.PosAnimation=qr,n.Projection=Bi,n.Rectangle=Ed,n.Renderer=Zi,n.SVG=ur,n.SVGOverlay=cr,n.TileLayer=$r,n.Tooltip=ec,n.Transformation=Js,n.Util=H,n.VideoOverlay=Jl,n.bind=u,n.bounds=xe,n.canvas=il,n.circle=lp,n.circleMarker=_d,n.control=Vi,n.divIcon=Td,n.extend=a,n.featureGroup=Yo,n.geoJSON=Ql,n.geoJson=xd,n.gridLayer=Gi,n.icon=$l,n.imageOverlay=Ba,n.latLng=Ee,n.latLngBounds=Se,n.layerGroup=vd,n.map=hs,n.marker=Tu,n.point=F,n.polygon=li,n.polyline=cp,n.popup=up,n.rectangle=di,n.setOptions=z,n.stamp=y,n.svg=Xr,n.svgOverlay=wd,n.tileLayer=ui,n.tooltip=hp,n.transformation=es,n.version=i,n.videoOverlay=bd;var Ha=window.L;n.noConflict=function(){return window.L=Ha,this},window.L=n}))})(xh,xh.exports)),xh.exports}var cd=R3();const mu=NE(cd);function Iv(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function Dv(t,e){return e==null?function(i,a){const c=k.useRef(void 0);return c.current||(c.current=t(i,a)),c}:function(i,a){const c=k.useRef(void 0);c.current||(c.current=t(i,a));const u=k.useRef(i),{instance:p}=c.current;return k.useEffect(function(){u.current!==i&&(e(p,i,u.current),u.current=i)},[p,i,e]),c}}function P3(t,e){k.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){e.layerContainer?.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function jA(t){return function(n){const i=Pv(),a=t(jv(n,i),i);return RA(i.map,n.attribution),PA(a.current,n.eventHandlers),P3(a.current,i),a}}function j3(t,e){const n=Dv(t,e),i=jA(n);return E3(i)}function I3(t,e){const n=Dv(t),i=N3(n,e);return S3(i)}function D3(t,e){const n=Dv(t,e),i=jA(n);return A3(i)}function L3(t,e,n){const{opacity:i,zIndex:a}=e;i!=null&&i!==n.opacity&&t.setOpacity(i),a!=null&&a!==n.zIndex&&t.setZIndex(a)}function M3(){return Pv().map}function O3(t){const e=M3();return k.useEffect(function(){return e.on(t),function(){e.off(t)}},[e,t]),e}function k3({bounds:t,boundsOptions:e,center:n,children:i,className:a,id:c,placeholder:u,style:p,whenReady:y,zoom:_,...x},T){const[A]=k.useState({className:a,id:c,style:p}),[j,I]=k.useState(null),z=k.useRef(void 0);k.useImperativeHandle(T,()=>j?.map??null,[j]);const V=k.useCallback(Y=>{if(Y!==null&&!z.current){const X=new cd.Map(Y,x);z.current=X,n!=null&&_!=null?X.setView(n,_):t!=null&&X.fitBounds(t,e),y!=null&&X.whenReady(y),I(w3(X))}},[]);k.useEffect(()=>()=>{j?.map.remove()},[j]);const $=j?Ty.createElement(Rv,{value:j},i):u??null;return Ty.createElement("div",{...A,ref:V},$)}const IA=k.forwardRef(k3),DA=j3(function({position:e,...n},i){const a=new cd.Marker(e,n);return Iv(a,T3(i,{overlayContainer:a}))},function(e,n,i){n.position!==i.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),LA=I3(function(e,n){const i=new cd.Popup(e,n.overlayContainer);return Iv(i,n)},function(e,n,{position:i},a){k.useEffect(function(){const{instance:u}=e;function p(_){_.popup===u&&(u.update(),a(!0))}function y(_){_.popup===u&&a(!1)}return n.map.on({popupopen:p,popupclose:y}),n.overlayContainer==null?(i!=null&&u.setLatLng(i),u.openOn(n.map)):n.overlayContainer.bindPopup(u),function(){n.map.off({popupopen:p,popupclose:y}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(u)}},[e,n,a,i])}),MA=D3(function({url:e,...n},i){const a=new cd.TileLayer(e,jv(n,i));return Iv(a,i)},function(e,n,i){L3(e,n,i);const{url:a}=n;a!=null&&a!==i.url&&e.setUrl(a)});function OA(t,e){return function(){return t.apply(e,arguments)}}const{toString:V3}=Object.prototype,{getPrototypeOf:Lv}=Object,{iterator:Qm,toStringTag:kA}=Symbol,Jm=(t=>e=>{const n=V3.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Qs=t=>(t=t.toLowerCase(),e=>Jm(e)===t),ep=t=>e=>typeof e===t,{isArray:pu}=Array,Yc=ep("undefined");function ud(t){return t!==null&&!Yc(t)&&t.constructor!==null&&!Yc(t.constructor)&&ji(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const VA=Qs("ArrayBuffer");function U3(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&VA(t.buffer),e}const B3=ep("string"),ji=ep("function"),UA=ep("number"),hd=t=>t!==null&&typeof t=="object",z3=t=>t===!0||t===!1,Kf=t=>{if(Jm(t)!=="object")return!1;const e=Lv(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(kA in t)&&!(Qm in t)},F3=t=>{if(!hd(t)||ud(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},H3=Qs("Date"),q3=Qs("File"),G3=Qs("Blob"),Z3=Qs("FileList"),W3=t=>hd(t)&&ji(t.pipe),K3=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ji(t.append)&&((e=Jm(t))==="formdata"||e==="object"&&ji(t.toString)&&t.toString()==="[object FormData]"))},$3=Qs("URLSearchParams"),[Y3,X3,Q3,J3]=["ReadableStream","Request","Response","Headers"].map(Qs),e6=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function dd(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,a;if(typeof t!="object"&&(t=[t]),pu(t))for(i=0,a=t.length;i<a;i++)e.call(null,t[i],i,t);else{if(ud(t))return;const c=n?Object.getOwnPropertyNames(t):Object.keys(t),u=c.length;let p;for(i=0;i<u;i++)p=c[i],e.call(null,t[p],p,t)}}function BA(t,e){if(ud(t))return null;e=e.toLowerCase();const n=Object.keys(t);let i=n.length,a;for(;i-- >0;)if(a=n[i],e===a.toLowerCase())return a;return null}const xl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,zA=t=>!Yc(t)&&t!==xl;function t0(){const{caseless:t,skipUndefined:e}=zA(this)&&this||{},n={},i=(a,c)=>{const u=t&&BA(n,c)||c;Kf(n[u])&&Kf(a)?n[u]=t0(n[u],a):Kf(a)?n[u]=t0({},a):pu(a)?n[u]=a.slice():(!e||!Yc(a))&&(n[u]=a)};for(let a=0,c=arguments.length;a<c;a++)arguments[a]&&dd(arguments[a],i);return n}const t6=(t,e,n,{allOwnKeys:i}={})=>(dd(e,(a,c)=>{n&&ji(a)?t[c]=OA(a,n):t[c]=a},{allOwnKeys:i}),t),n6=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),i6=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},s6=(t,e,n,i)=>{let a,c,u;const p={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),c=a.length;c-- >0;)u=a[c],(!i||i(u,t,e))&&!p[u]&&(e[u]=t[u],p[u]=!0);t=n!==!1&&Lv(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},r6=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},a6=t=>{if(!t)return null;if(pu(t))return t;let e=t.length;if(!UA(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},o6=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Lv(Uint8Array)),l6=(t,e)=>{const i=(t&&t[Qm]).call(t);let a;for(;(a=i.next())&&!a.done;){const c=a.value;e.call(t,c[0],c[1])}},c6=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},u6=Qs("HTMLFormElement"),h6=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,a){return i.toUpperCase()+a}),XT=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),d6=Qs("RegExp"),FA=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};dd(n,(a,c)=>{let u;(u=e(a,c,t))!==!1&&(i[c]=u||a)}),Object.defineProperties(t,i)},f6=t=>{FA(t,(e,n)=>{if(ji(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(ji(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},m6=(t,e)=>{const n={},i=a=>{a.forEach(c=>{n[c]=!0})};return pu(t)?i(t):i(String(t).split(e)),n},p6=()=>{},g6=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function y6(t){return!!(t&&ji(t.append)&&t[kA]==="FormData"&&t[Qm])}const v6=t=>{const e=new Array(10),n=(i,a)=>{if(hd(i)){if(e.indexOf(i)>=0)return;if(ud(i))return i;if(!("toJSON"in i)){e[a]=i;const c=pu(i)?[]:{};return dd(i,(u,p)=>{const y=n(u,a+1);!Yc(y)&&(c[p]=y)}),e[a]=void 0,c}}return i};return n(t,0)},_6=Qs("AsyncFunction"),x6=t=>t&&(hd(t)||ji(t))&&ji(t.then)&&ji(t.catch),HA=((t,e)=>t?setImmediate:e?((n,i)=>(xl.addEventListener("message",({source:a,data:c})=>{a===xl&&c===n&&i.length&&i.shift()()},!1),a=>{i.push(a),xl.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ji(xl.postMessage)),b6=typeof queueMicrotask<"u"?queueMicrotask.bind(xl):typeof process<"u"&&process.nextTick||HA,w6=t=>t!=null&&ji(t[Qm]),ue={isArray:pu,isArrayBuffer:VA,isBuffer:ud,isFormData:K3,isArrayBufferView:U3,isString:B3,isNumber:UA,isBoolean:z3,isObject:hd,isPlainObject:Kf,isEmptyObject:F3,isReadableStream:Y3,isRequest:X3,isResponse:Q3,isHeaders:J3,isUndefined:Yc,isDate:H3,isFile:q3,isBlob:G3,isRegExp:d6,isFunction:ji,isStream:W3,isURLSearchParams:$3,isTypedArray:o6,isFileList:Z3,forEach:dd,merge:t0,extend:t6,trim:e6,stripBOM:n6,inherits:i6,toFlatObject:s6,kindOf:Jm,kindOfTest:Qs,endsWith:r6,toArray:a6,forEachEntry:l6,matchAll:c6,isHTMLForm:u6,hasOwnProperty:XT,hasOwnProp:XT,reduceDescriptors:FA,freezeMethods:f6,toObjectSet:m6,toCamelCase:h6,noop:p6,toFiniteNumber:g6,findKey:BA,global:xl,isContextDefined:zA,isSpecCompliantForm:y6,toJSONObject:v6,isAsyncFn:_6,isThenable:x6,setImmediate:HA,asap:b6,isIterable:w6};function Qe(t,e,n,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),a&&(this.response=a,this.status=a.status?a.status:null)}ue.inherits(Qe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ue.toJSONObject(this.config),code:this.code,status:this.status}}});const qA=Qe.prototype,GA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{GA[t]={value:t}});Object.defineProperties(Qe,GA);Object.defineProperty(qA,"isAxiosError",{value:!0});Qe.from=(t,e,n,i,a,c)=>{const u=Object.create(qA);ue.toFlatObject(t,u,function(x){return x!==Error.prototype},_=>_!=="isAxiosError");const p=t&&t.message?t.message:"Error",y=e==null&&t?t.code:e;return Qe.call(u,p,y,n,i,a),t&&u.cause==null&&Object.defineProperty(u,"cause",{value:t,configurable:!0}),u.name=t&&t.name||"Error",c&&Object.assign(u,c),u};const T6=null;function n0(t){return ue.isPlainObject(t)||ue.isArray(t)}function ZA(t){return ue.endsWith(t,"[]")?t.slice(0,-2):t}function QT(t,e,n){return t?t.concat(e).map(function(a,c){return a=ZA(a),!n&&c?"["+a+"]":a}).join(n?".":""):e}function E6(t){return ue.isArray(t)&&!t.some(n0)}const S6=ue.toFlatObject(ue,{},null,function(e){return/^is[A-Z]/.test(e)});function tp(t,e,n){if(!ue.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ue.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(z,V){return!ue.isUndefined(V[z])});const i=n.metaTokens,a=n.visitor||x,c=n.dots,u=n.indexes,y=(n.Blob||typeof Blob<"u"&&Blob)&&ue.isSpecCompliantForm(e);if(!ue.isFunction(a))throw new TypeError("visitor must be a function");function _(I){if(I===null)return"";if(ue.isDate(I))return I.toISOString();if(ue.isBoolean(I))return I.toString();if(!y&&ue.isBlob(I))throw new Qe("Blob is not supported. Use a Buffer instead.");return ue.isArrayBuffer(I)||ue.isTypedArray(I)?y&&typeof Blob=="function"?new Blob([I]):Buffer.from(I):I}function x(I,z,V){let $=I;if(I&&!V&&typeof I=="object"){if(ue.endsWith(z,"{}"))z=i?z:z.slice(0,-2),I=JSON.stringify(I);else if(ue.isArray(I)&&E6(I)||(ue.isFileList(I)||ue.endsWith(z,"[]"))&&($=ue.toArray(I)))return z=ZA(z),$.forEach(function(X,ve){!(ue.isUndefined(X)||X===null)&&e.append(u===!0?QT([z],ve,c):u===null?z:z+"[]",_(X))}),!1}return n0(I)?!0:(e.append(QT(V,z,c),_(I)),!1)}const T=[],A=Object.assign(S6,{defaultVisitor:x,convertValue:_,isVisitable:n0});function j(I,z){if(!ue.isUndefined(I)){if(T.indexOf(I)!==-1)throw Error("Circular reference detected in "+z.join("."));T.push(I),ue.forEach(I,function($,Y){(!(ue.isUndefined($)||$===null)&&a.call(e,$,ue.isString(Y)?Y.trim():Y,z,A))===!0&&j($,z?z.concat(Y):[Y])}),T.pop()}}if(!ue.isObject(t))throw new TypeError("data must be an object");return j(t),e}function JT(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Mv(t,e){this._pairs=[],t&&tp(t,this,e)}const WA=Mv.prototype;WA.append=function(e,n){this._pairs.push([e,n])};WA.toString=function(e){const n=e?function(i){return e.call(this,i,JT)}:JT;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function A6(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function KA(t,e,n){if(!e)return t;const i=n&&n.encode||A6;ue.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let c;if(a?c=a(e,n):c=ue.isURLSearchParams(e)?e.toString():new Mv(e,n).toString(i),c){const u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+c}return t}class e1{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ue.forEach(this.handlers,function(i){i!==null&&e(i)})}}const $A={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},N6=typeof URLSearchParams<"u"?URLSearchParams:Mv,C6=typeof FormData<"u"?FormData:null,R6=typeof Blob<"u"?Blob:null,P6={isBrowser:!0,classes:{URLSearchParams:N6,FormData:C6,Blob:R6},protocols:["http","https","file","blob","url","data"]},Ov=typeof window<"u"&&typeof document<"u",i0=typeof navigator=="object"&&navigator||void 0,j6=Ov&&(!i0||["ReactNative","NativeScript","NS"].indexOf(i0.product)<0),I6=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",D6=Ov&&window.location.href||"http://localhost",L6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ov,hasStandardBrowserEnv:j6,hasStandardBrowserWebWorkerEnv:I6,navigator:i0,origin:D6},Symbol.toStringTag,{value:"Module"})),$n={...L6,...P6};function M6(t,e){return tp(t,new $n.classes.URLSearchParams,{visitor:function(n,i,a,c){return $n.isNode&&ue.isBuffer(n)?(this.append(i,n.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)},...e})}function O6(t){return ue.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function k6(t){const e={},n=Object.keys(t);let i;const a=n.length;let c;for(i=0;i<a;i++)c=n[i],e[c]=t[c];return e}function YA(t){function e(n,i,a,c){let u=n[c++];if(u==="__proto__")return!0;const p=Number.isFinite(+u),y=c>=n.length;return u=!u&&ue.isArray(a)?a.length:u,y?(ue.hasOwnProp(a,u)?a[u]=[a[u],i]:a[u]=i,!p):((!a[u]||!ue.isObject(a[u]))&&(a[u]=[]),e(n,i,a[u],c)&&ue.isArray(a[u])&&(a[u]=k6(a[u])),!p)}if(ue.isFormData(t)&&ue.isFunction(t.entries)){const n={};return ue.forEachEntry(t,(i,a)=>{e(O6(i),a,n,0)}),n}return null}function V6(t,e,n){if(ue.isString(t))try{return(e||JSON.parse)(t),ue.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const fd={transitional:$A,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",a=i.indexOf("application/json")>-1,c=ue.isObject(e);if(c&&ue.isHTMLForm(e)&&(e=new FormData(e)),ue.isFormData(e))return a?JSON.stringify(YA(e)):e;if(ue.isArrayBuffer(e)||ue.isBuffer(e)||ue.isStream(e)||ue.isFile(e)||ue.isBlob(e)||ue.isReadableStream(e))return e;if(ue.isArrayBufferView(e))return e.buffer;if(ue.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let p;if(c){if(i.indexOf("application/x-www-form-urlencoded")>-1)return M6(e,this.formSerializer).toString();if((p=ue.isFileList(e))||i.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return tp(p?{"files[]":e}:e,y&&new y,this.formSerializer)}}return c||a?(n.setContentType("application/json",!1),V6(e)):e}],transformResponse:[function(e){const n=this.transitional||fd.transitional,i=n&&n.forcedJSONParsing,a=this.responseType==="json";if(ue.isResponse(e)||ue.isReadableStream(e))return e;if(e&&ue.isString(e)&&(i&&!this.responseType||a)){const u=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(p){if(u)throw p.name==="SyntaxError"?Qe.from(p,Qe.ERR_BAD_RESPONSE,this,null,this.response):p}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$n.classes.FormData,Blob:$n.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ue.forEach(["delete","get","head","post","put","patch"],t=>{fd.headers[t]={}});const U6=ue.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),B6=t=>{const e={};let n,i,a;return t&&t.split(`
`).forEach(function(u){a=u.indexOf(":"),n=u.substring(0,a).trim().toLowerCase(),i=u.substring(a+1).trim(),!(!n||e[n]&&U6[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},t1=Symbol("internals");function hh(t){return t&&String(t).trim().toLowerCase()}function $f(t){return t===!1||t==null?t:ue.isArray(t)?t.map($f):String(t)}function z6(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const F6=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ry(t,e,n,i,a){if(ue.isFunction(i))return i.call(this,e,n);if(a&&(e=n),!!ue.isString(e)){if(ue.isString(i))return e.indexOf(i)!==-1;if(ue.isRegExp(i))return i.test(e)}}function H6(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function q6(t,e){const n=ue.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(a,c,u){return this[i].call(this,e,a,c,u)},configurable:!0})})}let Ii=class{constructor(e){e&&this.set(e)}set(e,n,i){const a=this;function c(p,y,_){const x=hh(y);if(!x)throw new Error("header name must be a non-empty string");const T=ue.findKey(a,x);(!T||a[T]===void 0||_===!0||_===void 0&&a[T]!==!1)&&(a[T||y]=$f(p))}const u=(p,y)=>ue.forEach(p,(_,x)=>c(_,x,y));if(ue.isPlainObject(e)||e instanceof this.constructor)u(e,n);else if(ue.isString(e)&&(e=e.trim())&&!F6(e))u(B6(e),n);else if(ue.isObject(e)&&ue.isIterable(e)){let p={},y,_;for(const x of e){if(!ue.isArray(x))throw TypeError("Object iterator must return a key-value pair");p[_=x[0]]=(y=p[_])?ue.isArray(y)?[...y,x[1]]:[y,x[1]]:x[1]}u(p,n)}else e!=null&&c(n,e,i);return this}get(e,n){if(e=hh(e),e){const i=ue.findKey(this,e);if(i){const a=this[i];if(!n)return a;if(n===!0)return z6(a);if(ue.isFunction(n))return n.call(this,a,i);if(ue.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=hh(e),e){const i=ue.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||ry(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let a=!1;function c(u){if(u=hh(u),u){const p=ue.findKey(i,u);p&&(!n||ry(i,i[p],p,n))&&(delete i[p],a=!0)}}return ue.isArray(e)?e.forEach(c):c(e),a}clear(e){const n=Object.keys(this);let i=n.length,a=!1;for(;i--;){const c=n[i];(!e||ry(this,this[c],c,e,!0))&&(delete this[c],a=!0)}return a}normalize(e){const n=this,i={};return ue.forEach(this,(a,c)=>{const u=ue.findKey(i,c);if(u){n[u]=$f(a),delete n[c];return}const p=e?H6(c):String(c).trim();p!==c&&delete n[c],n[p]=$f(a),i[p]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ue.forEach(this,(i,a)=>{i!=null&&i!==!1&&(n[a]=e&&ue.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(a=>i.set(a)),i}static accessor(e){const i=(this[t1]=this[t1]={accessors:{}}).accessors,a=this.prototype;function c(u){const p=hh(u);i[p]||(q6(a,u),i[p]=!0)}return ue.isArray(e)?e.forEach(c):c(e),this}};Ii.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ue.reduceDescriptors(Ii.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});ue.freezeMethods(Ii);function ay(t,e){const n=this||fd,i=e||n,a=Ii.from(i.headers);let c=i.data;return ue.forEach(t,function(p){c=p.call(n,c,a.normalize(),e?e.status:void 0)}),a.normalize(),c}function XA(t){return!!(t&&t.__CANCEL__)}function gu(t,e,n){Qe.call(this,t??"canceled",Qe.ERR_CANCELED,e,n),this.name="CanceledError"}ue.inherits(gu,Qe,{__CANCEL__:!0});function QA(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new Qe("Request failed with status code "+n.status,[Qe.ERR_BAD_REQUEST,Qe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function G6(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Z6(t,e){t=t||10;const n=new Array(t),i=new Array(t);let a=0,c=0,u;return e=e!==void 0?e:1e3,function(y){const _=Date.now(),x=i[c];u||(u=_),n[a]=y,i[a]=_;let T=c,A=0;for(;T!==a;)A+=n[T++],T=T%t;if(a=(a+1)%t,a===c&&(c=(c+1)%t),_-u<e)return;const j=x&&_-x;return j?Math.round(A*1e3/j):void 0}}function W6(t,e){let n=0,i=1e3/e,a,c;const u=(_,x=Date.now())=>{n=x,a=null,c&&(clearTimeout(c),c=null),t(..._)};return[(..._)=>{const x=Date.now(),T=x-n;T>=i?u(_,x):(a=_,c||(c=setTimeout(()=>{c=null,u(a)},i-T)))},()=>a&&u(a)]}const xm=(t,e,n=3)=>{let i=0;const a=Z6(50,250);return W6(c=>{const u=c.loaded,p=c.lengthComputable?c.total:void 0,y=u-i,_=a(y),x=u<=p;i=u;const T={loaded:u,total:p,progress:p?u/p:void 0,bytes:y,rate:_||void 0,estimated:_&&p&&x?(p-u)/_:void 0,event:c,lengthComputable:p!=null,[e?"download":"upload"]:!0};t(T)},n)},n1=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},i1=t=>(...e)=>ue.asap(()=>t(...e)),K6=$n.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,$n.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL($n.origin),$n.navigator&&/(msie|trident)/i.test($n.navigator.userAgent)):()=>!0,$6=$n.hasStandardBrowserEnv?{write(t,e,n,i,a,c){const u=[t+"="+encodeURIComponent(e)];ue.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),ue.isString(i)&&u.push("path="+i),ue.isString(a)&&u.push("domain="+a),c===!0&&u.push("secure"),document.cookie=u.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Y6(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function X6(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function JA(t,e,n){let i=!Y6(e);return t&&(i||n==!1)?X6(t,e):e}const s1=t=>t instanceof Ii?{...t}:t;function Dl(t,e){e=e||{};const n={};function i(_,x,T,A){return ue.isPlainObject(_)&&ue.isPlainObject(x)?ue.merge.call({caseless:A},_,x):ue.isPlainObject(x)?ue.merge({},x):ue.isArray(x)?x.slice():x}function a(_,x,T,A){if(ue.isUndefined(x)){if(!ue.isUndefined(_))return i(void 0,_,T,A)}else return i(_,x,T,A)}function c(_,x){if(!ue.isUndefined(x))return i(void 0,x)}function u(_,x){if(ue.isUndefined(x)){if(!ue.isUndefined(_))return i(void 0,_)}else return i(void 0,x)}function p(_,x,T){if(T in e)return i(_,x);if(T in t)return i(void 0,_)}const y={url:c,method:c,data:c,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:p,headers:(_,x,T)=>a(s1(_),s1(x),T,!0)};return ue.forEach(Object.keys({...t,...e}),function(x){const T=y[x]||a,A=T(t[x],e[x],x);ue.isUndefined(A)&&T!==p||(n[x]=A)}),n}const eN=t=>{const e=Dl({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:c,headers:u,auth:p}=e;if(e.headers=u=Ii.from(u),e.url=KA(JA(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),p&&u.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):""))),ue.isFormData(n)){if($n.hasStandardBrowserEnv||$n.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if(ue.isFunction(n.getHeaders)){const y=n.getHeaders(),_=["content-type","content-length"];Object.entries(y).forEach(([x,T])=>{_.includes(x.toLowerCase())&&u.set(x,T)})}}if($n.hasStandardBrowserEnv&&(i&&ue.isFunction(i)&&(i=i(e)),i||i!==!1&&K6(e.url))){const y=a&&c&&$6.read(c);y&&u.set(a,y)}return e},Q6=typeof XMLHttpRequest<"u",J6=Q6&&function(t){return new Promise(function(n,i){const a=eN(t);let c=a.data;const u=Ii.from(a.headers).normalize();let{responseType:p,onUploadProgress:y,onDownloadProgress:_}=a,x,T,A,j,I;function z(){j&&j(),I&&I(),a.cancelToken&&a.cancelToken.unsubscribe(x),a.signal&&a.signal.removeEventListener("abort",x)}let V=new XMLHttpRequest;V.open(a.method.toUpperCase(),a.url,!0),V.timeout=a.timeout;function $(){if(!V)return;const X=Ii.from("getAllResponseHeaders"in V&&V.getAllResponseHeaders()),he={data:!p||p==="text"||p==="json"?V.responseText:V.response,status:V.status,statusText:V.statusText,headers:X,config:t,request:V};QA(function(B){n(B),z()},function(B){i(B),z()},he),V=null}"onloadend"in V?V.onloadend=$:V.onreadystatechange=function(){!V||V.readyState!==4||V.status===0&&!(V.responseURL&&V.responseURL.indexOf("file:")===0)||setTimeout($)},V.onabort=function(){V&&(i(new Qe("Request aborted",Qe.ECONNABORTED,t,V)),V=null)},V.onerror=function(ve){const he=ve&&ve.message?ve.message:"Network Error",we=new Qe(he,Qe.ERR_NETWORK,t,V);we.event=ve||null,i(we),V=null},V.ontimeout=function(){let ve=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const he=a.transitional||$A;a.timeoutErrorMessage&&(ve=a.timeoutErrorMessage),i(new Qe(ve,he.clarifyTimeoutError?Qe.ETIMEDOUT:Qe.ECONNABORTED,t,V)),V=null},c===void 0&&u.setContentType(null),"setRequestHeader"in V&&ue.forEach(u.toJSON(),function(ve,he){V.setRequestHeader(he,ve)}),ue.isUndefined(a.withCredentials)||(V.withCredentials=!!a.withCredentials),p&&p!=="json"&&(V.responseType=a.responseType),_&&([A,I]=xm(_,!0),V.addEventListener("progress",A)),y&&V.upload&&([T,j]=xm(y),V.upload.addEventListener("progress",T),V.upload.addEventListener("loadend",j)),(a.cancelToken||a.signal)&&(x=X=>{V&&(i(!X||X.type?new gu(null,t,V):X),V.abort(),V=null)},a.cancelToken&&a.cancelToken.subscribe(x),a.signal&&(a.signal.aborted?x():a.signal.addEventListener("abort",x)));const Y=G6(a.url);if(Y&&$n.protocols.indexOf(Y)===-1){i(new Qe("Unsupported protocol "+Y+":",Qe.ERR_BAD_REQUEST,t));return}V.send(c||null)})},eV=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,a;const c=function(_){if(!a){a=!0,p();const x=_ instanceof Error?_:this.reason;i.abort(x instanceof Qe?x:new gu(x instanceof Error?x.message:x))}};let u=e&&setTimeout(()=>{u=null,c(new Qe(`timeout ${e} of ms exceeded`,Qe.ETIMEDOUT))},e);const p=()=>{t&&(u&&clearTimeout(u),u=null,t.forEach(_=>{_.unsubscribe?_.unsubscribe(c):_.removeEventListener("abort",c)}),t=null)};t.forEach(_=>_.addEventListener("abort",c));const{signal:y}=i;return y.unsubscribe=()=>ue.asap(p),y}},tV=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,a;for(;i<n;)a=i+e,yield t.slice(i,a),i=a},nV=async function*(t,e){for await(const n of iV(t))yield*tV(n,e)},iV=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},r1=(t,e,n,i)=>{const a=nV(t,e);let c=0,u,p=y=>{u||(u=!0,i&&i(y))};return new ReadableStream({async pull(y){try{const{done:_,value:x}=await a.next();if(_){p(),y.close();return}let T=x.byteLength;if(n){let A=c+=T;n(A)}y.enqueue(new Uint8Array(x))}catch(_){throw p(_),_}},cancel(y){return p(y),a.return()}},{highWaterMark:2})},a1=64*1024,{isFunction:Rf}=ue,sV=(({Request:t,Response:e})=>({Request:t,Response:e}))(ue.global),{ReadableStream:o1,TextEncoder:l1}=ue.global,c1=(t,...e)=>{try{return!!t(...e)}catch{return!1}},rV=t=>{t=ue.merge.call({skipUndefined:!0},sV,t);const{fetch:e,Request:n,Response:i}=t,a=e?Rf(e):typeof fetch=="function",c=Rf(n),u=Rf(i);if(!a)return!1;const p=a&&Rf(o1),y=a&&(typeof l1=="function"?(I=>z=>I.encode(z))(new l1):async I=>new Uint8Array(await new n(I).arrayBuffer())),_=c&&p&&c1(()=>{let I=!1;const z=new n($n.origin,{body:new o1,method:"POST",get duplex(){return I=!0,"half"}}).headers.has("Content-Type");return I&&!z}),x=u&&p&&c1(()=>ue.isReadableStream(new i("").body)),T={stream:x&&(I=>I.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(I=>{!T[I]&&(T[I]=(z,V)=>{let $=z&&z[I];if($)return $.call(z);throw new Qe(`Response type '${I}' is not supported`,Qe.ERR_NOT_SUPPORT,V)})});const A=async I=>{if(I==null)return 0;if(ue.isBlob(I))return I.size;if(ue.isSpecCompliantForm(I))return(await new n($n.origin,{method:"POST",body:I}).arrayBuffer()).byteLength;if(ue.isArrayBufferView(I)||ue.isArrayBuffer(I))return I.byteLength;if(ue.isURLSearchParams(I)&&(I=I+""),ue.isString(I))return(await y(I)).byteLength},j=async(I,z)=>{const V=ue.toFiniteNumber(I.getContentLength());return V??A(z)};return async I=>{let{url:z,method:V,data:$,signal:Y,cancelToken:X,timeout:ve,onDownloadProgress:he,onUploadProgress:we,responseType:B,headers:O,withCredentials:U="same-origin",fetchOptions:W}=eN(I),M=e||fetch;B=B?(B+"").toLowerCase():"text";let G=eV([Y,X&&X.toAbortSignal()],ve),H=null;const Ue=G&&G.unsubscribe&&(()=>{G.unsubscribe()});let je;try{if(we&&_&&V!=="get"&&V!=="head"&&(je=await j(O,$))!==0){let ce=new n(z,{method:"POST",body:$,duplex:"half"}),xe;if(ue.isFormData($)&&(xe=ce.headers.get("content-type"))&&O.setContentType(xe),ce.body){const[be,Se]=n1(je,xm(i1(we)));$=r1(ce.body,a1,be,Se)}}ue.isString(U)||(U=U?"include":"omit");const J=c&&"credentials"in n.prototype,de={...W,signal:G,method:V.toUpperCase(),headers:O.normalize().toJSON(),body:$,duplex:"half",credentials:J?U:void 0};H=c&&new n(z,de);let le=await(c?M(H,W):M(z,de));const Me=x&&(B==="stream"||B==="response");if(x&&(he||Me&&Ue)){const ce={};["status","statusText","headers"].forEach(Re=>{ce[Re]=le[Re]});const xe=ue.toFiniteNumber(le.headers.get("content-length")),[be,Se]=he&&n1(xe,xm(i1(he),!0))||[];le=new i(r1(le.body,a1,be,()=>{Se&&Se(),Ue&&Ue()}),ce)}B=B||"text";let F=await T[ue.findKey(T,B)||"text"](le,I);return!Me&&Ue&&Ue(),await new Promise((ce,xe)=>{QA(ce,xe,{data:F,headers:Ii.from(le.headers),status:le.status,statusText:le.statusText,config:I,request:H})})}catch(J){throw Ue&&Ue(),J&&J.name==="TypeError"&&/Load failed|fetch/i.test(J.message)?Object.assign(new Qe("Network Error",Qe.ERR_NETWORK,I,H),{cause:J.cause||J}):Qe.from(J,J&&J.code,I,H)}}},aV=new Map,tN=t=>{let e=t?t.env:{};const{fetch:n,Request:i,Response:a}=e,c=[i,a,n];let u=c.length,p=u,y,_,x=aV;for(;p--;)y=c[p],_=x.get(y),_===void 0&&x.set(y,_=p?new Map:rV(e)),x=_;return _};tN();const s0={http:T6,xhr:J6,fetch:{get:tN}};ue.forEach(s0,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const u1=t=>`- ${t}`,oV=t=>ue.isFunction(t)||t===null||t===!1,nN={getAdapter:(t,e)=>{t=ue.isArray(t)?t:[t];const{length:n}=t;let i,a;const c={};for(let u=0;u<n;u++){i=t[u];let p;if(a=i,!oV(i)&&(a=s0[(p=String(i)).toLowerCase()],a===void 0))throw new Qe(`Unknown adapter '${p}'`);if(a&&(ue.isFunction(a)||(a=a.get(e))))break;c[p||"#"+u]=a}if(!a){const u=Object.entries(c).map(([y,_])=>`adapter ${y} `+(_===!1?"is not supported by the environment":"is not available in the build"));let p=n?u.length>1?`since :
`+u.map(u1).join(`
`):" "+u1(u[0]):"as no adapter specified";throw new Qe("There is no suitable adapter to dispatch the request "+p,"ERR_NOT_SUPPORT")}return a},adapters:s0};function oy(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new gu(null,t)}function h1(t){return oy(t),t.headers=Ii.from(t.headers),t.data=ay.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),nN.getAdapter(t.adapter||fd.adapter,t)(t).then(function(i){return oy(t),i.data=ay.call(t,t.transformResponse,i),i.headers=Ii.from(i.headers),i},function(i){return XA(i)||(oy(t),i&&i.response&&(i.response.data=ay.call(t,t.transformResponse,i.response),i.response.headers=Ii.from(i.response.headers))),Promise.reject(i)})}const iN="1.12.2",np={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{np[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const d1={};np.transitional=function(e,n,i){function a(c,u){return"[Axios v"+iN+"] Transitional option '"+c+"'"+u+(i?". "+i:"")}return(c,u,p)=>{if(e===!1)throw new Qe(a(u," has been removed"+(n?" in "+n:"")),Qe.ERR_DEPRECATED);return n&&!d1[u]&&(d1[u]=!0,console.warn(a(u," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(c,u,p):!0}};np.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function lV(t,e,n){if(typeof t!="object")throw new Qe("options must be an object",Qe.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let a=i.length;for(;a-- >0;){const c=i[a],u=e[c];if(u){const p=t[c],y=p===void 0||u(p,c,t);if(y!==!0)throw new Qe("option "+c+" must be "+y,Qe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Qe("Unknown option "+c,Qe.ERR_BAD_OPTION)}}const Yf={assertOptions:lV,validators:np},yr=Yf.validators;let Sl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new e1,response:new e1}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const c=a.stack?a.stack.replace(/^.+\n/,""):"";try{i.stack?c&&!String(i.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+c):i.stack=c}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Dl(this.defaults,n);const{transitional:i,paramsSerializer:a,headers:c}=n;i!==void 0&&Yf.assertOptions(i,{silentJSONParsing:yr.transitional(yr.boolean),forcedJSONParsing:yr.transitional(yr.boolean),clarifyTimeoutError:yr.transitional(yr.boolean)},!1),a!=null&&(ue.isFunction(a)?n.paramsSerializer={serialize:a}:Yf.assertOptions(a,{encode:yr.function,serialize:yr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Yf.assertOptions(n,{baseUrl:yr.spelling("baseURL"),withXsrfToken:yr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let u=c&&ue.merge(c.common,c[n.method]);c&&ue.forEach(["delete","get","head","post","put","patch","common"],I=>{delete c[I]}),n.headers=Ii.concat(u,c);const p=[];let y=!0;this.interceptors.request.forEach(function(z){typeof z.runWhen=="function"&&z.runWhen(n)===!1||(y=y&&z.synchronous,p.unshift(z.fulfilled,z.rejected))});const _=[];this.interceptors.response.forEach(function(z){_.push(z.fulfilled,z.rejected)});let x,T=0,A;if(!y){const I=[h1.bind(this),void 0];for(I.unshift(...p),I.push(..._),A=I.length,x=Promise.resolve(n);T<A;)x=x.then(I[T++],I[T++]);return x}A=p.length;let j=n;for(;T<A;){const I=p[T++],z=p[T++];try{j=I(j)}catch(V){z.call(this,V);break}}try{x=h1.call(this,j)}catch(I){return Promise.reject(I)}for(T=0,A=_.length;T<A;)x=x.then(_[T++],_[T++]);return x}getUri(e){e=Dl(this.defaults,e);const n=JA(e.baseURL,e.url,e.allowAbsoluteUrls);return KA(n,e.params,e.paramsSerializer)}};ue.forEach(["delete","get","head","options"],function(e){Sl.prototype[e]=function(n,i){return this.request(Dl(i||{},{method:e,url:n,data:(i||{}).data}))}});ue.forEach(["post","put","patch"],function(e){function n(i){return function(c,u,p){return this.request(Dl(p||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:c,data:u}))}}Sl.prototype[e]=n(),Sl.prototype[e+"Form"]=n(!0)});let cV=class sN{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(c){n=c});const i=this;this.promise.then(a=>{if(!i._listeners)return;let c=i._listeners.length;for(;c-- >0;)i._listeners[c](a);i._listeners=null}),this.promise.then=a=>{let c;const u=new Promise(p=>{i.subscribe(p),c=p}).then(a);return u.cancel=function(){i.unsubscribe(c)},u},e(function(c,u,p){i.reason||(i.reason=new gu(c,u,p),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new sN(function(a){e=a}),cancel:e}}};function uV(t){return function(n){return t.apply(null,n)}}function hV(t){return ue.isObject(t)&&t.isAxiosError===!0}const r0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(r0).forEach(([t,e])=>{r0[e]=t});function rN(t){const e=new Sl(t),n=OA(Sl.prototype.request,e);return ue.extend(n,Sl.prototype,e,{allOwnKeys:!0}),ue.extend(n,e,null,{allOwnKeys:!0}),n.create=function(a){return rN(Dl(t,a))},n}const Yt=rN(fd);Yt.Axios=Sl;Yt.CanceledError=gu;Yt.CancelToken=cV;Yt.isCancel=XA;Yt.VERSION=iN;Yt.toFormData=tp;Yt.AxiosError=Qe;Yt.Cancel=Yt.CanceledError;Yt.all=function(e){return Promise.all(e)};Yt.spread=uV;Yt.isAxiosError=hV;Yt.mergeConfig=Dl;Yt.AxiosHeaders=Ii;Yt.formToJSON=t=>YA(ue.isHTMLForm(t)?new FormData(t):t);Yt.getAdapter=nN.getAdapter;Yt.HttpStatusCode=r0;Yt.default=Yt;const{Axios:lB,AxiosError:cB,CanceledError:uB,isCancel:hB,CancelToken:dB,VERSION:fB,all:mB,Cancel:pB,isAxiosError:gB,spread:yB,toFormData:vB,AxiosHeaders:_B,HttpStatusCode:xB,formToJSON:bB,getAdapter:wB,mergeConfig:TB}=Yt;delete mu.Icon.Default.prototype._getIconUrl;mu.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const dV=()=>{const{cartItems:t,cartTotal:e,clearCart:n}=Xm(),i=Mo(),a=k.useRef(),c=fu.currentUser,[u,p]=k.useState(!1),[y,_]=k.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",state:"",pincode:"",country:"India"}),[x,T]=k.useState(null),[A,j]=k.useState(!1),[I,z]=k.useState("card"),[V,$]=k.useState([12.2253,79.0747]),[Y,X]=k.useState(13),[ve,he]=k.useState("satellite"),we=new mu.Icon({iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41]}),B=je=>{const{name:J,value:de}=je.target;_({...y,[J]:de})},O=async(je,J)=>{try{const le=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${je}&lon=${J}&zoom=18&addressdetails=1`)).json();if(le?.address){const Me=le.address;return{address:`${Me.road||""} ${Me.house_number||""} ${Me.neighbourhood||""}`.trim(),city:Me.city||Me.town||Me.village||Me.county||"",state:Me.state||"",pincode:Me.postcode||"",country:Me.country||"India"}}}catch(de){throw console.error("Reverse geocoding error:",de),new Error("Could not fetch location details.")}},U=async(je,J)=>{try{const de=await O(je,J);_(le=>({...le,...de}))}catch(de){alert(de.message)}},W=()=>{if(!navigator.geolocation){alert("Geolocation not supported by your browser");return}j(!0),navigator.geolocation.getCurrentPosition(async je=>{const{latitude:J,longitude:de}=je.coords;T({lat:J,lng:de}),$([J,de]),X(16);try{await U(J,de)}catch{}finally{j(!1)}},je=>{console.error("Geolocation error:",je);let J="Location access failed.";switch(je.code){case je.PERMISSION_DENIED:J="Location access denied. Please allow location access and try again.";break;case je.POSITION_UNAVAILABLE:J="Location information unavailable.";break;case je.TIMEOUT:J="Location request timed out.";break}alert(J),j(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})},M=async je=>{const{lat:J,lng:de}=je.latlng;T({lat:J,lng:de}),$([J,de]);try{await U(J,de)}catch{}},G=()=>(O3({click:M}),null),H=async je=>{if(je.preventDefault(),!x){alert("Please set a delivery location.");return}p(!0);try{const{data:J}=await Yt.post("http://localhost:5000/create-order",{amount:e,currency:"INR"}),{orderId:de,keyId:le,amount:Me}=J;await Qy(Tl(Qi,"orders"),{userId:c?.uid,items:t,amount:e,currency:"INR",status:"Success",razorpayOrderId:de,createdAt:Jy(),shipping:{firstName:y.firstName,lastName:y.lastName,email:y.email,phone:y.phone,address:y.address,city:y.city,state:y.state,pincode:y.pincode,country:y.country,location:x}});const F={key:le,amount:Me,currency:"INR",name:"Your Shop",description:"Order Payment",order_id:de,handler:async function(xe){try{(await Yt.post("http://localhost:5000/verify-payment",{razorpayOrderId:xe.razorpay_order_id,razorpayPaymentId:xe.razorpay_payment_id,razorpaySignature:xe.razorpay_signature})).data.success?(await Qy(Tl(Qi,"payments"),{userId:c?.uid,orderId:de,paymentId:xe.razorpay_payment_id,signature:xe.razorpay_signature,createdAt:Jy()}),n(),i("/orderconfirmation",{state:{orderId:de,payment:"online"}})):alert("Payment verification failed!")}catch(be){console.error("Verify error:",be),alert("Verification failed.")}finally{p(!1)}},prefill:{name:`${y.firstName} ${y.lastName}`,email:y.email,contact:y.phone},theme:{color:"#22c55e"}};new window.Razorpay(F).open()}catch(J){console.error("Order error:",J),alert("Failed to start payment."),p(!1)}};if(t.length===0)return f.jsx("div",{className:"container mx-auto px-4 py-12",children:f.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[f.jsx("div",{className:"text-6xl mb-6",children:"🛒"}),f.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Your cart is empty"}),f.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"There's nothing to checkout. Add some items to your cart first."}),f.jsx(et,{to:"/cart",className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-8 rounded-lg transition",children:"Back to Cart"})]})});const Ue={satellite:{url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",attribution:"&copy; Google Satellite",subdomains:["mt0","mt1","mt2","mt3"]},hybrid:{url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",attribution:"&copy; Google Hybrid",subdomains:["mt0","mt1","mt2","mt3"]},street:{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"&copy; OpenStreetMap contributors"},detailed:{url:"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",attribution:"&copy; OpenStreetMap contributors, Tiles style by Humanitarian OpenStreetMap Team"}};return f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-center text-gray-800 mb-8",children:"Checkout"}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[f.jsx("div",{children:f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Order Summary"}),f.jsx("div",{className:"space-y-4",children:t.map(je=>f.jsxs("div",{className:"flex items-center border-b border-gray-100 pb-4",children:[f.jsx("img",{src:je.image,alt:je.name,className:"w-16 h-16 object-cover rounded-lg"}),f.jsxs("div",{className:"ml-4 flex-grow",children:[f.jsx("h3",{className:"font-medium text-gray-800",children:je.name}),f.jsxs("p",{className:"text-green-600 font-bold",children:["₹",je.price," × ",je.quantity]})]}),f.jsx("div",{className:"ml-4",children:f.jsxs("p",{className:"font-bold text-green-600",children:["₹",je.price*je.quantity]})})]},je.id))}),f.jsxs("div",{className:"border-t border-gray-200 mt-4 pt-4",children:[f.jsxs("div",{className:"flex justify-between mb-2",children:[f.jsx("span",{children:"Subtotal"}),f.jsxs("span",{children:["₹",e]})]}),f.jsxs("div",{className:"flex justify-between mb-2",children:[f.jsx("span",{children:"Delivery Fee"}),f.jsx("span",{className:"text-green-600",children:"Free"})]}),f.jsxs("div",{className:"flex justify-between font-bold text-lg mt-2 pt-2 border-t border-gray-200",children:[f.jsx("span",{children:"Total"}),f.jsxs("span",{children:["₹",e]})]})]})]})}),f.jsx("div",{children:f.jsxs("form",{onSubmit:H,className:"bg-white rounded-lg shadow-md p-6",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Shipping Information"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),f.jsx("input",{type:"text",name:"firstName",value:y.firstName,onChange:B,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),f.jsx("input",{type:"text",name:"lastName",value:y.lastName,onChange:B,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),f.jsx("input",{type:"email",name:"email",value:y.email,onChange:B,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),f.jsx("input",{type:"tel",name:"phone",value:y.phone,onChange:B,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]})]}),f.jsxs("div",{className:"mb-4",children:[f.jsxs("div",{className:"flex justify-between items-center mb-3",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Delivery Location"}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsxs("select",{value:ve,onChange:je=>he(je.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1",children:[f.jsx("option",{value:"satellite",children:"Satellite"}),f.jsx("option",{value:"street",children:"Street"})]}),f.jsx("button",{type:"button",onClick:W,disabled:A,className:"text-sm bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded flex items-center",children:A?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"animate-spin -ml-1 mr-1 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Detecting..."]}):f.jsxs(f.Fragment,{children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Use my location"]})})]})]}),f.jsx("div",{className:"mb-4 border rounded-lg overflow-hidden",children:f.jsxs(IA,{center:V,zoom:Y,style:{height:"300px",width:"100%"},ref:a,children:[f.jsx(MA,{attribution:Ue[ve].attribution,url:Ue[ve].url,subdomains:Ue[ve].subdomains}),f.jsx(G,{}),x&&f.jsx(DA,{position:[x.lat,x.lng],icon:we,children:f.jsx(LA,{children:f.jsxs("div",{className:"text-sm",children:[f.jsx("strong",{children:"Delivery Location"}),f.jsx("br",{}),y.address&&`${y.address}, `,y.city&&`${y.city}, `,y.state&&`${y.state} - `,y.pincode]})})})]})}),f.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"💡 Click on the map to set your delivery location manually"}),f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),f.jsx("input",{type:"text",name:"address",value:y.address,onChange:B,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0,placeholder:"Street address"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),f.jsx("input",{type:"text",name:"city",value:y.city,onChange:B,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),f.jsx("input",{type:"text",name:"state",value:y.state,onChange:B,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pincode"}),f.jsx("input",{type:"text",name:"pincode",value:y.pincode,onChange:B,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0,pattern:"[0-9]{6}",title:"6-digit pincode"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),f.jsx("input",{type:"text",name:"country",value:y.country,onChange:B,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]})]}),f.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Payment Method"}),f.jsxs("div",{className:"mb-6 space-y-3",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{id:"card",name:"paymentMethod",type:"radio",value:"card",checked:I==="card",onChange:()=>z("card"),className:"h-4 w-4 text-green-600 focus:ring-green-500"}),f.jsx("label",{htmlFor:"card",className:"ml-3 block text-sm font-medium text-gray-700",children:"Credit/Debit Card"})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{id:"upi",name:"paymentMethod",type:"radio",value:"upi",checked:I==="upi",onChange:()=>z("upi"),className:"h-4 w-4 text-green-600 focus:ring-green-500"}),f.jsx("label",{htmlFor:"upi",className:"ml-3 block text-sm font-medium text-gray-700",children:"UPI"})]})]}),f.jsxs("div",{className:"flex space-x-4",children:[f.jsx(et,{to:"/cart",className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-3 px-6 rounded-lg transition text-center",children:"Back to Cart"}),f.jsxs("button",{type:"submit",className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg transition",children:["Pay ₹",e]})]})]})})]})]})},fV=()=>{const[t,e]=k.useState(!1);k.useEffect(()=>{const a=()=>{window.scrollY>300?e(!0):e(!1)};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})},i=()=>{const a="918807239379",u=encodeURIComponent("I want fruit bunch"),p=`https://wa.me/${a}?text=${u}`;window.open(p,"_blank")};return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"fixed bottom-6 right-6 z-50 w-14 h-14 bg-green-500 rounded-full flex items-center justify-center shadow-lg cursor-pointer hover:bg-green-600 transition-transform transform hover:scale-110",onClick:i,children:f.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.864 3.49"})})}),t&&f.jsx("div",{className:"fixed bottom-24 right-7 z-50 w-12 h-12 bg-gray-700 rounded-full flex items-center justify-center shadow-lg cursor-pointer hover:bg-gray-800 transition-all duration-300 opacity-80 hover:opacity-100",onClick:n,children:f.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 15l7-7 7 7"})})})]})},mV=()=>{const[t,e]=k.useState(""),[n,i]=k.useState(!1),[a,c]=k.useState(!1),u=async p=>{p.preventDefault(),c(!0);try{await mD(fu,t),console.log("Password reset email sent to:",t),i(!0)}catch(y){console.error("Password reset error:",y.message),alert(y.message)}finally{c(!1)}};return f.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-100 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[f.jsx("div",{className:"absolute -top-20 -left-20 w-72 h-72 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),f.jsx("div",{className:"absolute top-40 -right-20 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),f.jsx("div",{className:"absolute -bottom-20 left-40 w-72 h-72 bg-teal-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-4000"}),f.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-2xl shadow-lg z-10 transform transition-all duration-500 hover:shadow-xl",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"mx-auto h-16 w-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),f.jsx("h2",{className:"mt-2 text-3xl font-bold text-gray-900",children:"Reset your password"}),f.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",f.jsx(et,{to:"/login",className:"font-medium text-green-600 hover:text-green-500 transition-colors duration-300",children:"return to sign in"})]})]}),n?f.jsxs("div",{className:"text-center py-6",children:[f.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),f.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"Check your email"}),f.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["We've sent a password reset link to ",f.jsx("span",{className:"font-medium text-green-600",children:t})]}),f.jsx("div",{className:"mt-6",children:f.jsx("button",{onClick:()=>i(!1),className:"text-sm font-medium text-green-600 hover:text-green-500 transition-colors duration-300",children:"Didn't receive the email? Click to resend"})}),f.jsx("div",{className:"mt-4",children:f.jsxs(et,{to:"/login",className:"inline-flex items-center text-sm font-medium text-green-600 hover:text-green-500 transition-colors duration-300",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to sign in"]})})]}):f.jsxs(f.Fragment,{children:[f.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Enter your email address and we'll send you a link to reset your password."}),f.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[f.jsx("div",{className:"rounded-md shadow-sm",children:f.jsxs("div",{className:"relative",children:[f.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),f.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 peer",placeholder:"Email address",value:t,onChange:p=>e(p.target.value)}),f.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none opacity-0 peer-focus:opacity-100 transition-opacity duration-300",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]})}),f.jsx("div",{children:f.jsxs("button",{type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",disabled:a,children:[a?f.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,a?"Sending...":"Send reset link"]})})]})]})]})]})},f1=hA(),pV=()=>{const[t,e]=k.useState(null),[n,i]=k.useState(!0),[a,c]=k.useState([]),[u,p]=k.useState(null),[y,_]=k.useState("profile"),x=Mo();return k.useEffect(()=>{const T=localStorage.getItem("user");if(T){const A=JSON.parse(T);e(A),(async()=>{try{const I=Tl(f1,"orders"),z=xA(I,zk("userId","==",A.uid)),$=(await Wf(z)).docs.map(Y=>({id:Y.id,...Y.data()}));if(c($),$.length>0){const Y=$[0],X=Y.createdAt?.toDate?.()||new Date,ve=new Date(X);ve.setDate(X.getDate()+26);const he=new Date;if(he>ve)p(null);else{const B=Math.max(0,Math.ceil((ve-he)/864e5));p({plan:Y.items?.[0]?.name||"Standard",product:Y.items?.[0]?.description||"Subscription",status:Y.status,startDate:X.toISOString(),expiryDate:ve.toISOString(),price:`₹${Y.amount}`,daysLeft:B})}}}catch(I){console.error("Error fetching orders:",I)}})()}i(!1)},[f1]),n?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):t?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 py-8 px-4",children:f.jsxs("div",{className:"max-w-6xl mx-auto",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"Profile Settings"}),f.jsx("p",{className:"text-gray-600",children:"Manage your account information and preferences"})]}),f.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[f.jsx("div",{className:"md:col-span-1",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 sticky top-8",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsxs("div",{className:"relative inline-block",children:[f.jsx("img",{src:`https://ui-avatars.com/api/?background=10b981&color=fff&size=128&name=${encodeURIComponent(t.name)}&bold=true`,alt:"Profile",className:"w-24 h-24 rounded-full mx-auto border-4 border-white shadow-lg"}),f.jsx("div",{className:"absolute bottom-2 right-2 w-6 h-6 bg-green-500 border-2 border-white rounded-full"})]}),f.jsx("h2",{className:"text-xl font-semibold mt-4 text-gray-900",children:t.name}),f.jsx("p",{className:"text-gray-600 text-sm",children:t.email})]}),f.jsxs("nav",{className:"space-y-2",children:[f.jsxs("button",{onClick:()=>_("profile"),className:`flex items-center space-x-3 p-3 rounded-lg w-full text-left ${y==="profile"?"bg-green-50 text-green-600":"text-gray-700 hover:bg-gray-50"}`,children:[f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),f.jsx("span",{className:"font-medium",children:"Profile"})]}),f.jsxs("button",{onClick:()=>_("subscription"),className:`flex items-center space-x-3 p-3 rounded-lg w-full text-left ${y==="subscription"?"bg-green-50 text-green-600":"text-gray-700 hover:bg-gray-50"}`,children:[f.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),f.jsx("span",{children:"Subscription"})]})]})]})}),f.jsx("div",{className:"md:col-span-3",children:y==="subscription"?f.jsxs(f.Fragment,{children:[u?f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden mb-8",children:[f.jsx("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 p-6",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Current Subscription"}),f.jsx("p",{className:"text-green-100",children:"Active plan with premium features"})]}),f.jsx("div",{className:"bg-white text-green-600 px-4 py-2 rounded-full font-semibold",children:u.plan})]})}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:f.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),f.jsx("h4",{className:"font-semibold text-gray-900",children:"Product"}),f.jsxs("p",{className:"text-gray-600 text-sm",children:[u.product,"..more"]})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:f.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),f.jsx("h4",{className:"font-semibold text-gray-900",children:"Expiry Date"}),f.jsx("p",{className:"text-gray-600 text-sm",children:new Date(u.expiryDate).toLocaleDateString()})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:f.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),f.jsx("h4",{className:"font-semibold text-gray-900",children:"Price"}),f.jsx("p",{className:"text-gray-600 text-sm",children:u.price})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:f.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3"})})}),f.jsx("h4",{className:"font-semibold text-gray-900",children:"Days Left"}),f.jsxs("p",{className:"text-gray-600 text-sm",children:[u.daysLeft," days"]})]})]}),f.jsxs("div",{className:"flex gap-4 mt-6",children:[f.jsxs("button",{onClick:()=>x("/subscription"),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg transition duration-200 flex items-center",children:[f.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Renew Subscription"]}),f.jsxs("button",{onClick:()=>x("/subscription"),className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-6 py-2 rounded-lg transition duration-200 flex items-center",children:[f.jsxs("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Change Plan"]})]})]})]}):f.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-6 mb-8 text-center",children:[f.jsx("h3",{className:"text-lg font-semibold text-red-700 mb-2",children:"Subscription Expired"}),f.jsx("p",{className:"text-gray-600 mb-4",children:"Your subscription has expired. Please renew to continue enjoying premium features."}),f.jsx("button",{onClick:()=>x("/subscription"),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg transition duration-200",children:"Renew Now"})]}),f.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden mb-8",children:f.jsxs("div",{className:"p-6 border-b border-gray-100",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order History"}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-gray-50",children:[f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"#"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plan"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"})]})}),f.jsx("tbody",{className:"divide-y divide-gray-200",children:a.map((T,A)=>f.jsxs("tr",{className:"hover:bg-gray-50",children:[f.jsx("td",{className:"px-4 py-3 text-sm font-medium text-green-600",children:A+1}),f.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:T.items?.[0]?.name}),f.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:T.items?.[0]?.description}),f.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:new Date(T.createdAt?.toDate?.()).toLocaleDateString()}),f.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:["Rs: ",T.amount]})]},T.id))})]})})]})})]}):f.jsx(f.Fragment,{children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[f.jsxs("div",{className:"p-6 border-b border-gray-100",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Personal Information"}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),f.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:t.name})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),f.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:t.email})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Member Since"}),f.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Status"}),f.jsxs("div",{className:"p-3 bg-green-50 text-green-700 rounded-lg border border-green-200 flex items-center",children:[f.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Active"]})]})]})]}),f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Actions"}),f.jsxs("div",{className:"flex flex-wrap gap-4",children:[f.jsxs("button",{onClick:()=>x("/forgot-password"),className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-6 py-2 rounded-lg transition duration-200 flex items-center",children:[f.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Change Password"]}),f.jsxs("button",{onClick:()=>{const T=US();bD(T).then(()=>{localStorage.removeItem("user"),window.location.href="/login"}).catch(A=>{console.error("Logout error:",A)})},className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg transition duration-200 flex items-center ml-auto",children:[f.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})]})]})]})})})]})]})}):f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 flex items-center justify-center",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:f.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),f.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Authentication Required"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"Please login to view your profile"}),f.jsx("a",{href:"/login",className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg transition duration-200",children:"Go to Login"})]})})},kv=k.createContext({});function Vv(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const Uv=typeof window<"u",aN=Uv?k.useLayoutEffect:k.useEffect,ip=k.createContext(null);function Bv(t,e){t.indexOf(e)===-1&&t.push(e)}function zv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ya=(t,e,n)=>n>e?e:n<t?t:n;let Fv=()=>{};const va={},oN=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function lN(t){return typeof t=="object"&&t!==null}const cN=t=>/^0[^.\s]+$/u.test(t);function Hv(t){let e;return()=>(e===void 0&&(e=t()),e)}const Es=t=>t,gV=(t,e)=>n=>e(t(n)),md=(...t)=>t.reduce(gV),qh=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class qv{constructor(){this.subscriptions=[]}add(e){return Bv(this.subscriptions,e),()=>zv(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let c=0;c<a;c++){const u=this.subscriptions[c];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Sr=t=>t*1e3,Ts=t=>t/1e3;function uN(t,e){return e?t*(1e3/e):0}const hN=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,yV=1e-7,vV=12;function _V(t,e,n,i,a){let c,u,p=0;do u=e+(n-e)/2,c=hN(u,i,a)-t,c>0?n=u:e=u;while(Math.abs(c)>yV&&++p<vV);return u}function pd(t,e,n,i){if(t===e&&n===i)return Es;const a=c=>_V(c,0,1,t,n);return c=>c===0||c===1?c:hN(a(c),e,i)}const dN=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,fN=t=>e=>1-t(1-e),mN=pd(.33,1.53,.69,.99),Gv=fN(mN),pN=dN(Gv),gN=t=>(t*=2)<1?.5*Gv(t):.5*(2-Math.pow(2,-10*(t-1))),Zv=t=>1-Math.sin(Math.acos(t)),yN=fN(Zv),vN=dN(Zv),xV=pd(.42,0,1,1),bV=pd(0,0,.58,1),_N=pd(.42,0,.58,1),wV=t=>Array.isArray(t)&&typeof t[0]!="number",xN=t=>Array.isArray(t)&&typeof t[0]=="number",TV={linear:Es,easeIn:xV,easeInOut:_N,easeOut:bV,circIn:Zv,circInOut:vN,circOut:yN,backIn:Gv,backInOut:pN,backOut:mN,anticipate:gN},EV=t=>typeof t=="string",m1=t=>{if(xN(t)){Fv(t.length===4);const[e,n,i,a]=t;return pd(e,n,i,a)}else if(EV(t))return TV[t];return t},Pf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function SV(t,e){let n=new Set,i=new Set,a=!1,c=!1;const u=new WeakSet;let p={delta:0,timestamp:0,isProcessing:!1};function y(x){u.has(x)&&(_.schedule(x),t()),x(p)}const _={schedule:(x,T=!1,A=!1)=>{const I=A&&a?n:i;return T&&u.add(x),I.has(x)||I.add(x),x},cancel:x=>{i.delete(x),u.delete(x)},process:x=>{if(p=x,a){c=!0;return}a=!0,[n,i]=[i,n],n.forEach(y),n.clear(),a=!1,c&&(c=!1,_.process(x))}};return _}const AV=40;function bN(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},c=()=>n=!0,u=Pf.reduce((X,ve)=>(X[ve]=SV(c),X),{}),{setup:p,read:y,resolveKeyframes:_,preUpdate:x,update:T,preRender:A,render:j,postRender:I}=u,z=()=>{const X=va.useManualTiming?a.timestamp:performance.now();n=!1,va.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(X-a.timestamp,AV),1)),a.timestamp=X,a.isProcessing=!0,p.process(a),y.process(a),_.process(a),x.process(a),T.process(a),A.process(a),j.process(a),I.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(z))},V=()=>{n=!0,i=!0,a.isProcessing||t(z)};return{schedule:Pf.reduce((X,ve)=>{const he=u[ve];return X[ve]=(we,B=!1,O=!1)=>(n||V(),he.schedule(we,B,O)),X},{}),cancel:X=>{for(let ve=0;ve<Pf.length;ve++)u[Pf[ve]].cancel(X)},state:a,steps:u}}const{schedule:Vt,cancel:Do,state:On,steps:ly}=bN(typeof requestAnimationFrame<"u"?requestAnimationFrame:Es,!0);let Xf;function NV(){Xf=void 0}const Pi={now:()=>(Xf===void 0&&Pi.set(On.isProcessing||va.useManualTiming?On.timestamp:performance.now()),Xf),set:t=>{Xf=t,queueMicrotask(NV)}},wN=t=>e=>typeof e=="string"&&e.startsWith(t),Wv=wN("--"),CV=wN("var(--"),Kv=t=>CV(t)?RV.test(t.split("/*")[0].trim()):!1,RV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,yu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Gh={...yu,transform:t=>ya(0,1,t)},jf={...yu,default:1},Ch=t=>Math.round(t*1e5)/1e5,$v=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function PV(t){return t==null}const jV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Yv=(t,e)=>n=>!!(typeof n=="string"&&jV.test(n)&&n.startsWith(t)||e&&!PV(n)&&Object.prototype.hasOwnProperty.call(n,e)),TN=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,c,u,p]=i.match($v);return{[t]:parseFloat(a),[e]:parseFloat(c),[n]:parseFloat(u),alpha:p!==void 0?parseFloat(p):1}},IV=t=>ya(0,255,t),cy={...yu,transform:t=>Math.round(IV(t))},bl={test:Yv("rgb","red"),parse:TN("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+cy.transform(t)+", "+cy.transform(e)+", "+cy.transform(n)+", "+Ch(Gh.transform(i))+")"};function DV(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const a0={test:Yv("#"),parse:DV,transform:bl.transform},gd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),mo=gd("deg"),Ar=gd("%"),We=gd("px"),LV=gd("vh"),MV=gd("vw"),p1={...Ar,parse:t=>Ar.parse(t)/100,transform:t=>Ar.transform(t*100)},Pc={test:Yv("hsl","hue"),parse:TN("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Ar.transform(Ch(e))+", "+Ar.transform(Ch(n))+", "+Ch(Gh.transform(i))+")"},ln={test:t=>bl.test(t)||a0.test(t)||Pc.test(t),parse:t=>bl.test(t)?bl.parse(t):Pc.test(t)?Pc.parse(t):a0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?bl.transform(t):Pc.transform(t),getAnimatableNone:t=>{const e=ln.parse(t);return e.alpha=0,ln.transform(e)}},OV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function kV(t){return isNaN(t)&&typeof t=="string"&&(t.match($v)?.length||0)+(t.match(OV)?.length||0)>0}const EN="number",SN="color",VV="var",UV="var(",g1="${}",BV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Zh(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let c=0;const p=e.replace(BV,y=>(ln.test(y)?(i.color.push(c),a.push(SN),n.push(ln.parse(y))):y.startsWith(UV)?(i.var.push(c),a.push(VV),n.push(y)):(i.number.push(c),a.push(EN),n.push(parseFloat(y))),++c,g1)).split(g1);return{values:n,split:p,indexes:i,types:a}}function AN(t){return Zh(t).values}function NN(t){const{split:e,types:n}=Zh(t),i=e.length;return a=>{let c="";for(let u=0;u<i;u++)if(c+=e[u],a[u]!==void 0){const p=n[u];p===EN?c+=Ch(a[u]):p===SN?c+=ln.transform(a[u]):c+=a[u]}return c}}const zV=t=>typeof t=="number"?0:ln.test(t)?ln.getAnimatableNone(t):t;function FV(t){const e=AN(t);return NN(t)(e.map(zV))}const Lo={test:kV,parse:AN,createTransformer:NN,getAnimatableNone:FV};function uy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function HV({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,c=0,u=0;if(!e)a=c=u=n;else{const p=n<.5?n*(1+e):n+e-n*e,y=2*n-p;a=uy(y,p,t+1/3),c=uy(y,p,t),u=uy(y,p,t-1/3)}return{red:Math.round(a*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:i}}function bm(t,e){return n=>n>0?e:t}const Gt=(t,e,n)=>t+(e-t)*n,hy=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},qV=[a0,bl,Pc],GV=t=>qV.find(e=>e.test(t));function y1(t){const e=GV(t);if(!e)return!1;let n=e.parse(t);return e===Pc&&(n=HV(n)),n}const v1=(t,e)=>{const n=y1(t),i=y1(e);if(!n||!i)return bm(t,e);const a={...n};return c=>(a.red=hy(n.red,i.red,c),a.green=hy(n.green,i.green,c),a.blue=hy(n.blue,i.blue,c),a.alpha=Gt(n.alpha,i.alpha,c),bl.transform(a))},o0=new Set(["none","hidden"]);function ZV(t,e){return o0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function WV(t,e){return n=>Gt(t,e,n)}function Xv(t){return typeof t=="number"?WV:typeof t=="string"?Kv(t)?bm:ln.test(t)?v1:YV:Array.isArray(t)?CN:typeof t=="object"?ln.test(t)?v1:KV:bm}function CN(t,e){const n=[...t],i=n.length,a=t.map((c,u)=>Xv(c)(c,e[u]));return c=>{for(let u=0;u<i;u++)n[u]=a[u](c);return n}}function KV(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=Xv(t[a])(t[a],e[a]));return a=>{for(const c in i)n[c]=i[c](a);return n}}function $V(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const c=e.types[a],u=t.indexes[c][i[c]],p=t.values[u]??0;n[a]=p,i[c]++}return n}const YV=(t,e)=>{const n=Lo.createTransformer(e),i=Zh(t),a=Zh(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?o0.has(t)&&!a.values.length||o0.has(e)&&!i.values.length?ZV(t,e):md(CN($V(i,a),a.values),n):bm(t,e)};function RN(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Gt(t,e,n):Xv(t)(t,e)}const XV=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Vt.update(e,n),stop:()=>Do(e),now:()=>On.isProcessing?On.timestamp:Pi.now()}},PN=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let c=0;c<a;c++)i+=Math.round(t(c/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},wm=2e4;function Qv(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<wm;)e+=n,i=t.next(e);return e>=wm?1/0:e}function QV(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(Qv(i),wm);return{type:"keyframes",ease:c=>i.next(a*c).value/e,duration:Ts(a)}}const JV=5;function jN(t,e,n){const i=Math.max(e-JV,0);return uN(n-t(i),e-i)}const $t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},dy=.001;function e5({duration:t=$t.duration,bounce:e=$t.bounce,velocity:n=$t.velocity,mass:i=$t.mass}){let a,c,u=1-e;u=ya($t.minDamping,$t.maxDamping,u),t=ya($t.minDuration,$t.maxDuration,Ts(t)),u<1?(a=_=>{const x=_*u,T=x*t,A=x-n,j=l0(_,u),I=Math.exp(-T);return dy-A/j*I},c=_=>{const T=_*u*t,A=T*n+n,j=Math.pow(u,2)*Math.pow(_,2)*t,I=Math.exp(-T),z=l0(Math.pow(_,2),u);return(-a(_)+dy>0?-1:1)*((A-j)*I)/z}):(a=_=>{const x=Math.exp(-_*t),T=(_-n)*t+1;return-dy+x*T},c=_=>{const x=Math.exp(-_*t),T=(n-_)*(t*t);return x*T});const p=5/t,y=n5(a,c,p);if(t=Sr(t),isNaN(y))return{stiffness:$t.stiffness,damping:$t.damping,duration:t};{const _=Math.pow(y,2)*i;return{stiffness:_,damping:u*2*Math.sqrt(i*_),duration:t}}}const t5=12;function n5(t,e,n){let i=n;for(let a=1;a<t5;a++)i=i-t(i)/e(i);return i}function l0(t,e){return t*Math.sqrt(1-e*e)}const i5=["duration","bounce"],s5=["stiffness","damping","mass"];function _1(t,e){return e.some(n=>t[n]!==void 0)}function r5(t){let e={velocity:$t.velocity,stiffness:$t.stiffness,damping:$t.damping,mass:$t.mass,isResolvedFromDuration:!1,...t};if(!_1(t,s5)&&_1(t,i5))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,c=2*ya(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:$t.mass,stiffness:a,damping:c}}else{const n=e5(t);e={...e,...n,mass:$t.mass},e.isResolvedFromDuration=!0}return e}function Tm(t=$t.visualDuration,e=$t.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const c=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],p={done:!1,value:c},{stiffness:y,damping:_,mass:x,duration:T,velocity:A,isResolvedFromDuration:j}=r5({...n,velocity:-Ts(n.velocity||0)}),I=A||0,z=_/(2*Math.sqrt(y*x)),V=u-c,$=Ts(Math.sqrt(y/x)),Y=Math.abs(V)<5;i||(i=Y?$t.restSpeed.granular:$t.restSpeed.default),a||(a=Y?$t.restDelta.granular:$t.restDelta.default);let X;if(z<1){const he=l0($,z);X=we=>{const B=Math.exp(-z*$*we);return u-B*((I+z*$*V)/he*Math.sin(he*we)+V*Math.cos(he*we))}}else if(z===1)X=he=>u-Math.exp(-$*he)*(V+(I+$*V)*he);else{const he=$*Math.sqrt(z*z-1);X=we=>{const B=Math.exp(-z*$*we),O=Math.min(he*we,300);return u-B*((I+z*$*V)*Math.sinh(O)+he*V*Math.cosh(O))/he}}const ve={calculatedDuration:j&&T||null,next:he=>{const we=X(he);if(j)p.done=he>=T;else{let B=he===0?I:0;z<1&&(B=he===0?Sr(I):jN(X,he,we));const O=Math.abs(B)<=i,U=Math.abs(u-we)<=a;p.done=O&&U}return p.value=p.done?u:we,p},toString:()=>{const he=Math.min(Qv(ve),wm),we=PN(B=>ve.next(he*B).value,he,30);return he+"ms "+we},toTransition:()=>{}};return ve}Tm.applyToOptions=t=>{const e=QV(t,100,Tm);return t.ease=e.ease,t.duration=Sr(e.duration),t.type="keyframes",t};function c0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:c=500,modifyTarget:u,min:p,max:y,restDelta:_=.5,restSpeed:x}){const T=t[0],A={done:!1,value:T},j=O=>p!==void 0&&O<p||y!==void 0&&O>y,I=O=>p===void 0?y:y===void 0||Math.abs(p-O)<Math.abs(y-O)?p:y;let z=n*e;const V=T+z,$=u===void 0?V:u(V);$!==V&&(z=$-T);const Y=O=>-z*Math.exp(-O/i),X=O=>$+Y(O),ve=O=>{const U=Y(O),W=X(O);A.done=Math.abs(U)<=_,A.value=A.done?$:W};let he,we;const B=O=>{j(A.value)&&(he=O,we=Tm({keyframes:[A.value,I(A.value)],velocity:jN(X,O,A.value),damping:a,stiffness:c,restDelta:_,restSpeed:x}))};return B(0),{calculatedDuration:null,next:O=>{let U=!1;return!we&&he===void 0&&(U=!0,ve(O),B(O)),he!==void 0&&O>=he?we.next(O-he):(!U&&ve(O),A)}}}function a5(t,e,n){const i=[],a=n||va.mix||RN,c=t.length-1;for(let u=0;u<c;u++){let p=a(t[u],t[u+1]);if(e){const y=Array.isArray(e)?e[u]||Es:e;p=md(y,p)}i.push(p)}return i}function o5(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const c=t.length;if(Fv(c===e.length),c===1)return()=>e[0];if(c===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[c-1]&&(t=[...t].reverse(),e=[...e].reverse());const p=a5(e,i,a),y=p.length,_=x=>{if(u&&x<t[0])return e[0];let T=0;if(y>1)for(;T<t.length-2&&!(x<t[T+1]);T++);const A=qh(t[T],t[T+1],x);return p[T](A)};return n?x=>_(ya(t[0],t[c-1],x)):_}function l5(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=qh(0,e,i);t.push(Gt(n,1,a))}}function c5(t){const e=[0];return l5(e,t.length-1),e}function u5(t,e){return t.map(n=>n*e)}function h5(t,e){return t.map(()=>e||_N).splice(0,t.length-1)}function Rh({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=wV(i)?i.map(m1):m1(i),c={done:!1,value:e[0]},u=u5(n&&n.length===e.length?n:c5(e),t),p=o5(u,e,{ease:Array.isArray(a)?a:h5(e,a)});return{calculatedDuration:t,next:y=>(c.value=p(y),c.done=y>=t,c)}}const d5=t=>t!==null;function Jv(t,{repeat:e,repeatType:n="loop"},i,a=1){const c=t.filter(d5),p=a<0||e&&n!=="loop"&&e%2===1?0:c.length-1;return!p||i===void 0?c[p]:i}const f5={decay:c0,inertia:c0,tween:Rh,keyframes:Rh,spring:Tm};function IN(t){typeof t.type=="string"&&(t.type=f5[t.type])}class e_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const m5=t=>t/100;class t_ extends e_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Pi.now()&&this.tick(Pi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;IN(e);const{type:n=Rh,repeat:i=0,repeatDelay:a=0,repeatType:c,velocity:u=0}=e;let{keyframes:p}=e;const y=n||Rh;y!==Rh&&typeof p[0]!="number"&&(this.mixKeyframes=md(m5,RN(p[0],p[1])),p=[0,100]);const _=y({...e,keyframes:p});c==="mirror"&&(this.mirroredGenerator=y({...e,keyframes:[...p].reverse(),velocity:-u})),_.calculatedDuration===null&&(_.calculatedDuration=Qv(_));const{calculatedDuration:x}=_;this.calculatedDuration=x,this.resolvedDuration=x+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=_}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:c,mirroredGenerator:u,resolvedDuration:p,calculatedDuration:y}=this;if(this.startTime===null)return i.next(0);const{delay:_=0,keyframes:x,repeat:T,repeatType:A,repeatDelay:j,type:I,onUpdate:z,finalKeyframe:V}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const $=this.currentTime-_*(this.playbackSpeed>=0?1:-1),Y=this.playbackSpeed>=0?$<0:$>a;this.currentTime=Math.max($,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let X=this.currentTime,ve=i;if(T){const O=Math.min(this.currentTime,a)/p;let U=Math.floor(O),W=O%1;!W&&O>=1&&(W=1),W===1&&U--,U=Math.min(U,T+1),!!(U%2)&&(A==="reverse"?(W=1-W,j&&(W-=j/p)):A==="mirror"&&(ve=u)),X=ya(0,1,W)*p}const he=Y?{done:!1,value:x[0]}:ve.next(X);c&&(he.value=c(he.value));let{done:we}=he;!Y&&y!==null&&(we=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&we);return B&&I!==c0&&(he.value=Jv(x,this.options,V,this.speed)),z&&z(he.value),B&&this.finish(),he}then(e,n){return this.finished.then(e,n)}get duration(){return Ts(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ts(e)}get time(){return Ts(this.currentTime)}set time(e){e=Sr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Pi.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ts(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=XV,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Pi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function p5(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const wl=t=>t*180/Math.PI,u0=t=>{const e=wl(Math.atan2(t[1],t[0]));return h0(e)},g5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:u0,rotateZ:u0,skewX:t=>wl(Math.atan(t[1])),skewY:t=>wl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},h0=t=>(t=t%360,t<0&&(t+=360),t),x1=u0,b1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),w1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),y5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:b1,scaleY:w1,scale:t=>(b1(t)+w1(t))/2,rotateX:t=>h0(wl(Math.atan2(t[6],t[5]))),rotateY:t=>h0(wl(Math.atan2(-t[2],t[0]))),rotateZ:x1,rotate:x1,skewX:t=>wl(Math.atan(t[4])),skewY:t=>wl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function d0(t){return t.includes("scale")?1:0}function f0(t,e){if(!t||t==="none")return d0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=y5,a=n;else{const p=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=g5,a=p}if(!a)return d0(e);const c=i[e],u=a[1].split(",").map(_5);return typeof c=="function"?c(u):u[c]}const v5=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return f0(n,e)};function _5(t){return parseFloat(t.trim())}const vu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_u=new Set(vu),T1=t=>t===yu||t===We,x5=new Set(["x","y","z"]),b5=vu.filter(t=>!x5.has(t));function w5(t){const e=[];return b5.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Al={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>f0(e,"x"),y:(t,{transform:e})=>f0(e,"y")};Al.translateX=Al.x;Al.translateY=Al.y;const Nl=new Set;let m0=!1,p0=!1,g0=!1;function DN(){if(p0){const t=Array.from(Nl).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=w5(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([c,u])=>{i.getValue(c)?.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}p0=!1,m0=!1,Nl.forEach(t=>t.complete(g0)),Nl.clear()}function LN(){Nl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(p0=!0)})}function T5(){g0=!0,LN(),DN(),g0=!1}class n_{constructor(e,n,i,a,c,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=c,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Nl.add(this),m0||(m0=!0,Vt.read(LN),Vt.resolveKeyframes(DN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const c=a?.get(),u=e[e.length-1];if(c!==void 0)e[0]=c;else if(i&&n){const p=i.readValue(n,u);p!=null&&(e[0]=p)}e[0]===void 0&&(e[0]=u),a&&c===void 0&&a.set(e[0])}p5(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Nl.delete(this)}cancel(){this.state==="scheduled"&&(Nl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const E5=t=>t.startsWith("--");function S5(t,e,n){E5(e)?t.style.setProperty(e,n):t.style[e]=n}const A5=Hv(()=>window.ScrollTimeline!==void 0),N5={};function C5(t,e){const n=Hv(t);return()=>N5[e]??n()}const MN=C5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),bh=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,E1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bh([0,.65,.55,1]),circOut:bh([.55,0,1,.45]),backIn:bh([.31,.01,.66,-.59]),backOut:bh([.33,1.53,.69,.99])};function ON(t,e){if(t)return typeof t=="function"?MN()?PN(t,e):"ease-out":xN(t)?bh(t):Array.isArray(t)?t.map(n=>ON(n,e)||E1.easeOut):E1[t]}function R5(t,e,n,{delay:i=0,duration:a=300,repeat:c=0,repeatType:u="loop",ease:p="easeOut",times:y}={},_=void 0){const x={[e]:n};y&&(x.offset=y);const T=ON(p,a);Array.isArray(T)&&(x.easing=T);const A={delay:i,duration:a,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"};return _&&(A.pseudoElement=_),t.animate(x,A)}function kN(t){return typeof t=="function"&&"applyToOptions"in t}function P5({type:t,...e}){return kN(t)&&MN()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class j5 extends e_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:c,allowFlatten:u=!1,finalKeyframe:p,onComplete:y}=e;this.isPseudoElement=!!c,this.allowFlatten=u,this.options=e,Fv(typeof e.type!="string");const _=P5(e);this.animation=R5(n,i,a,_,c),_.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const x=Jv(a,this.options,p,this.speed);this.updateMotionValue?this.updateMotionValue(x):S5(n,i,x),this.animation.cancel()}y?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ts(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ts(e)}get time(){return Ts(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Sr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&A5()?(this.animation.timeline=e,Es):n(this)}}const VN={anticipate:gN,backInOut:pN,circInOut:vN};function I5(t){return t in VN}function D5(t){typeof t.ease=="string"&&I5(t.ease)&&(t.ease=VN[t.ease])}const S1=10;class L5 extends j5{constructor(e){D5(e),IN(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:c,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const p=new t_({...u,autoplay:!1}),y=Sr(this.finishedTime??this.time);n.setWithVelocity(p.sample(y-S1).value,p.sample(y).value,S1),p.stop()}}const A1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Lo.test(t)||t==="0")&&!t.startsWith("url("));function M5(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function O5(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const c=t[t.length-1],u=A1(a,e),p=A1(c,e);return!u||!p?!1:M5(t)||(n==="spring"||kN(n))&&i}function y0(t){t.duration=0,t.type="keyframes"}const k5=new Set(["opacity","clipPath","filter","transform"]),V5=Hv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function U5(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:c,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:y,transformTemplate:_}=e.owner.getProps();return V5()&&n&&k5.has(n)&&(n!=="transform"||!_)&&!y&&!i&&a!=="mirror"&&c!==0&&u!=="inertia"}const B5=40;class z5 extends e_{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:c=0,repeatType:u="loop",keyframes:p,name:y,motionValue:_,element:x,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Pi.now();const A={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:c,repeatType:u,name:y,motionValue:_,element:x,...T},j=x?.KeyframeResolver||n_;this.keyframeResolver=new j(p,(I,z,V)=>this.onKeyframesResolved(I,z,A,!V),y,_,x),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:c,type:u,velocity:p,delay:y,isHandoff:_,onUpdate:x}=i;this.resolvedAt=Pi.now(),O5(e,c,u,p)||((va.instantAnimations||!y)&&x?.(Jv(e,i,n)),e[0]=e[e.length-1],y0(i),i.repeat=0);const A={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>B5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},j=!_&&U5(A)?new L5({...A,element:A.motionValue.owner.current}):new t_(A);j.finished.then(()=>this.notifyFinished()).catch(Es),this.pendingTimeline&&(this.stopTimeline=j.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=j}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),T5()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const F5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function H5(t){const e=F5.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function UN(t,e,n=1){const[i,a]=H5(t);if(!i)return;const c=window.getComputedStyle(e).getPropertyValue(i);if(c){const u=c.trim();return oN(u)?parseFloat(u):u}return Kv(a)?UN(a,e,n+1):a}function i_(t,e){return t?.[e]??t?.default??t}const BN=new Set(["width","height","top","left","right","bottom",...vu]),q5={test:t=>t==="auto",parse:t=>t},zN=t=>e=>e.test(t),FN=[yu,We,Ar,mo,MV,LV,q5],N1=t=>FN.find(zN(t));function G5(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||cN(t):!0}const Z5=new Set(["brightness","contrast","saturate","opacity"]);function W5(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match($v)||[];if(!i)return t;const a=n.replace(i,"");let c=Z5.has(e)?1:0;return i!==n&&(c*=100),e+"("+c+a+")"}const K5=/\b([a-z-]*)\(.*?\)/gu,v0={...Lo,getAnimatableNone:t=>{const e=t.match(K5);return e?e.map(W5).join(" "):t}},C1={...yu,transform:Math.round},$5={rotate:mo,rotateX:mo,rotateY:mo,rotateZ:mo,scale:jf,scaleX:jf,scaleY:jf,scaleZ:jf,skew:mo,skewX:mo,skewY:mo,distance:We,translateX:We,translateY:We,translateZ:We,x:We,y:We,z:We,perspective:We,transformPerspective:We,opacity:Gh,originX:p1,originY:p1,originZ:We},s_={borderWidth:We,borderTopWidth:We,borderRightWidth:We,borderBottomWidth:We,borderLeftWidth:We,borderRadius:We,radius:We,borderTopLeftRadius:We,borderTopRightRadius:We,borderBottomRightRadius:We,borderBottomLeftRadius:We,width:We,maxWidth:We,height:We,maxHeight:We,top:We,right:We,bottom:We,left:We,padding:We,paddingTop:We,paddingRight:We,paddingBottom:We,paddingLeft:We,margin:We,marginTop:We,marginRight:We,marginBottom:We,marginLeft:We,backgroundPositionX:We,backgroundPositionY:We,...$5,zIndex:C1,fillOpacity:Gh,strokeOpacity:Gh,numOctaves:C1},Y5={...s_,color:ln,backgroundColor:ln,outlineColor:ln,fill:ln,stroke:ln,borderColor:ln,borderTopColor:ln,borderRightColor:ln,borderBottomColor:ln,borderLeftColor:ln,filter:v0,WebkitFilter:v0},HN=t=>Y5[t];function qN(t,e){let n=HN(t);return n!==v0&&(n=Lo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const X5=new Set(["auto","none","0"]);function Q5(t,e,n){let i=0,a;for(;i<t.length&&!a;){const c=t[i];typeof c=="string"&&!X5.has(c)&&Zh(c).values.length&&(a=t[i]),i++}if(a&&n)for(const c of e)t[c]=qN(n,a)}class J5 extends n_{constructor(e,n,i,a,c){super(e,n,i,a,c,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let _=e[y];if(typeof _=="string"&&(_=_.trim(),Kv(_))){const x=UN(_,n.current);x!==void 0&&(e[y]=x),y===e.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!BN.has(i)||e.length!==2)return;const[a,c]=e,u=N1(a),p=N1(c);if(u!==p)if(T1(u)&&T1(p))for(let y=0;y<e.length;y++){const _=e[y];typeof _=="string"&&(e[y]=parseFloat(_))}else Al[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||G5(e[a]))&&i.push(a);i.length&&Q5(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Al[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const c=i.length-1,u=i[c];i[c]=Al[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([p,y])=>{e.getValue(p).set(y)}),this.resolveNoneKeyframes()}}function e9(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const GN=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function ZN(t){return lN(t)&&"offsetHeight"in t}const R1=30,t9=t=>!isNaN(parseFloat(t));class n9{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=Pi.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Pi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=t9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new qv);const i=this.events[e].add(n);return e==="change"?()=>{i(),Vt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Pi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>R1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,R1);return uN(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xc(t,e){return new n9(t,e)}const{schedule:r_}=bN(queueMicrotask,!1),qs={x:!1,y:!1};function WN(){return qs.x||qs.y}function i9(t){return t==="x"||t==="y"?qs[t]?null:(qs[t]=!0,()=>{qs[t]=!1}):qs.x||qs.y?null:(qs.x=qs.y=!0,()=>{qs.x=qs.y=!1})}function KN(t,e){const n=e9(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function P1(t){return!(t.pointerType==="touch"||WN())}function s9(t,e,n={}){const[i,a,c]=KN(t,n),u=p=>{if(!P1(p))return;const{target:y}=p,_=e(y,p);if(typeof _!="function"||!y)return;const x=T=>{P1(T)&&(_(T),y.removeEventListener("pointerleave",x))};y.addEventListener("pointerleave",x,a)};return i.forEach(p=>{p.addEventListener("pointerenter",u,a)}),c}const $N=(t,e)=>e?t===e?!0:$N(t,e.parentElement):!1,a_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,r9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function a9(t){return r9.has(t.tagName)||t.tabIndex!==-1}const Qf=new WeakSet;function j1(t){return e=>{e.key==="Enter"&&t(e)}}function fy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const o9=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=j1(()=>{if(Qf.has(n))return;fy(n,"down");const a=j1(()=>{fy(n,"up")}),c=()=>fy(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",c,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function I1(t){return a_(t)&&!WN()}function l9(t,e,n={}){const[i,a,c]=KN(t,n),u=p=>{const y=p.currentTarget;if(!I1(p))return;Qf.add(y);const _=e(y,p),x=(j,I)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",A),Qf.has(y)&&Qf.delete(y),I1(j)&&typeof _=="function"&&_(j,{success:I})},T=j=>{x(j,y===window||y===document||n.useGlobalTarget||$N(y,j.target))},A=j=>{x(j,!1)};window.addEventListener("pointerup",T,a),window.addEventListener("pointercancel",A,a)};return i.forEach(p=>{(n.useGlobalTarget?window:p).addEventListener("pointerdown",u,a),ZN(p)&&(p.addEventListener("focus",_=>o9(_,a)),!a9(p)&&!p.hasAttribute("tabindex")&&(p.tabIndex=0))}),c}function YN(t){return lN(t)&&"ownerSVGElement"in t}function c9(t){return YN(t)&&t.tagName==="svg"}const Yn=t=>!!(t&&t.getVelocity),u9=[...FN,ln,Lo],h9=t=>u9.find(zN(t)),o_=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function D1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function d9(...t){return e=>{let n=!1;const i=t.map(a=>{const c=D1(a,e);return!n&&typeof c=="function"&&(n=!0),c});if(n)return()=>{for(let a=0;a<i.length;a++){const c=i[a];typeof c=="function"?c():D1(t[a],null)}}}}function f9(...t){return k.useCallback(d9(...t),t)}class m9 extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=ZN(i)&&i.offsetWidth||0,c=this.props.sizeRef.current;c.height=n.offsetHeight||0,c.width=n.offsetWidth||0,c.top=n.offsetTop,c.left=n.offsetLeft,c.right=a-c.width-c.left}return null}componentDidUpdate(){}render(){return this.props.children}}function p9({children:t,isPresent:e,anchorX:n,root:i}){const a=k.useId(),c=k.useRef(null),u=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:p}=k.useContext(o_),y=f9(c,t?.ref);return k.useInsertionEffect(()=>{const{width:_,height:x,top:T,left:A,right:j}=u.current;if(e||!c.current||!_||!x)return;const I=n==="left"?`left: ${A}`:`right: ${j}`;c.current.dataset.motionPopId=a;const z=document.createElement("style");p&&(z.nonce=p);const V=i??document.head;return V.appendChild(z),z.sheet&&z.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${_}px !important;
            height: ${x}px !important;
            ${I}px !important;
            top: ${T}px !important;
          }
        `),()=>{V.contains(z)&&V.removeChild(z)}},[e]),f.jsx(m9,{isPresent:e,childRef:c,sizeRef:u,children:k.cloneElement(t,{ref:y})})}const g9=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:c,mode:u,anchorX:p,root:y})=>{const _=Vv(y9),x=k.useId();let T=!0,A=k.useMemo(()=>(T=!1,{id:x,initial:e,isPresent:n,custom:a,onExitComplete:j=>{_.set(j,!0);for(const I of _.values())if(!I)return;i&&i()},register:j=>(_.set(j,!1),()=>_.delete(j))}),[n,_,i]);return c&&T&&(A={...A}),k.useMemo(()=>{_.forEach((j,I)=>_.set(I,!1))},[n]),k.useEffect(()=>{!n&&!_.size&&i&&i()},[n]),u==="popLayout"&&(t=f.jsx(p9,{isPresent:n,anchorX:p,root:y,children:t})),f.jsx(ip.Provider,{value:A,children:t})};function y9(){return new Map}function XN(t=!0){const e=k.useContext(ip);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,c=k.useId();k.useEffect(()=>{if(t)return a(c)},[t]);const u=k.useCallback(()=>t&&i&&i(c),[c,i,t]);return!n&&i?[!1,u]:[!0]}const If=t=>t.key||"";function L1(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const Df=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:c="sync",propagate:u=!1,anchorX:p="left",root:y})=>{const[_,x]=XN(u),T=k.useMemo(()=>L1(t),[t]),A=u&&!_?[]:T.map(If),j=k.useRef(!0),I=k.useRef(T),z=Vv(()=>new Map),[V,$]=k.useState(T),[Y,X]=k.useState(T);aN(()=>{j.current=!1,I.current=T;for(let we=0;we<Y.length;we++){const B=If(Y[we]);A.includes(B)?z.delete(B):z.get(B)!==!0&&z.set(B,!1)}},[Y,A.length,A.join("-")]);const ve=[];if(T!==V){let we=[...T];for(let B=0;B<Y.length;B++){const O=Y[B],U=If(O);A.includes(U)||(we.splice(B,0,O),ve.push(O))}return c==="wait"&&ve.length&&(we=ve),X(L1(we)),$(T),null}const{forceRender:he}=k.useContext(kv);return f.jsx(f.Fragment,{children:Y.map(we=>{const B=If(we),O=u&&!_?!1:T===Y||A.includes(B),U=()=>{if(z.has(B))z.set(B,!0);else return;let W=!0;z.forEach(M=>{M||(W=!1)}),W&&(he?.(),X(I.current),u&&x?.(),i&&i())};return f.jsx(g9,{isPresent:O,initial:!j.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:c,root:y,onExitComplete:O?void 0:U,anchorX:p,children:we},B)})})},QN=k.createContext({strict:!1}),M1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Qc={};for(const t in M1)Qc[t]={isEnabled:e=>M1[t].some(n=>!!e[n])};function v9(t){for(const e in t)Qc[e]={...Qc[e],...t[e]}}const _9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Em(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||_9.has(t)}let JN=t=>!Em(t);function x9(t){typeof t=="function"&&(JN=e=>e.startsWith("on")?!Em(e):t(e))}try{x9(require("@emotion/is-prop-valid").default)}catch{}function b9(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(JN(a)||n===!0&&Em(a)||!e&&!Em(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const sp=k.createContext({});function rp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Wh(t){return typeof t=="string"||Array.isArray(t)}const l_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],c_=["initial",...l_];function ap(t){return rp(t.animate)||c_.some(e=>Wh(t[e]))}function eC(t){return!!(ap(t)||t.variants)}function w9(t,e){if(ap(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Wh(n)?n:void 0,animate:Wh(i)?i:void 0}}return t.inherit!==!1?e:{}}function T9(t){const{initial:e,animate:n}=w9(t,k.useContext(sp));return k.useMemo(()=>({initial:e,animate:n}),[O1(e),O1(n)])}function O1(t){return Array.isArray(t)?t.join(" "):t}const Kh={};function E9(t){for(const e in t)Kh[e]=t[e],Wv(e)&&(Kh[e].isCSSVariable=!0)}function tC(t,{layout:e,layoutId:n}){return _u.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Kh[t]||t==="opacity")}const S9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},A9=vu.length;function N9(t,e,n){let i="",a=!0;for(let c=0;c<A9;c++){const u=vu[c],p=t[u];if(p===void 0)continue;let y=!0;if(typeof p=="number"?y=p===(u.startsWith("scale")?1:0):y=parseFloat(p)===0,!y||n){const _=GN(p,s_[u]);if(!y){a=!1;const x=S9[u]||u;i+=`${x}(${_}) `}n&&(e[u]=_)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function u_(t,e,n){const{style:i,vars:a,transformOrigin:c}=t;let u=!1,p=!1;for(const y in e){const _=e[y];if(_u.has(y)){u=!0;continue}else if(Wv(y)){a[y]=_;continue}else{const x=GN(_,s_[y]);y.startsWith("origin")?(p=!0,c[y]=x):i[y]=x}}if(e.transform||(u||n?i.transform=N9(e,t.transform,n):i.transform&&(i.transform="none")),p){const{originX:y="50%",originY:_="50%",originZ:x=0}=c;i.transformOrigin=`${y} ${_} ${x}`}}const h_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nC(t,e,n){for(const i in e)!Yn(e[i])&&!tC(i,n)&&(t[i]=e[i])}function C9({transformTemplate:t},e){return k.useMemo(()=>{const n=h_();return u_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function R9(t,e){const n=t.style||{},i={};return nC(i,n,t),Object.assign(i,C9(t,e)),i}function P9(t,e){const n={},i=R9(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const j9={offset:"stroke-dashoffset",array:"stroke-dasharray"},I9={offset:"strokeDashoffset",array:"strokeDasharray"};function D9(t,e,n=1,i=0,a=!0){t.pathLength=1;const c=a?j9:I9;t[c.offset]=We.transform(-i);const u=We.transform(e),p=We.transform(n);t[c.array]=`${u} ${p}`}function iC(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:c=1,pathOffset:u=0,...p},y,_,x){if(u_(t,p,_),y){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:T,style:A}=t;T.transform&&(A.transform=T.transform,delete T.transform),(A.transform||T.transformOrigin)&&(A.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),A.transform&&(A.transformBox=x?.transformBox??"fill-box",delete T.transformBox),e!==void 0&&(T.x=e),n!==void 0&&(T.y=n),i!==void 0&&(T.scale=i),a!==void 0&&D9(T,a,c,u,!1)}const sC=()=>({...h_(),attrs:{}}),rC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function L9(t,e,n,i){const a=k.useMemo(()=>{const c=sC();return iC(c,e,rC(i),t.transformTemplate,t.style),{...c.attrs,style:{...c.style}}},[e]);if(t.style){const c={};nC(c,t.style,t),a.style={...c,...a.style}}return a}const M9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function d_(t){return typeof t!="string"||t.includes("-")?!1:!!(M9.indexOf(t)>-1||/[A-Z]/u.test(t))}function O9(t,e,n,{latestValues:i},a,c=!1){const p=(d_(t)?L9:P9)(e,i,a,t),y=b9(e,typeof t=="string",c),_=t!==k.Fragment?{...y,...p,ref:n}:{},{children:x}=e,T=k.useMemo(()=>Yn(x)?x.get():x,[x]);return k.createElement(t,{..._,children:T})}function k1(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function f_(t,e,n,i){if(typeof e=="function"){const[a,c]=k1(i);e=e(n!==void 0?n:t.custom,a,c)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,c]=k1(i);e=e(n!==void 0?n:t.custom,a,c)}return e}function Jf(t){return Yn(t)?t.get():t}function k9({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:V9(n,i,a,t),renderState:e()}}function V9(t,e,n,i){const a={},c=i(t,{});for(const A in c)a[A]=Jf(c[A]);let{initial:u,animate:p}=t;const y=ap(t),_=eC(t);e&&_&&!y&&t.inherit!==!1&&(u===void 0&&(u=e.initial),p===void 0&&(p=e.animate));let x=n?n.initial===!1:!1;x=x||u===!1;const T=x?p:u;if(T&&typeof T!="boolean"&&!rp(T)){const A=Array.isArray(T)?T:[T];for(let j=0;j<A.length;j++){const I=f_(t,A[j]);if(I){const{transitionEnd:z,transition:V,...$}=I;for(const Y in $){let X=$[Y];if(Array.isArray(X)){const ve=x?X.length-1:0;X=X[ve]}X!==null&&(a[Y]=X)}for(const Y in z)a[Y]=z[Y]}}}return a}const aC=t=>(e,n)=>{const i=k.useContext(sp),a=k.useContext(ip),c=()=>k9(t,e,i,a);return n?c():Vv(c)};function m_(t,e,n){const{style:i}=t,a={};for(const c in i)(Yn(i[c])||e.style&&Yn(e.style[c])||tC(c,t)||n?.getValue(c)?.liveStyle!==void 0)&&(a[c]=i[c]);return a}const U9=aC({scrapeMotionValuesFromProps:m_,createRenderState:h_});function oC(t,e,n){const i=m_(t,e,n);for(const a in t)if(Yn(t[a])||Yn(e[a])){const c=vu.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[c]=t[a]}return i}const B9=aC({scrapeMotionValuesFromProps:oC,createRenderState:sC}),z9=Symbol.for("motionComponentSymbol");function jc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function F9(t,e,n){return k.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):jc(n)&&(n.current=i))},[e])}const p_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),H9="framerAppearId",lC="data-"+p_(H9),cC=k.createContext({});function q9(t,e,n,i,a){const{visualElement:c}=k.useContext(sp),u=k.useContext(QN),p=k.useContext(ip),y=k.useContext(o_).reducedMotion,_=k.useRef(null);i=i||u.renderer,!_.current&&i&&(_.current=i(t,{visualState:e,parent:c,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:y}));const x=_.current,T=k.useContext(cC);x&&!x.projection&&a&&(x.type==="html"||x.type==="svg")&&G9(_.current,n,a,T);const A=k.useRef(!1);k.useInsertionEffect(()=>{x&&A.current&&x.update(n,p)});const j=n[lC],I=k.useRef(!!j&&!window.MotionHandoffIsComplete?.(j)&&window.MotionHasOptimisedAnimation?.(j));return aN(()=>{x&&(A.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),x.scheduleRenderMicrotask(),I.current&&x.animationState&&x.animationState.animateChanges())}),k.useEffect(()=>{x&&(!I.current&&x.animationState&&x.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(j)}),I.current=!1),x.enteringChildren=void 0)}),x}function G9(t,e,n,i){const{layoutId:a,layout:c,drag:u,dragConstraints:p,layoutScroll:y,layoutRoot:_,layoutCrossfade:x}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:uC(t.parent)),t.projection.setOptions({layoutId:a,layout:c,alwaysMeasureLayout:!!u||p&&jc(p),visualElement:t,animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,crossfade:x,layoutScroll:y,layoutRoot:_})}function uC(t){if(t)return t.options.allowProjection!==!1?t.projection:uC(t.parent)}function my(t,{forwardMotionProps:e=!1}={},n,i){n&&v9(n);const a=d_(t)?B9:U9;function c(p,y){let _;const x={...k.useContext(o_),...p,layoutId:Z9(p)},{isStatic:T}=x,A=T9(p),j=a(p,T);if(!T&&Uv){W9();const I=K9(x);_=I.MeasureLayout,A.visualElement=q9(t,j,x,i,I.ProjectionNode)}return f.jsxs(sp.Provider,{value:A,children:[_&&A.visualElement?f.jsx(_,{visualElement:A.visualElement,...x}):null,O9(t,p,F9(j,A.visualElement,y),j,T,e)]})}c.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=k.forwardRef(c);return u[z9]=t,u}function Z9({layoutId:t}){const e=k.useContext(kv).id;return e&&t!==void 0?e+"-"+t:t}function W9(t,e){k.useContext(QN).strict}function K9(t){const{drag:e,layout:n}=Qc;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function $9(t,e){if(typeof Proxy>"u")return my;const n=new Map,i=(c,u)=>my(c,u,t,e),a=(c,u)=>i(c,u);return new Proxy(a,{get:(c,u)=>u==="create"?i:(n.has(u)||n.set(u,my(u,void 0,t,e)),n.get(u))})}function hC({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function Y9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function X9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function py(t){return t===void 0||t===1}function _0({scale:t,scaleX:e,scaleY:n}){return!py(t)||!py(e)||!py(n)}function vl(t){return _0(t)||dC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function dC(t){return V1(t.x)||V1(t.y)}function V1(t){return t&&t!=="0%"}function Sm(t,e,n){const i=t-n,a=e*i;return n+a}function U1(t,e,n,i,a){return a!==void 0&&(t=Sm(t,a,i)),Sm(t,n,i)+e}function x0(t,e=0,n=1,i,a){t.min=U1(t.min,e,n,i,a),t.max=U1(t.max,e,n,i,a)}function fC(t,{x:e,y:n}){x0(t.x,e.translate,e.scale,e.originPoint),x0(t.y,n.translate,n.scale,n.originPoint)}const B1=.999999999999,z1=1.0000000000001;function Q9(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let c,u;for(let p=0;p<a;p++){c=n[p],u=c.projectionDelta;const{visualElement:y}=c.options;y&&y.props.style&&y.props.style.display==="contents"||(i&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Dc(t,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,fC(t,u)),i&&vl(c.latestValues)&&Dc(t,c.latestValues))}e.x<z1&&e.x>B1&&(e.x=1),e.y<z1&&e.y>B1&&(e.y=1)}function Ic(t,e){t.min=t.min+e,t.max=t.max+e}function F1(t,e,n,i,a=.5){const c=Gt(t.min,t.max,a);x0(t,e,n,c,i)}function Dc(t,e){F1(t.x,e.x,e.scaleX,e.scale,e.originX),F1(t.y,e.y,e.scaleY,e.scale,e.originY)}function mC(t,e){return hC(X9(t.getBoundingClientRect(),e))}function J9(t,e,n){const i=mC(t,n),{scroll:a}=e;return a&&(Ic(i.x,a.offset.x),Ic(i.y,a.offset.y)),i}const H1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Lc=()=>({x:H1(),y:H1()}),q1=()=>({min:0,max:0}),tn=()=>({x:q1(),y:q1()}),b0={current:null},pC={current:!1};function e7(){if(pC.current=!0,!!Uv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>b0.current=t.matches;t.addEventListener("change",e),e()}else b0.current=!1}const t7=new WeakMap;function n7(t,e,n){for(const i in e){const a=e[i],c=n[i];if(Yn(a))t.addValue(i,a);else if(Yn(c))t.addValue(i,Xc(a,{owner:t}));else if(c!==a)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(i);t.addValue(i,Xc(u!==void 0?u:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const G1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class i7{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:c,visualState:u},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=n_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=Pi.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,Vt.render(this.render,!1,!0))};const{latestValues:y,renderState:_}=u;this.latestValues=y,this.baseTarget={...y},this.initialValues=n.initial?{...y}:{},this.renderState=_,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=p,this.blockInitialAnimation=!!c,this.isControllingVariants=ap(n),this.isVariantNode=eC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:x,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const A in T){const j=T[A];y[A]!==void 0&&Yn(j)&&j.set(y[A])}}mount(e){this.current=e,t7.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),pC.current||e7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:b0.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Do(this.notifyUpdate),Do(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=_u.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Vt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Qc){const n=Qc[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const c=this.features[e];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<G1.length;i++){const a=G1[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const c="on"+a,u=e[c];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=n7(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Xc(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(oN(i)||cN(i))?i=parseFloat(i):!h9(i)&&Lo.test(n)&&(i=qN(e,n)),this.setBaseTarget(e,Yn(i)?i.get():i)),Yn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const c=f_(this.props,n,this.presenceContext?.custom);c&&(i=c[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Yn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new qv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){r_.render(this.render)}}class gC extends i7{constructor(){super(...arguments),this.KeyframeResolver=J5}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Yn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function yC(t,{style:e,vars:n},i,a){const c=t.style;let u;for(u in e)c[u]=e[u];a?.applyProjectionStyles(c,i);for(u in n)c.setProperty(u,n[u])}function s7(t){return window.getComputedStyle(t)}class r7 extends gC{constructor(){super(...arguments),this.type="html",this.renderInstance=yC}readValueFromInstance(e,n){if(_u.has(n))return this.projection?.isProjecting?d0(n):v5(e,n);{const i=s7(e),a=(Wv(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return mC(e,n)}build(e,n,i){u_(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return m_(e,n,i)}}const vC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function a7(t,e,n,i){yC(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(vC.has(a)?a:p_(a),e.attrs[a])}class o7 extends gC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=tn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(_u.has(n)){const i=HN(n);return i&&i.default||0}return n=vC.has(n)?n:p_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return oC(e,n,i)}build(e,n,i){iC(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){a7(e,n,i,a)}mount(e){this.isSVGTag=rC(e.tagName),super.mount(e)}}const l7=(t,e)=>d_(t)?new o7(e):new r7(e,{allowProjection:t!==k.Fragment});function Bc(t,e,n){const i=t.getProps();return f_(i,e,n!==void 0?n:i.custom,t)}const w0=t=>Array.isArray(t);function c7(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Xc(n))}function u7(t){return w0(t)?t[t.length-1]||0:t}function h7(t,e){const n=Bc(t,e);let{transitionEnd:i={},transition:a={},...c}=n||{};c={...c,...i};for(const u in c){const p=u7(c[u]);c7(t,u,p)}}function d7(t){return!!(Yn(t)&&t.add)}function T0(t,e){const n=t.getValue("willChange");if(d7(n))return n.add(e);if(!n&&va.WillChange){const i=new va.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function _C(t){return t.props[lC]}const f7=t=>t!==null;function m7(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(f7),c=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[c]}const p7={type:"spring",stiffness:500,damping:25,restSpeed:10},g7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),y7={type:"keyframes",duration:.8},v7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_7=(t,{keyframes:e})=>e.length>2?y7:_u.has(t)?t.startsWith("scale")?g7(e[1]):p7:v7;function x7({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:c,repeatType:u,repeatDelay:p,from:y,elapsed:_,...x}){return!!Object.keys(x).length}const g_=(t,e,n,i={},a,c)=>u=>{const p=i_(i,t)||{},y=p.delay||i.delay||0;let{elapsed:_=0}=i;_=_-Sr(y);const x={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...p,delay:-_,onUpdate:A=>{e.set(A),p.onUpdate&&p.onUpdate(A)},onComplete:()=>{u(),p.onComplete&&p.onComplete()},name:t,motionValue:e,element:c?void 0:a};x7(p)||Object.assign(x,_7(t,x)),x.duration&&(x.duration=Sr(x.duration)),x.repeatDelay&&(x.repeatDelay=Sr(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let T=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(y0(x),x.delay===0&&(T=!0)),(va.instantAnimations||va.skipAnimations)&&(T=!0,y0(x),x.delay=0),x.allowFlatten=!p.type&&!p.ease,T&&!c&&e.get()!==void 0){const A=m7(x.keyframes,p);if(A!==void 0){Vt.update(()=>{x.onUpdate(A),x.onComplete()});return}}return p.isSync?new t_(x):new z5(x)};function b7({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function xC(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:c=t.getDefaultTransition(),transitionEnd:u,...p}=e;i&&(c=i);const y=[],_=a&&t.animationState&&t.animationState.getState()[a];for(const x in p){const T=t.getValue(x,t.latestValues[x]??null),A=p[x];if(A===void 0||_&&b7(_,x))continue;const j={delay:n,...i_(c||{},x)},I=T.get();if(I!==void 0&&!T.isAnimating&&!Array.isArray(A)&&A===I&&!j.velocity)continue;let z=!1;if(window.MotionHandoffAnimation){const $=_C(t);if($){const Y=window.MotionHandoffAnimation($,x,Vt);Y!==null&&(j.startTime=Y,z=!0)}}T0(t,x),T.start(g_(x,T,A,t.shouldReduceMotion&&BN.has(x)?{type:!1}:j,t,z));const V=T.animation;V&&y.push(V)}return u&&Promise.all(y).then(()=>{Vt.update(()=>{u&&h7(t,u)})}),y}function bC(t,e,n,i=0,a=1){const c=Array.from(t).sort((_,x)=>_.sortNodePosition(x)).indexOf(e),u=t.size,p=(u-1)*i;return typeof n=="function"?n(c,u):a===1?c*i:p-c*i}function E0(t,e,n={}){const i=Bc(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const c=i?()=>Promise.all(xC(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(y=0)=>{const{delayChildren:_=0,staggerChildren:x,staggerDirection:T}=a;return w7(t,e,y,_,x,T,n)}:()=>Promise.resolve(),{when:p}=a;if(p){const[y,_]=p==="beforeChildren"?[c,u]:[u,c];return y().then(()=>_())}else return Promise.all([c(),u(n.delay)])}function w7(t,e,n=0,i=0,a=0,c=1,u){const p=[];for(const y of t.variantChildren)y.notify("AnimationStart",e),p.push(E0(y,e,{...u,delay:n+(typeof i=="function"?0:i)+bC(t.variantChildren,y,i,a,c)}).then(()=>y.notify("AnimationComplete",e)));return Promise.all(p)}function T7(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(c=>E0(t,c,n));i=Promise.all(a)}else if(typeof e=="string")i=E0(t,e,n);else{const a=typeof e=="function"?Bc(t,e,n.custom):e;i=Promise.all(xC(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function wC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const E7=c_.length;function TC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?TC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<E7;n++){const i=c_[n],a=t.props[i];(Wh(a)||a===!1)&&(e[i]=a)}return e}const S7=[...l_].reverse(),A7=l_.length;function N7(t){return e=>Promise.all(e.map(({animation:n,options:i})=>T7(t,n,i)))}function C7(t){let e=N7(t),n=Z1(),i=!0;const a=y=>(_,x)=>{const T=Bc(t,x,y==="exit"?t.presenceContext?.custom:void 0);if(T){const{transition:A,transitionEnd:j,...I}=T;_={..._,...I,...j}}return _};function c(y){e=y(t)}function u(y){const{props:_}=t,x=TC(t.parent)||{},T=[],A=new Set;let j={},I=1/0;for(let V=0;V<A7;V++){const $=S7[V],Y=n[$],X=_[$]!==void 0?_[$]:x[$],ve=Wh(X),he=$===y?Y.isActive:null;he===!1&&(I=V);let we=X===x[$]&&X!==_[$]&&ve;if(we&&i&&t.manuallyAnimateOnMount&&(we=!1),Y.protectedKeys={...j},!Y.isActive&&he===null||!X&&!Y.prevProp||rp(X)||typeof X=="boolean")continue;const B=R7(Y.prevProp,X);let O=B||$===y&&Y.isActive&&!we&&ve||V>I&&ve,U=!1;const W=Array.isArray(X)?X:[X];let M=W.reduce(a($),{});he===!1&&(M={});const{prevResolvedValues:G={}}=Y,H={...G,...M},Ue=de=>{O=!0,A.has(de)&&(U=!0,A.delete(de)),Y.needsAnimating[de]=!0;const le=t.getValue(de);le&&(le.liveStyle=!1)};for(const de in H){const le=M[de],Me=G[de];if(j.hasOwnProperty(de))continue;let F=!1;w0(le)&&w0(Me)?F=!wC(le,Me):F=le!==Me,F?le!=null?Ue(de):A.add(de):le!==void 0&&A.has(de)?Ue(de):Y.protectedKeys[de]=!0}Y.prevProp=X,Y.prevResolvedValues=M,Y.isActive&&(j={...j,...M}),i&&t.blockInitialAnimation&&(O=!1);const je=we&&B;O&&(!je||U)&&T.push(...W.map(de=>{const le={type:$};if(typeof de=="string"&&i&&!je&&t.manuallyAnimateOnMount&&t.parent){const{parent:Me}=t,F=Bc(Me,de);if(Me.enteringChildren&&F){const{delayChildren:ce}=F.transition||{};le.delay=bC(Me.enteringChildren,t,ce)}}return{animation:de,options:le}}))}if(A.size){const V={};if(typeof _.initial!="boolean"){const $=Bc(t,Array.isArray(_.initial)?_.initial[0]:_.initial);$&&$.transition&&(V.transition=$.transition)}A.forEach($=>{const Y=t.getBaseTarget($),X=t.getValue($);X&&(X.liveStyle=!0),V[$]=Y??null}),T.push({animation:V})}let z=!!T.length;return i&&(_.initial===!1||_.initial===_.animate)&&!t.manuallyAnimateOnMount&&(z=!1),i=!1,z?e(T):Promise.resolve()}function p(y,_){if(n[y].isActive===_)return Promise.resolve();t.variantChildren?.forEach(T=>T.animationState?.setActive(y,_)),n[y].isActive=_;const x=u(y);for(const T in n)n[T].protectedKeys={};return x}return{animateChanges:u,setActive:p,setAnimateFunction:c,getState:()=>n,reset:()=>{n=Z1(),i=!0}}}function R7(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!wC(e,t):!1}function gl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Z1(){return{animate:gl(!0),whileInView:gl(),whileHover:gl(),whileTap:gl(),whileDrag:gl(),whileFocus:gl(),exit:gl()}}class Uo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class P7 extends Uo{constructor(e){super(e),e.animationState||(e.animationState=C7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();rp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let j7=0;class I7 extends Uo{constructor(){super(...arguments),this.id=j7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const D7={animation:{Feature:P7},exit:{Feature:I7}};function $h(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function yd(t){return{point:{x:t.pageX,y:t.pageY}}}const L7=t=>e=>a_(e)&&t(e,yd(e));function Ph(t,e,n,i){return $h(t,e,L7(n),i)}const EC=1e-4,M7=1-EC,O7=1+EC,SC=.01,k7=0-SC,V7=0+SC;function fi(t){return t.max-t.min}function U7(t,e,n){return Math.abs(t-e)<=n}function W1(t,e,n,i=.5){t.origin=i,t.originPoint=Gt(e.min,e.max,t.origin),t.scale=fi(n)/fi(e),t.translate=Gt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=M7&&t.scale<=O7||isNaN(t.scale))&&(t.scale=1),(t.translate>=k7&&t.translate<=V7||isNaN(t.translate))&&(t.translate=0)}function jh(t,e,n,i){W1(t.x,e.x,n.x,i?i.originX:void 0),W1(t.y,e.y,n.y,i?i.originY:void 0)}function K1(t,e,n){t.min=n.min+e.min,t.max=t.min+fi(e)}function B7(t,e,n){K1(t.x,e.x,n.x),K1(t.y,e.y,n.y)}function $1(t,e,n){t.min=e.min-n.min,t.max=t.min+fi(e)}function Ih(t,e,n){$1(t.x,e.x,n.x),$1(t.y,e.y,n.y)}function xs(t){return[t("x"),t("y")]}const AC=({current:t})=>t?t.ownerDocument.defaultView:null,Y1=(t,e)=>Math.abs(t-e);function z7(t,e){const n=Y1(t.x,e.x),i=Y1(t.y,e.y);return Math.sqrt(n**2+i**2)}class NC{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:c=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=yy(this.lastMoveEventInfo,this.history),j=this.startEvent!==null,I=z7(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!j&&!I)return;const{point:z}=A,{timestamp:V}=On;this.history.push({...z,timestamp:V});const{onStart:$,onMove:Y}=this.handlers;j||($&&$(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),Y&&Y(this.lastMoveEvent,A)},this.handlePointerMove=(A,j)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=gy(j,this.transformPagePoint),Vt.update(this.updatePoint,!0)},this.handlePointerUp=(A,j)=>{this.end();const{onEnd:I,onSessionEnd:z,resumeAnimation:V}=this.handlers;if(this.dragSnapToOrigin&&V&&V(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const $=yy(A.type==="pointercancel"?this.lastMoveEventInfo:gy(j,this.transformPagePoint),this.history);this.startEvent&&I&&I(A,$),z&&z(A,$)},!a_(e))return;this.dragSnapToOrigin=c,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const p=yd(e),y=gy(p,this.transformPagePoint),{point:_}=y,{timestamp:x}=On;this.history=[{..._,timestamp:x}];const{onSessionStart:T}=n;T&&T(e,yy(y,this.history)),this.removeListeners=md(Ph(this.contextWindow,"pointermove",this.handlePointerMove),Ph(this.contextWindow,"pointerup",this.handlePointerUp),Ph(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Do(this.updatePoint)}}function gy(t,e){return e?{point:e(t.point)}:t}function X1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function yy({point:t},e){return{point:t,delta:X1(t,CC(e)),offset:X1(t,F7(e)),velocity:H7(e,.1)}}function F7(t){return t[0]}function CC(t){return t[t.length-1]}function H7(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=CC(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>Sr(e)));)n--;if(!i)return{x:0,y:0};const c=Ts(a.timestamp-i.timestamp);if(c===0)return{x:0,y:0};const u={x:(a.x-i.x)/c,y:(a.y-i.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function q7(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Gt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Gt(n,t,i.max):Math.min(t,n)),t}function Q1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function G7(t,{top:e,left:n,bottom:i,right:a}){return{x:Q1(t.x,n,a),y:Q1(t.y,e,i)}}function J1(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function Z7(t,e){return{x:J1(t.x,e.x),y:J1(t.y,e.y)}}function W7(t,e){let n=.5;const i=fi(t),a=fi(e);return a>i?n=qh(e.min,e.max-i,t.min):i>a&&(n=qh(t.min,t.max-a,e.min)),ya(0,1,n)}function K7(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const S0=.35;function $7(t=S0){return t===!1?t=0:t===!0&&(t=S0),{x:eE(t,"left","right"),y:eE(t,"top","bottom")}}function eE(t,e,n){return{min:tE(t,e),max:tE(t,n)}}function tE(t,e){return typeof t=="number"?t:t[e]||0}const Y7=new WeakMap;class X7{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const c=T=>{const{dragSnapToOrigin:A}=this.getProps();A?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(yd(T).point)},u=(T,A)=>{const{drag:j,dragPropagation:I,onDragStart:z}=this.getProps();if(j&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=i9(j),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=A,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xs($=>{let Y=this.getAxisMotionValue($).get()||0;if(Ar.test(Y)){const{projection:X}=this.visualElement;if(X&&X.layout){const ve=X.layout.layoutBox[$];ve&&(Y=fi(ve)*(parseFloat(Y)/100))}}this.originPoint[$]=Y}),z&&Vt.postRender(()=>z(T,A)),T0(this.visualElement,"transform");const{animationState:V}=this.visualElement;V&&V.setActive("whileDrag",!0)},p=(T,A)=>{this.latestPointerEvent=T,this.latestPanInfo=A;const{dragPropagation:j,dragDirectionLock:I,onDirectionLock:z,onDrag:V}=this.getProps();if(!j&&!this.openDragLock)return;const{offset:$}=A;if(I&&this.currentDirection===null){this.currentDirection=Q7($),this.currentDirection!==null&&z&&z(this.currentDirection);return}this.updateAxis("x",A.point,$),this.updateAxis("y",A.point,$),this.visualElement.render(),V&&V(T,A)},y=(T,A)=>{this.latestPointerEvent=T,this.latestPanInfo=A,this.stop(T,A),this.latestPointerEvent=null,this.latestPanInfo=null},_=()=>xs(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:x}=this.getProps();this.panSession=new NC(e,{onSessionStart:c,onStart:u,onMove:p,onSessionEnd:y,resumeAnimation:_},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:x,distanceThreshold:i,contextWindow:AC(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:p}=this.getProps();p&&Vt.postRender(()=>p(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!Lf(e,a,this.currentDirection))return;const c=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=q7(u,this.constraints[e],this.elastic[e])),c.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&jc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=G7(i.layoutBox,e):this.constraints=!1,this.elastic=$7(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&xs(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=K7(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!jc(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const c=J9(i,a.root,this.visualElement.getTransformPagePoint());let u=Z7(a.layout.layoutBox,c);if(n){const p=n(Y9(u));this.hasMutatedConstraints=!!p,p&&(u=hC(p))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:p}=this.getProps(),y=this.constraints||{},_=xs(x=>{if(!Lf(x,n,this.currentDirection))return;let T=y&&y[x]||{};u&&(T={min:0,max:0});const A=a?200:1e6,j=a?40:1e7,I={type:"inertia",velocity:i?e[x]:0,bounceStiffness:A,bounceDamping:j,timeConstant:750,restDelta:1,restSpeed:10,...c,...T};return this.startAxisValueAnimation(x,I)});return Promise.all(_).then(p)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return T0(this.visualElement,e),i.start(g_(e,i,0,n,this.visualElement,!1))}stopAnimation(){xs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){xs(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){xs(n=>{const{drag:i}=this.getProps();if(!Lf(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,c=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:p}=a.layout.layoutBox[n];c.set(e[n]-Gt(u,p,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!jc(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};xs(u=>{const p=this.getAxisMotionValue(u);if(p&&this.constraints!==!1){const y=p.get();a[u]=W7({min:y,max:y},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),xs(u=>{if(!Lf(u,e,null))return;const p=this.getAxisMotionValue(u),{min:y,max:_}=this.constraints[u];p.set(Gt(y,_,a[u]))})}addListeners(){if(!this.visualElement.current)return;Y7.set(this.visualElement,this);const e=this.visualElement.current,n=Ph(e,"pointerdown",y=>{const{drag:_,dragListener:x=!0}=this.getProps();_&&x&&this.start(y)}),i=()=>{const{dragConstraints:y}=this.getProps();jc(y)&&y.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,c=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Vt.read(i);const u=$h(window,"resize",()=>this.scalePositionWithinConstraints()),p=a.addEventListener("didUpdate",(({delta:y,hasLayoutChanged:_})=>{this.isDragging&&_&&(xs(x=>{const T=this.getAxisMotionValue(x);T&&(this.originPoint[x]+=y[x].translate,T.set(T.get()+y[x].translate))}),this.visualElement.render())}));return()=>{u(),n(),c(),p&&p()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:c=!1,dragElastic:u=S0,dragMomentum:p=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:c,dragElastic:u,dragMomentum:p}}}function Lf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Q7(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class J7 extends Uo{constructor(e){super(e),this.removeGroupControls=Es,this.removeListeners=Es,this.controls=new X7(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Es}unmount(){this.removeGroupControls(),this.removeListeners()}}const nE=t=>(e,n)=>{t&&Vt.postRender(()=>t(e,n))};class eU extends Uo{constructor(){super(...arguments),this.removePointerDownListener=Es}onPointerDown(e){this.session=new NC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:AC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:nE(e),onStart:nE(n),onMove:i,onEnd:(c,u)=>{delete this.session,a&&Vt.postRender(()=>a(c,u))}}}mount(){this.removePointerDownListener=Ph(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const em={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function iE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const dh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(We.test(t))t=parseFloat(t);else return t;const n=iE(t,e.target.x),i=iE(t,e.target.y);return`${n}% ${i}%`}},tU={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=Lo.parse(t);if(a.length>5)return i;const c=Lo.createTransformer(t),u=typeof a[0]!="number"?1:0,p=n.x.scale*e.x,y=n.y.scale*e.y;a[0+u]/=p,a[1+u]/=y;const _=Gt(p,y,.5);return typeof a[2+u]=="number"&&(a[2+u]/=_),typeof a[3+u]=="number"&&(a[3+u]/=_),c(a)}};let vy=!1;class nU extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:c}=e;E9(iU),c&&(n.group&&n.group.add(c),i&&i.register&&a&&i.register(c),vy&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),em.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:c}=this.props,{projection:u}=i;return u&&(u.isPresent=c,vy=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==c?u.willUpdate():this.safeToRemove(),e.isPresent!==c&&(c?u.promote():u.relegate()||Vt.postRender(()=>{const p=u.getStack();(!p||!p.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),r_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;vy=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function RC(t){const[e,n]=XN(),i=k.useContext(kv);return f.jsx(nU,{...t,layoutGroup:i,switchLayoutGroup:k.useContext(cC),isPresent:e,safeToRemove:n})}const iU={borderRadius:{...dh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:dh,borderTopRightRadius:dh,borderBottomLeftRadius:dh,borderBottomRightRadius:dh,boxShadow:tU};function sU(t,e,n){const i=Yn(t)?t:Xc(t);return i.start(g_("",i,e,n)),i.animation}const rU=(t,e)=>t.depth-e.depth;class aU{constructor(){this.children=[],this.isDirty=!1}add(e){Bv(this.children,e),this.isDirty=!0}remove(e){zv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(rU),this.isDirty=!1,this.children.forEach(e)}}function oU(t,e){const n=Pi.now(),i=({timestamp:a})=>{const c=a-n;c>=e&&(Do(i),t(c-e))};return Vt.setup(i,!0),()=>Do(i)}const PC=["TopLeft","TopRight","BottomLeft","BottomRight"],lU=PC.length,sE=t=>typeof t=="string"?parseFloat(t):t,rE=t=>typeof t=="number"||We.test(t);function cU(t,e,n,i,a,c){a?(t.opacity=Gt(0,n.opacity??1,uU(i)),t.opacityExit=Gt(e.opacity??1,0,hU(i))):c&&(t.opacity=Gt(e.opacity??1,n.opacity??1,i));for(let u=0;u<lU;u++){const p=`border${PC[u]}Radius`;let y=aE(e,p),_=aE(n,p);if(y===void 0&&_===void 0)continue;y||(y=0),_||(_=0),y===0||_===0||rE(y)===rE(_)?(t[p]=Math.max(Gt(sE(y),sE(_),i),0),(Ar.test(_)||Ar.test(y))&&(t[p]+="%")):t[p]=_}(e.rotate||n.rotate)&&(t.rotate=Gt(e.rotate||0,n.rotate||0,i))}function aE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const uU=jC(0,.5,yN),hU=jC(.5,.95,Es);function jC(t,e,n){return i=>i<t?0:i>e?1:n(qh(t,e,i))}function oE(t,e){t.min=e.min,t.max=e.max}function _s(t,e){oE(t.x,e.x),oE(t.y,e.y)}function lE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function cE(t,e,n,i,a){return t-=e,t=Sm(t,1/n,i),a!==void 0&&(t=Sm(t,1/a,i)),t}function dU(t,e=0,n=1,i=.5,a,c=t,u=t){if(Ar.test(e)&&(e=parseFloat(e),e=Gt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let p=Gt(c.min,c.max,i);t===c&&(p-=e),t.min=cE(t.min,e,n,p,a),t.max=cE(t.max,e,n,p,a)}function uE(t,e,[n,i,a],c,u){dU(t,e[n],e[i],e[a],e.scale,c,u)}const fU=["x","scaleX","originX"],mU=["y","scaleY","originY"];function hE(t,e,n,i){uE(t.x,e,fU,n?n.x:void 0,i?i.x:void 0),uE(t.y,e,mU,n?n.y:void 0,i?i.y:void 0)}function dE(t){return t.translate===0&&t.scale===1}function IC(t){return dE(t.x)&&dE(t.y)}function fE(t,e){return t.min===e.min&&t.max===e.max}function pU(t,e){return fE(t.x,e.x)&&fE(t.y,e.y)}function mE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function DC(t,e){return mE(t.x,e.x)&&mE(t.y,e.y)}function pE(t){return fi(t.x)/fi(t.y)}function gE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class gU{constructor(){this.members=[]}add(e){Bv(this.members,e),e.scheduleRender()}remove(e){if(zv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const c=this.members[a];if(c.isPresent!==!1){i=c;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yU(t,e,n){let i="";const a=t.x.translate/e.x,c=t.y.translate/e.y,u=n?.z||0;if((a||c||u)&&(i=`translate3d(${a}px, ${c}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:_,rotate:x,rotateX:T,rotateY:A,skewX:j,skewY:I}=n;_&&(i=`perspective(${_}px) ${i}`),x&&(i+=`rotate(${x}deg) `),T&&(i+=`rotateX(${T}deg) `),A&&(i+=`rotateY(${A}deg) `),j&&(i+=`skewX(${j}deg) `),I&&(i+=`skewY(${I}deg) `)}const p=t.x.scale*e.x,y=t.y.scale*e.y;return(p!==1||y!==1)&&(i+=`scale(${p}, ${y})`),i||"none"}const _y=["","X","Y","Z"],vU=1e3;let _U=0;function xy(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function LC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=_C(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:c}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Vt,!(a||c))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&LC(i)}function MC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},p=e?.()){this.id=_U++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(wU),this.nodes.forEach(AU),this.nodes.forEach(NU),this.nodes.forEach(TU)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=p?p.root||p:this,this.path=p?[...p.path,p]:[],this.parent=p,this.depth=p?p.depth+1:0;for(let y=0;y<this.path.length;y++)this.path[y].shouldResetTransform=!0;this.root===this&&(this.nodes=new aU)}addEventListener(u,p){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new qv),this.eventHandlers.get(u).add(p)}notifyListeners(u,...p){const y=this.eventHandlers.get(u);y&&y.notify(...p)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=YN(u)&&!c9(u),this.instance=u;const{layoutId:p,layout:y,visualElement:_}=this.options;if(_&&!_.current&&_.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(y||p)&&(this.isLayoutDirty=!0),t){let x,T=0;const A=()=>this.root.updateBlockedByResize=!1;Vt.read(()=>{T=window.innerWidth}),t(u,()=>{const j=window.innerWidth;j!==T&&(T=j,this.root.updateBlockedByResize=!0,x&&x(),x=oU(A,250),em.hasAnimatedSinceResize&&(em.hasAnimatedSinceResize=!1,this.nodes.forEach(_E)))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&_&&(p||y)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:T,hasRelativeLayoutChanged:A,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||_.getDefaultTransition()||IU,{onLayoutAnimationStart:z,onLayoutAnimationComplete:V}=_.getProps(),$=!this.targetLayout||!DC(this.targetLayout,j),Y=!T&&A;if(this.options.layoutRoot||this.resumeFrom||Y||T&&($||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const X={...i_(I,"layout"),onPlay:z,onComplete:V};(_.shouldReduceMotion||this.options.layoutRoot)&&(X.delay=0,X.type=!1),this.startAnimation(X),this.setAnimationOrigin(x,Y)}else T||_E(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Do(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(CU),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&LC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const T=this.path[x];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:p,layout:y}=this.options;if(p===void 0&&!y)return;const _=this.getTransformTemplate();this.prevTransformTemplateValue=_?_(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(vE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(SU),this.nodes.forEach(xU),this.nodes.forEach(bU)):this.nodes.forEach(vE),this.clearAllSnapshots();const p=Pi.now();On.delta=ya(0,1e3/60,p-On.timestamp),On.timestamp=p,On.isProcessing=!0,ly.update.process(On),ly.preRender.process(On),ly.render.process(On),On.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,r_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(EU),this.sharedNodes.forEach(RU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Vt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Vt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fi(this.snapshot.measuredBox.x)&&!fi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let y=0;y<this.path.length;y++)this.path[y].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=tn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:p}=this.options;p&&p.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let p=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(p=!1),p&&this.instance){const y=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:y,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:y}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,p=this.projectionDelta&&!IC(this.projectionDelta),y=this.getTransformTemplate(),_=y?y(this.latestValues,""):void 0,x=_!==this.prevTransformTemplateValue;u&&this.instance&&(p||vl(this.latestValues)||x)&&(a(this.instance,_),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const p=this.measurePageBox();let y=this.removeElementScroll(p);return u&&(y=this.removeTransform(y)),DU(y),{animationId:this.root.animationId,measuredBox:p,layoutBox:y,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return tn();const p=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(LU))){const{scroll:_}=this.root;_&&(Ic(p.x,_.offset.x),Ic(p.y,_.offset.y))}return p}removeElementScroll(u){const p=tn();if(_s(p,u),this.scroll?.wasRoot)return p;for(let y=0;y<this.path.length;y++){const _=this.path[y],{scroll:x,options:T}=_;_!==this.root&&x&&T.layoutScroll&&(x.wasRoot&&_s(p,u),Ic(p.x,x.offset.x),Ic(p.y,x.offset.y))}return p}applyTransform(u,p=!1){const y=tn();_s(y,u);for(let _=0;_<this.path.length;_++){const x=this.path[_];!p&&x.options.layoutScroll&&x.scroll&&x!==x.root&&Dc(y,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),vl(x.latestValues)&&Dc(y,x.latestValues)}return vl(this.latestValues)&&Dc(y,this.latestValues),y}removeTransform(u){const p=tn();_s(p,u);for(let y=0;y<this.path.length;y++){const _=this.path[y];if(!_.instance||!vl(_.latestValues))continue;_0(_.latestValues)&&_.updateSnapshot();const x=tn(),T=_.measurePageBox();_s(x,T),hE(p,_.latestValues,_.snapshot?_.snapshot.layoutBox:void 0,x)}return vl(this.latestValues)&&hE(p,this.latestValues),p}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==On.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const y=!!this.resumingFrom||this!==p;if(!(u||y&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:T}=this.options;if(!(!this.layout||!(x||T))){if(this.resolvedRelativeTargetAt=On.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tn(),this.relativeTargetOrigin=tn(),Ih(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),_s(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=tn(),this.targetWithTransforms=tn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),B7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_s(this.target,this.layout.layoutBox),fC(this.target,this.targetDelta)):_s(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tn(),this.relativeTargetOrigin=tn(),Ih(this.relativeTargetOrigin,this.target,A.target),_s(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||_0(this.parent.latestValues)||dC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),p=!!this.resumingFrom||this!==u;let y=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(y=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(y=!1),this.resolvedRelativeTargetAt===On.timestamp&&(y=!1),y)return;const{layout:_,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(_||x))return;_s(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,A=this.treeScale.y;Q9(this.layoutCorrected,this.treeScale,this.path,p),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=tn());const{target:j}=u;if(!j){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(lE(this.prevProjectionDelta.x,this.projectionDelta.x),lE(this.prevProjectionDelta.y,this.projectionDelta.y)),jh(this.projectionDelta,this.layoutCorrected,j,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==A||!gE(this.projectionDelta.x,this.prevProjectionDelta.x)||!gE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",j))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Lc(),this.projectionDelta=Lc(),this.projectionDeltaWithTransform=Lc()}setAnimationOrigin(u,p=!1){const y=this.snapshot,_=y?y.latestValues:{},x={...this.latestValues},T=Lc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!p;const A=tn(),j=y?y.source:void 0,I=this.layout?this.layout.source:void 0,z=j!==I,V=this.getStack(),$=!V||V.members.length<=1,Y=!!(z&&!$&&this.options.crossfade===!0&&!this.path.some(jU));this.animationProgress=0;let X;this.mixTargetDelta=ve=>{const he=ve/1e3;xE(T.x,u.x,he),xE(T.y,u.y,he),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ih(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),PU(this.relativeTarget,this.relativeTargetOrigin,A,he),X&&pU(this.relativeTarget,X)&&(this.isProjectionDirty=!1),X||(X=tn()),_s(X,this.relativeTarget)),z&&(this.animationValues=x,cU(x,_,this.latestValues,he,Y,$)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=he},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Do(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Vt.update(()=>{em.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Xc(0)),this.currentAnimation=sU(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),u.onUpdate&&u.onUpdate(p)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:p,target:y,layout:_,latestValues:x}=u;if(!(!p||!y||!_)){if(this!==u&&this.layout&&_&&OC(this.options.animationType,this.layout.layoutBox,_.layoutBox)){y=this.target||tn();const T=fi(this.layout.layoutBox.x);y.x.min=u.target.x.min,y.x.max=y.x.min+T;const A=fi(this.layout.layoutBox.y);y.y.min=u.target.y.min,y.y.max=y.y.min+A}_s(p,y),Dc(p,x),jh(this.projectionDeltaWithTransform,this.layoutCorrected,p,x)}}registerSharedNode(u,p){this.sharedNodes.has(u)||this.sharedNodes.set(u,new gU),this.sharedNodes.get(u).add(p);const _=p.options.initialPromotionConfig;p.promote({transition:_?_.transition:void 0,preserveFollowOpacity:_&&_.shouldPreserveFollowOpacity?_.shouldPreserveFollowOpacity(p):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:p,preserveFollowOpacity:y}={}){const _=this.getStack();_&&_.promote(this,y),u&&(this.projectionDelta=void 0,this.needsReset=!0),p&&this.setOptions({transition:p})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let p=!1;const{latestValues:y}=u;if((y.z||y.rotate||y.rotateX||y.rotateY||y.rotateZ||y.skewX||y.skewY)&&(p=!0),!p)return;const _={};y.z&&xy("z",u,_,this.animationValues);for(let x=0;x<_y.length;x++)xy(`rotate${_y[x]}`,u,_,this.animationValues),xy(`skew${_y[x]}`,u,_,this.animationValues);u.render();for(const x in _)u.setStaticValue(x,_[x]),this.animationValues&&(this.animationValues[x]=_[x]);u.scheduleRender()}applyProjectionStyles(u,p){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const y=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Jf(p?.pointerEvents)||"",u.transform=y?y(this.latestValues,""):"none";return}const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Jf(p?.pointerEvents)||""),this.hasProjected&&!vl(this.latestValues)&&(u.transform=y?y({},""):"none",this.hasProjected=!1);return}u.visibility="";const x=_.animationValues||_.latestValues;this.applyTransformsToTarget();let T=yU(this.projectionDeltaWithTransform,this.treeScale,x);y&&(T=y(x,T)),u.transform=T;const{x:A,y:j}=this.projectionDelta;u.transformOrigin=`${A.origin*100}% ${j.origin*100}% 0`,_.animationValues?u.opacity=_===this?x.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:u.opacity=_===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const I in Kh){if(x[I]===void 0)continue;const{correct:z,applyTo:V,isCSSVariable:$}=Kh[I],Y=T==="none"?x[I]:z(x[I],_);if(V){const X=V.length;for(let ve=0;ve<X;ve++)u[V[ve]]=Y}else $?this.options.visualElement.renderState.vars[I]=Y:u[I]=Y}this.options.layoutId&&(u.pointerEvents=_===this?Jf(p?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(yE),this.root.sharedNodes.clear()}}}function xU(t){t.updateLayout()}function bU(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,c=e.source!==t.layout.source;a==="size"?xs(x=>{const T=c?e.measuredBox[x]:e.layoutBox[x],A=fi(T);T.min=n[x].min,T.max=T.min+A}):OC(a,e.layoutBox,n)&&xs(x=>{const T=c?e.measuredBox[x]:e.layoutBox[x],A=fi(n[x]);T.max=T.min+A,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+A)});const u=Lc();jh(u,n,e.layoutBox);const p=Lc();c?jh(p,t.applyTransform(i,!0),e.measuredBox):jh(p,n,e.layoutBox);const y=!IC(u);let _=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:T,layout:A}=x;if(T&&A){const j=tn();Ih(j,e.layoutBox,T.layoutBox);const I=tn();Ih(I,n,A.layoutBox),DC(j,I)||(_=!0),x.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=j,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:p,layoutDelta:u,hasLayoutChanged:y,hasRelativeLayoutChanged:_})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function wU(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function TU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function EU(t){t.clearSnapshot()}function yE(t){t.clearMeasurements()}function vE(t){t.isLayoutDirty=!1}function SU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function _E(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function AU(t){t.resolveTargetDelta()}function NU(t){t.calcProjection()}function CU(t){t.resetSkewAndRotation()}function RU(t){t.removeLeadSnapshot()}function xE(t,e,n){t.translate=Gt(e.translate,0,n),t.scale=Gt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function bE(t,e,n,i){t.min=Gt(e.min,n.min,i),t.max=Gt(e.max,n.max,i)}function PU(t,e,n,i){bE(t.x,e.x,n.x,i),bE(t.y,e.y,n.y,i)}function jU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const IU={duration:.45,ease:[.4,0,.1,1]},wE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),TE=wE("applewebkit/")&&!wE("chrome/")?Math.round:Es;function EE(t){t.min=TE(t.min),t.max=TE(t.max)}function DU(t){EE(t.x),EE(t.y)}function OC(t,e,n){return t==="position"||t==="preserve-aspect"&&!U7(pE(e),pE(n),.2)}function LU(t){return t!==t.root&&t.scroll?.wasRoot}const MU=MC({attachResizeListener:(t,e)=>$h(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),by={current:void 0},kC=MC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!by.current){const t=new MU({});t.mount(window),t.setOptions({layoutScroll:!0}),by.current=t}return by.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),OU={pan:{Feature:eU},drag:{Feature:J7,ProjectionNode:kC,MeasureLayout:RC}};function SE(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,c=i[a];c&&Vt.postRender(()=>c(e,yd(e)))}class kU extends Uo{mount(){const{current:e}=this.node;e&&(this.unmount=s9(e,(n,i)=>(SE(this.node,i,"Start"),a=>SE(this.node,a,"End"))))}unmount(){}}class VU extends Uo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=md($h(this.node.current,"focus",()=>this.onFocus()),$h(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function AE(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),c=i[a];c&&Vt.postRender(()=>c(e,yd(e)))}class UU extends Uo{mount(){const{current:e}=this.node;e&&(this.unmount=l9(e,(n,i)=>(AE(this.node,i,"Start"),(a,{success:c})=>AE(this.node,a,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const A0=new WeakMap,wy=new WeakMap,BU=t=>{const e=A0.get(t.target);e&&e(t)},zU=t=>{t.forEach(BU)};function FU({root:t,...e}){const n=t||document;wy.has(n)||wy.set(n,{});const i=wy.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(zU,{root:t,...e})),i[a]}function HU(t,e,n){const i=FU(e);return A0.set(t,n),i.observe(t),()=>{A0.delete(t),i.unobserve(t)}}const qU={some:0,all:1};class GU extends Uo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:c}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:qU[a]},p=y=>{const{isIntersecting:_}=y;if(this.isInView===_||(this.isInView=_,c&&!_&&this.hasEnteredView))return;_&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",_);const{onViewportEnter:x,onViewportLeave:T}=this.node.getProps(),A=_?x:T;A&&A(y)};return HU(this.node.current,u,p)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(ZU(e,n))&&this.startObserver()}unmount(){}}function ZU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const WU={inView:{Feature:GU},tap:{Feature:UU},focus:{Feature:VU},hover:{Feature:kU}},KU={layout:{ProjectionNode:kC,MeasureLayout:RC}},$U={...D7,...WU,...OU,...KU},Ni=$9($U,l7),YU=()=>{const t=Ss(),{orderId:e,payment:n}=t.state||{},[i,a]=k.useState(null),[c,u]=k.useState(!0),[p,y]=k.useState(!1);return k.useEffect(()=>{if(!e)return;(async()=>{try{const T=So(Qi,"orders",e),A=await Nv(T);A.exists()&&a(A.data())}catch(T){console.error("Error fetching order:",T)}finally{u(!1)}})();const x=setTimeout(()=>y(!0),2e3);return()=>clearTimeout(x)},[e]),e?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-green-50 to-teal-50 py-8 px-4",children:f.jsxs("div",{className:"max-w-2xl mx-auto",children:[f.jsxs(Ni.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8",children:[f.jsx(Ni.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15,delay:.2},className:"w-24 h-24 bg-gradient-to-r from-emerald-500 to-green-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:f.jsx("i",{className:"fas fa-check-circle text-4xl text-white"})}),f.jsx(Ni.h1,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-4xl font-bold bg-gradient-to-r from-emerald-600 to-green-600 bg-clip-text text-transparent mb-4",children:"Order Confirmed!"}),f.jsx(Ni.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"text-lg text-gray-600",children:"Thank you for your purchase! Your order has been successfully placed."})]}),f.jsx(Ni.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.8},className:"flex justify-center mb-8",children:f.jsxs("span",{className:`inline-flex items-center px-6 py-3 rounded-full text-sm font-semibold ${n==="success"?"bg-emerald-100 text-emerald-800 border border-emerald-200":"bg-amber-100 text-amber-800 border border-amber-200"}`,children:[f.jsx("i",{className:`fas ${n==="success"?"fa-check-circle":"fa-clock"} mr-2`}),"Payment ",n?.toUpperCase()]})}),f.jsxs(Ni.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:1},className:"bg-white rounded-2xl shadow-xl overflow-hidden mb-8 border border-emerald-100",children:[f.jsx("div",{className:"bg-gradient-to-r from-emerald-600 to-green-600 p-6",children:f.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center",children:[f.jsx("i",{className:"fas fa-receipt mr-3"}),"Order Details"]})}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[f.jsxs("span",{className:"text-gray-600 font-medium flex items-center",children:[f.jsx("i",{className:"fas fa-hashtag mr-2 text-emerald-500"}),"Order ID"]}),f.jsxs("span",{className:"font-mono font-semibold text-emerald-600 bg-emerald-50 px-3 py-1 rounded-lg",children:["#",e.slice(-8)]})]}),f.jsx(Df,{children:c&&f.jsxs(Ni.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-8",children:[f.jsx(Ni.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-8 h-8 border-2 border-emerald-500 border-t-transparent rounded-full mx-auto mb-4"}),f.jsx("p",{className:"text-gray-500",children:"Loading order details..."})]})}),f.jsx(Df,{children:!c&&i&&f.jsxs(Ni.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"space-y-4 mt-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-emerald-50 p-4 rounded-xl",children:[f.jsxs("div",{className:"text-sm text-emerald-600 font-medium mb-1",children:[f.jsx("i",{className:"fas fa-rupee-sign mr-1"}),"Amount"]}),f.jsxs("div",{className:"text-lg font-bold text-emerald-700",children:["₹",i.amount]})]}),f.jsxs("div",{className:"bg-green-50 p-4 rounded-xl",children:[f.jsx("div",{className:"text-sm text-green-600 font-medium mb-1",children:"Date"}),f.jsx("div",{className:"text-sm font-semibold text-green-700",children:i.createdAt?.toDate?i.createdAt.toDate().toLocaleDateString():"N/A"})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-teal-50 p-4 rounded-xl",children:[f.jsx("div",{className:"text-sm text-teal-600 font-medium mb-1",children:"Status"}),f.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-teal-100 text-teal-800",children:i.status||"Confirmed"})]}),f.jsxs("div",{className:"bg-cyan-50 p-4 rounded-xl",children:[f.jsx("div",{className:"text-sm text-cyan-600 font-medium mb-1",children:"Plan"}),f.jsx("div",{className:"text-sm font-semibold text-cyan-700",children:i.items[0].name})]})]})]})}),f.jsx(Df,{children:!c&&!i&&f.jsxs(Ni.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-6 text-red-500",children:[f.jsx("i",{className:"fas fa-exclamation-circle text-2xl mb-2"}),f.jsx("p",{children:"Order details not found."})]})})]})]}),f.jsxs(Ni.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:2},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[f.jsxs(et,{to:"/",className:"flex-1 bg-gradient-to-r from-emerald-600 to-green-600 text-white px-8 py-4 rounded-xl hover:from-emerald-700 hover:to-green-700 transition-all duration-300 font-semibold text-center group",children:[f.jsx("i",{className:"fas fa-shopping-bag mr-2 group-hover:scale-110 transition-transform"}),"Continue Shopping"]}),f.jsxs(et,{to:"/profile",className:"flex-1 border-2 border-emerald-600 text-emerald-600 px-8 py-4 rounded-xl hover:bg-emerald-50 transition-all duration-300 font-semibold text-center group",children:[f.jsx("i",{className:"fas fa-clipboard-list mr-2 group-hover:scale-110 transition-transform"}),"View My Orders"]})]}),f.jsx(Df,{children:p&&f.jsx(f.Fragment,{children:[...Array(5)].map((_,x)=>f.jsx(Ni.div,{initial:{scale:0,opacity:0,x:Math.random()*100-50,y:Math.random()*100-50},animate:{scale:[0,1,0],opacity:[0,1,0],rotate:Math.random()*360},transition:{duration:2,delay:x*.3,repeat:1/0,repeatDelay:5},className:"fixed text-emerald-400 text-2xl pointer-events-none",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},children:f.jsx("i",{className:"fas fa-star"})},x))})})]})}):f.jsx(Ni.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen bg-gradient-to-br from-emerald-50 to-green-50 flex items-center justify-center px-4",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[f.jsx(Ni.div,{initial:{scale:0},animate:{scale:1},className:"text-red-500 text-6xl mb-4",children:f.jsx("i",{className:"fas fa-exclamation-triangle"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Invalid Order Confirmation"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't find your order details. Please check your confirmation link."}),f.jsxs(et,{to:"/",className:"inline-flex items-center bg-emerald-600 text-white px-6 py-3 rounded-xl hover:bg-emerald-700 transition-all duration-300 font-medium",children:[f.jsx("i",{className:"fas fa-home mr-2"}),"Go back to Home"]})]})})};delete mu.Icon.Default.prototype._getIconUrl;mu.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const XU=new mu.Icon({iconUrl:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32' fill='%2300C853'%3E%3Cpath d='M16 2C10.48 2 6 6.48 6 12c0 8 10 18 10 18s10-10 10-18c0-5.52-4.48-10-10-10zm0 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z'/%3E%3C/svg%3E",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[32,32],iconAnchor:[16,32]}),QU=()=>{const[t,e]=k.useState("subscriptions"),[n,i]=k.useState([]),[a,c]=k.useState([]),[u,p]=k.useState(!0),[y,_]=k.useState(null),[x,T]=k.useState(!1),[A,j]=k.useState({}),[I,z]=k.useState(new Date().toISOString().split("T")[0]),[V,$]=k.useState(!1);k.useEffect(()=>{Y()},[]),k.useEffect(()=>{t==="attendance"&&X()},[t,I,a]);const Y=async()=>{try{p(!0);const M=xA(Tl(Qi,"orders"),Fk("createdAt","desc")),H=(await Wf(M)).docs.map(de=>{const le=de.data();return{id:de.id,...le,createdAt:le.createdAt?.toDate?.()||new Date,shippingAddress:{address:le.shipping?.address||"",city:le.shipping?.city||"",state:le.shipping?.state||"",pincode:le.shipping?.pincode||"",country:le.shipping?.country||"",location:le.shipping?.location||null}}});c(H);const J=(await Wf(Tl(Qi,"users"))).docs.map(de=>({id:de.id,...de.data()})).map(de=>{const le=H.filter(F=>F.userId===de.id),Me=le.length>0?{...le[0],daysLeft:ve(le[0].createdAt),status:he(le[0].createdAt)}:null;return{user:de,orders:le,activeSubscription:Me,totalOrders:le.length,totalSpent:le.reduce((F,ce)=>F+(ce.amount||0),0)}});i(J)}catch(M){console.error("Error fetching data:",M)}finally{p(!1)}},X=async()=>{try{const M=a.filter(G=>G.createdAt.toISOString().split("T")[0]===I);j({date:I,totalOrders:M.length,delivered:M.filter(G=>G.deliveryStatus==="delivered").length,notDelivered:M.filter(G=>!G.deliveryStatus||G.deliveryStatus==="pending"||G.deliveryStatus==="not_delivered").length,orders:M})}catch(M){console.error("Error fetching attendance data:",M)}},ve=M=>{const G=new Date(M);G.setDate(G.getDate()+26);const Ue=Math.ceil((G-new Date)/(1e3*60*60*24));return Math.max(0,Ue)},he=M=>{const G=ve(M);return G===0?"expired":G<=7?"expiring_soon":"active"},we=async(M,G)=>{try{const H=So(Qi,"orders",M);await sy(H,{deliveryStatus:G,updatedAt:Ct.now()}),c(Ue=>Ue.map(je=>je.id===M?{...je,deliveryStatus:G}:je)),y?.id===M&&_(Ue=>({...Ue,deliveryStatus:G})),alert(`Delivery status updated to ${G}`)}catch(H){console.error("Error updating delivery status:",H),alert("Error updating delivery status")}},B=async M=>{try{const G=So(Qi,"subscriptions",M);await sy(G,{extraDays:$T(1),events:KT({type:"cancel",date:new Date().toISOString()})}),alert("Cancelled today for this user. Timeline extended by 1 day.")}catch(G){console.error("Error cancelling day:",G)}},O=async()=>{try{(await Wf(Tl(Qi,"subscriptions"))).forEach(async G=>{await sy(So(Qi,"subscriptions",G.id),{extraDays:$T(1),events:KT({type:"leave",date:new Date().toISOString()})})}),alert("Marked today as leave. Timeline extended by 1 day for all users.")}catch(M){console.error("Error marking leave:",M)}},U=M=>{_(M),T(!0)},W=M=>{const H={active:{color:"bg-emerald-100 text-emerald-800 border-emerald-200",label:"Active"},expiring_soon:{color:"bg-amber-100 text-amber-800 border-amber-200",label:"Expiring Soon"},expired:{color:"bg-red-100 text-red-800 border-red-200",label:"Expired"},delivered:{color:"bg-emerald-100 text-emerald-800 border-emerald-200",label:"Delivered"},pending:{color:"bg-amber-100 text-amber-800 border-amber-200",label:"Pending"},not_delivered:{color:"bg-red-100 text-red-800 border-red-200",label:"Not Delivered"}}[M]||{color:"bg-gray-100 text-gray-800 border-gray-200",label:M};return f.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${H.color}`,children:H.label})};return u?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-green-50 flex items-center justify-center",children:f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"}),f.jsxs("p",{className:"mt-3 text-emerald-700 font-medium",children:[f.jsx("i",{className:"fas fa-spinner fa-spin mr-2"}),"Loading dashboard..."]})]})}):f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-green-50",children:[f.jsx("div",{className:"lg:hidden bg-white shadow-sm border-b border-emerald-100",children:f.jsxs("div",{className:"flex items-center justify-between p-4",children:[f.jsx("button",{onClick:()=>$(!V),className:"p-2 rounded-lg bg-emerald-50 text-emerald-700",children:f.jsx("i",{className:"fas fa-bars"})}),f.jsxs("div",{className:"text-emerald-700 font-semibold",children:[f.jsx("i",{className:"fas fa-leaf mr-2"}),"Admin Dashboard"]}),f.jsx("div",{className:"w-6"})]})}),f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:`fixed lg:static inset-y-0 left-0 z-40 w-64 h-[100vh] bg-white shadow-xl transform ${V?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out`,children:f.jsxs("div",{className:"flex flex-col h-full",children:[f.jsxs("div",{className:"py-6 p-2 bg-gradient-to-r from-emerald-600 to-green-600 text-white",children:[f.jsx("h1",{className:"text-xl font-bold",children:"Fruit Bunch Admin"}),f.jsx("p",{className:"text-emerald-100 text-sm mt-1",children:"Sustainable Delivery Management"})]}),f.jsx("nav",{className:"flex-1 p-4 space-y-2",children:[{id:"subscriptions",label:"Subscriptions",icon:"fa-chart-pie"},{id:"orders",label:"Orders",icon:"fa-box"},{id:"attendance",label:"Attendance",icon:"fa-users"},{id:"analytics",label:"Analytics",icon:"fa-chart-line"}].map(M=>f.jsxs("button",{onClick:()=>{e(M.id),$(!1)},className:`w-full flex items-center px-4 py-3 rounded-xl text-left transition-all duration-200 ${t===M.id?"bg-emerald-50 text-emerald-700 border-l-4 border-emerald-600 shadow-sm":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[f.jsx("i",{className:`fas ${M.icon} text-lg mr-3`}),f.jsx("span",{className:"font-medium",children:M.label})]},M.id))}),f.jsx("div",{className:"p-4 border-t border-gray-100",children:f.jsx("div",{className:"text-center text-sm text-gray-500",children:new Date().toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})})]})}),f.jsxs("div",{className:"flex-1 lg:ml-0",children:[f.jsx("div",{className:"bg-white/80 backdrop-blur-sm shadow-sm border-b border-emerald-100",children:f.jsx("div",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900 capitalize",children:t.replace("_"," ")}),f.jsx("p",{className:"text-gray-600",children:"Manage your delivery operations efficiently"})]}),f.jsxs("div",{className:"hidden lg:flex items-center space-x-4",children:[f.jsxs("div",{className:"text-right",children:[f.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[f.jsx("i",{className:"fas fa-user-shield mr-1"}),"Welcome back, Admin"]}),f.jsxs("div",{className:"text-xs text-gray-500",children:[f.jsx("i",{className:"fas fa-sync-alt mr-1"}),"Last updated: Just now"]})]}),f.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-emerald-500 to-green-500 rounded-full flex items-center justify-center text-white font-semibold",children:f.jsx("i",{className:"fas fa-user"})})]})]})})}),f.jsxs("div",{className:"p-6",children:[t==="subscriptions"&&f.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-emerald-100 overflow-hidden",children:[f.jsx("div",{className:"px-6 py-5 bg-gradient-to-r from-emerald-50 to-green-50 border-b border-emerald-100",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"User Subscriptions"}),f.jsx("p",{className:"text-emerald-700",children:"Active subscriptions and customer management"})]}),f.jsx("div",{className:"text-2xl text-emerald-600",children:f.jsx("i",{className:"fas fa-users"})})]})}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"User"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Subscription"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Orders"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Total Spent"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(M=>f.jsxs("tr",{className:"hover:bg-emerald-50/50 transition-colors",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-gradient-to-r from-emerald-400 to-green-400 rounded-full flex items-center justify-center text-white font-semibold",children:f.jsx("i",{className:"fas fa-user"})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("div",{className:"text-sm font-medium text-gray-900",children:M.user.name||"No Name"}),f.jsx("div",{className:"text-sm text-gray-500",children:M.user.email})]})]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:M.activeSubscription?f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-medium text-gray-900",children:M.activeSubscription.items?.[0]?.name||"Subscription"}),f.jsxs("div",{className:"text-sm text-emerald-600 font-semibold",children:[M.activeSubscription.daysLeft," days left"]})]}):f.jsxs("span",{className:"text-sm text-gray-500",children:[f.jsx("i",{className:"fas fa-times mr-1"}),"No active subscription"]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:M.activeSubscription?W(M.activeSubscription.status):W("expired")}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:[f.jsx("i",{className:"fas fa-hashtag mr-1"}),M.totalOrders]}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-emerald-600",children:[f.jsx("i",{className:"fas fa-rupee-sign mr-1"}),M.totalSpent]}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:f.jsxs("button",{onClick:()=>M.orders.length>0&&U(M.orders[0]),className:"text-emerald-600 hover:text-emerald-800 px-3 py-1 rounded-lg bg-emerald-50 hover:bg-emerald-100 transition-colors",children:[f.jsx("i",{className:"fas fa-eye mr-1"}),"View"]})})]},M.user.id))})]})})]}),t==="orders"&&f.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-emerald-100 overflow-hidden",children:[f.jsx("div",{className:"px-6 py-5 bg-gradient-to-r from-emerald-50 to-green-50 border-b border-emerald-100",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Order Management"}),f.jsx("p",{className:"text-emerald-700",children:"Track and manage all delivery orders"})]}),f.jsx("div",{className:"text-2xl text-emerald-600",children:f.jsx("i",{className:"fas fa-boxes"})})]})}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Order ID"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"User"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Amount"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Date"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(M=>f.jsxs("tr",{className:"hover:bg-emerald-50/50 transition-colors",children:[f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono font-semibold text-emerald-600",children:[f.jsx("i",{className:"fas fa-hashtag mr-1"}),"#",M.id.slice(-8)]}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:n.find(G=>G.user.id===M.userId)?.user.name||"Unknown User"}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-emerald-600",children:[f.jsx("i",{className:"fas fa-rupee-sign mr-1"}),M.amount]}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:M.createdAt.toLocaleDateString()}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:W(M.deliveryStatus||"pending")}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:f.jsxs("button",{onClick:()=>U(M),className:"text-emerald-600 hover:text-emerald-800 px-3 py-1 rounded-lg bg-emerald-50 hover:bg-emerald-100 transition-colors",children:[f.jsx("i",{className:"fas fa-eye mr-1"}),"View"]})})]},M.id))})]})})]}),t==="attendance"&&f.jsx("div",{className:"space-y-6",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-emerald-100 overflow-hidden",children:[f.jsx("div",{className:"px-6 py-5 bg-gradient-to-r from-emerald-50 to-green-50 border-b border-emerald-100",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Daily Attendance"}),f.jsx("p",{className:"text-emerald-700",children:"Track delivery performance and attendance"})]}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("input",{type:"date",value:I,onChange:M=>z(M.target.value),className:"border border-emerald-200 rounded-xl px-4 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent"}),f.jsx("div",{className:"text-2xl text-emerald-600",children:f.jsx("i",{className:"fas fa-calendar-check"})})]})]})}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[f.jsxs("div",{className:"bg-gradient-to-br from-emerald-500 to-green-500 p-6 rounded-2xl text-white shadow-lg",children:[f.jsx("div",{className:"text-3xl font-bold",children:A.totalOrders||0}),f.jsx("div",{className:"text-emerald-100",children:"Total Orders"}),f.jsxs("div",{className:"text-xs text-emerald-200 mt-2",children:[f.jsx("i",{className:"fas fa-info-circle mr-1"}),"All scheduled deliveries"]})]}),f.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 p-6 rounded-2xl text-white shadow-lg",children:[f.jsx("div",{className:"text-3xl font-bold",children:A.delivered||0}),f.jsx("div",{className:"text-emerald-100",children:"Successful Deliveries"}),f.jsxs("div",{className:"text-xs text-emerald-200 mt-2",children:[f.jsx("i",{className:"fas fa-truck mr-1"}),"Completed orders"]})]}),f.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-orange-500 p-6 rounded-2xl text-white shadow-lg",children:[f.jsx("div",{className:"text-3xl font-bold",children:A.notDelivered||0}),f.jsx("div",{className:"text-amber-100",children:"Pending Actions"}),f.jsxs("div",{className:"text-xs text-amber-200 mt-2",children:[f.jsx("i",{className:"fas fa-clock mr-1"}),"Requires attention"]})]})]}),f.jsx("div",{className:"flex justify-end mb-4",children:f.jsx("button",{onClick:O,className:"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-lg",children:"Mark as Today Leave"})}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Order ID"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"User"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.orders?.map(M=>f.jsxs("tr",{className:"hover:bg-emerald-50/50 transition-colors",children:[f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono font-semibold text-emerald-600",children:[f.jsx("i",{className:"fas fa-hashtag mr-1"}),"#",M.id.slice(-8)]}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[f.jsx("i",{className:"fas fa-user mr-1"}),n.find(G=>G.user.id===M.userId)?.user.name||"Unknown User"]}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:W(M.deliveryStatus||"pending")}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:f.jsxs("select",{value:M.deliveryStatus||"pending",onChange:G=>{const H=G.target.value;H==="cancel"?B(M.userId):we(M.id,H)},className:"text-sm border border-emerald-200 rounded-lg px-3 py-1 bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:[f.jsx("option",{value:"pending",children:"Pending"}),f.jsx("option",{value:"delivered",children:"Delivered"}),f.jsx("option",{value:"not_delivered",children:"Not Delivered"}),f.jsx("option",{value:"cancel",children:"Cancel Today"})]})})]},M.id))})]})})]})]})}),t==="analytics"&&f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"bg-gradient-to-br from-emerald-500 to-green-500 p-6 rounded-2xl text-white shadow-lg",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-semibold text-emerald-100",children:[f.jsx("i",{className:"fas fa-users mr-2"}),"Total Users"]}),f.jsx("div",{className:"text-3xl font-bold mt-2",children:n.length})]}),f.jsx("div",{className:"text-3xl",children:f.jsx("i",{className:"fas fa-user-friends"})})]}),f.jsxs("div",{className:"text-emerald-200 text-sm mt-4",children:[f.jsx("i",{className:"fas fa-chart-line mr-1"}),"Active subscribers"]})]}),f.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 p-6 rounded-2xl text-white shadow-lg",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-semibold text-emerald-100",children:[f.jsx("i",{className:"fas fa-shopping-cart mr-2"}),"Total Orders"]}),f.jsx("div",{className:"text-3xl font-bold mt-2",children:a.length})]}),f.jsx("div",{className:"text-3xl",children:f.jsx("i",{className:"fas fa-boxes"})})]}),f.jsxs("div",{className:"text-emerald-200 text-sm mt-4",children:[f.jsx("i",{className:"fas fa-truck mr-1"}),"All-time deliveries"]})]}),f.jsxs("div",{className:"bg-gradient-to-br from-emerald-600 to-green-700 p-6 rounded-2xl text-white shadow-lg",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-semibold text-emerald-100",children:[f.jsx("i",{className:"fas fa-rupee-sign mr-2"}),"Total Revenue"]}),f.jsxs("div",{className:"text-3xl font-bold mt-2",children:["₹",a.reduce((M,G)=>M+(G.amount||0),0)]})]}),f.jsx("div",{className:"text-3xl",children:f.jsx("i",{className:"fas fa-money-bill-wave"})})]}),f.jsxs("div",{className:"text-emerald-200 text-sm mt-4",children:[f.jsx("i",{className:"fas fa-trending-up mr-1"}),"Lifetime earnings"]})]})]})]})]})]}),x&&y&&f.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"px-6 py-4 bg-gradient-to-r from-emerald-600 to-green-600 text-white rounded-t-2xl flex justify-between items-center",children:[f.jsx("h3",{className:"text-xl font-bold",children:"Order Details"}),f.jsx("button",{onClick:()=>T(!1),className:"text-white hover:text-emerald-200 transition-colors",children:f.jsx("i",{className:"fas fa-times"})})]}),f.jsx("div",{className:"p-6",children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-gray-900 mb-4 text-lg",children:"Order Information"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[f.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Order ID:"}),f.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:y.id})]}),f.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[f.jsx("span",{className:"text-sm font-medium text-gray-700",children:"User:"}),f.jsxs("span",{className:"text-sm font-semibold text-emerald-600",children:[y.shipping?.firstName," ",y.shipping?.lastName]})]}),f.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[f.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Date:"}),f.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:new Date(y.createdAt).toLocaleDateString()})]}),f.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[f.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Amount:"}),f.jsxs("span",{className:"text-sm font-semibold text-emerald-600",children:["₹",y.amount]})]}),f.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl",children:[f.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Status:"}),f.jsx("span",{children:W(y.deliveryStatus)})]})]}),f.jsx("h4",{className:"font-semibold text-gray-900 mb-4 mt-6 text-lg",children:"Delivery Address"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{className:"font-medium",children:y.shipping?.address}),f.jsxs("p",{className:"text-gray-600",children:[y.shipping?.city,", ",y.shipping?.state]}),f.jsxs("p",{className:"text-gray-600",children:[y.shipping?.pincode,", ",y.shipping?.country]}),f.jsxs("p",{className:"text-gray-600",children:["Email: ",y.shipping?.email]}),f.jsxs("p",{className:"text-gray-600",children:["Phone: ",y.shipping?.phone]})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-gray-900 mb-4 text-lg",children:"Delivery Location"}),y.shipping?.location?f.jsxs(IA,{center:[y.shipping.location.lat,y.shipping.location.lng],zoom:13,scrollWheelZoom:!1,className:"w-full h-64 rounded-xl",children:[f.jsx(MA,{attribution:'© <a href="https://www.google.com/maps">Google</a>',url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",subdomains:["mt0","mt1","mt2","mt3"]}),f.jsx(DA,{position:[y.shipping.location.lat,y.shipping.location.lng],icon:XU,children:f.jsx(LA,{children:"Delivery Location"})})]}):f.jsx("p",{className:"text-gray-500",children:"Location not available"}),f.jsx("h4",{className:"font-semibold text-gray-900 mb-4 mt-6 text-lg",children:"Items"}),f.jsx("div",{className:"space-y-3",children:y.items?.map((M,G)=>f.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-emerald-50 to-green-50 rounded-xl border border-emerald-100",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("img",{src:M.image,alt:M.name,className:"w-12 h-12 object-cover rounded-lg"}),f.jsxs("div",{className:"ml-4",children:[f.jsx("p",{className:"font-medium text-gray-900",children:M.name}),f.jsxs("p",{className:"text-sm text-emerald-600",children:["Quantity: ",M.quantity]})]})]}),f.jsxs("p",{className:"font-semibold text-emerald-600",children:["₹",M.price*M.quantity]})]},G))})]})]})})]})})]})},JU=()=>{const[t,e]=k.useState("introduction"),n=[{id:"introduction",title:"Introduction"},{id:"accounts",title:"User Accounts"},{id:"subscriptions",title:"Subscriptions"},{id:"payments",title:"Payments"},{id:"delivery",title:"Delivery Policy"},{id:"cancellations",title:"Cancellations & Refunds"}];return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-8",children:f.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsxs(et,{to:"/",className:"inline-flex items-center text-green-600 hover:text-green-700 mb-6",children:[f.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Home"]}),f.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Terms & Conditions"}),f.jsxs("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:["Last updated: ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[f.jsx("div",{className:"lg:col-span-1",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg sticky top-8 p-6",children:[f.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Table of Contents"}),f.jsx("nav",{className:"space-y-2",children:n.map(i=>f.jsx("button",{onClick:()=>e(i.id),className:`block w-full text-left px-3 py-2 rounded-lg transition-colors ${t===i.id?"bg-green-50 text-green-700 font-medium":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:i.title},i.id))})]})}),f.jsxs("div",{className:"lg:col-span-3",children:[f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[t==="introduction"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"1. Introduction"}),f.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[f.jsxs("p",{children:["Welcome to ",f.jsx("strong",{children:"FreshDaily"}),' ("we," "our," or "us"). These Terms and Conditions govern your use of our subscription-based daily delivery service. By accessing or using our services, you agree to be bound by these terms.']}),f.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 my-6",children:[f.jsx("p",{className:"text-blue-800 font-medium",children:"Important:"}),f.jsx("p",{className:"text-blue-700 text-sm mt-1",children:"Please read these terms carefully before using our services. If you disagree with any part of these terms, you may not access our services."})]}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-6",children:"1.1 Definitions"}),f.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Service:"})," Our daily delivery subscription service"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"User:"})," Any individual or entity using our services"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Subscription:"})," A recurring service plan with specified duration"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Content:"})," All materials provided through our service"]})]})]})]}),t==="accounts"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"2. User Accounts"}),f.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2.1 Account Registration"}),f.jsx("p",{children:"To use our services, you must register for an account by providing accurate and complete information. You are responsible for maintaining the confidentiality of your account credentials."}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2.2 Account Security"}),f.jsx("p",{children:"You must notify us immediately of any unauthorized use of your account. We reserve the right to suspend or terminate accounts that violate these terms."}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2.3 Age Requirement"}),f.jsx("p",{children:"You must be at least 18 years old to use our services. By registering, you represent that you meet this age requirement."})]})]}),t==="subscriptions"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"3. Subscriptions"}),f.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"3.1 Subscription Plans"}),f.jsx("p",{children:"We offer various subscription plans with different durations and features. All subscriptions automatically renew unless canceled before the renewal date."}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"3.2 Subscription Period"}),f.jsx("p",{children:"Each subscription period is 26 days. The service will automatically renew for subsequent 26-day periods unless canceled."}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"3.3 Cancellation Policy"}),f.jsx("p",{children:"You may cancel your subscription at any time. Cancellations will take effect at the end of the current billing period."}),f.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-4 my-6",children:[f.jsx("p",{className:"text-yellow-800 font-medium",children:"Note:"}),f.jsx("p",{className:"text-yellow-700 text-sm mt-1",children:"Canceling your subscription does not entitle you to a refund for the current period."})]})]})]}),t==="payments"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"4. Payments"}),f.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"4.1 Payment Methods"}),f.jsx("p",{children:"We accept various payment methods including credit/debit cards, UPI, and other electronic payment systems. All payments are processed through secure third-party payment gateways."}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"4.2 Billing Cycle"}),f.jsx("p",{children:"Payments are charged at the beginning of each subscription period. You will receive a notification before each renewal."}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"4.3 Price Changes"}),f.jsx("p",{children:"We reserve the right to change subscription prices. Existing subscribers will be notified 30 days in advance of any price changes."})]})]}),t==="delivery"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"5. Delivery Policy"}),f.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"5.1 Delivery Areas"}),f.jsx("p",{children:"We currently deliver to specified areas within our service coverage. Delivery availability may vary based on your location."}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"5.2 Delivery Times"}),f.jsx("p",{children:"Deliveries are made daily within specified time windows. While we strive for punctuality, delivery times may vary due to unforeseen circumstances."}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"5.3 Delivery Issues"}),f.jsx("p",{children:"If you encounter any delivery issues, please contact our support team within 24 hours of the scheduled delivery time."})]})]}),t==="cancellations"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"6. Cancellations & Refunds"}),f.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"6.1 Subscription Cancellation"}),f.jsx("p",{children:"You may cancel your subscription at any time through your account dashboard. The cancellation will take effect at the end of your current billing period."}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"6.2 Refund Policy"}),f.jsx("p",{children:"We offer refunds only under specific circumstances:"}),f.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[f.jsx("li",{children:"Service interruption for more than 3 consecutive days"}),f.jsx("li",{children:"Technical issues preventing service access"}),f.jsx("li",{children:"Duplicate payments"})]}),f.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 my-6",children:[f.jsx("p",{className:"text-red-800 font-medium",children:"No Refunds For:"}),f.jsxs("ul",{className:"text-red-700 text-sm mt-1 list-disc list-inside ml-4",children:[f.jsx("li",{children:"Change of mind after subscription"}),f.jsx("li",{children:"Non-usage of service during active period"}),f.jsx("li",{children:"Partial month usage"})]})]})]})]}),f.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:f.jsxs("div",{className:"flex justify-between",children:[f.jsxs("button",{onClick:()=>{const i=n.findIndex(a=>a.id===t);i>0&&e(n[i-1].id)},className:"flex items-center text-green-600 hover:text-green-700",children:[f.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous Section"]}),f.jsxs("button",{onClick:()=>{const i=n.findIndex(a=>a.id===t);i<n.length-1&&e(n[i+1].id)},className:"flex items-center text-green-600 hover:text-green-700",children:["Next Section",f.jsx("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})})]}),f.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mt-6",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Acceptance of Terms"}),f.jsx("p",{className:"text-gray-600 mb-4",children:"By using our services, you acknowledge that you have read, understood, and agree to be bound by these Terms and Conditions."}),f.jsx("div",{className:"flex justify-center space-x-4",children:f.jsx(et,{to:"/privacypolicy",className:"bg-gray-200 hover:bg-gray-300 text-gray-800 px-6 py-2 rounded-lg transition",children:"Privacy Policy"})})]})})]})]})]})})},eB=()=>{const[t,e]=k.useState("overview"),n=[{id:"overview",title:"Overview"},{id:"information",title:"Information We Collect"},{id:"usage",title:"How We Use Information"},{id:"sharing",title:"Information Sharing"},{id:"cookies",title:"Cookies & Tracking"}];return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 py-8",children:f.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsxs(et,{to:"/",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-6",children:[f.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Home"]}),f.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Privacy Policy"}),f.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"We are committed to protecting your privacy and ensuring transparency about how we handle your personal information."}),f.jsxs("div",{className:"mt-4 text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[f.jsx("div",{className:"lg:col-span-1",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg sticky top-8 p-6",children:[f.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Quick Navigation"}),f.jsx("nav",{className:"space-y-2",children:n.map(i=>f.jsx("button",{onClick:()=>e(i.id),className:`block w-full text-left px-3 py-2 rounded-lg transition-colors ${t===i.id?"bg-blue-50 text-blue-700 font-medium":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:i.title},i.id))}),f.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[f.jsx("h4",{className:"font-semibold text-blue-900 text-sm mb-2",children:"Questions?"}),f.jsxs("p",{className:"text-blue-700 text-xs",children:["Contact our privacy team at"," ",f.jsx("a",{href:"mailto:privacy@freshdaily.com",className:"underline",children:"privacy@freshdaily.com"})]})]})]})}),f.jsxs("div",{className:"lg:col-span-3",children:[f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[t==="overview"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"1. Overview"}),f.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[f.jsxs("p",{children:["At ",f.jsx("strong",{children:"FreshDaily"}),", we are committed to protecting your privacy and ensuring the security of your personal information. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our services."]}),f.jsxs("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 my-6",children:[f.jsx("p",{className:"text-green-800 font-medium",children:"Our Commitment:"}),f.jsxs("ul",{className:"text-green-700 text-sm mt-1 list-disc list-inside ml-4",children:[f.jsx("li",{children:"We never sell your personal information"}),f.jsx("li",{children:"We minimize data collection to what's necessary"}),f.jsx("li",{children:"We implement robust security measures"}),f.jsx("li",{children:"We are transparent about our practices"})]})]}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-6",children:"1.1 Scope"}),f.jsx("p",{children:'This policy applies to all information collected through our website, mobile applications, and services (collectively, the "Services").'})]})]}),t==="information"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"2. Information We Collect"}),f.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2.1 Personal Information"}),f.jsx("p",{children:"We collect information that identifies you as an individual:"}),f.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Contact Information:"})," Name, email address, phone number"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Account Information:"})," Username, password, profile details"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Payment Information:"})," Billing address, payment method details"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Delivery Information:"})," Shipping address, location data"]})]}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2.2 Usage Information"}),f.jsx("p",{children:"We automatically collect information about your interaction with our Services:"}),f.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[f.jsx("li",{children:"IP address and device information"}),f.jsx("li",{children:"Browser type and version"}),f.jsx("li",{children:"Pages visited and time spent"}),f.jsx("li",{children:"Subscription usage patterns"})]}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"2.3 Location Information"}),f.jsx("p",{children:"With your permission, we collect precise location data to provide delivery services and improve user experience."})]})]}),t==="usage"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"3. How We Use Your Information"}),f.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-6",children:[f.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[f.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Service Provision"}),f.jsxs("ul",{className:"text-blue-700 text-sm space-y-1 list-disc list-inside ml-2",children:[f.jsx("li",{children:"Process subscriptions and payments"}),f.jsx("li",{children:"Schedule and manage deliveries"}),f.jsx("li",{children:"Provide customer support"}),f.jsx("li",{children:"Send service notifications"})]})]}),f.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[f.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"Service Improvement"}),f.jsxs("ul",{className:"text-green-700 text-sm space-y-1 list-disc list-inside ml-2",children:[f.jsx("li",{children:"Analyze usage patterns"}),f.jsx("li",{children:"Improve service quality"}),f.jsx("li",{children:"Develop new features"}),f.jsx("li",{children:"Personalize user experience"})]})]})]}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"3.1 Legal Bases for Processing"}),f.jsx("p",{children:"We process your information based on:"}),f.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Contractual necessity:"})," To provide the services you requested"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Legal compliance:"})," To meet regulatory requirements"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Legitimate interests:"})," To improve our services"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Consent:"})," For specific purposes where required"]})]})]})]}),t==="sharing"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"4. Information Sharing & Disclosure"}),f.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-6",children:[f.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-4",children:f.jsx("p",{className:"text-yellow-800 font-medium",children:"We do not sell your personal information to third parties."})}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"4.1 Service Providers"}),f.jsx("p",{children:"We share information with trusted service providers who assist in our operations:"}),f.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[f.jsx("li",{children:"Payment processors (Razorpay, Stripe)"}),f.jsx("li",{children:"Delivery and logistics partners"}),f.jsx("li",{children:"Cloud storage providers (Firebase)"}),f.jsx("li",{children:"Customer support platforms"})]}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"4.2 Legal Requirements"}),f.jsx("p",{children:"We may disclose information when required by law or to:"}),f.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[f.jsx("li",{children:"Comply with legal processes"}),f.jsx("li",{children:"Protect our rights and property"}),f.jsx("li",{children:"Prevent fraud or security issues"}),f.jsx("li",{children:"Protect the safety of our users"})]})]})]}),t==="cookies"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"5. Cookies & Tracking Technologies"}),f.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"5.1 Types of Cookies We Use"}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Purpose"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Duration"})]})}),f.jsxs("tbody",{className:"divide-y divide-gray-200",children:[f.jsxs("tr",{children:[f.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:"Essential"}),f.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:"Basic website functionality"}),f.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:"Session"})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:"Analytics"}),f.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:"Service improvement"}),f.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:"2 years"})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:"Preferences"}),f.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:"Remember your settings"}),f.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:"1 year"})]})]})]})}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"5.2 Managing Cookies"}),f.jsx("p",{children:"You can control cookie settings through your browser. However, disabling essential cookies may affect service functionality."})]})]}),t==="rights"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"7. Your Privacy Rights"}),f.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-6",children:[f.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[f.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Access & Portability"}),f.jsx("p",{className:"text-sm text-gray-600",children:"Request a copy of your personal data in a machine-readable format"})]}),f.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[f.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Correction"}),f.jsx("p",{className:"text-sm text-gray-600",children:"Update or correct inaccurate personal information"})]}),f.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[f.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Deletion"}),f.jsx("p",{className:"text-sm text-gray-600",children:"Request deletion of your personal data under certain conditions"})]}),f.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[f.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Objection"}),f.jsx("p",{className:"text-sm text-gray-600",children:"Object to processing of your personal data for specific purposes"})]})]}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"7.1 Exercising Your Rights"}),f.jsxs("p",{children:["To exercise any of these rights, please contact us at"," ",f.jsx("a",{href:"mailto:privacy@freshdaily.com",className:"text-blue-600 underline",children:"privacy@freshdaily.com"}),". We will respond to your request within 30 days."]})]})]}),f.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:f.jsxs("div",{className:"flex justify-between",children:[f.jsxs("button",{onClick:()=>{const i=n.findIndex(a=>a.id===t);i>0&&e(n[i-1].id)},className:"flex items-center text-blue-600 hover:text-blue-700",children:[f.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous Section"]}),f.jsxs("button",{onClick:()=>{const i=n.findIndex(a=>a.id===t);i<n.length-1&&e(n[i+1].id)},className:"flex items-center text-blue-600 hover:text-blue-700",children:["Next Section",f.jsx("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})})]}),f.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mt-6",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Contact Our Privacy Team"}),f.jsx("p",{className:"text-gray-600 mb-4",children:"If you have any questions about this Privacy Policy or our data practices, please contact us."}),f.jsxs("div",{className:"flex justify-center space-x-4",children:[f.jsx("a",{href:"mailto:fruitbunch.tvm@gmail.com",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition",children:"Email Privacy Team"}),f.jsx(et,{to:"/termsandconditions",className:"bg-gray-200 hover:bg-gray-300 text-gray-800 px-6 py-2 rounded-lg transition",children:"View Terms"})]})]})})]})]})]})})},tB=()=>{const{pathname:t}=Ss();return k.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[t]),null};function nB(){return f.jsxs("div",{className:"min-h-screen flex flex-col",children:[f.jsx(tB,{}),f.jsx(e3,{}),f.jsx("main",{className:"flex-grow",children:f.jsx(XP,{})}),f.jsx(t3,{}),f.jsx(fV,{})]})}function iB(){return f.jsx(Qk,{children:f.jsx(wj,{basename:"/fruitbunch",children:f.jsxs(JP,{children:[f.jsxs(Zn,{element:f.jsx(nB,{}),children:[f.jsx(Zn,{path:"/",element:f.jsx(a3,{})}),f.jsx(Zn,{path:"/subscription",element:f.jsx(f3,{})}),f.jsx(Zn,{path:"/corporate",element:f.jsx(m3,{})}),f.jsx(Zn,{path:"/about",element:f.jsx(y3,{})}),f.jsx(Zn,{path:"/cart",element:f.jsx(x3,{})}),f.jsx(Zn,{path:"/profile",element:f.jsx(pV,{})}),f.jsx(Zn,{path:"/orderconfirmation",element:f.jsx(YU,{})}),f.jsx(Zn,{path:"/checkout",element:f.jsx(Kk,{children:f.jsx(dV,{})})})]}),f.jsx(Zn,{path:"/admin",element:f.jsx($k,{children:f.jsx(QU,{})})}),f.jsx(Zn,{path:"/termsandconditions",element:f.jsx(JU,{})}),f.jsx(Zn,{path:"/privacypolicy",element:f.jsx(eB,{})}),f.jsx(Zn,{path:"/login",element:f.jsx(v3,{})}),f.jsx(Zn,{path:"/signup",element:f.jsx(_3,{})}),f.jsx(Zn,{path:"/forgot-password",element:f.jsx(mV,{})})]})})})}aP.createRoot(document.getElementById("root")).render(f.jsx(k.StrictMode,{children:f.jsx(iB,{})}));
